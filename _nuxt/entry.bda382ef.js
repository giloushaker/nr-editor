var uo=Object.defineProperty;var fo=(Zn,Jn,Xn)=>Jn in Zn?uo(Zn,Jn,{enumerable:!0,configurable:!0,writable:!0,value:Xn}):Zn[Jn]=Xn;var Zr=(Zn,Jn,Xn)=>(fo(Zn,typeof Jn!="symbol"?Jn+"":Jn,Xn),Xn);function makeMap(Zn,Jn){const Xn=Object.create(null),Qn=Zn.split(",");for(let er=0;er<Qn.length;er++)Xn[Qn[er]]=!0;return Jn?er=>!!Xn[er.toLowerCase()]:er=>!!Xn[er]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=Zn=>onRE.test(Zn),isModelListener=Zn=>Zn.startsWith("onUpdate:"),extend=Object.assign,remove$1=(Zn,Jn)=>{const Xn=Zn.indexOf(Jn);Xn>-1&&Zn.splice(Xn,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(Zn,Jn)=>hasOwnProperty$1.call(Zn,Jn),isArray$1=Array.isArray,isMap=Zn=>toTypeString(Zn)==="[object Map]",isSet=Zn=>toTypeString(Zn)==="[object Set]",isDate$1=Zn=>toTypeString(Zn)==="[object Date]",isRegExp=Zn=>toTypeString(Zn)==="[object RegExp]",isFunction=Zn=>typeof Zn=="function",isString=Zn=>typeof Zn=="string",isSymbol=Zn=>typeof Zn=="symbol",isObject$3=Zn=>Zn!==null&&typeof Zn=="object",isPromise=Zn=>isObject$3(Zn)&&isFunction(Zn.then)&&isFunction(Zn.catch),objectToString=Object.prototype.toString,toTypeString=Zn=>objectToString.call(Zn),toRawType=Zn=>toTypeString(Zn).slice(8,-1),isPlainObject$1=Zn=>toTypeString(Zn)==="[object Object]",isIntegerKey=Zn=>isString(Zn)&&Zn!=="NaN"&&Zn[0]!=="-"&&""+parseInt(Zn,10)===Zn,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=Zn=>{const Jn=Object.create(null);return Xn=>Jn[Xn]||(Jn[Xn]=Zn(Xn))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(Zn=>Zn.replace(camelizeRE,(Jn,Xn)=>Xn?Xn.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(Zn=>Zn.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(Zn=>Zn.charAt(0).toUpperCase()+Zn.slice(1)),toHandlerKey=cacheStringFunction(Zn=>Zn?`on${capitalize$1(Zn)}`:""),hasChanged=(Zn,Jn)=>!Object.is(Zn,Jn),invokeArrayFns=(Zn,Jn)=>{for(let Xn=0;Xn<Zn.length;Xn++)Zn[Xn](Jn)},def=(Zn,Jn,Xn)=>{Object.defineProperty(Zn,Jn,{configurable:!0,enumerable:!1,value:Xn})},looseToNumber=Zn=>{const Jn=parseFloat(Zn);return isNaN(Jn)?Zn:Jn},toNumber$2=Zn=>{const Jn=isString(Zn)?Number(Zn):NaN;return isNaN(Jn)?Zn:Jn};let _globalThis$2;const getGlobalThis=()=>_globalThis$2||(_globalThis$2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(Zn){if(isArray$1(Zn)){const Jn={};for(let Xn=0;Xn<Zn.length;Xn++){const Qn=Zn[Xn],er=isString(Qn)?parseStringStyle(Qn):normalizeStyle(Qn);if(er)for(const tr in er)Jn[tr]=er[tr]}return Jn}else{if(isString(Zn))return Zn;if(isObject$3(Zn))return Zn}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(Zn){const Jn={};return Zn.replace(styleCommentRE,"").split(listDelimiterRE).forEach(Xn=>{if(Xn){const Qn=Xn.split(propertyDelimiterRE);Qn.length>1&&(Jn[Qn[0].trim()]=Qn[1].trim())}}),Jn}function normalizeClass(Zn){let Jn="";if(isString(Zn))Jn=Zn;else if(isArray$1(Zn))for(let Xn=0;Xn<Zn.length;Xn++){const Qn=normalizeClass(Zn[Xn]);Qn&&(Jn+=Qn+" ")}else if(isObject$3(Zn))for(const Xn in Zn)Zn[Xn]&&(Jn+=Xn+" ");return Jn.trim()}function normalizeProps(Zn){if(!Zn)return null;let{class:Jn,style:Xn}=Zn;return Jn&&!isString(Jn)&&(Zn.class=normalizeClass(Jn)),Xn&&(Zn.style=normalizeStyle(Xn)),Zn}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(Zn){return!!Zn||Zn===""}function looseCompareArrays(Zn,Jn){if(Zn.length!==Jn.length)return!1;let Xn=!0;for(let Qn=0;Xn&&Qn<Zn.length;Qn++)Xn=looseEqual(Zn[Qn],Jn[Qn]);return Xn}function looseEqual(Zn,Jn){if(Zn===Jn)return!0;let Xn=isDate$1(Zn),Qn=isDate$1(Jn);if(Xn||Qn)return Xn&&Qn?Zn.getTime()===Jn.getTime():!1;if(Xn=isSymbol(Zn),Qn=isSymbol(Jn),Xn||Qn)return Zn===Jn;if(Xn=isArray$1(Zn),Qn=isArray$1(Jn),Xn||Qn)return Xn&&Qn?looseCompareArrays(Zn,Jn):!1;if(Xn=isObject$3(Zn),Qn=isObject$3(Jn),Xn||Qn){if(!Xn||!Qn)return!1;const er=Object.keys(Zn).length,tr=Object.keys(Jn).length;if(er!==tr)return!1;for(const nr in Zn){const rr=Zn.hasOwnProperty(nr),sr=Jn.hasOwnProperty(nr);if(rr&&!sr||!rr&&sr||!looseEqual(Zn[nr],Jn[nr]))return!1}}return String(Zn)===String(Jn)}function looseIndexOf(Zn,Jn){return Zn.findIndex(Xn=>looseEqual(Xn,Jn))}const toDisplayString=Zn=>isString(Zn)?Zn:Zn==null?"":isArray$1(Zn)||isObject$3(Zn)&&(Zn.toString===objectToString||!isFunction(Zn.toString))?JSON.stringify(Zn,replacer,2):String(Zn),replacer=(Zn,Jn)=>Jn&&Jn.__v_isRef?replacer(Zn,Jn.value):isMap(Jn)?{[`Map(${Jn.size})`]:[...Jn.entries()].reduce((Xn,[Qn,er])=>(Xn[`${Qn} =>`]=er,Xn),{})}:isSet(Jn)?{[`Set(${Jn.size})`]:[...Jn.values()]}:isObject$3(Jn)&&!isArray$1(Jn)&&!isPlainObject$1(Jn)?String(Jn):Jn;let activeEffectScope;class EffectScope{constructor(Jn=!1){this.detached=Jn,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!Jn&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(Jn){if(this._active){const Xn=activeEffectScope;try{return activeEffectScope=this,Jn()}finally{activeEffectScope=Xn}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(Jn){if(this._active){let Xn,Qn;for(Xn=0,Qn=this.effects.length;Xn<Qn;Xn++)this.effects[Xn].stop();for(Xn=0,Qn=this.cleanups.length;Xn<Qn;Xn++)this.cleanups[Xn]();if(this.scopes)for(Xn=0,Qn=this.scopes.length;Xn<Qn;Xn++)this.scopes[Xn].stop(!0);if(!this.detached&&this.parent&&!Jn){const er=this.parent.scopes.pop();er&&er!==this&&(this.parent.scopes[this.index]=er,er.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(Zn){return new EffectScope(Zn)}function recordEffectScope(Zn,Jn=activeEffectScope){Jn&&Jn.active&&Jn.effects.push(Zn)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(Zn){activeEffectScope&&activeEffectScope.cleanups.push(Zn)}const createDep=Zn=>{const Jn=new Set(Zn);return Jn.w=0,Jn.n=0,Jn},wasTracked=Zn=>(Zn.w&trackOpBit)>0,newTracked=Zn=>(Zn.n&trackOpBit)>0,initDepMarkers=({deps:Zn})=>{if(Zn.length)for(let Jn=0;Jn<Zn.length;Jn++)Zn[Jn].w|=trackOpBit},finalizeDepMarkers=Zn=>{const{deps:Jn}=Zn;if(Jn.length){let Xn=0;for(let Qn=0;Qn<Jn.length;Qn++){const er=Jn[Qn];wasTracked(er)&&!newTracked(er)?er.delete(Zn):Jn[Xn++]=er,er.w&=~trackOpBit,er.n&=~trackOpBit}Jn.length=Xn}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(Jn,Xn=null,Qn){this.fn=Jn,this.scheduler=Xn,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,Qn)}run(){if(!this.active)return this.fn();let Jn=activeEffect,Xn=shouldTrack;for(;Jn;){if(Jn===this)return;Jn=Jn.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=Xn,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(Zn){const{deps:Jn}=Zn;if(Jn.length){for(let Xn=0;Xn<Jn.length;Xn++)Jn[Xn].delete(Zn);Jn.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const Zn=trackStack.pop();shouldTrack=Zn===void 0?!0:Zn}function track(Zn,Jn,Xn){if(shouldTrack&&activeEffect){let Qn=targetMap.get(Zn);Qn||targetMap.set(Zn,Qn=new Map);let er=Qn.get(Xn);er||Qn.set(Xn,er=createDep()),trackEffects(er)}}function trackEffects(Zn,Jn){let Xn=!1;effectTrackDepth<=maxMarkerBits?newTracked(Zn)||(Zn.n|=trackOpBit,Xn=!wasTracked(Zn)):Xn=!Zn.has(activeEffect),Xn&&(Zn.add(activeEffect),activeEffect.deps.push(Zn))}function trigger(Zn,Jn,Xn,Qn,er,tr){const nr=targetMap.get(Zn);if(!nr)return;let rr=[];if(Jn==="clear")rr=[...nr.values()];else if(Xn==="length"&&isArray$1(Zn)){const sr=Number(Qn);nr.forEach((ir,or)=>{(or==="length"||or>=sr)&&rr.push(ir)})}else switch(Xn!==void 0&&rr.push(nr.get(Xn)),Jn){case"add":isArray$1(Zn)?isIntegerKey(Xn)&&rr.push(nr.get("length")):(rr.push(nr.get(ITERATE_KEY)),isMap(Zn)&&rr.push(nr.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(Zn)||(rr.push(nr.get(ITERATE_KEY)),isMap(Zn)&&rr.push(nr.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(Zn)&&rr.push(nr.get(ITERATE_KEY));break}if(rr.length===1)rr[0]&&triggerEffects(rr[0]);else{const sr=[];for(const ir of rr)ir&&sr.push(...ir);triggerEffects(createDep(sr))}}function triggerEffects(Zn,Jn){const Xn=isArray$1(Zn)?Zn:[...Zn];for(const Qn of Xn)Qn.computed&&triggerEffect(Qn);for(const Qn of Xn)Qn.computed||triggerEffect(Qn)}function triggerEffect(Zn,Jn){(Zn!==activeEffect||Zn.allowRecurse)&&(Zn.scheduler?Zn.scheduler():Zn.run())}function getDepFromReactive(Zn,Jn){var Xn;return(Xn=targetMap.get(Zn))==null?void 0:Xn.get(Jn)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(Zn=>Zn!=="arguments"&&Zn!=="caller").map(Zn=>Symbol[Zn]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const Zn={};return["includes","indexOf","lastIndexOf"].forEach(Jn=>{Zn[Jn]=function(...Xn){const Qn=toRaw(this);for(let tr=0,nr=this.length;tr<nr;tr++)track(Qn,"get",tr+"");const er=Qn[Jn](...Xn);return er===-1||er===!1?Qn[Jn](...Xn.map(toRaw)):er}}),["push","pop","shift","unshift","splice"].forEach(Jn=>{Zn[Jn]=function(...Xn){pauseTracking();const Qn=toRaw(this)[Jn].apply(this,Xn);return resetTracking(),Qn}}),Zn}function hasOwnProperty(Zn){const Jn=toRaw(this);return track(Jn,"has",Zn),Jn.hasOwnProperty(Zn)}function createGetter(Zn=!1,Jn=!1){return function(Qn,er,tr){if(er==="__v_isReactive")return!Zn;if(er==="__v_isReadonly")return Zn;if(er==="__v_isShallow")return Jn;if(er==="__v_raw"&&tr===(Zn?Jn?shallowReadonlyMap:readonlyMap:Jn?shallowReactiveMap:reactiveMap).get(Qn))return Qn;const nr=isArray$1(Qn);if(!Zn){if(nr&&hasOwn(arrayInstrumentations,er))return Reflect.get(arrayInstrumentations,er,tr);if(er==="hasOwnProperty")return hasOwnProperty}const rr=Reflect.get(Qn,er,tr);return(isSymbol(er)?builtInSymbols.has(er):isNonTrackableKeys(er))||(Zn||track(Qn,"get",er),Jn)?rr:isRef(rr)?nr&&isIntegerKey(er)?rr:rr.value:isObject$3(rr)?Zn?readonly(rr):reactive(rr):rr}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(Zn=!1){return function(Xn,Qn,er,tr){let nr=Xn[Qn];if(isReadonly(nr)&&isRef(nr)&&!isRef(er))return!1;if(!Zn&&(!isShallow(er)&&!isReadonly(er)&&(nr=toRaw(nr),er=toRaw(er)),!isArray$1(Xn)&&isRef(nr)&&!isRef(er)))return nr.value=er,!0;const rr=isArray$1(Xn)&&isIntegerKey(Qn)?Number(Qn)<Xn.length:hasOwn(Xn,Qn),sr=Reflect.set(Xn,Qn,er,tr);return Xn===toRaw(tr)&&(rr?hasChanged(er,nr)&&trigger(Xn,"set",Qn,er):trigger(Xn,"add",Qn,er)),sr}}function deleteProperty(Zn,Jn){const Xn=hasOwn(Zn,Jn);Zn[Jn];const Qn=Reflect.deleteProperty(Zn,Jn);return Qn&&Xn&&trigger(Zn,"delete",Jn,void 0),Qn}function has$1(Zn,Jn){const Xn=Reflect.has(Zn,Jn);return(!isSymbol(Jn)||!builtInSymbols.has(Jn))&&track(Zn,"has",Jn),Xn}function ownKeys(Zn){return track(Zn,"iterate",isArray$1(Zn)?"length":ITERATE_KEY),Reflect.ownKeys(Zn)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(Zn,Jn){return!0},deleteProperty(Zn,Jn){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=Zn=>Zn,getProto=Zn=>Reflect.getPrototypeOf(Zn);function get$2(Zn,Jn,Xn=!1,Qn=!1){Zn=Zn.__v_raw;const er=toRaw(Zn),tr=toRaw(Jn);Xn||(Jn!==tr&&track(er,"get",Jn),track(er,"get",tr));const{has:nr}=getProto(er),rr=Qn?toShallow:Xn?toReadonly:toReactive;if(nr.call(er,Jn))return rr(Zn.get(Jn));if(nr.call(er,tr))return rr(Zn.get(tr));Zn!==er&&Zn.get(Jn)}function has$2(Zn,Jn=!1){const Xn=this.__v_raw,Qn=toRaw(Xn),er=toRaw(Zn);return Jn||(Zn!==er&&track(Qn,"has",Zn),track(Qn,"has",er)),Zn===er?Xn.has(Zn):Xn.has(Zn)||Xn.has(er)}function size(Zn,Jn=!1){return Zn=Zn.__v_raw,!Jn&&track(toRaw(Zn),"iterate",ITERATE_KEY),Reflect.get(Zn,"size",Zn)}function add$1(Zn){Zn=toRaw(Zn);const Jn=toRaw(this);return getProto(Jn).has.call(Jn,Zn)||(Jn.add(Zn),trigger(Jn,"add",Zn,Zn)),this}function set$2(Zn,Jn){Jn=toRaw(Jn);const Xn=toRaw(this),{has:Qn,get:er}=getProto(Xn);let tr=Qn.call(Xn,Zn);tr||(Zn=toRaw(Zn),tr=Qn.call(Xn,Zn));const nr=er.call(Xn,Zn);return Xn.set(Zn,Jn),tr?hasChanged(Jn,nr)&&trigger(Xn,"set",Zn,Jn):trigger(Xn,"add",Zn,Jn),this}function deleteEntry(Zn){const Jn=toRaw(this),{has:Xn,get:Qn}=getProto(Jn);let er=Xn.call(Jn,Zn);er||(Zn=toRaw(Zn),er=Xn.call(Jn,Zn)),Qn&&Qn.call(Jn,Zn);const tr=Jn.delete(Zn);return er&&trigger(Jn,"delete",Zn,void 0),tr}function clear(){const Zn=toRaw(this),Jn=Zn.size!==0,Xn=Zn.clear();return Jn&&trigger(Zn,"clear",void 0,void 0),Xn}function createForEach(Zn,Jn){return function(Qn,er){const tr=this,nr=tr.__v_raw,rr=toRaw(nr),sr=Jn?toShallow:Zn?toReadonly:toReactive;return!Zn&&track(rr,"iterate",ITERATE_KEY),nr.forEach((ir,or)=>Qn.call(er,sr(ir),sr(or),tr))}}function createIterableMethod(Zn,Jn,Xn){return function(...Qn){const er=this.__v_raw,tr=toRaw(er),nr=isMap(tr),rr=Zn==="entries"||Zn===Symbol.iterator&&nr,sr=Zn==="keys"&&nr,ir=er[Zn](...Qn),or=Xn?toShallow:Jn?toReadonly:toReactive;return!Jn&&track(tr,"iterate",sr?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:ar,done:lr}=ir.next();return lr?{value:ar,done:lr}:{value:rr?[or(ar[0]),or(ar[1])]:or(ar),done:lr}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(Zn){return function(...Jn){return Zn==="delete"?!1:this}}function createInstrumentations(){const Zn={get(tr){return get$2(this,tr)},get size(){return size(this)},has:has$2,add:add$1,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},Jn={get(tr){return get$2(this,tr,!1,!0)},get size(){return size(this)},has:has$2,add:add$1,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},Xn={get(tr){return get$2(this,tr,!0)},get size(){return size(this,!0)},has(tr){return has$2.call(this,tr,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},Qn={get(tr){return get$2(this,tr,!0,!0)},get size(){return size(this,!0)},has(tr){return has$2.call(this,tr,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(tr=>{Zn[tr]=createIterableMethod(tr,!1,!1),Xn[tr]=createIterableMethod(tr,!0,!1),Jn[tr]=createIterableMethod(tr,!1,!0),Qn[tr]=createIterableMethod(tr,!0,!0)}),[Zn,Xn,Jn,Qn]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(Zn,Jn){const Xn=Jn?Zn?shallowReadonlyInstrumentations:shallowInstrumentations:Zn?readonlyInstrumentations:mutableInstrumentations;return(Qn,er,tr)=>er==="__v_isReactive"?!Zn:er==="__v_isReadonly"?Zn:er==="__v_raw"?Qn:Reflect.get(hasOwn(Xn,er)&&er in Qn?Xn:Qn,er,tr)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(Zn){switch(Zn){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(Zn){return Zn.__v_skip||!Object.isExtensible(Zn)?0:targetTypeMap(toRawType(Zn))}function reactive(Zn){return isReadonly(Zn)?Zn:createReactiveObject(Zn,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(Zn){return createReactiveObject(Zn,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(Zn){return createReactiveObject(Zn,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(Zn,Jn,Xn,Qn,er){if(!isObject$3(Zn)||Zn.__v_raw&&!(Jn&&Zn.__v_isReactive))return Zn;const tr=er.get(Zn);if(tr)return tr;const nr=getTargetType(Zn);if(nr===0)return Zn;const rr=new Proxy(Zn,nr===2?Qn:Xn);return er.set(Zn,rr),rr}function isReactive(Zn){return isReadonly(Zn)?isReactive(Zn.__v_raw):!!(Zn&&Zn.__v_isReactive)}function isReadonly(Zn){return!!(Zn&&Zn.__v_isReadonly)}function isShallow(Zn){return!!(Zn&&Zn.__v_isShallow)}function isProxy(Zn){return isReactive(Zn)||isReadonly(Zn)}function toRaw(Zn){const Jn=Zn&&Zn.__v_raw;return Jn?toRaw(Jn):Zn}function markRaw(Zn){return def(Zn,"__v_skip",!0),Zn}const toReactive=Zn=>isObject$3(Zn)?reactive(Zn):Zn,toReadonly=Zn=>isObject$3(Zn)?readonly(Zn):Zn;function trackRefValue(Zn){shouldTrack&&activeEffect&&(Zn=toRaw(Zn),trackEffects(Zn.dep||(Zn.dep=createDep())))}function triggerRefValue(Zn,Jn){Zn=toRaw(Zn);const Xn=Zn.dep;Xn&&triggerEffects(Xn)}function isRef(Zn){return!!(Zn&&Zn.__v_isRef===!0)}function ref(Zn){return createRef(Zn,!1)}function shallowRef(Zn){return createRef(Zn,!0)}function createRef(Zn,Jn){return isRef(Zn)?Zn:new RefImpl(Zn,Jn)}class RefImpl{constructor(Jn,Xn){this.__v_isShallow=Xn,this.dep=void 0,this.__v_isRef=!0,this._rawValue=Xn?Jn:toRaw(Jn),this._value=Xn?Jn:toReactive(Jn)}get value(){return trackRefValue(this),this._value}set value(Jn){const Xn=this.__v_isShallow||isShallow(Jn)||isReadonly(Jn);Jn=Xn?Jn:toRaw(Jn),hasChanged(Jn,this._rawValue)&&(this._rawValue=Jn,this._value=Xn?Jn:toReactive(Jn),triggerRefValue(this))}}function unref(Zn){return isRef(Zn)?Zn.value:Zn}function toValue(Zn){return isFunction(Zn)?Zn():unref(Zn)}const shallowUnwrapHandlers={get:(Zn,Jn,Xn)=>unref(Reflect.get(Zn,Jn,Xn)),set:(Zn,Jn,Xn,Qn)=>{const er=Zn[Jn];return isRef(er)&&!isRef(Xn)?(er.value=Xn,!0):Reflect.set(Zn,Jn,Xn,Qn)}};function proxyRefs(Zn){return isReactive(Zn)?Zn:new Proxy(Zn,shallowUnwrapHandlers)}function toRefs(Zn){const Jn=isArray$1(Zn)?new Array(Zn.length):{};for(const Xn in Zn)Jn[Xn]=propertyToRef(Zn,Xn);return Jn}class ObjectRefImpl{constructor(Jn,Xn,Qn){this._object=Jn,this._key=Xn,this._defaultValue=Qn,this.__v_isRef=!0}get value(){const Jn=this._object[this._key];return Jn===void 0?this._defaultValue:Jn}set value(Jn){this._object[this._key]=Jn}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(Jn){this._getter=Jn,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef(Zn,Jn,Xn){return isRef(Zn)?Zn:isFunction(Zn)?new GetterRefImpl(Zn):isObject$3(Zn)&&arguments.length>1?propertyToRef(Zn,Jn,Xn):ref(Zn)}function propertyToRef(Zn,Jn,Xn){const Qn=Zn[Jn];return isRef(Qn)?Qn:new ObjectRefImpl(Zn,Jn,Xn)}class ComputedRefImpl{constructor(Jn,Xn,Qn,er){this._setter=Xn,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(Jn,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!er,this.__v_isReadonly=Qn}get value(){const Jn=toRaw(this);return trackRefValue(Jn),(Jn._dirty||!Jn._cacheable)&&(Jn._dirty=!1,Jn._value=Jn.effect.run()),Jn._value}set value(Jn){this._setter(Jn)}}function computed$1(Zn,Jn,Xn=!1){let Qn,er;const tr=isFunction(Zn);return tr?(Qn=Zn,er=NOOP):(Qn=Zn.get,er=Zn.set),new ComputedRefImpl(Qn,er,tr||!er,Xn)}function warn(Zn,...Jn){}function callWithErrorHandling(Zn,Jn,Xn,Qn){let er;try{er=Qn?Zn(...Qn):Zn()}catch(tr){handleError(tr,Jn,Xn)}return er}function callWithAsyncErrorHandling(Zn,Jn,Xn,Qn){if(isFunction(Zn)){const tr=callWithErrorHandling(Zn,Jn,Xn,Qn);return tr&&isPromise(tr)&&tr.catch(nr=>{handleError(nr,Jn,Xn)}),tr}const er=[];for(let tr=0;tr<Zn.length;tr++)er.push(callWithAsyncErrorHandling(Zn[tr],Jn,Xn,Qn));return er}function handleError(Zn,Jn,Xn,Qn=!0){const er=Jn?Jn.vnode:null;if(Jn){let tr=Jn.parent;const nr=Jn.proxy,rr=Xn;for(;tr;){const ir=tr.ec;if(ir){for(let or=0;or<ir.length;or++)if(ir[or](Zn,nr,rr)===!1)return}tr=tr.parent}const sr=Jn.appContext.config.errorHandler;if(sr){callWithErrorHandling(sr,null,10,[Zn,nr,rr]);return}}logError(Zn,Xn,er,Qn)}function logError(Zn,Jn,Xn,Qn=!0){console.error(Zn)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(Zn){const Jn=currentFlushPromise||resolvedPromise;return Zn?Jn.then(this?Zn.bind(this):Zn):Jn}function findInsertionIndex(Zn){let Jn=flushIndex+1,Xn=queue.length;for(;Jn<Xn;){const Qn=Jn+Xn>>>1;getId(queue[Qn])<Zn?Jn=Qn+1:Xn=Qn}return Jn}function queueJob(Zn){(!queue.length||!queue.includes(Zn,isFlushing&&Zn.allowRecurse?flushIndex+1:flushIndex))&&(Zn.id==null?queue.push(Zn):queue.splice(findInsertionIndex(Zn.id),0,Zn),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(Zn){const Jn=queue.indexOf(Zn);Jn>flushIndex&&queue.splice(Jn,1)}function queuePostFlushCb(Zn){isArray$1(Zn)?pendingPostFlushCbs.push(...Zn):(!activePostFlushCbs||!activePostFlushCbs.includes(Zn,Zn.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(Zn),queueFlush()}function flushPreFlushCbs(Zn,Jn=isFlushing?flushIndex+1:0){for(;Jn<queue.length;Jn++){const Xn=queue[Jn];Xn&&Xn.pre&&(queue.splice(Jn,1),Jn--,Xn())}}function flushPostFlushCbs(Zn){if(pendingPostFlushCbs.length){const Jn=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...Jn);return}for(activePostFlushCbs=Jn,activePostFlushCbs.sort((Xn,Qn)=>getId(Xn)-getId(Qn)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=Zn=>Zn.id==null?1/0:Zn.id,comparator=(Zn,Jn)=>{const Xn=getId(Zn)-getId(Jn);if(Xn===0){if(Zn.pre&&!Jn.pre)return-1;if(Jn.pre&&!Zn.pre)return 1}return Xn};function flushJobs(Zn){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const Jn=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const Xn=queue[flushIndex];Xn&&Xn.active!==!1&&callWithErrorHandling(Xn,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(Zn,Jn,...Xn){if(Zn.isUnmounted)return;const Qn=Zn.vnode.props||EMPTY_OBJ;let er=Xn;const tr=Jn.startsWith("update:"),nr=tr&&Jn.slice(7);if(nr&&nr in Qn){const or=`${nr==="modelValue"?"model":nr}Modifiers`,{number:ar,trim:lr}=Qn[or]||EMPTY_OBJ;lr&&(er=Xn.map(cr=>isString(cr)?cr.trim():cr)),ar&&(er=Xn.map(looseToNumber))}let rr,sr=Qn[rr=toHandlerKey(Jn)]||Qn[rr=toHandlerKey(camelize(Jn))];!sr&&tr&&(sr=Qn[rr=toHandlerKey(hyphenate(Jn))]),sr&&callWithAsyncErrorHandling(sr,Zn,6,er);const ir=Qn[rr+"Once"];if(ir){if(!Zn.emitted)Zn.emitted={};else if(Zn.emitted[rr])return;Zn.emitted[rr]=!0,callWithAsyncErrorHandling(ir,Zn,6,er)}}function normalizeEmitsOptions(Zn,Jn,Xn=!1){const Qn=Jn.emitsCache,er=Qn.get(Zn);if(er!==void 0)return er;const tr=Zn.emits;let nr={},rr=!1;if(!isFunction(Zn)){const sr=ir=>{const or=normalizeEmitsOptions(ir,Jn,!0);or&&(rr=!0,extend(nr,or))};!Xn&&Jn.mixins.length&&Jn.mixins.forEach(sr),Zn.extends&&sr(Zn.extends),Zn.mixins&&Zn.mixins.forEach(sr)}return!tr&&!rr?(isObject$3(Zn)&&Qn.set(Zn,null),null):(isArray$1(tr)?tr.forEach(sr=>nr[sr]=null):extend(nr,tr),isObject$3(Zn)&&Qn.set(Zn,nr),nr)}function isEmitListener(Zn,Jn){return!Zn||!isOn(Jn)?!1:(Jn=Jn.slice(2).replace(/Once$/,""),hasOwn(Zn,Jn[0].toLowerCase()+Jn.slice(1))||hasOwn(Zn,hyphenate(Jn))||hasOwn(Zn,Jn))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(Zn){const Jn=currentRenderingInstance;return currentRenderingInstance=Zn,currentScopeId=Zn&&Zn.type.__scopeId||null,Jn}function pushScopeId(Zn){currentScopeId=Zn}function popScopeId(){currentScopeId=null}function withCtx(Zn,Jn=currentRenderingInstance,Xn){if(!Jn||Zn._n)return Zn;const Qn=(...er)=>{Qn._d&&setBlockTracking(-1);const tr=setCurrentRenderingInstance(Jn);let nr;try{nr=Zn(...er)}finally{setCurrentRenderingInstance(tr),Qn._d&&setBlockTracking(1)}return nr};return Qn._n=!0,Qn._c=!0,Qn._d=!0,Qn}function markAttrsAccessed(){}function renderComponentRoot(Zn){const{type:Jn,vnode:Xn,proxy:Qn,withProxy:er,props:tr,propsOptions:[nr],slots:rr,attrs:sr,emit:ir,render:or,renderCache:ar,data:lr,setupState:cr,ctx:pr,inheritAttrs:ur}=Zn;let gr,dr;const fr=setCurrentRenderingInstance(Zn);try{if(Xn.shapeFlag&4){const _r=er||Qn;gr=normalizeVNode(or.call(_r,_r,ar,tr,cr,lr,pr)),dr=sr}else{const _r=Jn;gr=normalizeVNode(_r.length>1?_r(tr,{attrs:sr,slots:rr,emit:ir}):_r(tr,null)),dr=Jn.props?sr:getFunctionalFallthrough(sr)}}catch(_r){blockStack.length=0,handleError(_r,Zn,1),gr=createVNode(Comment)}let yr=gr;if(dr&&ur!==!1){const _r=Object.keys(dr),{shapeFlag:vr}=yr;_r.length&&vr&7&&(nr&&_r.some(isModelListener)&&(dr=filterModelListeners(dr,nr)),yr=cloneVNode(yr,dr))}return Xn.dirs&&(yr=cloneVNode(yr),yr.dirs=yr.dirs?yr.dirs.concat(Xn.dirs):Xn.dirs),Xn.transition&&(yr.transition=Xn.transition),gr=yr,setCurrentRenderingInstance(fr),gr}function filterSingleRoot(Zn){let Jn;for(let Xn=0;Xn<Zn.length;Xn++){const Qn=Zn[Xn];if(isVNode(Qn)){if(Qn.type!==Comment||Qn.children==="v-if"){if(Jn)return;Jn=Qn}}else return}return Jn}const getFunctionalFallthrough=Zn=>{let Jn;for(const Xn in Zn)(Xn==="class"||Xn==="style"||isOn(Xn))&&((Jn||(Jn={}))[Xn]=Zn[Xn]);return Jn},filterModelListeners=(Zn,Jn)=>{const Xn={};for(const Qn in Zn)(!isModelListener(Qn)||!(Qn.slice(9)in Jn))&&(Xn[Qn]=Zn[Qn]);return Xn};function shouldUpdateComponent(Zn,Jn,Xn){const{props:Qn,children:er,component:tr}=Zn,{props:nr,children:rr,patchFlag:sr}=Jn,ir=tr.emitsOptions;if(Jn.dirs||Jn.transition)return!0;if(Xn&&sr>=0){if(sr&1024)return!0;if(sr&16)return Qn?hasPropsChanged(Qn,nr,ir):!!nr;if(sr&8){const or=Jn.dynamicProps;for(let ar=0;ar<or.length;ar++){const lr=or[ar];if(nr[lr]!==Qn[lr]&&!isEmitListener(ir,lr))return!0}}}else return(er||rr)&&(!rr||!rr.$stable)?!0:Qn===nr?!1:Qn?nr?hasPropsChanged(Qn,nr,ir):!0:!!nr;return!1}function hasPropsChanged(Zn,Jn,Xn){const Qn=Object.keys(Jn);if(Qn.length!==Object.keys(Zn).length)return!0;for(let er=0;er<Qn.length;er++){const tr=Qn[er];if(Jn[tr]!==Zn[tr]&&!isEmitListener(Xn,tr))return!0}return!1}function updateHOCHostEl({vnode:Zn,parent:Jn},Xn){for(;Jn&&Jn.subTree===Zn;)(Zn=Jn.vnode).el=Xn,Jn=Jn.parent}const isSuspense=Zn=>Zn.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(Zn,Jn,Xn,Qn,er,tr,nr,rr,sr,ir){Zn==null?mountSuspense(Jn,Xn,Qn,er,tr,nr,rr,sr,ir):patchSuspense(Zn,Jn,Xn,Qn,er,nr,rr,sr,ir)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(Zn,Jn){const Xn=Zn.props&&Zn.props[Jn];isFunction(Xn)&&Xn()}function mountSuspense(Zn,Jn,Xn,Qn,er,tr,nr,rr,sr){const{p:ir,o:{createElement:or}}=sr,ar=or("div"),lr=Zn.suspense=createSuspenseBoundary(Zn,er,Qn,Jn,ar,Xn,tr,nr,rr,sr);ir(null,lr.pendingBranch=Zn.ssContent,ar,null,Qn,lr,tr,nr),lr.deps>0?(triggerEvent(Zn,"onPending"),triggerEvent(Zn,"onFallback"),ir(null,Zn.ssFallback,Jn,Xn,Qn,null,tr,nr),setActiveBranch(lr,Zn.ssFallback)):lr.resolve(!1,!0)}function patchSuspense(Zn,Jn,Xn,Qn,er,tr,nr,rr,{p:sr,um:ir,o:{createElement:or}}){const ar=Jn.suspense=Zn.suspense;ar.vnode=Jn,Jn.el=Zn.el;const lr=Jn.ssContent,cr=Jn.ssFallback,{activeBranch:pr,pendingBranch:ur,isInFallback:gr,isHydrating:dr}=ar;if(ur)ar.pendingBranch=lr,isSameVNodeType(lr,ur)?(sr(ur,lr,ar.hiddenContainer,null,er,ar,tr,nr,rr),ar.deps<=0?ar.resolve():gr&&(sr(pr,cr,Xn,Qn,er,null,tr,nr,rr),setActiveBranch(ar,cr))):(ar.pendingId++,dr?(ar.isHydrating=!1,ar.activeBranch=ur):ir(ur,er,ar),ar.deps=0,ar.effects.length=0,ar.hiddenContainer=or("div"),gr?(sr(null,lr,ar.hiddenContainer,null,er,ar,tr,nr,rr),ar.deps<=0?ar.resolve():(sr(pr,cr,Xn,Qn,er,null,tr,nr,rr),setActiveBranch(ar,cr))):pr&&isSameVNodeType(lr,pr)?(sr(pr,lr,Xn,Qn,er,ar,tr,nr,rr),ar.resolve(!0)):(sr(null,lr,ar.hiddenContainer,null,er,ar,tr,nr,rr),ar.deps<=0&&ar.resolve()));else if(pr&&isSameVNodeType(lr,pr))sr(pr,lr,Xn,Qn,er,ar,tr,nr,rr),setActiveBranch(ar,lr);else if(triggerEvent(Jn,"onPending"),ar.pendingBranch=lr,ar.pendingId++,sr(null,lr,ar.hiddenContainer,null,er,ar,tr,nr,rr),ar.deps<=0)ar.resolve();else{const{timeout:fr,pendingId:yr}=ar;fr>0?setTimeout(()=>{ar.pendingId===yr&&ar.fallback(cr)},fr):fr===0&&ar.fallback(cr)}}function createSuspenseBoundary(Zn,Jn,Xn,Qn,er,tr,nr,rr,sr,ir,or=!1){const{p:ar,m:lr,um:cr,n:pr,o:{parentNode:ur,remove:gr}}=ir;let dr;const fr=isVNodeSuspensible(Zn);fr&&Jn!=null&&Jn.pendingBranch&&(dr=Jn.pendingId,Jn.deps++);const yr=Zn.props?toNumber$2(Zn.props.timeout):void 0,_r={vnode:Zn,parent:Jn,parentComponent:Xn,isSVG:nr,container:Qn,hiddenContainer:er,anchor:tr,deps:0,pendingId:0,timeout:typeof yr=="number"?yr:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:or,isUnmounted:!1,effects:[],resolve(vr=!1,Er=!1){const{vnode:kr,activeBranch:xr,pendingBranch:Cr,pendingId:Lr,effects:Vr,parentComponent:wr,container:$r}=_r;if(_r.isHydrating)_r.isHydrating=!1;else if(!vr){const Qr=xr&&Cr.transition&&Cr.transition.mode==="out-in";Qr&&(xr.transition.afterLeave=()=>{Lr===_r.pendingId&&lr(Cr,$r,Hr,0)});let{anchor:Hr}=_r;xr&&(Hr=pr(xr),cr(xr,wr,_r,!0)),Qr||lr(Cr,$r,Hr,0)}setActiveBranch(_r,Cr),_r.pendingBranch=null,_r.isInFallback=!1;let mr=_r.parent,jr=!1;for(;mr;){if(mr.pendingBranch){mr.effects.push(...Vr),jr=!0;break}mr=mr.parent}jr||queuePostFlushCb(Vr),_r.effects=[],fr&&Jn&&Jn.pendingBranch&&dr===Jn.pendingId&&(Jn.deps--,Jn.deps===0&&!Er&&Jn.resolve()),triggerEvent(kr,"onResolve")},fallback(vr){if(!_r.pendingBranch)return;const{vnode:Er,activeBranch:kr,parentComponent:xr,container:Cr,isSVG:Lr}=_r;triggerEvent(Er,"onFallback");const Vr=pr(kr),wr=()=>{_r.isInFallback&&(ar(null,vr,Cr,Vr,xr,null,Lr,rr,sr),setActiveBranch(_r,vr))},$r=vr.transition&&vr.transition.mode==="out-in";$r&&(kr.transition.afterLeave=wr),_r.isInFallback=!0,cr(kr,xr,null,!0),$r||wr()},move(vr,Er,kr){_r.activeBranch&&lr(_r.activeBranch,vr,Er,kr),_r.container=vr},next(){return _r.activeBranch&&pr(_r.activeBranch)},registerDep(vr,Er){const kr=!!_r.pendingBranch;kr&&_r.deps++;const xr=vr.vnode.el;vr.asyncDep.catch(Cr=>{handleError(Cr,vr,0)}).then(Cr=>{if(vr.isUnmounted||_r.isUnmounted||_r.pendingId!==vr.suspenseId)return;vr.asyncResolved=!0;const{vnode:Lr}=vr;handleSetupResult(vr,Cr,!1),xr&&(Lr.el=xr);const Vr=!xr&&vr.subTree.el;Er(vr,Lr,ur(xr||vr.subTree.el),xr?null:pr(vr.subTree),_r,nr,sr),Vr&&gr(Vr),updateHOCHostEl(vr,Lr.el),kr&&--_r.deps===0&&_r.resolve()})},unmount(vr,Er){_r.isUnmounted=!0,_r.activeBranch&&cr(_r.activeBranch,Xn,vr,Er),_r.pendingBranch&&cr(_r.pendingBranch,Xn,vr,Er)}};return _r}function hydrateSuspense(Zn,Jn,Xn,Qn,er,tr,nr,rr,sr){const ir=Jn.suspense=createSuspenseBoundary(Jn,Qn,Xn,Zn.parentNode,document.createElement("div"),null,er,tr,nr,rr,!0),or=sr(Zn,ir.pendingBranch=Jn.ssContent,Xn,ir,tr,nr);return ir.deps===0&&ir.resolve(!1,!0),or}function normalizeSuspenseChildren(Zn){const{shapeFlag:Jn,children:Xn}=Zn,Qn=Jn&32;Zn.ssContent=normalizeSuspenseSlot(Qn?Xn.default:Xn),Zn.ssFallback=Qn?normalizeSuspenseSlot(Xn.fallback):createVNode(Comment)}function normalizeSuspenseSlot(Zn){let Jn;if(isFunction(Zn)){const Xn=isBlockTreeEnabled&&Zn._c;Xn&&(Zn._d=!1,openBlock()),Zn=Zn(),Xn&&(Zn._d=!0,Jn=currentBlock,closeBlock())}return isArray$1(Zn)&&(Zn=filterSingleRoot(Zn)),Zn=normalizeVNode(Zn),Jn&&!Zn.dynamicChildren&&(Zn.dynamicChildren=Jn.filter(Xn=>Xn!==Zn)),Zn}function queueEffectWithSuspense(Zn,Jn){Jn&&Jn.pendingBranch?isArray$1(Zn)?Jn.effects.push(...Zn):Jn.effects.push(Zn):queuePostFlushCb(Zn)}function setActiveBranch(Zn,Jn){Zn.activeBranch=Jn;const{vnode:Xn,parentComponent:Qn}=Zn,er=Xn.el=Jn.el;Qn&&Qn.subTree===Xn&&(Qn.vnode.el=er,updateHOCHostEl(Qn,er))}function isVNodeSuspensible(Zn){var Jn;return((Jn=Zn.props)==null?void 0:Jn.suspensible)!=null&&Zn.props.suspensible!==!1}function watchEffect(Zn,Jn){return doWatch(Zn,null,Jn)}function watchPostEffect(Zn,Jn){return doWatch(Zn,null,{flush:"post"})}const INITIAL_WATCHER_VALUE={};function watch(Zn,Jn,Xn){return doWatch(Zn,Jn,Xn)}function doWatch(Zn,Jn,{immediate:Xn,deep:Qn,flush:er,onTrack:tr,onTrigger:nr}=EMPTY_OBJ){var rr;const sr=getCurrentScope()===((rr=currentInstance)==null?void 0:rr.scope)?currentInstance:null;let ir,or=!1,ar=!1;if(isRef(Zn)?(ir=()=>Zn.value,or=isShallow(Zn)):isReactive(Zn)?(ir=()=>Zn,Qn=!0):isArray$1(Zn)?(ar=!0,or=Zn.some(_r=>isReactive(_r)||isShallow(_r)),ir=()=>Zn.map(_r=>{if(isRef(_r))return _r.value;if(isReactive(_r))return traverse(_r);if(isFunction(_r))return callWithErrorHandling(_r,sr,2)})):isFunction(Zn)?Jn?ir=()=>callWithErrorHandling(Zn,sr,2):ir=()=>{if(!(sr&&sr.isUnmounted))return lr&&lr(),callWithAsyncErrorHandling(Zn,sr,3,[cr])}:ir=NOOP,Jn&&Qn){const _r=ir;ir=()=>traverse(_r())}let lr,cr=_r=>{lr=fr.onStop=()=>{callWithErrorHandling(_r,sr,4)}},pr;if(isInSSRComponentSetup)if(cr=NOOP,Jn?Xn&&callWithAsyncErrorHandling(Jn,sr,3,[ir(),ar?[]:void 0,cr]):ir(),er==="sync"){const _r=useSSRContext();pr=_r.__watcherHandles||(_r.__watcherHandles=[])}else return NOOP;let ur=ar?new Array(Zn.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const gr=()=>{if(fr.active)if(Jn){const _r=fr.run();(Qn||or||(ar?_r.some((vr,Er)=>hasChanged(vr,ur[Er])):hasChanged(_r,ur)))&&(lr&&lr(),callWithAsyncErrorHandling(Jn,sr,3,[_r,ur===INITIAL_WATCHER_VALUE?void 0:ar&&ur[0]===INITIAL_WATCHER_VALUE?[]:ur,cr]),ur=_r)}else fr.run()};gr.allowRecurse=!!Jn;let dr;er==="sync"?dr=gr:er==="post"?dr=()=>queuePostRenderEffect(gr,sr&&sr.suspense):(gr.pre=!0,sr&&(gr.id=sr.uid),dr=()=>queueJob(gr));const fr=new ReactiveEffect(ir,dr);Jn?Xn?gr():ur=fr.run():er==="post"?queuePostRenderEffect(fr.run.bind(fr),sr&&sr.suspense):fr.run();const yr=()=>{fr.stop(),sr&&sr.scope&&remove$1(sr.scope.effects,fr)};return pr&&pr.push(yr),yr}function instanceWatch(Zn,Jn,Xn){const Qn=this.proxy,er=isString(Zn)?Zn.includes(".")?createPathGetter(Qn,Zn):()=>Qn[Zn]:Zn.bind(Qn,Qn);let tr;isFunction(Jn)?tr=Jn:(tr=Jn.handler,Xn=Jn);const nr=currentInstance;setCurrentInstance(this);const rr=doWatch(er,tr.bind(Qn),Xn);return nr?setCurrentInstance(nr):unsetCurrentInstance(),rr}function createPathGetter(Zn,Jn){const Xn=Jn.split(".");return()=>{let Qn=Zn;for(let er=0;er<Xn.length&&Qn;er++)Qn=Qn[Xn[er]];return Qn}}function traverse(Zn,Jn){if(!isObject$3(Zn)||Zn.__v_skip||(Jn=Jn||new Set,Jn.has(Zn)))return Zn;if(Jn.add(Zn),isRef(Zn))traverse(Zn.value,Jn);else if(isArray$1(Zn))for(let Xn=0;Xn<Zn.length;Xn++)traverse(Zn[Xn],Jn);else if(isSet(Zn)||isMap(Zn))Zn.forEach(Xn=>{traverse(Xn,Jn)});else if(isPlainObject$1(Zn))for(const Xn in Zn)traverse(Zn[Xn],Jn);return Zn}function withDirectives(Zn,Jn){const Xn=currentRenderingInstance;if(Xn===null)return Zn;const Qn=getExposeProxy(Xn)||Xn.proxy,er=Zn.dirs||(Zn.dirs=[]);for(let tr=0;tr<Jn.length;tr++){let[nr,rr,sr,ir=EMPTY_OBJ]=Jn[tr];nr&&(isFunction(nr)&&(nr={mounted:nr,updated:nr}),nr.deep&&traverse(rr),er.push({dir:nr,instance:Qn,value:rr,oldValue:void 0,arg:sr,modifiers:ir}))}return Zn}function invokeDirectiveHook(Zn,Jn,Xn,Qn){const er=Zn.dirs,tr=Jn&&Jn.dirs;for(let nr=0;nr<er.length;nr++){const rr=er[nr];tr&&(rr.oldValue=tr[nr].value);let sr=rr.dir[Qn];sr&&(pauseTracking(),callWithAsyncErrorHandling(sr,Xn,8,[Zn.el,rr,Zn,Jn]),resetTracking())}}function useTransitionState(){const Zn={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{Zn.isMounted=!0}),onBeforeUnmount(()=>{Zn.isUnmounting=!0}),Zn}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(Zn,{slots:Jn}){const Xn=getCurrentInstance(),Qn=useTransitionState();let er;return()=>{const tr=Jn.default&&getTransitionRawChildren(Jn.default(),!0);if(!tr||!tr.length)return;let nr=tr[0];if(tr.length>1){for(const ur of tr)if(ur.type!==Comment){nr=ur;break}}const rr=toRaw(Zn),{mode:sr}=rr;if(Qn.isLeaving)return emptyPlaceholder(nr);const ir=getKeepAliveChild(nr);if(!ir)return emptyPlaceholder(nr);const or=resolveTransitionHooks(ir,rr,Qn,Xn);setTransitionHooks(ir,or);const ar=Xn.subTree,lr=ar&&getKeepAliveChild(ar);let cr=!1;const{getTransitionKey:pr}=ir.type;if(pr){const ur=pr();er===void 0?er=ur:ur!==er&&(er=ur,cr=!0)}if(lr&&lr.type!==Comment&&(!isSameVNodeType(ir,lr)||cr)){const ur=resolveTransitionHooks(lr,rr,Qn,Xn);if(setTransitionHooks(lr,ur),sr==="out-in")return Qn.isLeaving=!0,ur.afterLeave=()=>{Qn.isLeaving=!1,Xn.update.active!==!1&&Xn.update()},emptyPlaceholder(nr);sr==="in-out"&&ir.type!==Comment&&(ur.delayLeave=(gr,dr,fr)=>{const yr=getLeavingNodesForType(Qn,lr);yr[String(lr.key)]=lr,gr._leaveCb=()=>{dr(),gr._leaveCb=void 0,delete or.delayedLeave},or.delayedLeave=fr})}return nr}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(Zn,Jn){const{leavingVNodes:Xn}=Zn;let Qn=Xn.get(Jn.type);return Qn||(Qn=Object.create(null),Xn.set(Jn.type,Qn)),Qn}function resolveTransitionHooks(Zn,Jn,Xn,Qn){const{appear:er,mode:tr,persisted:nr=!1,onBeforeEnter:rr,onEnter:sr,onAfterEnter:ir,onEnterCancelled:or,onBeforeLeave:ar,onLeave:lr,onAfterLeave:cr,onLeaveCancelled:pr,onBeforeAppear:ur,onAppear:gr,onAfterAppear:dr,onAppearCancelled:fr}=Jn,yr=String(Zn.key),_r=getLeavingNodesForType(Xn,Zn),vr=(xr,Cr)=>{xr&&callWithAsyncErrorHandling(xr,Qn,9,Cr)},Er=(xr,Cr)=>{const Lr=Cr[1];vr(xr,Cr),isArray$1(xr)?xr.every(Vr=>Vr.length<=1)&&Lr():xr.length<=1&&Lr()},kr={mode:tr,persisted:nr,beforeEnter(xr){let Cr=rr;if(!Xn.isMounted)if(er)Cr=ur||rr;else return;xr._leaveCb&&xr._leaveCb(!0);const Lr=_r[yr];Lr&&isSameVNodeType(Zn,Lr)&&Lr.el._leaveCb&&Lr.el._leaveCb(),vr(Cr,[xr])},enter(xr){let Cr=sr,Lr=ir,Vr=or;if(!Xn.isMounted)if(er)Cr=gr||sr,Lr=dr||ir,Vr=fr||or;else return;let wr=!1;const $r=xr._enterCb=mr=>{wr||(wr=!0,mr?vr(Vr,[xr]):vr(Lr,[xr]),kr.delayedLeave&&kr.delayedLeave(),xr._enterCb=void 0)};Cr?Er(Cr,[xr,$r]):$r()},leave(xr,Cr){const Lr=String(Zn.key);if(xr._enterCb&&xr._enterCb(!0),Xn.isUnmounting)return Cr();vr(ar,[xr]);let Vr=!1;const wr=xr._leaveCb=$r=>{Vr||(Vr=!0,Cr(),$r?vr(pr,[xr]):vr(cr,[xr]),xr._leaveCb=void 0,_r[Lr]===Zn&&delete _r[Lr])};_r[Lr]=Zn,lr?Er(lr,[xr,wr]):wr()},clone(xr){return resolveTransitionHooks(xr,Jn,Xn,Qn)}};return kr}function emptyPlaceholder(Zn){if(isKeepAlive(Zn))return Zn=cloneVNode(Zn),Zn.children=null,Zn}function getKeepAliveChild(Zn){return isKeepAlive(Zn)?Zn.children?Zn.children[0]:void 0:Zn}function setTransitionHooks(Zn,Jn){Zn.shapeFlag&6&&Zn.component?setTransitionHooks(Zn.component.subTree,Jn):Zn.shapeFlag&128?(Zn.ssContent.transition=Jn.clone(Zn.ssContent),Zn.ssFallback.transition=Jn.clone(Zn.ssFallback)):Zn.transition=Jn}function getTransitionRawChildren(Zn,Jn=!1,Xn){let Qn=[],er=0;for(let tr=0;tr<Zn.length;tr++){let nr=Zn[tr];const rr=Xn==null?nr.key:String(Xn)+String(nr.key!=null?nr.key:tr);nr.type===Fragment?(nr.patchFlag&128&&er++,Qn=Qn.concat(getTransitionRawChildren(nr.children,Jn,rr))):(Jn||nr.type!==Comment)&&Qn.push(rr!=null?cloneVNode(nr,{key:rr}):nr)}if(er>1)for(let tr=0;tr<Qn.length;tr++)Qn[tr].patchFlag=-2;return Qn}function defineComponent(Zn,Jn){return isFunction(Zn)?(()=>extend({name:Zn.name},Jn,{setup:Zn}))():Zn}const isAsyncWrapper=Zn=>!!Zn.type.__asyncLoader;function defineAsyncComponent(Zn){isFunction(Zn)&&(Zn={loader:Zn});const{loader:Jn,loadingComponent:Xn,errorComponent:Qn,delay:er=200,timeout:tr,suspensible:nr=!0,onError:rr}=Zn;let sr=null,ir,or=0;const ar=()=>(or++,sr=null,lr()),lr=()=>{let cr;return sr||(cr=sr=Jn().catch(pr=>{if(pr=pr instanceof Error?pr:new Error(String(pr)),rr)return new Promise((ur,gr)=>{rr(pr,()=>ur(ar()),()=>gr(pr),or+1)});throw pr}).then(pr=>cr!==sr&&sr?sr:(pr&&(pr.__esModule||pr[Symbol.toStringTag]==="Module")&&(pr=pr.default),ir=pr,pr)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:lr,get __asyncResolved(){return ir},setup(){const cr=currentInstance;if(ir)return()=>createInnerComp(ir,cr);const pr=fr=>{sr=null,handleError(fr,cr,13,!Qn)};if(nr&&cr.suspense||isInSSRComponentSetup)return lr().then(fr=>()=>createInnerComp(fr,cr)).catch(fr=>(pr(fr),()=>Qn?createVNode(Qn,{error:fr}):null));const ur=ref(!1),gr=ref(),dr=ref(!!er);return er&&setTimeout(()=>{dr.value=!1},er),tr!=null&&setTimeout(()=>{if(!ur.value&&!gr.value){const fr=new Error(`Async component timed out after ${tr}ms.`);pr(fr),gr.value=fr}},tr),lr().then(()=>{ur.value=!0,cr.parent&&isKeepAlive(cr.parent.vnode)&&queueJob(cr.parent.update)}).catch(fr=>{pr(fr),gr.value=fr}),()=>{if(ur.value&&ir)return createInnerComp(ir,cr);if(gr.value&&Qn)return createVNode(Qn,{error:gr.value});if(Xn&&!dr.value)return createVNode(Xn)}}})}function createInnerComp(Zn,Jn){const{ref:Xn,props:Qn,children:er,ce:tr}=Jn.vnode,nr=createVNode(Zn,Qn,er);return nr.ref=Xn,nr.ce=tr,delete Jn.vnode.ce,nr}const isKeepAlive=Zn=>Zn.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(Zn,{slots:Jn}){const Xn=getCurrentInstance(),Qn=Xn.ctx;if(!Qn.renderer)return()=>{const fr=Jn.default&&Jn.default();return fr&&fr.length===1?fr[0]:fr};const er=new Map,tr=new Set;let nr=null;const rr=Xn.suspense,{renderer:{p:sr,m:ir,um:or,o:{createElement:ar}}}=Qn,lr=ar("div");Qn.activate=(fr,yr,_r,vr,Er)=>{const kr=fr.component;ir(fr,yr,_r,0,rr),sr(kr.vnode,fr,yr,_r,kr,rr,vr,fr.slotScopeIds,Er),queuePostRenderEffect(()=>{kr.isDeactivated=!1,kr.a&&invokeArrayFns(kr.a);const xr=fr.props&&fr.props.onVnodeMounted;xr&&invokeVNodeHook(xr,kr.parent,fr)},rr)},Qn.deactivate=fr=>{const yr=fr.component;ir(fr,lr,null,1,rr),queuePostRenderEffect(()=>{yr.da&&invokeArrayFns(yr.da);const _r=fr.props&&fr.props.onVnodeUnmounted;_r&&invokeVNodeHook(_r,yr.parent,fr),yr.isDeactivated=!0},rr)};function cr(fr){resetShapeFlag(fr),or(fr,Xn,rr,!0)}function pr(fr){er.forEach((yr,_r)=>{const vr=getComponentName(yr.type);vr&&(!fr||!fr(vr))&&ur(_r)})}function ur(fr){const yr=er.get(fr);!nr||!isSameVNodeType(yr,nr)?cr(yr):nr&&resetShapeFlag(nr),er.delete(fr),tr.delete(fr)}watch(()=>[Zn.include,Zn.exclude],([fr,yr])=>{fr&&pr(_r=>matches(fr,_r)),yr&&pr(_r=>!matches(yr,_r))},{flush:"post",deep:!0});let gr=null;const dr=()=>{gr!=null&&er.set(gr,getInnerChild(Xn.subTree))};return onMounted(dr),onUpdated(dr),onBeforeUnmount(()=>{er.forEach(fr=>{const{subTree:yr,suspense:_r}=Xn,vr=getInnerChild(yr);if(fr.type===vr.type&&fr.key===vr.key){resetShapeFlag(vr);const Er=vr.component.da;Er&&queuePostRenderEffect(Er,_r);return}cr(fr)})}),()=>{if(gr=null,!Jn.default)return null;const fr=Jn.default(),yr=fr[0];if(fr.length>1)return nr=null,fr;if(!isVNode(yr)||!(yr.shapeFlag&4)&&!(yr.shapeFlag&128))return nr=null,yr;let _r=getInnerChild(yr);const vr=_r.type,Er=getComponentName(isAsyncWrapper(_r)?_r.type.__asyncResolved||{}:vr),{include:kr,exclude:xr,max:Cr}=Zn;if(kr&&(!Er||!matches(kr,Er))||xr&&Er&&matches(xr,Er))return nr=_r,yr;const Lr=_r.key==null?vr:_r.key,Vr=er.get(Lr);return _r.el&&(_r=cloneVNode(_r),yr.shapeFlag&128&&(yr.ssContent=_r)),gr=Lr,Vr?(_r.el=Vr.el,_r.component=Vr.component,_r.transition&&setTransitionHooks(_r,_r.transition),_r.shapeFlag|=512,tr.delete(Lr),tr.add(Lr)):(tr.add(Lr),Cr&&tr.size>parseInt(Cr,10)&&ur(tr.values().next().value)),_r.shapeFlag|=256,nr=_r,isSuspense(yr.type)?yr:_r}}},KeepAlive=KeepAliveImpl;function matches(Zn,Jn){return isArray$1(Zn)?Zn.some(Xn=>matches(Xn,Jn)):isString(Zn)?Zn.split(",").includes(Jn):isRegExp(Zn)?Zn.test(Jn):!1}function onActivated(Zn,Jn){registerKeepAliveHook(Zn,"a",Jn)}function onDeactivated(Zn,Jn){registerKeepAliveHook(Zn,"da",Jn)}function registerKeepAliveHook(Zn,Jn,Xn=currentInstance){const Qn=Zn.__wdc||(Zn.__wdc=()=>{let er=Xn;for(;er;){if(er.isDeactivated)return;er=er.parent}return Zn()});if(injectHook(Jn,Qn,Xn),Xn){let er=Xn.parent;for(;er&&er.parent;)isKeepAlive(er.parent.vnode)&&injectToKeepAliveRoot(Qn,Jn,Xn,er),er=er.parent}}function injectToKeepAliveRoot(Zn,Jn,Xn,Qn){const er=injectHook(Jn,Zn,Qn,!0);onUnmounted(()=>{remove$1(Qn[Jn],er)},Xn)}function resetShapeFlag(Zn){Zn.shapeFlag&=-257,Zn.shapeFlag&=-513}function getInnerChild(Zn){return Zn.shapeFlag&128?Zn.ssContent:Zn}function injectHook(Zn,Jn,Xn=currentInstance,Qn=!1){if(Xn){const er=Xn[Zn]||(Xn[Zn]=[]),tr=Jn.__weh||(Jn.__weh=(...nr)=>{if(Xn.isUnmounted)return;pauseTracking(),setCurrentInstance(Xn);const rr=callWithAsyncErrorHandling(Jn,Xn,Zn,nr);return unsetCurrentInstance(),resetTracking(),rr});return Qn?er.unshift(tr):er.push(tr),tr}}const createHook=Zn=>(Jn,Xn=currentInstance)=>(!isInSSRComponentSetup||Zn==="sp")&&injectHook(Zn,(...Qn)=>Jn(...Qn),Xn),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(Zn,Jn=currentInstance){injectHook("ec",Zn,Jn)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(Zn,Jn){return resolveAsset(COMPONENTS,Zn,!0,Jn)||Zn}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(Zn){return isString(Zn)?resolveAsset(COMPONENTS,Zn,!1)||Zn:Zn||NULL_DYNAMIC_COMPONENT}function resolveDirective(Zn){return resolveAsset(DIRECTIVES,Zn)}function resolveAsset(Zn,Jn,Xn=!0,Qn=!1){const er=currentRenderingInstance||currentInstance;if(er){const tr=er.type;if(Zn===COMPONENTS){const rr=getComponentName(tr,!1);if(rr&&(rr===Jn||rr===camelize(Jn)||rr===capitalize$1(camelize(Jn))))return tr}const nr=resolve(er[Zn]||tr[Zn],Jn)||resolve(er.appContext[Zn],Jn);return!nr&&Qn?tr:nr}}function resolve(Zn,Jn){return Zn&&(Zn[Jn]||Zn[camelize(Jn)]||Zn[capitalize$1(camelize(Jn))])}function renderList(Zn,Jn,Xn,Qn){let er;const tr=Xn&&Xn[Qn];if(isArray$1(Zn)||isString(Zn)){er=new Array(Zn.length);for(let nr=0,rr=Zn.length;nr<rr;nr++)er[nr]=Jn(Zn[nr],nr,void 0,tr&&tr[nr])}else if(typeof Zn=="number"){er=new Array(Zn);for(let nr=0;nr<Zn;nr++)er[nr]=Jn(nr+1,nr,void 0,tr&&tr[nr])}else if(isObject$3(Zn))if(Zn[Symbol.iterator])er=Array.from(Zn,(nr,rr)=>Jn(nr,rr,void 0,tr&&tr[rr]));else{const nr=Object.keys(Zn);er=new Array(nr.length);for(let rr=0,sr=nr.length;rr<sr;rr++){const ir=nr[rr];er[rr]=Jn(Zn[ir],ir,rr,tr&&tr[rr])}}else er=[];return Xn&&(Xn[Qn]=er),er}function renderSlot(Zn,Jn,Xn={},Qn,er){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return Jn!=="default"&&(Xn.name=Jn),createVNode("slot",Xn,Qn&&Qn());let tr=Zn[Jn];tr&&tr._c&&(tr._d=!1),openBlock();const nr=tr&&ensureValidVNode(tr(Xn)),rr=createBlock(Fragment,{key:Xn.key||nr&&nr.key||`_${Jn}`},nr||(Qn?Qn():[]),nr&&Zn._===1?64:-2);return!er&&rr.scopeId&&(rr.slotScopeIds=[rr.scopeId+"-s"]),tr&&tr._c&&(tr._d=!0),rr}function ensureValidVNode(Zn){return Zn.some(Jn=>isVNode(Jn)?!(Jn.type===Comment||Jn.type===Fragment&&!ensureValidVNode(Jn.children)):!0)?Zn:null}const getPublicInstance=Zn=>Zn?isStatefulComponent(Zn)?getExposeProxy(Zn)||Zn.proxy:getPublicInstance(Zn.parent):null,publicPropertiesMap=extend(Object.create(null),{$:Zn=>Zn,$el:Zn=>Zn.vnode.el,$data:Zn=>Zn.data,$props:Zn=>Zn.props,$attrs:Zn=>Zn.attrs,$slots:Zn=>Zn.slots,$refs:Zn=>Zn.refs,$parent:Zn=>getPublicInstance(Zn.parent),$root:Zn=>getPublicInstance(Zn.root),$emit:Zn=>Zn.emit,$options:Zn=>resolveMergedOptions(Zn),$forceUpdate:Zn=>Zn.f||(Zn.f=()=>queueJob(Zn.update)),$nextTick:Zn=>Zn.n||(Zn.n=nextTick.bind(Zn.proxy)),$watch:Zn=>instanceWatch.bind(Zn)}),hasSetupBinding=(Zn,Jn)=>Zn!==EMPTY_OBJ&&!Zn.__isScriptSetup&&hasOwn(Zn,Jn),PublicInstanceProxyHandlers={get({_:Zn},Jn){const{ctx:Xn,setupState:Qn,data:er,props:tr,accessCache:nr,type:rr,appContext:sr}=Zn;let ir;if(Jn[0]!=="$"){const cr=nr[Jn];if(cr!==void 0)switch(cr){case 1:return Qn[Jn];case 2:return er[Jn];case 4:return Xn[Jn];case 3:return tr[Jn]}else{if(hasSetupBinding(Qn,Jn))return nr[Jn]=1,Qn[Jn];if(er!==EMPTY_OBJ&&hasOwn(er,Jn))return nr[Jn]=2,er[Jn];if((ir=Zn.propsOptions[0])&&hasOwn(ir,Jn))return nr[Jn]=3,tr[Jn];if(Xn!==EMPTY_OBJ&&hasOwn(Xn,Jn))return nr[Jn]=4,Xn[Jn];shouldCacheAccess&&(nr[Jn]=0)}}const or=publicPropertiesMap[Jn];let ar,lr;if(or)return Jn==="$attrs"&&track(Zn,"get",Jn),or(Zn);if((ar=rr.__cssModules)&&(ar=ar[Jn]))return ar;if(Xn!==EMPTY_OBJ&&hasOwn(Xn,Jn))return nr[Jn]=4,Xn[Jn];if(lr=sr.config.globalProperties,hasOwn(lr,Jn))return lr[Jn]},set({_:Zn},Jn,Xn){const{data:Qn,setupState:er,ctx:tr}=Zn;return hasSetupBinding(er,Jn)?(er[Jn]=Xn,!0):Qn!==EMPTY_OBJ&&hasOwn(Qn,Jn)?(Qn[Jn]=Xn,!0):hasOwn(Zn.props,Jn)||Jn[0]==="$"&&Jn.slice(1)in Zn?!1:(tr[Jn]=Xn,!0)},has({_:{data:Zn,setupState:Jn,accessCache:Xn,ctx:Qn,appContext:er,propsOptions:tr}},nr){let rr;return!!Xn[nr]||Zn!==EMPTY_OBJ&&hasOwn(Zn,nr)||hasSetupBinding(Jn,nr)||(rr=tr[0])&&hasOwn(rr,nr)||hasOwn(Qn,nr)||hasOwn(publicPropertiesMap,nr)||hasOwn(er.config.globalProperties,nr)},defineProperty(Zn,Jn,Xn){return Xn.get!=null?Zn._.accessCache[Jn]=0:hasOwn(Xn,"value")&&this.set(Zn,Jn,Xn.value,null),Reflect.defineProperty(Zn,Jn,Xn)}};function normalizePropsOrEmits(Zn){return isArray$1(Zn)?Zn.reduce((Jn,Xn)=>(Jn[Xn]=null,Jn),{}):Zn}let shouldCacheAccess=!0;function applyOptions(Zn){const Jn=resolveMergedOptions(Zn),Xn=Zn.proxy,Qn=Zn.ctx;shouldCacheAccess=!1,Jn.beforeCreate&&callHook$1(Jn.beforeCreate,Zn,"bc");const{data:er,computed:tr,methods:nr,watch:rr,provide:sr,inject:ir,created:or,beforeMount:ar,mounted:lr,beforeUpdate:cr,updated:pr,activated:ur,deactivated:gr,beforeDestroy:dr,beforeUnmount:fr,destroyed:yr,unmounted:_r,render:vr,renderTracked:Er,renderTriggered:kr,errorCaptured:xr,serverPrefetch:Cr,expose:Lr,inheritAttrs:Vr,components:wr,directives:$r,filters:mr}=Jn;if(ir&&resolveInjections(ir,Qn,null),nr)for(const Hr in nr){const rs=nr[Hr];isFunction(rs)&&(Qn[Hr]=rs.bind(Xn))}if(er){const Hr=er.call(Xn,Xn);isObject$3(Hr)&&(Zn.data=reactive(Hr))}if(shouldCacheAccess=!0,tr)for(const Hr in tr){const rs=tr[Hr],Xr=isFunction(rs)?rs.bind(Xn,Xn):isFunction(rs.get)?rs.get.bind(Xn,Xn):NOOP,ls=!isFunction(rs)&&isFunction(rs.set)?rs.set.bind(Xn):NOOP,zr=computed({get:Xr,set:ls});Object.defineProperty(Qn,Hr,{enumerable:!0,configurable:!0,get:()=>zr.value,set:Ur=>zr.value=Ur})}if(rr)for(const Hr in rr)createWatcher(rr[Hr],Qn,Xn,Hr);if(sr){const Hr=isFunction(sr)?sr.call(Xn):sr;Reflect.ownKeys(Hr).forEach(rs=>{provide(rs,Hr[rs])})}or&&callHook$1(or,Zn,"c");function Qr(Hr,rs){isArray$1(rs)?rs.forEach(Xr=>Hr(Xr.bind(Xn))):rs&&Hr(rs.bind(Xn))}if(Qr(onBeforeMount,ar),Qr(onMounted,lr),Qr(onBeforeUpdate,cr),Qr(onUpdated,pr),Qr(onActivated,ur),Qr(onDeactivated,gr),Qr(onErrorCaptured,xr),Qr(onRenderTracked,Er),Qr(onRenderTriggered,kr),Qr(onBeforeUnmount,fr),Qr(onUnmounted,_r),Qr(onServerPrefetch,Cr),isArray$1(Lr))if(Lr.length){const Hr=Zn.exposed||(Zn.exposed={});Lr.forEach(rs=>{Object.defineProperty(Hr,rs,{get:()=>Xn[rs],set:Xr=>Xn[rs]=Xr})})}else Zn.exposed||(Zn.exposed={});vr&&Zn.render===NOOP&&(Zn.render=vr),Vr!=null&&(Zn.inheritAttrs=Vr),wr&&(Zn.components=wr),$r&&(Zn.directives=$r)}function resolveInjections(Zn,Jn,Xn=NOOP){isArray$1(Zn)&&(Zn=normalizeInject(Zn));for(const Qn in Zn){const er=Zn[Qn];let tr;isObject$3(er)?"default"in er?tr=inject(er.from||Qn,er.default,!0):tr=inject(er.from||Qn):tr=inject(er),isRef(tr)?Object.defineProperty(Jn,Qn,{enumerable:!0,configurable:!0,get:()=>tr.value,set:nr=>tr.value=nr}):Jn[Qn]=tr}}function callHook$1(Zn,Jn,Xn){callWithAsyncErrorHandling(isArray$1(Zn)?Zn.map(Qn=>Qn.bind(Jn.proxy)):Zn.bind(Jn.proxy),Jn,Xn)}function createWatcher(Zn,Jn,Xn,Qn){const er=Qn.includes(".")?createPathGetter(Xn,Qn):()=>Xn[Qn];if(isString(Zn)){const tr=Jn[Zn];isFunction(tr)&&watch(er,tr)}else if(isFunction(Zn))watch(er,Zn.bind(Xn));else if(isObject$3(Zn))if(isArray$1(Zn))Zn.forEach(tr=>createWatcher(tr,Jn,Xn,Qn));else{const tr=isFunction(Zn.handler)?Zn.handler.bind(Xn):Jn[Zn.handler];isFunction(tr)&&watch(er,tr,Zn)}}function resolveMergedOptions(Zn){const Jn=Zn.type,{mixins:Xn,extends:Qn}=Jn,{mixins:er,optionsCache:tr,config:{optionMergeStrategies:nr}}=Zn.appContext,rr=tr.get(Jn);let sr;return rr?sr=rr:!er.length&&!Xn&&!Qn?sr=Jn:(sr={},er.length&&er.forEach(ir=>mergeOptions$1(sr,ir,nr,!0)),mergeOptions$1(sr,Jn,nr)),isObject$3(Jn)&&tr.set(Jn,sr),sr}function mergeOptions$1(Zn,Jn,Xn,Qn=!1){const{mixins:er,extends:tr}=Jn;tr&&mergeOptions$1(Zn,tr,Xn,!0),er&&er.forEach(nr=>mergeOptions$1(Zn,nr,Xn,!0));for(const nr in Jn)if(!(Qn&&nr==="expose")){const rr=internalOptionMergeStrats[nr]||Xn&&Xn[nr];Zn[nr]=rr?rr(Zn[nr],Jn[nr]):Jn[nr]}return Zn}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(Zn,Jn){return Jn?Zn?function(){return extend(isFunction(Zn)?Zn.call(this,this):Zn,isFunction(Jn)?Jn.call(this,this):Jn)}:Jn:Zn}function mergeInject(Zn,Jn){return mergeObjectOptions(normalizeInject(Zn),normalizeInject(Jn))}function normalizeInject(Zn){if(isArray$1(Zn)){const Jn={};for(let Xn=0;Xn<Zn.length;Xn++)Jn[Zn[Xn]]=Zn[Xn];return Jn}return Zn}function mergeAsArray(Zn,Jn){return Zn?[...new Set([].concat(Zn,Jn))]:Jn}function mergeObjectOptions(Zn,Jn){return Zn?extend(Object.create(null),Zn,Jn):Jn}function mergeEmitsOrPropsOptions(Zn,Jn){return Zn?isArray$1(Zn)&&isArray$1(Jn)?[...new Set([...Zn,...Jn])]:extend(Object.create(null),normalizePropsOrEmits(Zn),normalizePropsOrEmits(Jn??{})):Jn}function mergeWatchOptions(Zn,Jn){if(!Zn)return Jn;if(!Jn)return Zn;const Xn=extend(Object.create(null),Zn);for(const Qn in Jn)Xn[Qn]=mergeAsArray(Zn[Qn],Jn[Qn]);return Xn}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(Zn,Jn){return function(Qn,er=null){isFunction(Qn)||(Qn=extend({},Qn)),er!=null&&!isObject$3(er)&&(er=null);const tr=createAppContext(),nr=new Set;let rr=!1;const sr=tr.app={_uid:uid$1++,_component:Qn,_props:er,_container:null,_context:tr,_instance:null,version,get config(){return tr.config},set config(ir){},use(ir,...or){return nr.has(ir)||(ir&&isFunction(ir.install)?(nr.add(ir),ir.install(sr,...or)):isFunction(ir)&&(nr.add(ir),ir(sr,...or))),sr},mixin(ir){return tr.mixins.includes(ir)||tr.mixins.push(ir),sr},component(ir,or){return or?(tr.components[ir]=or,sr):tr.components[ir]},directive(ir,or){return or?(tr.directives[ir]=or,sr):tr.directives[ir]},mount(ir,or,ar){if(!rr){const lr=createVNode(Qn,er);return lr.appContext=tr,or&&Jn?Jn(lr,ir):Zn(lr,ir,ar),rr=!0,sr._container=ir,ir.__vue_app__=sr,getExposeProxy(lr.component)||lr.component.proxy}},unmount(){rr&&(Zn(null,sr._container),delete sr._container.__vue_app__)},provide(ir,or){return tr.provides[ir]=or,sr},runWithContext(ir){currentApp=sr;try{return ir()}finally{currentApp=null}}};return sr}}let currentApp=null;function provide(Zn,Jn){if(currentInstance){let Xn=currentInstance.provides;const Qn=currentInstance.parent&&currentInstance.parent.provides;Qn===Xn&&(Xn=currentInstance.provides=Object.create(Qn)),Xn[Zn]=Jn}}function inject(Zn,Jn,Xn=!1){const Qn=currentInstance||currentRenderingInstance;if(Qn||currentApp){const er=Qn?Qn.parent==null?Qn.vnode.appContext&&Qn.vnode.appContext.provides:Qn.parent.provides:currentApp._context.provides;if(er&&Zn in er)return er[Zn];if(arguments.length>1)return Xn&&isFunction(Jn)?Jn.call(Qn&&Qn.proxy):Jn}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}function initProps(Zn,Jn,Xn,Qn=!1){const er={},tr={};def(tr,InternalObjectKey,1),Zn.propsDefaults=Object.create(null),setFullProps(Zn,Jn,er,tr);for(const nr in Zn.propsOptions[0])nr in er||(er[nr]=void 0);Xn?Zn.props=Qn?er:shallowReactive(er):Zn.type.props?Zn.props=er:Zn.props=tr,Zn.attrs=tr}function updateProps(Zn,Jn,Xn,Qn){const{props:er,attrs:tr,vnode:{patchFlag:nr}}=Zn,rr=toRaw(er),[sr]=Zn.propsOptions;let ir=!1;if((Qn||nr>0)&&!(nr&16)){if(nr&8){const or=Zn.vnode.dynamicProps;for(let ar=0;ar<or.length;ar++){let lr=or[ar];if(isEmitListener(Zn.emitsOptions,lr))continue;const cr=Jn[lr];if(sr)if(hasOwn(tr,lr))cr!==tr[lr]&&(tr[lr]=cr,ir=!0);else{const pr=camelize(lr);er[pr]=resolvePropValue(sr,rr,pr,cr,Zn,!1)}else cr!==tr[lr]&&(tr[lr]=cr,ir=!0)}}}else{setFullProps(Zn,Jn,er,tr)&&(ir=!0);let or;for(const ar in rr)(!Jn||!hasOwn(Jn,ar)&&((or=hyphenate(ar))===ar||!hasOwn(Jn,or)))&&(sr?Xn&&(Xn[ar]!==void 0||Xn[or]!==void 0)&&(er[ar]=resolvePropValue(sr,rr,ar,void 0,Zn,!0)):delete er[ar]);if(tr!==rr)for(const ar in tr)(!Jn||!hasOwn(Jn,ar))&&(delete tr[ar],ir=!0)}ir&&trigger(Zn,"set","$attrs")}function setFullProps(Zn,Jn,Xn,Qn){const[er,tr]=Zn.propsOptions;let nr=!1,rr;if(Jn)for(let sr in Jn){if(isReservedProp(sr))continue;const ir=Jn[sr];let or;er&&hasOwn(er,or=camelize(sr))?!tr||!tr.includes(or)?Xn[or]=ir:(rr||(rr={}))[or]=ir:isEmitListener(Zn.emitsOptions,sr)||(!(sr in Qn)||ir!==Qn[sr])&&(Qn[sr]=ir,nr=!0)}if(tr){const sr=toRaw(Xn),ir=rr||EMPTY_OBJ;for(let or=0;or<tr.length;or++){const ar=tr[or];Xn[ar]=resolvePropValue(er,sr,ar,ir[ar],Zn,!hasOwn(ir,ar))}}return nr}function resolvePropValue(Zn,Jn,Xn,Qn,er,tr){const nr=Zn[Xn];if(nr!=null){const rr=hasOwn(nr,"default");if(rr&&Qn===void 0){const sr=nr.default;if(nr.type!==Function&&!nr.skipFactory&&isFunction(sr)){const{propsDefaults:ir}=er;Xn in ir?Qn=ir[Xn]:(setCurrentInstance(er),Qn=ir[Xn]=sr.call(null,Jn),unsetCurrentInstance())}else Qn=sr}nr[0]&&(tr&&!rr?Qn=!1:nr[1]&&(Qn===""||Qn===hyphenate(Xn))&&(Qn=!0))}return Qn}function normalizePropsOptions(Zn,Jn,Xn=!1){const Qn=Jn.propsCache,er=Qn.get(Zn);if(er)return er;const tr=Zn.props,nr={},rr=[];let sr=!1;if(!isFunction(Zn)){const or=ar=>{sr=!0;const[lr,cr]=normalizePropsOptions(ar,Jn,!0);extend(nr,lr),cr&&rr.push(...cr)};!Xn&&Jn.mixins.length&&Jn.mixins.forEach(or),Zn.extends&&or(Zn.extends),Zn.mixins&&Zn.mixins.forEach(or)}if(!tr&&!sr)return isObject$3(Zn)&&Qn.set(Zn,EMPTY_ARR),EMPTY_ARR;if(isArray$1(tr))for(let or=0;or<tr.length;or++){const ar=camelize(tr[or]);validatePropName(ar)&&(nr[ar]=EMPTY_OBJ)}else if(tr)for(const or in tr){const ar=camelize(or);if(validatePropName(ar)){const lr=tr[or],cr=nr[ar]=isArray$1(lr)||isFunction(lr)?{type:lr}:extend({},lr);if(cr){const pr=getTypeIndex(Boolean,cr.type),ur=getTypeIndex(String,cr.type);cr[0]=pr>-1,cr[1]=ur<0||pr<ur,(pr>-1||hasOwn(cr,"default"))&&rr.push(ar)}}}const ir=[nr,rr];return isObject$3(Zn)&&Qn.set(Zn,ir),ir}function validatePropName(Zn){return Zn[0]!=="$"}function getType(Zn){const Jn=Zn&&Zn.toString().match(/^\s*(function|class) (\w+)/);return Jn?Jn[2]:Zn===null?"null":""}function isSameType(Zn,Jn){return getType(Zn)===getType(Jn)}function getTypeIndex(Zn,Jn){return isArray$1(Jn)?Jn.findIndex(Xn=>isSameType(Xn,Zn)):isFunction(Jn)&&isSameType(Jn,Zn)?0:-1}const isInternalKey=Zn=>Zn[0]==="_"||Zn==="$stable",normalizeSlotValue=Zn=>isArray$1(Zn)?Zn.map(normalizeVNode):[normalizeVNode(Zn)],normalizeSlot$1=(Zn,Jn,Xn)=>{if(Jn._n)return Jn;const Qn=withCtx((...er)=>normalizeSlotValue(Jn(...er)),Xn);return Qn._c=!1,Qn},normalizeObjectSlots=(Zn,Jn,Xn)=>{const Qn=Zn._ctx;for(const er in Zn){if(isInternalKey(er))continue;const tr=Zn[er];if(isFunction(tr))Jn[er]=normalizeSlot$1(er,tr,Qn);else if(tr!=null){const nr=normalizeSlotValue(tr);Jn[er]=()=>nr}}},normalizeVNodeSlots=(Zn,Jn)=>{const Xn=normalizeSlotValue(Jn);Zn.slots.default=()=>Xn},initSlots=(Zn,Jn)=>{if(Zn.vnode.shapeFlag&32){const Xn=Jn._;Xn?(Zn.slots=toRaw(Jn),def(Jn,"_",Xn)):normalizeObjectSlots(Jn,Zn.slots={})}else Zn.slots={},Jn&&normalizeVNodeSlots(Zn,Jn);def(Zn.slots,InternalObjectKey,1)},updateSlots=(Zn,Jn,Xn)=>{const{vnode:Qn,slots:er}=Zn;let tr=!0,nr=EMPTY_OBJ;if(Qn.shapeFlag&32){const rr=Jn._;rr?Xn&&rr===1?tr=!1:(extend(er,Jn),!Xn&&rr===1&&delete er._):(tr=!Jn.$stable,normalizeObjectSlots(Jn,er)),nr=Jn}else Jn&&(normalizeVNodeSlots(Zn,Jn),nr={default:1});if(tr)for(const rr in er)!isInternalKey(rr)&&!(rr in nr)&&delete er[rr]};function setRef(Zn,Jn,Xn,Qn,er=!1){if(isArray$1(Zn)){Zn.forEach((lr,cr)=>setRef(lr,Jn&&(isArray$1(Jn)?Jn[cr]:Jn),Xn,Qn,er));return}if(isAsyncWrapper(Qn)&&!er)return;const tr=Qn.shapeFlag&4?getExposeProxy(Qn.component)||Qn.component.proxy:Qn.el,nr=er?null:tr,{i:rr,r:sr}=Zn,ir=Jn&&Jn.r,or=rr.refs===EMPTY_OBJ?rr.refs={}:rr.refs,ar=rr.setupState;if(ir!=null&&ir!==sr&&(isString(ir)?(or[ir]=null,hasOwn(ar,ir)&&(ar[ir]=null)):isRef(ir)&&(ir.value=null)),isFunction(sr))callWithErrorHandling(sr,rr,12,[nr,or]);else{const lr=isString(sr),cr=isRef(sr);if(lr||cr){const pr=()=>{if(Zn.f){const ur=lr?hasOwn(ar,sr)?ar[sr]:or[sr]:sr.value;er?isArray$1(ur)&&remove$1(ur,tr):isArray$1(ur)?ur.includes(tr)||ur.push(tr):lr?(or[sr]=[tr],hasOwn(ar,sr)&&(ar[sr]=or[sr])):(sr.value=[tr],Zn.k&&(or[Zn.k]=sr.value))}else lr?(or[sr]=nr,hasOwn(ar,sr)&&(ar[sr]=nr)):cr&&(sr.value=nr,Zn.k&&(or[Zn.k]=nr))};nr?(pr.id=-1,queuePostRenderEffect(pr,Xn)):pr()}}}let hasMismatch=!1;const isSVGContainer=Zn=>/svg/.test(Zn.namespaceURI)&&Zn.tagName!=="foreignObject",isComment$1=Zn=>Zn.nodeType===8;function createHydrationFunctions(Zn){const{mt:Jn,p:Xn,o:{patchProp:Qn,createText:er,nextSibling:tr,parentNode:nr,remove:rr,insert:sr,createComment:ir}}=Zn,or=(dr,fr)=>{if(!fr.hasChildNodes()){Xn(null,dr,fr),flushPostFlushCbs(),fr._vnode=dr;return}hasMismatch=!1,ar(fr.firstChild,dr,null,null,null),flushPostFlushCbs(),fr._vnode=dr,hasMismatch&&console.error("Hydration completed but contains mismatches.")},ar=(dr,fr,yr,_r,vr,Er=!1)=>{const kr=isComment$1(dr)&&dr.data==="[",xr=()=>ur(dr,fr,yr,_r,vr,kr),{type:Cr,ref:Lr,shapeFlag:Vr,patchFlag:wr}=fr;let $r=dr.nodeType;fr.el=dr,wr===-2&&(Er=!1,fr.dynamicChildren=null);let mr=null;switch(Cr){case Text:$r!==3?fr.children===""?(sr(fr.el=er(""),nr(dr),dr),mr=dr):mr=xr():(dr.data!==fr.children&&(hasMismatch=!0,dr.data=fr.children),mr=tr(dr));break;case Comment:$r!==8||kr?mr=xr():mr=tr(dr);break;case Static:if(kr&&(dr=tr(dr),$r=dr.nodeType),$r===1||$r===3){mr=dr;const jr=!fr.children.length;for(let Qr=0;Qr<fr.staticCount;Qr++)jr&&(fr.children+=mr.nodeType===1?mr.outerHTML:mr.data),Qr===fr.staticCount-1&&(fr.anchor=mr),mr=tr(mr);return kr?tr(mr):mr}else xr();break;case Fragment:kr?mr=pr(dr,fr,yr,_r,vr,Er):mr=xr();break;default:if(Vr&1)$r!==1||fr.type.toLowerCase()!==dr.tagName.toLowerCase()?mr=xr():mr=lr(dr,fr,yr,_r,vr,Er);else if(Vr&6){fr.slotScopeIds=vr;const jr=nr(dr);if(Jn(fr,jr,null,yr,_r,isSVGContainer(jr),Er),mr=kr?gr(dr):tr(dr),mr&&isComment$1(mr)&&mr.data==="teleport end"&&(mr=tr(mr)),isAsyncWrapper(fr)){let Qr;kr?(Qr=createVNode(Fragment),Qr.anchor=mr?mr.previousSibling:jr.lastChild):Qr=dr.nodeType===3?createTextVNode(""):createVNode("div"),Qr.el=dr,fr.component.subTree=Qr}}else Vr&64?$r!==8?mr=xr():mr=fr.type.hydrate(dr,fr,yr,_r,vr,Er,Zn,cr):Vr&128&&(mr=fr.type.hydrate(dr,fr,yr,_r,isSVGContainer(nr(dr)),vr,Er,Zn,ar))}return Lr!=null&&setRef(Lr,null,_r,fr),mr},lr=(dr,fr,yr,_r,vr,Er)=>{Er=Er||!!fr.dynamicChildren;const{type:kr,props:xr,patchFlag:Cr,shapeFlag:Lr,dirs:Vr}=fr,wr=kr==="input"&&Vr||kr==="option";if(wr||Cr!==-1){if(Vr&&invokeDirectiveHook(fr,null,yr,"created"),xr)if(wr||!Er||Cr&48)for(const mr in xr)(wr&&mr.endsWith("value")||isOn(mr)&&!isReservedProp(mr))&&Qn(dr,mr,null,xr[mr],!1,void 0,yr);else xr.onClick&&Qn(dr,"onClick",null,xr.onClick,!1,void 0,yr);let $r;if(($r=xr&&xr.onVnodeBeforeMount)&&invokeVNodeHook($r,yr,fr),Vr&&invokeDirectiveHook(fr,null,yr,"beforeMount"),(($r=xr&&xr.onVnodeMounted)||Vr)&&queueEffectWithSuspense(()=>{$r&&invokeVNodeHook($r,yr,fr),Vr&&invokeDirectiveHook(fr,null,yr,"mounted")},_r),Lr&16&&!(xr&&(xr.innerHTML||xr.textContent))){let mr=cr(dr.firstChild,fr,dr,yr,_r,vr,Er);for(;mr;){hasMismatch=!0;const jr=mr;mr=mr.nextSibling,rr(jr)}}else Lr&8&&dr.textContent!==fr.children&&(hasMismatch=!0,dr.textContent=fr.children)}return dr.nextSibling},cr=(dr,fr,yr,_r,vr,Er,kr)=>{kr=kr||!!fr.dynamicChildren;const xr=fr.children,Cr=xr.length;for(let Lr=0;Lr<Cr;Lr++){const Vr=kr?xr[Lr]:xr[Lr]=normalizeVNode(xr[Lr]);if(dr)dr=ar(dr,Vr,_r,vr,Er,kr);else{if(Vr.type===Text&&!Vr.children)continue;hasMismatch=!0,Xn(null,Vr,yr,null,_r,vr,isSVGContainer(yr),Er)}}return dr},pr=(dr,fr,yr,_r,vr,Er)=>{const{slotScopeIds:kr}=fr;kr&&(vr=vr?vr.concat(kr):kr);const xr=nr(dr),Cr=cr(tr(dr),fr,xr,yr,_r,vr,Er);return Cr&&isComment$1(Cr)&&Cr.data==="]"?tr(fr.anchor=Cr):(hasMismatch=!0,sr(fr.anchor=ir("]"),xr,Cr),Cr)},ur=(dr,fr,yr,_r,vr,Er)=>{if(hasMismatch=!0,fr.el=null,Er){const Cr=gr(dr);for(;;){const Lr=tr(dr);if(Lr&&Lr!==Cr)rr(Lr);else break}}const kr=tr(dr),xr=nr(dr);return rr(dr),Xn(null,fr,xr,kr,yr,_r,isSVGContainer(xr),vr),kr},gr=dr=>{let fr=0;for(;dr;)if(dr=tr(dr),dr&&isComment$1(dr)&&(dr.data==="["&&fr++,dr.data==="]")){if(fr===0)return tr(dr);fr--}return dr};return[or,ar]}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(Zn){return baseCreateRenderer(Zn)}function createHydrationRenderer(Zn){return baseCreateRenderer(Zn,createHydrationFunctions)}function baseCreateRenderer(Zn,Jn){const Xn=getGlobalThis();Xn.__VUE__=!0;const{insert:Qn,remove:er,patchProp:tr,createElement:nr,createText:rr,createComment:sr,setText:ir,setElementText:or,parentNode:ar,nextSibling:lr,setScopeId:cr=NOOP,insertStaticContent:pr}=Zn,ur=(Ir,Pr,hr,Rr=null,Or=null,br=null,Ar=!1,Tr=null,Mr=!!Pr.dynamicChildren)=>{if(Ir===Pr)return;Ir&&!isSameVNodeType(Ir,Pr)&&(Rr=Gr(Ir),Ur(Ir,Or,br,!0),Ir=null),Pr.patchFlag===-2&&(Mr=!1,Pr.dynamicChildren=null);const{type:Br,ref:Nr,shapeFlag:Dr}=Pr;switch(Br){case Text:gr(Ir,Pr,hr,Rr);break;case Comment:dr(Ir,Pr,hr,Rr);break;case Static:Ir==null&&fr(Pr,hr,Rr,Ar);break;case Fragment:wr(Ir,Pr,hr,Rr,Or,br,Ar,Tr,Mr);break;default:Dr&1?vr(Ir,Pr,hr,Rr,Or,br,Ar,Tr,Mr):Dr&6?$r(Ir,Pr,hr,Rr,Or,br,Ar,Tr,Mr):(Dr&64||Dr&128)&&Br.process(Ir,Pr,hr,Rr,Or,br,Ar,Tr,Mr,Jr)}Nr!=null&&Or&&setRef(Nr,Ir&&Ir.ref,br,Pr||Ir,!Pr)},gr=(Ir,Pr,hr,Rr)=>{if(Ir==null)Qn(Pr.el=rr(Pr.children),hr,Rr);else{const Or=Pr.el=Ir.el;Pr.children!==Ir.children&&ir(Or,Pr.children)}},dr=(Ir,Pr,hr,Rr)=>{Ir==null?Qn(Pr.el=sr(Pr.children||""),hr,Rr):Pr.el=Ir.el},fr=(Ir,Pr,hr,Rr)=>{[Ir.el,Ir.anchor]=pr(Ir.children,Pr,hr,Rr,Ir.el,Ir.anchor)},yr=({el:Ir,anchor:Pr},hr,Rr)=>{let Or;for(;Ir&&Ir!==Pr;)Or=lr(Ir),Qn(Ir,hr,Rr),Ir=Or;Qn(Pr,hr,Rr)},_r=({el:Ir,anchor:Pr})=>{let hr;for(;Ir&&Ir!==Pr;)hr=lr(Ir),er(Ir),Ir=hr;er(Pr)},vr=(Ir,Pr,hr,Rr,Or,br,Ar,Tr,Mr)=>{Ar=Ar||Pr.type==="svg",Ir==null?Er(Pr,hr,Rr,Or,br,Ar,Tr,Mr):Cr(Ir,Pr,Or,br,Ar,Tr,Mr)},Er=(Ir,Pr,hr,Rr,Or,br,Ar,Tr)=>{let Mr,Br;const{type:Nr,props:Dr,shapeFlag:qr,transition:Wr,dirs:es}=Ir;if(Mr=Ir.el=nr(Ir.type,br,Dr&&Dr.is,Dr),qr&8?or(Mr,Ir.children):qr&16&&xr(Ir.children,Mr,null,Rr,Or,br&&Nr!=="foreignObject",Ar,Tr),es&&invokeDirectiveHook(Ir,null,Rr,"created"),kr(Mr,Ir,Ir.scopeId,Ar,Rr),Dr){for(const os in Dr)os!=="value"&&!isReservedProp(os)&&tr(Mr,os,null,Dr[os],br,Ir.children,Rr,Or,fs);"value"in Dr&&tr(Mr,"value",null,Dr.value),(Br=Dr.onVnodeBeforeMount)&&invokeVNodeHook(Br,Rr,Ir)}es&&invokeDirectiveHook(Ir,null,Rr,"beforeMount");const us=(!Or||Or&&!Or.pendingBranch)&&Wr&&!Wr.persisted;us&&Wr.beforeEnter(Mr),Qn(Mr,Pr,hr),((Br=Dr&&Dr.onVnodeMounted)||us||es)&&queuePostRenderEffect(()=>{Br&&invokeVNodeHook(Br,Rr,Ir),us&&Wr.enter(Mr),es&&invokeDirectiveHook(Ir,null,Rr,"mounted")},Or)},kr=(Ir,Pr,hr,Rr,Or)=>{if(hr&&cr(Ir,hr),Rr)for(let br=0;br<Rr.length;br++)cr(Ir,Rr[br]);if(Or){let br=Or.subTree;if(Pr===br){const Ar=Or.vnode;kr(Ir,Ar,Ar.scopeId,Ar.slotScopeIds,Or.parent)}}},xr=(Ir,Pr,hr,Rr,Or,br,Ar,Tr,Mr=0)=>{for(let Br=Mr;Br<Ir.length;Br++){const Nr=Ir[Br]=Tr?cloneIfMounted(Ir[Br]):normalizeVNode(Ir[Br]);ur(null,Nr,Pr,hr,Rr,Or,br,Ar,Tr)}},Cr=(Ir,Pr,hr,Rr,Or,br,Ar)=>{const Tr=Pr.el=Ir.el;let{patchFlag:Mr,dynamicChildren:Br,dirs:Nr}=Pr;Mr|=Ir.patchFlag&16;const Dr=Ir.props||EMPTY_OBJ,qr=Pr.props||EMPTY_OBJ;let Wr;hr&&toggleRecurse(hr,!1),(Wr=qr.onVnodeBeforeUpdate)&&invokeVNodeHook(Wr,hr,Pr,Ir),Nr&&invokeDirectiveHook(Pr,Ir,hr,"beforeUpdate"),hr&&toggleRecurse(hr,!0);const es=Or&&Pr.type!=="foreignObject";if(Br?Lr(Ir.dynamicChildren,Br,Tr,hr,Rr,es,br):Ar||rs(Ir,Pr,Tr,null,hr,Rr,es,br,!1),Mr>0){if(Mr&16)Vr(Tr,Pr,Dr,qr,hr,Rr,Or);else if(Mr&2&&Dr.class!==qr.class&&tr(Tr,"class",null,qr.class,Or),Mr&4&&tr(Tr,"style",Dr.style,qr.style,Or),Mr&8){const us=Pr.dynamicProps;for(let os=0;os<us.length;os++){const ds=us[os],bs=Dr[ds],As=qr[ds];(As!==bs||ds==="value")&&tr(Tr,ds,bs,As,Or,Ir.children,hr,Rr,fs)}}Mr&1&&Ir.children!==Pr.children&&or(Tr,Pr.children)}else!Ar&&Br==null&&Vr(Tr,Pr,Dr,qr,hr,Rr,Or);((Wr=qr.onVnodeUpdated)||Nr)&&queuePostRenderEffect(()=>{Wr&&invokeVNodeHook(Wr,hr,Pr,Ir),Nr&&invokeDirectiveHook(Pr,Ir,hr,"updated")},Rr)},Lr=(Ir,Pr,hr,Rr,Or,br,Ar)=>{for(let Tr=0;Tr<Pr.length;Tr++){const Mr=Ir[Tr],Br=Pr[Tr],Nr=Mr.el&&(Mr.type===Fragment||!isSameVNodeType(Mr,Br)||Mr.shapeFlag&70)?ar(Mr.el):hr;ur(Mr,Br,Nr,null,Rr,Or,br,Ar,!0)}},Vr=(Ir,Pr,hr,Rr,Or,br,Ar)=>{if(hr!==Rr){if(hr!==EMPTY_OBJ)for(const Tr in hr)!isReservedProp(Tr)&&!(Tr in Rr)&&tr(Ir,Tr,hr[Tr],null,Ar,Pr.children,Or,br,fs);for(const Tr in Rr){if(isReservedProp(Tr))continue;const Mr=Rr[Tr],Br=hr[Tr];Mr!==Br&&Tr!=="value"&&tr(Ir,Tr,Br,Mr,Ar,Pr.children,Or,br,fs)}"value"in Rr&&tr(Ir,"value",hr.value,Rr.value)}},wr=(Ir,Pr,hr,Rr,Or,br,Ar,Tr,Mr)=>{const Br=Pr.el=Ir?Ir.el:rr(""),Nr=Pr.anchor=Ir?Ir.anchor:rr("");let{patchFlag:Dr,dynamicChildren:qr,slotScopeIds:Wr}=Pr;Wr&&(Tr=Tr?Tr.concat(Wr):Wr),Ir==null?(Qn(Br,hr,Rr),Qn(Nr,hr,Rr),xr(Pr.children,hr,Nr,Or,br,Ar,Tr,Mr)):Dr>0&&Dr&64&&qr&&Ir.dynamicChildren?(Lr(Ir.dynamicChildren,qr,hr,Or,br,Ar,Tr),(Pr.key!=null||Or&&Pr===Or.subTree)&&traverseStaticChildren(Ir,Pr,!0)):rs(Ir,Pr,hr,Nr,Or,br,Ar,Tr,Mr)},$r=(Ir,Pr,hr,Rr,Or,br,Ar,Tr,Mr)=>{Pr.slotScopeIds=Tr,Ir==null?Pr.shapeFlag&512?Or.ctx.activate(Pr,hr,Rr,Ar,Mr):mr(Pr,hr,Rr,Or,br,Ar,Mr):jr(Ir,Pr,Mr)},mr=(Ir,Pr,hr,Rr,Or,br,Ar)=>{const Tr=Ir.component=createComponentInstance(Ir,Rr,Or);if(isKeepAlive(Ir)&&(Tr.ctx.renderer=Jr),setupComponent(Tr),Tr.asyncDep){if(Or&&Or.registerDep(Tr,Qr),!Ir.el){const Mr=Tr.subTree=createVNode(Comment);dr(null,Mr,Pr,hr)}return}Qr(Tr,Ir,Pr,hr,Or,br,Ar)},jr=(Ir,Pr,hr)=>{const Rr=Pr.component=Ir.component;if(shouldUpdateComponent(Ir,Pr,hr))if(Rr.asyncDep&&!Rr.asyncResolved){Hr(Rr,Pr,hr);return}else Rr.next=Pr,invalidateJob(Rr.update),Rr.update();else Pr.el=Ir.el,Rr.vnode=Pr},Qr=(Ir,Pr,hr,Rr,Or,br,Ar)=>{const Tr=()=>{if(Ir.isMounted){let{next:Nr,bu:Dr,u:qr,parent:Wr,vnode:es}=Ir,us=Nr,os;toggleRecurse(Ir,!1),Nr?(Nr.el=es.el,Hr(Ir,Nr,Ar)):Nr=es,Dr&&invokeArrayFns(Dr),(os=Nr.props&&Nr.props.onVnodeBeforeUpdate)&&invokeVNodeHook(os,Wr,Nr,es),toggleRecurse(Ir,!0);const ds=renderComponentRoot(Ir),bs=Ir.subTree;Ir.subTree=ds,ur(bs,ds,ar(bs.el),Gr(bs),Ir,Or,br),Nr.el=ds.el,us===null&&updateHOCHostEl(Ir,ds.el),qr&&queuePostRenderEffect(qr,Or),(os=Nr.props&&Nr.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(os,Wr,Nr,es),Or)}else{let Nr;const{el:Dr,props:qr}=Pr,{bm:Wr,m:es,parent:us}=Ir,os=isAsyncWrapper(Pr);if(toggleRecurse(Ir,!1),Wr&&invokeArrayFns(Wr),!os&&(Nr=qr&&qr.onVnodeBeforeMount)&&invokeVNodeHook(Nr,us,Pr),toggleRecurse(Ir,!0),Dr&&cs){const ds=()=>{Ir.subTree=renderComponentRoot(Ir),cs(Dr,Ir.subTree,Ir,Or,null)};os?Pr.type.__asyncLoader().then(()=>!Ir.isUnmounted&&ds()):ds()}else{const ds=Ir.subTree=renderComponentRoot(Ir);ur(null,ds,hr,Rr,Ir,Or,br),Pr.el=ds.el}if(es&&queuePostRenderEffect(es,Or),!os&&(Nr=qr&&qr.onVnodeMounted)){const ds=Pr;queuePostRenderEffect(()=>invokeVNodeHook(Nr,us,ds),Or)}(Pr.shapeFlag&256||us&&isAsyncWrapper(us.vnode)&&us.vnode.shapeFlag&256)&&Ir.a&&queuePostRenderEffect(Ir.a,Or),Ir.isMounted=!0,Pr=hr=Rr=null}},Mr=Ir.effect=new ReactiveEffect(Tr,()=>queueJob(Br),Ir.scope),Br=Ir.update=()=>Mr.run();Br.id=Ir.uid,toggleRecurse(Ir,!0),Br()},Hr=(Ir,Pr,hr)=>{Pr.component=Ir;const Rr=Ir.vnode.props;Ir.vnode=Pr,Ir.next=null,updateProps(Ir,Pr.props,Rr,hr),updateSlots(Ir,Pr.children,hr),pauseTracking(),flushPreFlushCbs(),resetTracking()},rs=(Ir,Pr,hr,Rr,Or,br,Ar,Tr,Mr=!1)=>{const Br=Ir&&Ir.children,Nr=Ir?Ir.shapeFlag:0,Dr=Pr.children,{patchFlag:qr,shapeFlag:Wr}=Pr;if(qr>0){if(qr&128){ls(Br,Dr,hr,Rr,Or,br,Ar,Tr,Mr);return}else if(qr&256){Xr(Br,Dr,hr,Rr,Or,br,Ar,Tr,Mr);return}}Wr&8?(Nr&16&&fs(Br,Or,br),Dr!==Br&&or(hr,Dr)):Nr&16?Wr&16?ls(Br,Dr,hr,Rr,Or,br,Ar,Tr,Mr):fs(Br,Or,br,!0):(Nr&8&&or(hr,""),Wr&16&&xr(Dr,hr,Rr,Or,br,Ar,Tr,Mr))},Xr=(Ir,Pr,hr,Rr,Or,br,Ar,Tr,Mr)=>{Ir=Ir||EMPTY_ARR,Pr=Pr||EMPTY_ARR;const Br=Ir.length,Nr=Pr.length,Dr=Math.min(Br,Nr);let qr;for(qr=0;qr<Dr;qr++){const Wr=Pr[qr]=Mr?cloneIfMounted(Pr[qr]):normalizeVNode(Pr[qr]);ur(Ir[qr],Wr,hr,null,Or,br,Ar,Tr,Mr)}Br>Nr?fs(Ir,Or,br,!0,!1,Dr):xr(Pr,hr,Rr,Or,br,Ar,Tr,Mr,Dr)},ls=(Ir,Pr,hr,Rr,Or,br,Ar,Tr,Mr)=>{let Br=0;const Nr=Pr.length;let Dr=Ir.length-1,qr=Nr-1;for(;Br<=Dr&&Br<=qr;){const Wr=Ir[Br],es=Pr[Br]=Mr?cloneIfMounted(Pr[Br]):normalizeVNode(Pr[Br]);if(isSameVNodeType(Wr,es))ur(Wr,es,hr,null,Or,br,Ar,Tr,Mr);else break;Br++}for(;Br<=Dr&&Br<=qr;){const Wr=Ir[Dr],es=Pr[qr]=Mr?cloneIfMounted(Pr[qr]):normalizeVNode(Pr[qr]);if(isSameVNodeType(Wr,es))ur(Wr,es,hr,null,Or,br,Ar,Tr,Mr);else break;Dr--,qr--}if(Br>Dr){if(Br<=qr){const Wr=qr+1,es=Wr<Nr?Pr[Wr].el:Rr;for(;Br<=qr;)ur(null,Pr[Br]=Mr?cloneIfMounted(Pr[Br]):normalizeVNode(Pr[Br]),hr,es,Or,br,Ar,Tr,Mr),Br++}}else if(Br>qr)for(;Br<=Dr;)Ur(Ir[Br],Or,br,!0),Br++;else{const Wr=Br,es=Br,us=new Map;for(Br=es;Br<=qr;Br++){const ws=Pr[Br]=Mr?cloneIfMounted(Pr[Br]):normalizeVNode(Pr[Br]);ws.key!=null&&us.set(ws.key,Br)}let os,ds=0;const bs=qr-es+1;let As=!1,Cs=0;const gs=new Array(bs);for(Br=0;Br<bs;Br++)gs[Br]=0;for(Br=Wr;Br<=Dr;Br++){const ws=Ir[Br];if(ds>=bs){Ur(ws,Or,br,!0);continue}let ms;if(ws.key!=null)ms=us.get(ws.key);else for(os=es;os<=qr;os++)if(gs[os-es]===0&&isSameVNodeType(ws,Pr[os])){ms=os;break}ms===void 0?Ur(ws,Or,br,!0):(gs[ms-es]=Br+1,ms>=Cs?Cs=ms:As=!0,ur(ws,Pr[ms],hr,null,Or,br,Ar,Tr,Mr),ds++)}const Ts=As?getSequence(gs):EMPTY_ARR;for(os=Ts.length-1,Br=bs-1;Br>=0;Br--){const ws=es+Br,ms=Pr[ws],Ss=ws+1<Nr?Pr[ws+1].el:Rr;gs[Br]===0?ur(null,ms,hr,Ss,Or,br,Ar,Tr,Mr):As&&(os<0||Br!==Ts[os]?zr(ms,hr,Ss,2):os--)}}},zr=(Ir,Pr,hr,Rr,Or=null)=>{const{el:br,type:Ar,transition:Tr,children:Mr,shapeFlag:Br}=Ir;if(Br&6){zr(Ir.component.subTree,Pr,hr,Rr);return}if(Br&128){Ir.suspense.move(Pr,hr,Rr);return}if(Br&64){Ar.move(Ir,Pr,hr,Jr);return}if(Ar===Fragment){Qn(br,Pr,hr);for(let Dr=0;Dr<Mr.length;Dr++)zr(Mr[Dr],Pr,hr,Rr);Qn(Ir.anchor,Pr,hr);return}if(Ar===Static){yr(Ir,Pr,hr);return}if(Rr!==2&&Br&1&&Tr)if(Rr===0)Tr.beforeEnter(br),Qn(br,Pr,hr),queuePostRenderEffect(()=>Tr.enter(br),Or);else{const{leave:Dr,delayLeave:qr,afterLeave:Wr}=Tr,es=()=>Qn(br,Pr,hr),us=()=>{Dr(br,()=>{es(),Wr&&Wr()})};qr?qr(br,es,us):us()}else Qn(br,Pr,hr)},Ur=(Ir,Pr,hr,Rr=!1,Or=!1)=>{const{type:br,props:Ar,ref:Tr,children:Mr,dynamicChildren:Br,shapeFlag:Nr,patchFlag:Dr,dirs:qr}=Ir;if(Tr!=null&&setRef(Tr,null,hr,Ir,!0),Nr&256){Pr.ctx.deactivate(Ir);return}const Wr=Nr&1&&qr,es=!isAsyncWrapper(Ir);let us;if(es&&(us=Ar&&Ar.onVnodeBeforeUnmount)&&invokeVNodeHook(us,Pr,Ir),Nr&6)ts(Ir.component,hr,Rr);else{if(Nr&128){Ir.suspense.unmount(hr,Rr);return}Wr&&invokeDirectiveHook(Ir,null,Pr,"beforeUnmount"),Nr&64?Ir.type.remove(Ir,Pr,hr,Or,Jr,Rr):Br&&(br!==Fragment||Dr>0&&Dr&64)?fs(Br,Pr,hr,!1,!0):(br===Fragment&&Dr&384||!Or&&Nr&16)&&fs(Mr,Pr,hr),Rr&&ns(Ir)}(es&&(us=Ar&&Ar.onVnodeUnmounted)||Wr)&&queuePostRenderEffect(()=>{us&&invokeVNodeHook(us,Pr,Ir),Wr&&invokeDirectiveHook(Ir,null,Pr,"unmounted")},hr)},ns=Ir=>{const{type:Pr,el:hr,anchor:Rr,transition:Or}=Ir;if(Pr===Fragment){is(hr,Rr);return}if(Pr===Static){_r(Ir);return}const br=()=>{er(hr),Or&&!Or.persisted&&Or.afterLeave&&Or.afterLeave()};if(Ir.shapeFlag&1&&Or&&!Or.persisted){const{leave:Ar,delayLeave:Tr}=Or,Mr=()=>Ar(hr,br);Tr?Tr(Ir.el,br,Mr):Mr()}else br()},is=(Ir,Pr)=>{let hr;for(;Ir!==Pr;)hr=lr(Ir),er(Ir),Ir=hr;er(Pr)},ts=(Ir,Pr,hr)=>{const{bum:Rr,scope:Or,update:br,subTree:Ar,um:Tr}=Ir;Rr&&invokeArrayFns(Rr),Or.stop(),br&&(br.active=!1,Ur(Ar,Ir,Pr,hr)),Tr&&queuePostRenderEffect(Tr,Pr),queuePostRenderEffect(()=>{Ir.isUnmounted=!0},Pr),Pr&&Pr.pendingBranch&&!Pr.isUnmounted&&Ir.asyncDep&&!Ir.asyncResolved&&Ir.suspenseId===Pr.pendingId&&(Pr.deps--,Pr.deps===0&&Pr.resolve())},fs=(Ir,Pr,hr,Rr=!1,Or=!1,br=0)=>{for(let Ar=br;Ar<Ir.length;Ar++)Ur(Ir[Ar],Pr,hr,Rr,Or)},Gr=Ir=>Ir.shapeFlag&6?Gr(Ir.component.subTree):Ir.shapeFlag&128?Ir.suspense.next():lr(Ir.anchor||Ir.el),Yr=(Ir,Pr,hr)=>{Ir==null?Pr._vnode&&Ur(Pr._vnode,null,null,!0):ur(Pr._vnode||null,Ir,Pr,null,null,null,hr),flushPreFlushCbs(),flushPostFlushCbs(),Pr._vnode=Ir},Jr={p:ur,um:Ur,m:zr,r:ns,mt:mr,mc:xr,pc:rs,pbc:Lr,n:Gr,o:Zn};let ss,cs;return Jn&&([ss,cs]=Jn(Jr)),{render:Yr,hydrate:ss,createApp:createAppAPI(Yr,ss)}}function toggleRecurse({effect:Zn,update:Jn},Xn){Zn.allowRecurse=Jn.allowRecurse=Xn}function traverseStaticChildren(Zn,Jn,Xn=!1){const Qn=Zn.children,er=Jn.children;if(isArray$1(Qn)&&isArray$1(er))for(let tr=0;tr<Qn.length;tr++){const nr=Qn[tr];let rr=er[tr];rr.shapeFlag&1&&!rr.dynamicChildren&&((rr.patchFlag<=0||rr.patchFlag===32)&&(rr=er[tr]=cloneIfMounted(er[tr]),rr.el=nr.el),Xn||traverseStaticChildren(nr,rr)),rr.type===Text&&(rr.el=nr.el)}}function getSequence(Zn){const Jn=Zn.slice(),Xn=[0];let Qn,er,tr,nr,rr;const sr=Zn.length;for(Qn=0;Qn<sr;Qn++){const ir=Zn[Qn];if(ir!==0){if(er=Xn[Xn.length-1],Zn[er]<ir){Jn[Qn]=er,Xn.push(Qn);continue}for(tr=0,nr=Xn.length-1;tr<nr;)rr=tr+nr>>1,Zn[Xn[rr]]<ir?tr=rr+1:nr=rr;ir<Zn[Xn[tr]]&&(tr>0&&(Jn[Qn]=Xn[tr-1]),Xn[tr]=Qn)}}for(tr=Xn.length,nr=Xn[tr-1];tr-- >0;)Xn[tr]=nr,nr=Jn[nr];return Xn}const isTeleport=Zn=>Zn.__isTeleport,isTeleportDisabled=Zn=>Zn&&(Zn.disabled||Zn.disabled===""),isTargetSVG=Zn=>typeof SVGElement<"u"&&Zn instanceof SVGElement,resolveTarget=(Zn,Jn)=>{const Xn=Zn&&Zn.to;return isString(Xn)?Jn?Jn(Xn):null:Xn},TeleportImpl={__isTeleport:!0,process(Zn,Jn,Xn,Qn,er,tr,nr,rr,sr,ir){const{mc:or,pc:ar,pbc:lr,o:{insert:cr,querySelector:pr,createText:ur,createComment:gr}}=ir,dr=isTeleportDisabled(Jn.props);let{shapeFlag:fr,children:yr,dynamicChildren:_r}=Jn;if(Zn==null){const vr=Jn.el=ur(""),Er=Jn.anchor=ur("");cr(vr,Xn,Qn),cr(Er,Xn,Qn);const kr=Jn.target=resolveTarget(Jn.props,pr),xr=Jn.targetAnchor=ur("");kr&&(cr(xr,kr),nr=nr||isTargetSVG(kr));const Cr=(Lr,Vr)=>{fr&16&&or(yr,Lr,Vr,er,tr,nr,rr,sr)};dr?Cr(Xn,Er):kr&&Cr(kr,xr)}else{Jn.el=Zn.el;const vr=Jn.anchor=Zn.anchor,Er=Jn.target=Zn.target,kr=Jn.targetAnchor=Zn.targetAnchor,xr=isTeleportDisabled(Zn.props),Cr=xr?Xn:Er,Lr=xr?vr:kr;if(nr=nr||isTargetSVG(Er),_r?(lr(Zn.dynamicChildren,_r,Cr,er,tr,nr,rr),traverseStaticChildren(Zn,Jn,!0)):sr||ar(Zn,Jn,Cr,Lr,er,tr,nr,rr,!1),dr)xr||moveTeleport(Jn,Xn,vr,ir,1);else if((Jn.props&&Jn.props.to)!==(Zn.props&&Zn.props.to)){const Vr=Jn.target=resolveTarget(Jn.props,pr);Vr&&moveTeleport(Jn,Vr,null,ir,0)}else xr&&moveTeleport(Jn,Er,kr,ir,1)}updateCssVars$1(Jn)},remove(Zn,Jn,Xn,Qn,{um:er,o:{remove:tr}},nr){const{shapeFlag:rr,children:sr,anchor:ir,targetAnchor:or,target:ar,props:lr}=Zn;if(ar&&tr(or),(nr||!isTeleportDisabled(lr))&&(tr(ir),rr&16))for(let cr=0;cr<sr.length;cr++){const pr=sr[cr];er(pr,Jn,Xn,!0,!!pr.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(Zn,Jn,Xn,{o:{insert:Qn},m:er},tr=2){tr===0&&Qn(Zn.targetAnchor,Jn,Xn);const{el:nr,anchor:rr,shapeFlag:sr,children:ir,props:or}=Zn,ar=tr===2;if(ar&&Qn(nr,Jn,Xn),(!ar||isTeleportDisabled(or))&&sr&16)for(let lr=0;lr<ir.length;lr++)er(ir[lr],Jn,Xn,2);ar&&Qn(rr,Jn,Xn)}function hydrateTeleport(Zn,Jn,Xn,Qn,er,tr,{o:{nextSibling:nr,parentNode:rr,querySelector:sr}},ir){const or=Jn.target=resolveTarget(Jn.props,sr);if(or){const ar=or._lpa||or.firstChild;if(Jn.shapeFlag&16)if(isTeleportDisabled(Jn.props))Jn.anchor=ir(nr(Zn),Jn,rr(Zn),Xn,Qn,er,tr),Jn.targetAnchor=ar;else{Jn.anchor=nr(Zn);let lr=ar;for(;lr;)if(lr=nr(lr),lr&&lr.nodeType===8&&lr.data==="teleport anchor"){Jn.targetAnchor=lr,or._lpa=Jn.targetAnchor&&nr(Jn.targetAnchor);break}ir(ar,Jn,or,Xn,Qn,er,tr)}updateCssVars$1(Jn)}return Jn.anchor&&nr(Jn.anchor)}const Teleport=TeleportImpl;function updateCssVars$1(Zn){const Jn=Zn.ctx;if(Jn&&Jn.ut){let Xn=Zn.children[0].el;for(;Xn!==Zn.targetAnchor;)Xn.nodeType===1&&Xn.setAttribute("data-v-owner",Jn.uid),Xn=Xn.nextSibling;Jn.ut()}}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(Zn=!1){blockStack.push(currentBlock=Zn?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(Zn){isBlockTreeEnabled+=Zn}function setupBlock(Zn){return Zn.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(Zn),Zn}function createElementBlock(Zn,Jn,Xn,Qn,er,tr){return setupBlock(createBaseVNode(Zn,Jn,Xn,Qn,er,tr,!0))}function createBlock(Zn,Jn,Xn,Qn,er){return setupBlock(createVNode(Zn,Jn,Xn,Qn,er,!0))}function isVNode(Zn){return Zn?Zn.__v_isVNode===!0:!1}function isSameVNodeType(Zn,Jn){return Zn.type===Jn.type&&Zn.key===Jn.key}const InternalObjectKey="__vInternal",normalizeKey=({key:Zn})=>Zn??null,normalizeRef=({ref:Zn,ref_key:Jn,ref_for:Xn})=>(typeof Zn=="number"&&(Zn=""+Zn),Zn!=null?isString(Zn)||isRef(Zn)||isFunction(Zn)?{i:currentRenderingInstance,r:Zn,k:Jn,f:!!Xn}:Zn:null);function createBaseVNode(Zn,Jn=null,Xn=null,Qn=0,er=null,tr=Zn===Fragment?0:1,nr=!1,rr=!1){const sr={__v_isVNode:!0,__v_skip:!0,type:Zn,props:Jn,key:Jn&&normalizeKey(Jn),ref:Jn&&normalizeRef(Jn),scopeId:currentScopeId,slotScopeIds:null,children:Xn,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:tr,patchFlag:Qn,dynamicProps:er,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return rr?(normalizeChildren(sr,Xn),tr&128&&Zn.normalize(sr)):Xn&&(sr.shapeFlag|=isString(Xn)?8:16),isBlockTreeEnabled>0&&!nr&&currentBlock&&(sr.patchFlag>0||tr&6)&&sr.patchFlag!==32&&currentBlock.push(sr),sr}const createVNode=_createVNode;function _createVNode(Zn,Jn=null,Xn=null,Qn=0,er=null,tr=!1){if((!Zn||Zn===NULL_DYNAMIC_COMPONENT)&&(Zn=Comment),isVNode(Zn)){const rr=cloneVNode(Zn,Jn,!0);return Xn&&normalizeChildren(rr,Xn),isBlockTreeEnabled>0&&!tr&&currentBlock&&(rr.shapeFlag&6?currentBlock[currentBlock.indexOf(Zn)]=rr:currentBlock.push(rr)),rr.patchFlag|=-2,rr}if(isClassComponent(Zn)&&(Zn=Zn.__vccOpts),Jn){Jn=guardReactiveProps(Jn);let{class:rr,style:sr}=Jn;rr&&!isString(rr)&&(Jn.class=normalizeClass(rr)),isObject$3(sr)&&(isProxy(sr)&&!isArray$1(sr)&&(sr=extend({},sr)),Jn.style=normalizeStyle(sr))}const nr=isString(Zn)?1:isSuspense(Zn)?128:isTeleport(Zn)?64:isObject$3(Zn)?4:isFunction(Zn)?2:0;return createBaseVNode(Zn,Jn,Xn,Qn,er,nr,tr,!0)}function guardReactiveProps(Zn){return Zn?isProxy(Zn)||InternalObjectKey in Zn?extend({},Zn):Zn:null}function cloneVNode(Zn,Jn,Xn=!1){const{props:Qn,ref:er,patchFlag:tr,children:nr}=Zn,rr=Jn?mergeProps(Qn||{},Jn):Qn;return{__v_isVNode:!0,__v_skip:!0,type:Zn.type,props:rr,key:rr&&normalizeKey(rr),ref:Jn&&Jn.ref?Xn&&er?isArray$1(er)?er.concat(normalizeRef(Jn)):[er,normalizeRef(Jn)]:normalizeRef(Jn):er,scopeId:Zn.scopeId,slotScopeIds:Zn.slotScopeIds,children:nr,target:Zn.target,targetAnchor:Zn.targetAnchor,staticCount:Zn.staticCount,shapeFlag:Zn.shapeFlag,patchFlag:Jn&&Zn.type!==Fragment?tr===-1?16:tr|16:tr,dynamicProps:Zn.dynamicProps,dynamicChildren:Zn.dynamicChildren,appContext:Zn.appContext,dirs:Zn.dirs,transition:Zn.transition,component:Zn.component,suspense:Zn.suspense,ssContent:Zn.ssContent&&cloneVNode(Zn.ssContent),ssFallback:Zn.ssFallback&&cloneVNode(Zn.ssFallback),el:Zn.el,anchor:Zn.anchor,ctx:Zn.ctx,ce:Zn.ce}}function createTextVNode(Zn=" ",Jn=0){return createVNode(Text,null,Zn,Jn)}function createStaticVNode(Zn,Jn){const Xn=createVNode(Static,null,Zn);return Xn.staticCount=Jn,Xn}function createCommentVNode(Zn="",Jn=!1){return Jn?(openBlock(),createBlock(Comment,null,Zn)):createVNode(Comment,null,Zn)}function normalizeVNode(Zn){return Zn==null||typeof Zn=="boolean"?createVNode(Comment):isArray$1(Zn)?createVNode(Fragment,null,Zn.slice()):typeof Zn=="object"?cloneIfMounted(Zn):createVNode(Text,null,String(Zn))}function cloneIfMounted(Zn){return Zn.el===null&&Zn.patchFlag!==-1||Zn.memo?Zn:cloneVNode(Zn)}function normalizeChildren(Zn,Jn){let Xn=0;const{shapeFlag:Qn}=Zn;if(Jn==null)Jn=null;else if(isArray$1(Jn))Xn=16;else if(typeof Jn=="object")if(Qn&65){const er=Jn.default;er&&(er._c&&(er._d=!1),normalizeChildren(Zn,er()),er._c&&(er._d=!0));return}else{Xn=32;const er=Jn._;!er&&!(InternalObjectKey in Jn)?Jn._ctx=currentRenderingInstance:er===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?Jn._=1:(Jn._=2,Zn.patchFlag|=1024))}else isFunction(Jn)?(Jn={default:Jn,_ctx:currentRenderingInstance},Xn=32):(Jn=String(Jn),Qn&64?(Xn=16,Jn=[createTextVNode(Jn)]):Xn=8);Zn.children=Jn,Zn.shapeFlag|=Xn}function mergeProps(...Zn){const Jn={};for(let Xn=0;Xn<Zn.length;Xn++){const Qn=Zn[Xn];for(const er in Qn)if(er==="class")Jn.class!==Qn.class&&(Jn.class=normalizeClass([Jn.class,Qn.class]));else if(er==="style")Jn.style=normalizeStyle([Jn.style,Qn.style]);else if(isOn(er)){const tr=Jn[er],nr=Qn[er];nr&&tr!==nr&&!(isArray$1(tr)&&tr.includes(nr))&&(Jn[er]=tr?[].concat(tr,nr):nr)}else er!==""&&(Jn[er]=Qn[er])}return Jn}function invokeVNodeHook(Zn,Jn,Xn,Qn=null){callWithAsyncErrorHandling(Zn,Jn,7,[Xn,Qn])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(Zn,Jn,Xn){const Qn=Zn.type,er=(Jn?Jn.appContext:Zn.appContext)||emptyAppContext,tr={uid:uid++,vnode:Zn,type:Qn,parent:Jn,appContext:er,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:Jn?Jn.provides:Object.create(er.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(Qn,er),emitsOptions:normalizeEmitsOptions(Qn,er),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:Qn.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:Xn,suspenseId:Xn?Xn.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return tr.ctx={_:tr},tr.root=Jn?Jn.root:tr,tr.emit=emit.bind(null,tr),Zn.ce&&Zn.ce(tr),tr}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(Zn=>currentInstance=Zn),internalSetCurrentInstance=Zn=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(Jn=>Jn(Zn)):globalCurrentInstanceSetters[0](Zn)};const setCurrentInstance=Zn=>{internalSetCurrentInstance(Zn),Zn.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(Zn){return Zn.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(Zn,Jn=!1){isInSSRComponentSetup=Jn;const{props:Xn,children:Qn}=Zn.vnode,er=isStatefulComponent(Zn);initProps(Zn,Xn,er,Jn),initSlots(Zn,Qn);const tr=er?setupStatefulComponent(Zn,Jn):void 0;return isInSSRComponentSetup=!1,tr}function setupStatefulComponent(Zn,Jn){const Xn=Zn.type;Zn.accessCache=Object.create(null),Zn.proxy=markRaw(new Proxy(Zn.ctx,PublicInstanceProxyHandlers));const{setup:Qn}=Xn;if(Qn){const er=Zn.setupContext=Qn.length>1?createSetupContext(Zn):null;setCurrentInstance(Zn),pauseTracking();const tr=callWithErrorHandling(Qn,Zn,0,[Zn.props,er]);if(resetTracking(),unsetCurrentInstance(),isPromise(tr)){if(tr.then(unsetCurrentInstance,unsetCurrentInstance),Jn)return tr.then(nr=>{handleSetupResult(Zn,nr,Jn)}).catch(nr=>{handleError(nr,Zn,0)});Zn.asyncDep=tr}else handleSetupResult(Zn,tr,Jn)}else finishComponentSetup(Zn,Jn)}function handleSetupResult(Zn,Jn,Xn){isFunction(Jn)?Zn.type.__ssrInlineRender?Zn.ssrRender=Jn:Zn.render=Jn:isObject$3(Jn)&&(Zn.setupState=proxyRefs(Jn)),finishComponentSetup(Zn,Xn)}let compile;function finishComponentSetup(Zn,Jn,Xn){const Qn=Zn.type;if(!Zn.render){if(!Jn&&compile&&!Qn.render){const er=Qn.template||resolveMergedOptions(Zn).template;if(er){const{isCustomElement:tr,compilerOptions:nr}=Zn.appContext.config,{delimiters:rr,compilerOptions:sr}=Qn,ir=extend(extend({isCustomElement:tr,delimiters:rr},nr),sr);Qn.render=compile(er,ir)}}Zn.render=Qn.render||NOOP}setCurrentInstance(Zn),pauseTracking(),applyOptions(Zn),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(Zn){return Zn.attrsProxy||(Zn.attrsProxy=new Proxy(Zn.attrs,{get(Jn,Xn){return track(Zn,"get","$attrs"),Jn[Xn]}}))}function createSetupContext(Zn){const Jn=Xn=>{Zn.exposed=Xn||{}};return{get attrs(){return getAttrsProxy(Zn)},slots:Zn.slots,emit:Zn.emit,expose:Jn}}function getExposeProxy(Zn){if(Zn.exposed)return Zn.exposeProxy||(Zn.exposeProxy=new Proxy(proxyRefs(markRaw(Zn.exposed)),{get(Jn,Xn){if(Xn in Jn)return Jn[Xn];if(Xn in publicPropertiesMap)return publicPropertiesMap[Xn](Zn)},has(Jn,Xn){return Xn in Jn||Xn in publicPropertiesMap}}))}function getComponentName(Zn,Jn=!0){return isFunction(Zn)?Zn.displayName||Zn.name:Zn.name||Jn&&Zn.__name}function isClassComponent(Zn){return isFunction(Zn)&&"__vccOpts"in Zn}const computed=(Zn,Jn)=>computed$1(Zn,Jn,isInSSRComponentSetup);function h$2(Zn,Jn,Xn){const Qn=arguments.length;return Qn===2?isObject$3(Jn)&&!isArray$1(Jn)?isVNode(Jn)?createVNode(Zn,null,[Jn]):createVNode(Zn,Jn):createVNode(Zn,null,Jn):(Qn>3?Xn=Array.prototype.slice.call(arguments,2):Qn===3&&isVNode(Xn)&&(Xn=[Xn]),createVNode(Zn,Jn,Xn))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version="3.3.4",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(Zn,Jn,Xn)=>{Jn.insertBefore(Zn,Xn||null)},remove:Zn=>{const Jn=Zn.parentNode;Jn&&Jn.removeChild(Zn)},createElement:(Zn,Jn,Xn,Qn)=>{const er=Jn?doc.createElementNS(svgNS,Zn):doc.createElement(Zn,Xn?{is:Xn}:void 0);return Zn==="select"&&Qn&&Qn.multiple!=null&&er.setAttribute("multiple",Qn.multiple),er},createText:Zn=>doc.createTextNode(Zn),createComment:Zn=>doc.createComment(Zn),setText:(Zn,Jn)=>{Zn.nodeValue=Jn},setElementText:(Zn,Jn)=>{Zn.textContent=Jn},parentNode:Zn=>Zn.parentNode,nextSibling:Zn=>Zn.nextSibling,querySelector:Zn=>doc.querySelector(Zn),setScopeId(Zn,Jn){Zn.setAttribute(Jn,"")},insertStaticContent(Zn,Jn,Xn,Qn,er,tr){const nr=Xn?Xn.previousSibling:Jn.lastChild;if(er&&(er===tr||er.nextSibling))for(;Jn.insertBefore(er.cloneNode(!0),Xn),!(er===tr||!(er=er.nextSibling)););else{templateContainer.innerHTML=Qn?`<svg>${Zn}</svg>`:Zn;const rr=templateContainer.content;if(Qn){const sr=rr.firstChild;for(;sr.firstChild;)rr.appendChild(sr.firstChild);rr.removeChild(sr)}Jn.insertBefore(rr,Xn)}return[nr?nr.nextSibling:Jn.firstChild,Xn?Xn.previousSibling:Jn.lastChild]}};function patchClass(Zn,Jn,Xn){const Qn=Zn._vtc;Qn&&(Jn=(Jn?[Jn,...Qn]:[...Qn]).join(" ")),Jn==null?Zn.removeAttribute("class"):Xn?Zn.setAttribute("class",Jn):Zn.className=Jn}function patchStyle(Zn,Jn,Xn){const Qn=Zn.style,er=isString(Xn);if(Xn&&!er){if(Jn&&!isString(Jn))for(const tr in Jn)Xn[tr]==null&&setStyle(Qn,tr,"");for(const tr in Xn)setStyle(Qn,tr,Xn[tr])}else{const tr=Qn.display;er?Jn!==Xn&&(Qn.cssText=Xn):Jn&&Zn.removeAttribute("style"),"_vod"in Zn&&(Qn.display=tr)}}const importantRE=/\s*!important$/;function setStyle(Zn,Jn,Xn){if(isArray$1(Xn))Xn.forEach(Qn=>setStyle(Zn,Jn,Qn));else if(Xn==null&&(Xn=""),Jn.startsWith("--"))Zn.setProperty(Jn,Xn);else{const Qn=autoPrefix(Zn,Jn);importantRE.test(Xn)?Zn.setProperty(hyphenate(Qn),Xn.replace(importantRE,""),"important"):Zn[Qn]=Xn}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(Zn,Jn){const Xn=prefixCache[Jn];if(Xn)return Xn;let Qn=camelize(Jn);if(Qn!=="filter"&&Qn in Zn)return prefixCache[Jn]=Qn;Qn=capitalize$1(Qn);for(let er=0;er<prefixes.length;er++){const tr=prefixes[er]+Qn;if(tr in Zn)return prefixCache[Jn]=tr}return Jn}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(Zn,Jn,Xn,Qn,er){if(Qn&&Jn.startsWith("xlink:"))Xn==null?Zn.removeAttributeNS(xlinkNS,Jn.slice(6,Jn.length)):Zn.setAttributeNS(xlinkNS,Jn,Xn);else{const tr=isSpecialBooleanAttr(Jn);Xn==null||tr&&!includeBooleanAttr(Xn)?Zn.removeAttribute(Jn):Zn.setAttribute(Jn,tr?"":Xn)}}function patchDOMProp(Zn,Jn,Xn,Qn,er,tr,nr){if(Jn==="innerHTML"||Jn==="textContent"){Qn&&nr(Qn,er,tr),Zn[Jn]=Xn??"";return}const rr=Zn.tagName;if(Jn==="value"&&rr!=="PROGRESS"&&!rr.includes("-")){Zn._value=Xn;const ir=rr==="OPTION"?Zn.getAttribute("value"):Zn.value,or=Xn??"";ir!==or&&(Zn.value=or),Xn==null&&Zn.removeAttribute(Jn);return}let sr=!1;if(Xn===""||Xn==null){const ir=typeof Zn[Jn];ir==="boolean"?Xn=includeBooleanAttr(Xn):Xn==null&&ir==="string"?(Xn="",sr=!0):ir==="number"&&(Xn=0,sr=!0)}try{Zn[Jn]=Xn}catch{}sr&&Zn.removeAttribute(Jn)}function addEventListener$1(Zn,Jn,Xn,Qn){Zn.addEventListener(Jn,Xn,Qn)}function removeEventListener$1(Zn,Jn,Xn,Qn){Zn.removeEventListener(Jn,Xn,Qn)}function patchEvent(Zn,Jn,Xn,Qn,er=null){const tr=Zn._vei||(Zn._vei={}),nr=tr[Jn];if(Qn&&nr)nr.value=Qn;else{const[rr,sr]=parseName(Jn);if(Qn){const ir=tr[Jn]=createInvoker(Qn,er);addEventListener$1(Zn,rr,ir,sr)}else nr&&(removeEventListener$1(Zn,rr,nr,sr),tr[Jn]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(Zn){let Jn;if(optionsModifierRE.test(Zn)){Jn={};let Qn;for(;Qn=Zn.match(optionsModifierRE);)Zn=Zn.slice(0,Zn.length-Qn[0].length),Jn[Qn[0].toLowerCase()]=!0}return[Zn[2]===":"?Zn.slice(3):hyphenate(Zn.slice(2)),Jn]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(Zn,Jn){const Xn=Qn=>{if(!Qn._vts)Qn._vts=Date.now();else if(Qn._vts<=Xn.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(Qn,Xn.value),Jn,5,[Qn])};return Xn.value=Zn,Xn.attached=getNow(),Xn}function patchStopImmediatePropagation(Zn,Jn){if(isArray$1(Jn)){const Xn=Zn.stopImmediatePropagation;return Zn.stopImmediatePropagation=()=>{Xn.call(Zn),Zn._stopped=!0},Jn.map(Qn=>er=>!er._stopped&&Qn&&Qn(er))}else return Jn}const nativeOnRE=/^on[a-z]/,patchProp=(Zn,Jn,Xn,Qn,er=!1,tr,nr,rr,sr)=>{Jn==="class"?patchClass(Zn,Qn,er):Jn==="style"?patchStyle(Zn,Xn,Qn):isOn(Jn)?isModelListener(Jn)||patchEvent(Zn,Jn,Xn,Qn,nr):(Jn[0]==="."?(Jn=Jn.slice(1),!0):Jn[0]==="^"?(Jn=Jn.slice(1),!1):shouldSetAsProp(Zn,Jn,Qn,er))?patchDOMProp(Zn,Jn,Qn,tr,nr,rr,sr):(Jn==="true-value"?Zn._trueValue=Qn:Jn==="false-value"&&(Zn._falseValue=Qn),patchAttr(Zn,Jn,Qn,er))};function shouldSetAsProp(Zn,Jn,Xn,Qn){return Qn?!!(Jn==="innerHTML"||Jn==="textContent"||Jn in Zn&&nativeOnRE.test(Jn)&&isFunction(Xn)):Jn==="spellcheck"||Jn==="draggable"||Jn==="translate"||Jn==="form"||Jn==="list"&&Zn.tagName==="INPUT"||Jn==="type"&&Zn.tagName==="TEXTAREA"||nativeOnRE.test(Jn)&&isString(Xn)?!1:Jn in Zn}function useCssVars(Zn){const Jn=getCurrentInstance();if(!Jn)return;const Xn=Jn.ut=(er=Zn(Jn.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${Jn.uid}"]`)).forEach(tr=>setVarsOnNode(tr,er))},Qn=()=>{const er=Zn(Jn.proxy);setVarsOnVNode(Jn.subTree,er),Xn(er)};watchPostEffect(Qn),onMounted(()=>{const er=new MutationObserver(Qn);er.observe(Jn.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>er.disconnect())})}function setVarsOnVNode(Zn,Jn){if(Zn.shapeFlag&128){const Xn=Zn.suspense;Zn=Xn.activeBranch,Xn.pendingBranch&&!Xn.isHydrating&&Xn.effects.push(()=>{setVarsOnVNode(Xn.activeBranch,Jn)})}for(;Zn.component;)Zn=Zn.component.subTree;if(Zn.shapeFlag&1&&Zn.el)setVarsOnNode(Zn.el,Jn);else if(Zn.type===Fragment)Zn.children.forEach(Xn=>setVarsOnVNode(Xn,Jn));else if(Zn.type===Static){let{el:Xn,anchor:Qn}=Zn;for(;Xn&&(setVarsOnNode(Xn,Jn),Xn!==Qn);)Xn=Xn.nextSibling}}function setVarsOnNode(Zn,Jn){if(Zn.nodeType===1){const Xn=Zn.style;for(const Qn in Jn)Xn.setProperty(`--${Qn}`,Jn[Qn])}}const TRANSITION="transition",ANIMATION="animation",Transition=(Zn,{slots:Jn})=>h$2(BaseTransition,resolveTransitionProps(Zn),Jn);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),callHook=(Zn,Jn=[])=>{isArray$1(Zn)?Zn.forEach(Xn=>Xn(...Jn)):Zn&&Zn(...Jn)},hasExplicitCallback=Zn=>Zn?isArray$1(Zn)?Zn.some(Jn=>Jn.length>1):Zn.length>1:!1;function resolveTransitionProps(Zn){const Jn={};for(const wr in Zn)wr in DOMTransitionPropsValidators||(Jn[wr]=Zn[wr]);if(Zn.css===!1)return Jn;const{name:Xn="v",type:Qn,duration:er,enterFromClass:tr=`${Xn}-enter-from`,enterActiveClass:nr=`${Xn}-enter-active`,enterToClass:rr=`${Xn}-enter-to`,appearFromClass:sr=tr,appearActiveClass:ir=nr,appearToClass:or=rr,leaveFromClass:ar=`${Xn}-leave-from`,leaveActiveClass:lr=`${Xn}-leave-active`,leaveToClass:cr=`${Xn}-leave-to`}=Zn,pr=normalizeDuration(er),ur=pr&&pr[0],gr=pr&&pr[1],{onBeforeEnter:dr,onEnter:fr,onEnterCancelled:yr,onLeave:_r,onLeaveCancelled:vr,onBeforeAppear:Er=dr,onAppear:kr=fr,onAppearCancelled:xr=yr}=Jn,Cr=(wr,$r,mr)=>{removeTransitionClass(wr,$r?or:rr),removeTransitionClass(wr,$r?ir:nr),mr&&mr()},Lr=(wr,$r)=>{wr._isLeaving=!1,removeTransitionClass(wr,ar),removeTransitionClass(wr,cr),removeTransitionClass(wr,lr),$r&&$r()},Vr=wr=>($r,mr)=>{const jr=wr?kr:fr,Qr=()=>Cr($r,wr,mr);callHook(jr,[$r,Qr]),nextFrame(()=>{removeTransitionClass($r,wr?sr:tr),addTransitionClass($r,wr?or:rr),hasExplicitCallback(jr)||whenTransitionEnds($r,Qn,ur,Qr)})};return extend(Jn,{onBeforeEnter(wr){callHook(dr,[wr]),addTransitionClass(wr,tr),addTransitionClass(wr,nr)},onBeforeAppear(wr){callHook(Er,[wr]),addTransitionClass(wr,sr),addTransitionClass(wr,ir)},onEnter:Vr(!1),onAppear:Vr(!0),onLeave(wr,$r){wr._isLeaving=!0;const mr=()=>Lr(wr,$r);addTransitionClass(wr,ar),forceReflow(),addTransitionClass(wr,lr),nextFrame(()=>{wr._isLeaving&&(removeTransitionClass(wr,ar),addTransitionClass(wr,cr),hasExplicitCallback(_r)||whenTransitionEnds(wr,Qn,gr,mr))}),callHook(_r,[wr,mr])},onEnterCancelled(wr){Cr(wr,!1),callHook(yr,[wr])},onAppearCancelled(wr){Cr(wr,!0),callHook(xr,[wr])},onLeaveCancelled(wr){Lr(wr),callHook(vr,[wr])}})}function normalizeDuration(Zn){if(Zn==null)return null;if(isObject$3(Zn))return[NumberOf(Zn.enter),NumberOf(Zn.leave)];{const Jn=NumberOf(Zn);return[Jn,Jn]}}function NumberOf(Zn){return toNumber$2(Zn)}function addTransitionClass(Zn,Jn){Jn.split(/\s+/).forEach(Xn=>Xn&&Zn.classList.add(Xn)),(Zn._vtc||(Zn._vtc=new Set)).add(Jn)}function removeTransitionClass(Zn,Jn){Jn.split(/\s+/).forEach(Qn=>Qn&&Zn.classList.remove(Qn));const{_vtc:Xn}=Zn;Xn&&(Xn.delete(Jn),Xn.size||(Zn._vtc=void 0))}function nextFrame(Zn){requestAnimationFrame(()=>{requestAnimationFrame(Zn)})}let endId=0;function whenTransitionEnds(Zn,Jn,Xn,Qn){const er=Zn._endId=++endId,tr=()=>{er===Zn._endId&&Qn()};if(Xn)return setTimeout(tr,Xn);const{type:nr,timeout:rr,propCount:sr}=getTransitionInfo(Zn,Jn);if(!nr)return Qn();const ir=nr+"end";let or=0;const ar=()=>{Zn.removeEventListener(ir,lr),tr()},lr=cr=>{cr.target===Zn&&++or>=sr&&ar()};setTimeout(()=>{or<sr&&ar()},rr+1),Zn.addEventListener(ir,lr)}function getTransitionInfo(Zn,Jn){const Xn=window.getComputedStyle(Zn),Qn=pr=>(Xn[pr]||"").split(", "),er=Qn(`${TRANSITION}Delay`),tr=Qn(`${TRANSITION}Duration`),nr=getTimeout(er,tr),rr=Qn(`${ANIMATION}Delay`),sr=Qn(`${ANIMATION}Duration`),ir=getTimeout(rr,sr);let or=null,ar=0,lr=0;Jn===TRANSITION?nr>0&&(or=TRANSITION,ar=nr,lr=tr.length):Jn===ANIMATION?ir>0&&(or=ANIMATION,ar=ir,lr=sr.length):(ar=Math.max(nr,ir),or=ar>0?nr>ir?TRANSITION:ANIMATION:null,lr=or?or===TRANSITION?tr.length:sr.length:0);const cr=or===TRANSITION&&/\b(transform|all)(,|$)/.test(Qn(`${TRANSITION}Property`).toString());return{type:or,timeout:ar,propCount:lr,hasTransform:cr}}function getTimeout(Zn,Jn){for(;Zn.length<Jn.length;)Zn=Zn.concat(Zn);return Math.max(...Jn.map((Xn,Qn)=>toMs(Xn)+toMs(Zn[Qn])))}function toMs(Zn){return Number(Zn.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(Zn,{slots:Jn}){const Xn=getCurrentInstance(),Qn=useTransitionState();let er,tr;return onUpdated(()=>{if(!er.length)return;const nr=Zn.moveClass||`${Zn.name||"v"}-move`;if(!hasCSSTransform(er[0].el,Xn.vnode.el,nr))return;er.forEach(callPendingCbs),er.forEach(recordPosition);const rr=er.filter(applyTranslation);forceReflow(),rr.forEach(sr=>{const ir=sr.el,or=ir.style;addTransitionClass(ir,nr),or.transform=or.webkitTransform=or.transitionDuration="";const ar=ir._moveCb=lr=>{lr&&lr.target!==ir||(!lr||/transform$/.test(lr.propertyName))&&(ir.removeEventListener("transitionend",ar),ir._moveCb=null,removeTransitionClass(ir,nr))};ir.addEventListener("transitionend",ar)})}),()=>{const nr=toRaw(Zn),rr=resolveTransitionProps(nr);let sr=nr.tag||Fragment;er=tr,tr=Jn.default?getTransitionRawChildren(Jn.default()):[];for(let ir=0;ir<tr.length;ir++){const or=tr[ir];or.key!=null&&setTransitionHooks(or,resolveTransitionHooks(or,rr,Qn,Xn))}if(er)for(let ir=0;ir<er.length;ir++){const or=er[ir];setTransitionHooks(or,resolveTransitionHooks(or,rr,Qn,Xn)),positionMap.set(or,or.el.getBoundingClientRect())}return createVNode(sr,null,tr)}}},removeMode=Zn=>delete Zn.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(Zn){const Jn=Zn.el;Jn._moveCb&&Jn._moveCb(),Jn._enterCb&&Jn._enterCb()}function recordPosition(Zn){newPositionMap.set(Zn,Zn.el.getBoundingClientRect())}function applyTranslation(Zn){const Jn=positionMap.get(Zn),Xn=newPositionMap.get(Zn),Qn=Jn.left-Xn.left,er=Jn.top-Xn.top;if(Qn||er){const tr=Zn.el.style;return tr.transform=tr.webkitTransform=`translate(${Qn}px,${er}px)`,tr.transitionDuration="0s",Zn}}function hasCSSTransform(Zn,Jn,Xn){const Qn=Zn.cloneNode();Zn._vtc&&Zn._vtc.forEach(nr=>{nr.split(/\s+/).forEach(rr=>rr&&Qn.classList.remove(rr))}),Xn.split(/\s+/).forEach(nr=>nr&&Qn.classList.add(nr)),Qn.style.display="none";const er=Jn.nodeType===1?Jn:Jn.parentNode;er.appendChild(Qn);const{hasTransform:tr}=getTransitionInfo(Qn);return er.removeChild(Qn),tr}const getModelAssigner=Zn=>{const Jn=Zn.props["onUpdate:modelValue"]||!1;return isArray$1(Jn)?Xn=>invokeArrayFns(Jn,Xn):Jn};function onCompositionStart(Zn){Zn.target.composing=!0}function onCompositionEnd(Zn){const Jn=Zn.target;Jn.composing&&(Jn.composing=!1,Jn.dispatchEvent(new Event("input")))}const vModelText={created(Zn,{modifiers:{lazy:Jn,trim:Xn,number:Qn}},er){Zn._assign=getModelAssigner(er);const tr=Qn||er.props&&er.props.type==="number";addEventListener$1(Zn,Jn?"change":"input",nr=>{if(nr.target.composing)return;let rr=Zn.value;Xn&&(rr=rr.trim()),tr&&(rr=looseToNumber(rr)),Zn._assign(rr)}),Xn&&addEventListener$1(Zn,"change",()=>{Zn.value=Zn.value.trim()}),Jn||(addEventListener$1(Zn,"compositionstart",onCompositionStart),addEventListener$1(Zn,"compositionend",onCompositionEnd),addEventListener$1(Zn,"change",onCompositionEnd))},mounted(Zn,{value:Jn}){Zn.value=Jn??""},beforeUpdate(Zn,{value:Jn,modifiers:{lazy:Xn,trim:Qn,number:er}},tr){if(Zn._assign=getModelAssigner(tr),Zn.composing||document.activeElement===Zn&&Zn.type!=="range"&&(Xn||Qn&&Zn.value.trim()===Jn||(er||Zn.type==="number")&&looseToNumber(Zn.value)===Jn))return;const nr=Jn??"";Zn.value!==nr&&(Zn.value=nr)}},vModelCheckbox={deep:!0,created(Zn,Jn,Xn){Zn._assign=getModelAssigner(Xn),addEventListener$1(Zn,"change",()=>{const Qn=Zn._modelValue,er=getValue(Zn),tr=Zn.checked,nr=Zn._assign;if(isArray$1(Qn)){const rr=looseIndexOf(Qn,er),sr=rr!==-1;if(tr&&!sr)nr(Qn.concat(er));else if(!tr&&sr){const ir=[...Qn];ir.splice(rr,1),nr(ir)}}else if(isSet(Qn)){const rr=new Set(Qn);tr?rr.add(er):rr.delete(er),nr(rr)}else nr(getCheckboxValue(Zn,tr))})},mounted:setChecked,beforeUpdate(Zn,Jn,Xn){Zn._assign=getModelAssigner(Xn),setChecked(Zn,Jn,Xn)}};function setChecked(Zn,{value:Jn,oldValue:Xn},Qn){Zn._modelValue=Jn,isArray$1(Jn)?Zn.checked=looseIndexOf(Jn,Qn.props.value)>-1:isSet(Jn)?Zn.checked=Jn.has(Qn.props.value):Jn!==Xn&&(Zn.checked=looseEqual(Jn,getCheckboxValue(Zn,!0)))}const vModelSelect={deep:!0,created(Zn,{value:Jn,modifiers:{number:Xn}},Qn){const er=isSet(Jn);addEventListener$1(Zn,"change",()=>{const tr=Array.prototype.filter.call(Zn.options,nr=>nr.selected).map(nr=>Xn?looseToNumber(getValue(nr)):getValue(nr));Zn._assign(Zn.multiple?er?new Set(tr):tr:tr[0])}),Zn._assign=getModelAssigner(Qn)},mounted(Zn,{value:Jn}){setSelected(Zn,Jn)},beforeUpdate(Zn,Jn,Xn){Zn._assign=getModelAssigner(Xn)},updated(Zn,{value:Jn}){setSelected(Zn,Jn)}};function setSelected(Zn,Jn){const Xn=Zn.multiple;if(!(Xn&&!isArray$1(Jn)&&!isSet(Jn))){for(let Qn=0,er=Zn.options.length;Qn<er;Qn++){const tr=Zn.options[Qn],nr=getValue(tr);if(Xn)isArray$1(Jn)?tr.selected=looseIndexOf(Jn,nr)>-1:tr.selected=Jn.has(nr);else if(looseEqual(getValue(tr),Jn)){Zn.selectedIndex!==Qn&&(Zn.selectedIndex=Qn);return}}!Xn&&Zn.selectedIndex!==-1&&(Zn.selectedIndex=-1)}}function getValue(Zn){return"_value"in Zn?Zn._value:Zn.value}function getCheckboxValue(Zn,Jn){const Xn=Jn?"_trueValue":"_falseValue";return Xn in Zn?Zn[Xn]:Jn}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:Zn=>Zn.stopPropagation(),prevent:Zn=>Zn.preventDefault(),self:Zn=>Zn.target!==Zn.currentTarget,ctrl:Zn=>!Zn.ctrlKey,shift:Zn=>!Zn.shiftKey,alt:Zn=>!Zn.altKey,meta:Zn=>!Zn.metaKey,left:Zn=>"button"in Zn&&Zn.button!==0,middle:Zn=>"button"in Zn&&Zn.button!==1,right:Zn=>"button"in Zn&&Zn.button!==2,exact:(Zn,Jn)=>systemModifiers.some(Xn=>Zn[`${Xn}Key`]&&!Jn.includes(Xn))},withModifiers=(Zn,Jn)=>(Xn,...Qn)=>{for(let er=0;er<Jn.length;er++){const tr=modifierGuards[Jn[er]];if(tr&&tr(Xn,Jn))return}return Zn(Xn,...Qn)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(Zn,Jn)=>Xn=>{if(!("key"in Xn))return;const Qn=hyphenate(Xn.key);if(Jn.some(er=>er===Qn||keyNames[er]===Qn))return Zn(Xn)},vShow={beforeMount(Zn,{value:Jn},{transition:Xn}){Zn._vod=Zn.style.display==="none"?"":Zn.style.display,Xn&&Jn?Xn.beforeEnter(Zn):setDisplay(Zn,Jn)},mounted(Zn,{value:Jn},{transition:Xn}){Xn&&Jn&&Xn.enter(Zn)},updated(Zn,{value:Jn,oldValue:Xn},{transition:Qn}){!Jn!=!Xn&&(Qn?Jn?(Qn.beforeEnter(Zn),setDisplay(Zn,!0),Qn.enter(Zn)):Qn.leave(Zn,()=>{setDisplay(Zn,!1)}):setDisplay(Zn,Jn))},beforeUnmount(Zn,{value:Jn}){setDisplay(Zn,Jn)}};function setDisplay(Zn,Jn){Zn.style.display=Jn?Zn._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const createApp=(...Zn)=>{const Jn=ensureRenderer().createApp(...Zn),{mount:Xn}=Jn;return Jn.mount=Qn=>{const er=normalizeContainer(Qn);if(!er)return;const tr=Jn._component;!isFunction(tr)&&!tr.render&&!tr.template&&(tr.template=er.innerHTML),er.innerHTML="";const nr=Xn(er,!1,er instanceof SVGElement);return er instanceof Element&&(er.removeAttribute("v-cloak"),er.setAttribute("data-v-app","")),nr},Jn},createSSRApp=(...Zn)=>{const Jn=ensureHydrationRenderer().createApp(...Zn),{mount:Xn}=Jn;return Jn.mount=Qn=>{const er=normalizeContainer(Qn);if(er)return Xn(er,!0,er instanceof SVGElement)},Jn};function normalizeContainer(Zn){return isString(Zn)?document.querySelector(Zn):Zn}const suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function jsonParseTransform(Zn,Jn){if(Zn!=="__proto__"&&!(Zn==="constructor"&&Jn&&typeof Jn=="object"&&"prototype"in Jn))return Jn}function destr(Zn,Jn={}){if(typeof Zn!="string")return Zn;const Xn=Zn.toLowerCase().trim();if(Xn==="true")return!0;if(Xn==="false")return!1;if(Xn==="null")return null;if(Xn==="nan")return Number.NaN;if(Xn==="infinity")return Number.POSITIVE_INFINITY;if(Xn!=="undefined"){if(!JsonSigRx.test(Zn)){if(Jn.strict)throw new SyntaxError("Invalid JSON");return Zn}try{return suspectProtoRx.test(Zn)||suspectConstructorRx.test(Zn)?JSON.parse(Zn,jsonParseTransform):JSON.parse(Zn)}catch(Qn){if(Jn.strict)throw Qn;return Zn}}}const HASH_RE$1=/#/g,AMPERSAND_RE$1=/&/g,EQUAL_RE$1=/=/g,PLUS_RE$1=/\+/g,ENC_CARET_RE$1=/%5e/gi,ENC_BACKTICK_RE$1=/%60/gi,ENC_PIPE_RE$1=/%7c/gi,ENC_SPACE_RE$1=/%20/gi;function encode$1(Zn){return encodeURI(""+Zn).replace(ENC_PIPE_RE$1,"|")}function encodeQueryValue$1(Zn){return encode$1(typeof Zn=="string"?Zn:JSON.stringify(Zn)).replace(PLUS_RE$1,"%2B").replace(ENC_SPACE_RE$1,"+").replace(HASH_RE$1,"%23").replace(AMPERSAND_RE$1,"%26").replace(ENC_BACKTICK_RE$1,"`").replace(ENC_CARET_RE$1,"^")}function encodeQueryKey$1(Zn){return encodeQueryValue$1(Zn).replace(EQUAL_RE$1,"%3D")}function decode$2(Zn=""){try{return decodeURIComponent(""+Zn)}catch{return""+Zn}}function decodeQueryValue(Zn){return decode$2(Zn.replace(PLUS_RE$1," "))}function parseQuery$1(Zn=""){const Jn={};Zn[0]==="?"&&(Zn=Zn.slice(1));for(const Xn of Zn.split("&")){const Qn=Xn.match(/([^=]+)=?(.*)/)||[];if(Qn.length<2)continue;const er=decode$2(Qn[1]);if(er==="__proto__"||er==="constructor")continue;const tr=decodeQueryValue(Qn[2]||"");typeof Jn[er]<"u"?Array.isArray(Jn[er])?Jn[er].push(tr):Jn[er]=[Jn[er],tr]:Jn[er]=tr}return Jn}function encodeQueryItem(Zn,Jn){return(typeof Jn=="number"||typeof Jn=="boolean")&&(Jn=String(Jn)),Jn?Array.isArray(Jn)?Jn.map(Xn=>`${encodeQueryKey$1(Zn)}=${encodeQueryValue$1(Xn)}`).join("&"):`${encodeQueryKey$1(Zn)}=${encodeQueryValue$1(Jn)}`:encodeQueryKey$1(Zn)}function stringifyQuery$1(Zn){return Object.keys(Zn).filter(Jn=>Zn[Jn]!==void 0).map(Jn=>encodeQueryItem(Jn,Zn[Jn])).join("&")}const PROTOCOL_STRICT_REGEX=/^\w{2,}:([/\\]{1,2})/,PROTOCOL_REGEX=/^\w{2,}:([/\\]{2})?/,PROTOCOL_RELATIVE_REGEX=/^([/\\]\s*){2,}[^/\\]/;function hasProtocol(Zn,Jn={}){return typeof Jn=="boolean"&&(Jn={acceptRelative:Jn}),Jn.strict?PROTOCOL_STRICT_REGEX.test(Zn):PROTOCOL_REGEX.test(Zn)||(Jn.acceptRelative?PROTOCOL_RELATIVE_REGEX.test(Zn):!1)}const TRAILING_SLASH_RE$1=/\/$|\/\?/;function hasTrailingSlash(Zn="",Jn=!1){return Jn?TRAILING_SLASH_RE$1.test(Zn):Zn.endsWith("/")}function withoutTrailingSlash(Zn="",Jn=!1){if(!Jn)return(hasTrailingSlash(Zn)?Zn.slice(0,-1):Zn)||"/";if(!hasTrailingSlash(Zn,!0))return Zn||"/";const[Xn,...Qn]=Zn.split("?");return(Xn.slice(0,-1)||"/")+(Qn.length>0?`?${Qn.join("?")}`:"")}function withTrailingSlash(Zn="",Jn=!1){if(!Jn)return Zn.endsWith("/")?Zn:Zn+"/";if(hasTrailingSlash(Zn,!0))return Zn||"/";const[Xn,...Qn]=Zn.split("?");return Xn+"/"+(Qn.length>0?`?${Qn.join("?")}`:"")}function hasLeadingSlash(Zn=""){return Zn.startsWith("/")}function withoutLeadingSlash(Zn=""){return(hasLeadingSlash(Zn)?Zn.slice(1):Zn)||"/"}function withBase(Zn,Jn){if(isEmptyURL(Jn)||hasProtocol(Zn))return Zn;const Xn=withoutTrailingSlash(Jn);return Zn.startsWith(Xn)?Zn:joinURL(Xn,Zn)}function withoutBase(Zn,Jn){if(isEmptyURL(Jn))return Zn;const Xn=withoutTrailingSlash(Jn);if(!Zn.startsWith(Xn))return Zn;const Qn=Zn.slice(Xn.length);return Qn[0]==="/"?Qn:"/"+Qn}function withQuery(Zn,Jn){const Xn=parseURL$1(Zn),Qn={...parseQuery$1(Xn.search),...Jn};return Xn.search=stringifyQuery$1(Qn),stringifyParsedURL(Xn)}function isEmptyURL(Zn){return!Zn||Zn==="/"}function isNonEmptyURL(Zn){return Zn&&Zn!=="/"}function joinURL(Zn,...Jn){let Xn=Zn||"";for(const Qn of Jn.filter(er=>isNonEmptyURL(er)))Xn=Xn?withTrailingSlash(Xn)+withoutLeadingSlash(Qn):Qn;return Xn}function parseURL$1(Zn="",Jn){if(!hasProtocol(Zn,{acceptRelative:!0}))return Jn?parseURL$1(Jn+Zn):parsePath(Zn);const[Xn="",Qn,er=""]=(Zn.replace(/\\/g,"/").match(/([^/:]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[tr="",nr=""]=(er.match(/([^#/?]*)(.*)?/)||[]).splice(1),{pathname:rr,search:sr,hash:ir}=parsePath(nr.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:Xn,auth:Qn?Qn.slice(0,Math.max(0,Qn.length-1)):"",host:tr,pathname:rr,search:sr,hash:ir}}function parsePath(Zn=""){const[Jn="",Xn="",Qn=""]=(Zn.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:Jn,search:Xn,hash:Qn}}function stringifyParsedURL(Zn){const Jn=Zn.pathname+(Zn.search?(Zn.search.startsWith("?")?"":"?")+Zn.search:"")+Zn.hash;return Zn.protocol?Zn.protocol+"//"+(Zn.auth?Zn.auth+"@":"")+Zn.host+Jn:Jn}class FetchError extends Error{constructor(){super(...arguments),this.name="FetchError"}}function createFetchError(Zn,Jn,Xn){let Qn="";Jn&&(Qn=Jn.message),Zn&&Xn?Qn=`${Qn} (${Xn.status} ${Xn.statusText} (${Zn.toString()}))`:Zn&&(Qn=`${Qn} (${Zn.toString()})`);const er=new FetchError(Qn);return Object.defineProperty(er,"request",{get(){return Zn}}),Object.defineProperty(er,"response",{get(){return Xn}}),Object.defineProperty(er,"data",{get(){return Xn&&Xn._data}}),Object.defineProperty(er,"status",{get(){return Xn&&Xn.status}}),Object.defineProperty(er,"statusText",{get(){return Xn&&Xn.statusText}}),Object.defineProperty(er,"statusCode",{get(){return Xn&&Xn.status}}),Object.defineProperty(er,"statusMessage",{get(){return Xn&&Xn.statusText}}),er}const payloadMethods=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function isPayloadMethod(Zn="GET"){return payloadMethods.has(Zn.toUpperCase())}function isJSONSerializable(Zn){if(Zn===void 0)return!1;const Jn=typeof Zn;return Jn==="string"||Jn==="number"||Jn==="boolean"||Jn===null?!0:Jn!=="object"?!1:Array.isArray(Zn)?!0:Zn.constructor&&Zn.constructor.name==="Object"||typeof Zn.toJSON=="function"}const textTypes=new Set(["image/svg","application/xml","application/xhtml","application/html"]),JSON_RE=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function detectResponseType(Zn=""){if(!Zn)return"json";const Jn=Zn.split(";").shift()||"";return JSON_RE.test(Jn)?"json":textTypes.has(Jn)||Jn.startsWith("text/")?"text":"blob"}const retryStatusCodes=new Set([408,409,425,429,500,502,503,504]);function createFetch(Zn){const{fetch:Jn,Headers:Xn}=Zn;function Qn(nr){const rr=nr.error&&nr.error.name==="AbortError"||!1;if(nr.options.retry!==!1&&!rr){let ir;typeof nr.options.retry=="number"?ir=nr.options.retry:ir=isPayloadMethod(nr.options.method)?0:1;const or=nr.response&&nr.response.status||500;if(ir>0&&retryStatusCodes.has(or))return er(nr.request,{...nr.options,retry:ir-1})}const sr=createFetchError(nr.request,nr.error,nr.response);throw Error.captureStackTrace&&Error.captureStackTrace(sr,er),sr}const er=async function(rr,sr={}){const ir={request:rr,options:{...Zn.defaults,...sr},response:void 0,error:void 0};ir.options.onRequest&&await ir.options.onRequest(ir),typeof ir.request=="string"&&(ir.options.baseURL&&(ir.request=withBase(ir.request,ir.options.baseURL)),(ir.options.query||ir.options.params)&&(ir.request=withQuery(ir.request,{...ir.options.params,...ir.options.query})),ir.options.body&&isPayloadMethod(ir.options.method)&&isJSONSerializable(ir.options.body)&&(ir.options.body=typeof ir.options.body=="string"?ir.options.body:JSON.stringify(ir.options.body),ir.options.headers=new Xn(ir.options.headers),ir.options.headers.has("content-type")||ir.options.headers.set("content-type","application/json"),ir.options.headers.has("accept")||ir.options.headers.set("accept","application/json"))),ir.response=await Jn(ir.request,ir.options).catch(async ar=>(ir.error=ar,ir.options.onRequestError&&await ir.options.onRequestError(ir),Qn(ir)));const or=(ir.options.parseResponse?"json":ir.options.responseType)||detectResponseType(ir.response.headers.get("content-type")||"");if(or==="json"){const ar=await ir.response.text(),lr=ir.options.parseResponse||destr;ir.response._data=lr(ar)}else or==="stream"?ir.response._data=ir.response.body:ir.response._data=await ir.response[or]();return ir.options.onResponse&&await ir.options.onResponse(ir),ir.response.status>=400&&ir.response.status<600?(ir.options.onResponseError&&await ir.options.onResponseError(ir),Qn(ir)):ir.response},tr=function(rr,sr){return er(rr,sr).then(ir=>ir._data)};return tr.raw=er,tr.native=Jn,tr.create=(nr={})=>createFetch({...Zn,defaults:{...Zn.defaults,...nr}}),tr}const _globalThis$1=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),fetch$1=_globalThis$1.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),Headers=_globalThis$1.Headers,ofetch=createFetch({fetch:fetch$1,Headers}),$fetch$1=ofetch,useRuntimeConfig$1=()=>{var Zn;return((Zn=window==null?void 0:window.__NUXT__)==null?void 0:Zn.config)||{}},appConfig=useRuntimeConfig$1().app,baseURL=()=>appConfig.baseURL,buildAssetsDir=()=>appConfig.buildAssetsDir,buildAssetsURL=(...Zn)=>joinURL(publicAssetsURL(),buildAssetsDir(),...Zn),publicAssetsURL=(...Zn)=>{const Jn=appConfig.cdnURL||appConfig.baseURL;return Zn.length?joinURL(Jn,...Zn):Jn};globalThis.__buildAssetsURL=buildAssetsURL,globalThis.__publicAssetsURL=publicAssetsURL;function flatHooks(Zn,Jn={},Xn){for(const Qn in Zn){const er=Zn[Qn],tr=Xn?`${Xn}:${Qn}`:Qn;typeof er=="object"&&er!==null?flatHooks(er,Jn,tr):typeof er=="function"&&(Jn[tr]=er)}return Jn}const defaultTask={run:Zn=>Zn()},_createTask=()=>defaultTask,createTask=typeof console.createTask<"u"?console.createTask:_createTask;function serialTaskCaller(Zn,Jn){const Xn=Jn.shift(),Qn=createTask(Xn);return Zn.reduce((er,tr)=>er.then(()=>Qn.run(()=>tr(...Jn))),Promise.resolve())}function parallelTaskCaller(Zn,Jn){const Xn=Jn.shift(),Qn=createTask(Xn);return Promise.all(Zn.map(er=>Qn.run(()=>er(...Jn))))}function callEachWith(Zn,Jn){for(const Xn of[...Zn])Xn(Jn)}class Hookable{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(Jn,Xn,Qn={}){if(!Jn||typeof Xn!="function")return()=>{};const er=Jn;let tr;for(;this._deprecatedHooks[Jn];)tr=this._deprecatedHooks[Jn],Jn=tr.to;if(tr&&!Qn.allowDeprecated){let nr=tr.message;nr||(nr=`${er} hook has been deprecated`+(tr.to?`, please use ${tr.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(nr)||(console.warn(nr),this._deprecatedMessages.add(nr))}if(!Xn.name)try{Object.defineProperty(Xn,"name",{get:()=>"_"+Jn.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[Jn]=this._hooks[Jn]||[],this._hooks[Jn].push(Xn),()=>{Xn&&(this.removeHook(Jn,Xn),Xn=void 0)}}hookOnce(Jn,Xn){let Qn,er=(...tr)=>(typeof Qn=="function"&&Qn(),Qn=void 0,er=void 0,Xn(...tr));return Qn=this.hook(Jn,er),Qn}removeHook(Jn,Xn){if(this._hooks[Jn]){const Qn=this._hooks[Jn].indexOf(Xn);Qn!==-1&&this._hooks[Jn].splice(Qn,1),this._hooks[Jn].length===0&&delete this._hooks[Jn]}}deprecateHook(Jn,Xn){this._deprecatedHooks[Jn]=typeof Xn=="string"?{to:Xn}:Xn;const Qn=this._hooks[Jn]||[];delete this._hooks[Jn];for(const er of Qn)this.hook(Jn,er)}deprecateHooks(Jn){Object.assign(this._deprecatedHooks,Jn);for(const Xn in Jn)this.deprecateHook(Xn,Jn[Xn])}addHooks(Jn){const Xn=flatHooks(Jn),Qn=Object.keys(Xn).map(er=>this.hook(er,Xn[er]));return()=>{for(const er of Qn.splice(0,Qn.length))er()}}removeHooks(Jn){const Xn=flatHooks(Jn);for(const Qn in Xn)this.removeHook(Qn,Xn[Qn])}removeAllHooks(){for(const Jn in this._hooks)delete this._hooks[Jn]}callHook(Jn,...Xn){return Xn.unshift(Jn),this.callHookWith(serialTaskCaller,Jn,...Xn)}callHookParallel(Jn,...Xn){return Xn.unshift(Jn),this.callHookWith(parallelTaskCaller,Jn,...Xn)}callHookWith(Jn,Xn,...Qn){const er=this._before||this._after?{name:Xn,args:Qn,context:{}}:void 0;this._before&&callEachWith(this._before,er);const tr=Jn(Xn in this._hooks?[...this._hooks[Xn]]:[],Qn);return tr instanceof Promise?tr.finally(()=>{this._after&&er&&callEachWith(this._after,er)}):(this._after&&er&&callEachWith(this._after,er),tr)}beforeEach(Jn){return this._before=this._before||[],this._before.push(Jn),()=>{if(this._before!==void 0){const Xn=this._before.indexOf(Jn);Xn!==-1&&this._before.splice(Xn,1)}}}afterEach(Jn){return this._after=this._after||[],this._after.push(Jn),()=>{if(this._after!==void 0){const Xn=this._after.indexOf(Jn);Xn!==-1&&this._after.splice(Xn,1)}}}}function createHooks(){return new Hookable}function createContext(Zn={}){let Jn,Xn=!1;const Qn=nr=>{if(Jn&&Jn!==nr)throw new Error("Context conflict")};let er;if(Zn.asyncContext){const nr=Zn.AsyncLocalStorage||globalThis.AsyncLocalStorage;nr?er=new nr:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const tr=()=>{if(er&&Jn===void 0){const nr=er.getStore();if(nr!==void 0)return nr}return Jn};return{use:()=>{const nr=tr();if(nr===void 0)throw new Error("Context is not available");return nr},tryUse:()=>tr(),set:(nr,rr)=>{rr||Qn(nr),Jn=nr,Xn=!0},unset:()=>{Jn=void 0,Xn=!1},call:(nr,rr)=>{Qn(nr),Jn=nr;try{return er?er.run(nr,rr):rr()}finally{Xn||(Jn=void 0)}},async callAsync(nr,rr){Jn=nr;const sr=()=>{Jn=nr},ir=()=>Jn===nr?sr:void 0;asyncHandlers.add(ir);try{const or=er?er.run(nr,rr):rr();return Xn||(Jn=void 0),await or}finally{asyncHandlers.delete(ir)}}}}function createNamespace(Zn={}){const Jn={};return{get(Xn,Qn={}){return Jn[Xn]||(Jn[Xn]=createContext({...Zn,...Qn})),Jn[Xn],Jn[Xn]}}}const _globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},globalKey="__unctx__",defaultNamespace=_globalThis[globalKey]||(_globalThis[globalKey]=createNamespace()),getContext=(Zn,Jn={})=>defaultNamespace.get(Zn,Jn),asyncHandlersKey="__unctx_async_handlers__",asyncHandlers=_globalThis[asyncHandlersKey]||(_globalThis[asyncHandlersKey]=new Set);function executeAsync(Zn){const Jn=[];for(const er of asyncHandlers){const tr=er();tr&&Jn.push(tr)}const Xn=()=>{for(const er of Jn)er()};let Qn=Zn();return Qn&&typeof Qn=="object"&&"catch"in Qn&&(Qn=Qn.catch(er=>{throw Xn(),er})),[Qn,Xn]}const nuxtAppCtx=getContext("nuxt-app"),NuxtPluginIndicator="__nuxt_plugin";function createNuxtApp(Zn){let Jn=0;const Xn={provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.5.2"},get vue(){return Xn.vueApp.version}},payload:reactive({data:{},state:{},_errors:{},...window.__NUXT__??{}}),static:{data:{}},runWithContext:er=>callWithNuxt(Xn,er),isHydrating:!0,deferHydration(){if(!Xn.isHydrating)return()=>{};Jn++;let er=!1;return()=>{if(!er&&(er=!0,Jn--,Jn===0))return Xn.isHydrating=!1,Xn.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:{},_payloadRevivers:{},...Zn};Xn.hooks=createHooks(),Xn.hook=Xn.hooks.hook,Xn.callHook=Xn.hooks.callHook,Xn.provide=(er,tr)=>{const nr="$"+er;defineGetter(Xn,nr,tr),defineGetter(Xn.vueApp.config.globalProperties,nr,tr)},defineGetter(Xn.vueApp,"$nuxt",Xn),defineGetter(Xn.vueApp.config.globalProperties,"$nuxt",Xn);{window.addEventListener("nuxt.preloadError",tr=>{Xn.callHook("app:chunkError",{error:tr.payload})});const er=Xn.hook("app:error",(...tr)=>{console.error("[nuxt] error caught during app initialization",...tr)});Xn.hook("app:mounted",er)}const Qn=reactive(Xn.payload.config);return Xn.provide("config",Qn),Xn}async function applyPlugin(Zn,Jn){if(typeof Jn!="function")return;const{provide:Xn}=await Zn.runWithContext(()=>Jn(Zn))||{};if(Xn&&typeof Xn=="object")for(const Qn in Xn)Zn.provide(Qn,Xn[Qn])}async function applyPlugins(Zn,Jn){var er;const Xn=[],Qn=[];for(const tr of Jn){const nr=applyPlugin(Zn,tr);(er=tr.meta)!=null&&er.parallel?Xn.push(nr.catch(rr=>Qn.push(rr))):await nr}if(await Promise.all(Xn),Qn.length)throw Qn[0]}function normalizePlugins(Zn){const Jn=[];for(const Xn of Zn){if(typeof Xn!="function")continue;let Qn=Xn;Xn.length>1&&(Qn=er=>Xn(er,er.provide)),Jn.push(Qn)}return Jn.sort((Xn,Qn)=>{var er,tr;return(((er=Xn.meta)==null?void 0:er.order)||orderMap.default)-(((tr=Qn.meta)==null?void 0:tr.order)||orderMap.default)}),Jn}const orderMap={pre:-20,default:0,post:20};function defineNuxtPlugin(Zn,Jn){var Qn;if(typeof Zn=="function")return defineNuxtPlugin({setup:Zn},Jn);const Xn=er=>{if(Zn.hooks&&er.hooks.addHooks(Zn.hooks),Zn.setup)return Zn.setup(er)};return Xn.meta={name:(Jn==null?void 0:Jn.name)||Zn.name||((Qn=Zn.setup)==null?void 0:Qn.name),parallel:Zn.parallel,order:(Jn==null?void 0:Jn.order)||Zn.order||orderMap[Zn.enforce||"default"]||orderMap.default},Xn[NuxtPluginIndicator]=!0,Xn}function callWithNuxt(Zn,Jn,Xn){const Qn=()=>Xn?Jn(...Xn):Jn();return nuxtAppCtx.set(Zn),Zn.vueApp.runWithContext(Qn)}function useNuxtApp(){var Jn;let Zn;if(hasInjectionContext()&&(Zn=(Jn=getCurrentInstance())==null?void 0:Jn.appContext.app.$nuxt),Zn=Zn||nuxtAppCtx.tryUse(),!Zn)throw new Error("[nuxt] instance unavailable");return Zn}function useRuntimeConfig(){return useNuxtApp().$config}function defineGetter(Zn,Jn,Xn){Object.defineProperty(Zn,Jn,{get:()=>Xn})}const windi="",vars="",style="",isVue2=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=Zn=>activePinia=Zn,piniaSymbol=Symbol();function isPlainObject(Zn){return Zn&&typeof Zn=="object"&&Object.prototype.toString.call(Zn)==="[object Object]"&&typeof Zn.toJSON!="function"}var MutationType;(function(Zn){Zn.direct="direct",Zn.patchObject="patch object",Zn.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const Zn=effectScope(!0),Jn=Zn.run(()=>ref({}));let Xn=[],Qn=[];const er=markRaw({install(tr){setActivePinia(er),er._a=tr,tr.provide(piniaSymbol,er),tr.config.globalProperties.$pinia=er,Qn.forEach(nr=>Xn.push(nr)),Qn=[]},use(tr){return!this._a&&!isVue2?Qn.push(tr):Xn.push(tr),this},_p:Xn,_a:null,_e:Zn,_s:new Map,state:Jn});return er}const noop$1=()=>{};function addSubscription(Zn,Jn,Xn,Qn=noop$1){Zn.push(Jn);const er=()=>{const tr=Zn.indexOf(Jn);tr>-1&&(Zn.splice(tr,1),Qn())};return!Xn&&getCurrentScope()&&onScopeDispose(er),er}function triggerSubscriptions(Zn,...Jn){Zn.slice().forEach(Xn=>{Xn(...Jn)})}const fallbackRunWithContext=Zn=>Zn();function mergeReactiveObjects(Zn,Jn){Zn instanceof Map&&Jn instanceof Map&&Jn.forEach((Xn,Qn)=>Zn.set(Qn,Xn)),Zn instanceof Set&&Jn instanceof Set&&Jn.forEach(Zn.add,Zn);for(const Xn in Jn){if(!Jn.hasOwnProperty(Xn))continue;const Qn=Jn[Xn],er=Zn[Xn];isPlainObject(er)&&isPlainObject(Qn)&&Zn.hasOwnProperty(Xn)&&!isRef(Qn)&&!isReactive(Qn)?Zn[Xn]=mergeReactiveObjects(er,Qn):Zn[Xn]=Qn}return Zn}const skipHydrateSymbol=Symbol();function shouldHydrate(Zn){return!isPlainObject(Zn)||!Zn.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$1}=Object;function isComputed(Zn){return!!(isRef(Zn)&&Zn.effect)}function createOptionsStore(Zn,Jn,Xn,Qn){const{state:er,actions:tr,getters:nr}=Jn,rr=Xn.state.value[Zn];let sr;function ir(){rr||(Xn.state.value[Zn]=er?er():{});const or=toRefs(Xn.state.value[Zn]);return assign$1(or,tr,Object.keys(nr||{}).reduce((ar,lr)=>(ar[lr]=markRaw(computed(()=>{setActivePinia(Xn);const cr=Xn._s.get(Zn);return nr[lr].call(cr,cr)})),ar),{}))}return sr=createSetupStore(Zn,ir,Jn,Xn,Qn,!0),sr}function createSetupStore(Zn,Jn,Xn={},Qn,er,tr){let nr;const rr=assign$1({actions:{}},Xn),sr={deep:!0};let ir,or,ar=[],lr=[],cr;const pr=Qn.state.value[Zn];!tr&&!pr&&(Qn.state.value[Zn]={}),ref({});let ur;function gr(xr){let Cr;ir=or=!1,typeof xr=="function"?(xr(Qn.state.value[Zn]),Cr={type:MutationType.patchFunction,storeId:Zn,events:cr}):(mergeReactiveObjects(Qn.state.value[Zn],xr),Cr={type:MutationType.patchObject,payload:xr,storeId:Zn,events:cr});const Lr=ur=Symbol();nextTick().then(()=>{ur===Lr&&(ir=!0)}),or=!0,triggerSubscriptions(ar,Cr,Qn.state.value[Zn])}const dr=tr?function(){const{state:Cr}=Xn,Lr=Cr?Cr():{};this.$patch(Vr=>{assign$1(Vr,Lr)})}:noop$1;function fr(){nr.stop(),ar=[],lr=[],Qn._s.delete(Zn)}function yr(xr,Cr){return function(){setActivePinia(Qn);const Lr=Array.from(arguments),Vr=[],wr=[];function $r(Qr){Vr.push(Qr)}function mr(Qr){wr.push(Qr)}triggerSubscriptions(lr,{args:Lr,name:xr,store:vr,after:$r,onError:mr});let jr;try{jr=Cr.apply(this&&this.$id===Zn?this:vr,Lr)}catch(Qr){throw triggerSubscriptions(wr,Qr),Qr}return jr instanceof Promise?jr.then(Qr=>(triggerSubscriptions(Vr,Qr),Qr)).catch(Qr=>(triggerSubscriptions(wr,Qr),Promise.reject(Qr))):(triggerSubscriptions(Vr,jr),jr)}}const _r={_p:Qn,$id:Zn,$onAction:addSubscription.bind(null,lr),$patch:gr,$reset:dr,$subscribe(xr,Cr={}){const Lr=addSubscription(ar,xr,Cr.detached,()=>Vr()),Vr=nr.run(()=>watch(()=>Qn.state.value[Zn],wr=>{(Cr.flush==="sync"?or:ir)&&xr({storeId:Zn,type:MutationType.direct,events:cr},wr)},assign$1({},sr,Cr)));return Lr},$dispose:fr},vr=reactive(_r);Qn._s.set(Zn,vr);const Er=Qn._a&&Qn._a.runWithContext||fallbackRunWithContext,kr=Qn._e.run(()=>(nr=effectScope(),Er(()=>nr.run(Jn))));for(const xr in kr){const Cr=kr[xr];if(isRef(Cr)&&!isComputed(Cr)||isReactive(Cr))tr||(pr&&shouldHydrate(Cr)&&(isRef(Cr)?Cr.value=pr[xr]:mergeReactiveObjects(Cr,pr[xr])),Qn.state.value[Zn][xr]=Cr);else if(typeof Cr=="function"){const Lr=yr(xr,Cr);kr[xr]=Lr,rr.actions[xr]=Cr}}return assign$1(vr,kr),assign$1(toRaw(vr),kr),Object.defineProperty(vr,"$state",{get:()=>Qn.state.value[Zn],set:xr=>{gr(Cr=>{assign$1(Cr,xr)})}}),Qn._p.forEach(xr=>{assign$1(vr,nr.run(()=>xr({store:vr,app:Qn._a,pinia:Qn,options:rr})))}),pr&&tr&&Xn.hydrate&&Xn.hydrate(vr.$state,pr),ir=!0,or=!0,vr}function defineStore(Zn,Jn,Xn){let Qn,er;const tr=typeof Jn=="function";typeof Zn=="string"?(Qn=Zn,er=tr?Xn:Jn):(er=Zn,Qn=Zn.id);function nr(rr,sr){const ir=hasInjectionContext();return rr=rr||(ir?inject(piniaSymbol,null):null),rr&&setActivePinia(rr),rr=activePinia,rr._s.has(Qn)||(tr?createSetupStore(Qn,Jn,er,rr):createOptionsStore(Qn,er,rr)),rr._s.get(Qn)}return nr.$id=Qn,nr}function asArray(Zn){return Array.isArray(Zn)?Zn:[Zn]}const TagsWithInnerContent=["title","script","style","noscript"],HasElementTags=["base","meta","link","style","script","noscript"],ValidHeadTags=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],UniqueTags=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],TagConfigKeys=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent"];function defineHeadPlugin(Zn){return Zn}function hashCode(Zn){let Jn=9;for(let Xn=0;Xn<Zn.length;)Jn=Math.imul(Jn^Zn.charCodeAt(Xn++),9**9);return((Jn^Jn>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function hashTag(Zn){return hashCode(`${Zn.tag}:${Zn.textContent||Zn.innerHTML||""}:${Object.entries(Zn.props).map(([Jn,Xn])=>`${Jn}:${String(Xn)}`).join(",")}`)}function computeHashes(Zn){let Jn=9;for(const Xn of Zn)for(let Qn=0;Qn<Xn.length;)Jn=Math.imul(Jn^Xn.charCodeAt(Qn++),9**9);return((Jn^Jn>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function tagDedupeKey(Zn,Jn){const{props:Xn,tag:Qn}=Zn;if(UniqueTags.includes(Qn))return Qn;if(Qn==="link"&&Xn.rel==="canonical")return"canonical";if(Xn.charset)return"charset";const er=["id"];Qn==="meta"&&er.push("name","property","http-equiv");for(const tr of er)if(typeof Xn[tr]<"u"){const nr=String(Xn[tr]);return Jn&&!Jn(nr)?!1:`${Qn}:${tr}:${nr}`}return!1}function resolveTitleTemplate(Zn,Jn){return Zn==null?Jn||null:typeof Zn=="function"?Zn(Jn):Zn}function setAttrs(Zn,Jn=!1,Xn){const{tag:Qn,$el:er}=Zn;er&&(Object.entries(Qn.props).forEach(([tr,nr])=>{nr=String(nr);const rr=`attr:${tr}`;if(tr==="class"){if(!nr)return;for(const sr of nr.split(" ")){const ir=`${rr}:${sr}`;Xn&&Xn(Zn,ir,()=>er.classList.remove(sr)),er.classList.contains(sr)||er.classList.add(sr)}return}Xn&&!tr.startsWith("data-h-")&&Xn(Zn,rr,()=>er.removeAttribute(tr)),(Jn||er.getAttribute(tr)!==nr)&&er.setAttribute(tr,nr)}),TagsWithInnerContent.includes(Qn.tag)&&(Qn.textContent&&Qn.textContent!==er.textContent?er.textContent=Qn.textContent:Qn.innerHTML&&Qn.innerHTML!==er.innerHTML&&(er.innerHTML=Qn.innerHTML)))}let prevHash=!1;async function renderDOMHead(Zn,Jn={}){var lr,cr;const Xn={shouldRender:!0};if(await Zn.hooks.callHook("dom:beforeRender",Xn),!Xn.shouldRender)return;const Qn=Jn.document||Zn.resolvedOptions.document||window.document,er=(await Zn.resolveTags()).map(rr);if(Zn.resolvedOptions.experimentalHashHydration&&(prevHash=prevHash||Zn._hash||!1,prevHash)){const pr=computeHashes(er.map(ur=>ur.tag._h));if(prevHash===pr)return;prevHash=pr}const tr=Zn._popSideEffectQueue();Zn.headEntries().map(pr=>pr._sde).forEach(pr=>{Object.entries(pr).forEach(([ur,gr])=>{tr[ur]=gr})});const nr=(pr,ur,gr)=>{ur=`${pr.renderId}:${ur}`,pr.entry&&(pr.entry._sde[ur]=gr),delete tr[ur]};function rr(pr){const ur=Zn.headEntries().find(dr=>dr._i===pr._e),gr={renderId:pr._d||hashTag(pr),$el:null,shouldRender:!0,tag:pr,entry:ur,markSideEffect:(dr,fr)=>nr(gr,dr,fr)};return gr}const sr=[],ir={body:[],head:[]},or=pr=>{Zn._elMap[pr.renderId]=pr.$el,sr.push(pr),nr(pr,"el",()=>{var ur;(ur=pr.$el)==null||ur.remove(),delete Zn._elMap[pr.renderId]})};for(const pr of er){if(await Zn.hooks.callHook("dom:beforeRenderTag",pr),!pr.shouldRender)continue;const{tag:ur}=pr;if(ur.tag==="title"){Qn.title=ur.textContent||"",sr.push(pr);continue}if(ur.tag==="htmlAttrs"||ur.tag==="bodyAttrs"){pr.$el=Qn[ur.tag==="htmlAttrs"?"documentElement":"body"],setAttrs(pr,!1,nr),sr.push(pr);continue}if(pr.$el=Zn._elMap[pr.renderId],!pr.$el&&ur.key&&(pr.$el=Qn.querySelector(`${(lr=ur.tagPosition)!=null&&lr.startsWith("body")?"body":"head"} > ${ur.tag}[data-h-${ur._h}]`)),pr.$el){pr.tag._d&&setAttrs(pr),or(pr);continue}ir[(cr=ur.tagPosition)!=null&&cr.startsWith("body")?"body":"head"].push(pr)}const ar={bodyClose:void 0,bodyOpen:void 0,head:void 0};Object.entries(ir).forEach(([pr,ur])=>{var dr;if(!ur.length)return;const gr=(dr=Qn==null?void 0:Qn[pr])==null?void 0:dr.children;if(gr){for(const fr of[...gr].reverse()){const yr=fr.tagName.toLowerCase();if(!HasElementTags.includes(yr))continue;const _r=fr.getAttributeNames().reduce((xr,Cr)=>({...xr,[Cr]:fr.getAttribute(Cr)}),{}),vr={tag:yr,props:_r};fr.innerHTML&&(vr.innerHTML=fr.innerHTML);const Er=hashTag(vr);let kr=ur.findIndex(xr=>(xr==null?void 0:xr.renderId)===Er);if(kr===-1){const xr=tagDedupeKey(vr);kr=ur.findIndex(Cr=>(Cr==null?void 0:Cr.tag._d)&&Cr.tag._d===xr)}if(kr!==-1){const xr=ur[kr];xr.$el=fr,setAttrs(xr),or(xr),delete ur[kr]}}ur.forEach(fr=>{const yr=fr.tag.tagPosition||"head";ar[yr]=ar[yr]||Qn.createDocumentFragment(),fr.$el||(fr.$el=Qn.createElement(fr.tag.tag),setAttrs(fr,!0)),ar[yr].appendChild(fr.$el),or(fr)})}}),ar.head&&Qn.head.appendChild(ar.head),ar.bodyOpen&&Qn.body.insertBefore(ar.bodyOpen,Qn.body.firstChild),ar.bodyClose&&Qn.body.appendChild(ar.bodyClose);for(const pr of sr)await Zn.hooks.callHook("dom:renderTag",pr);Object.values(tr).forEach(pr=>pr())}let domUpdatePromise=null;async function debouncedRenderDOMHead(Zn,Jn={}){function Xn(){return domUpdatePromise=null,renderDOMHead(Zn,Jn)}const Qn=Jn.delayFn||(er=>setTimeout(er,10));return domUpdatePromise=domUpdatePromise||new Promise(er=>Qn(()=>er(Xn())))}function PatchDomOnEntryUpdatesPlugin(Zn){return{hooks:{"entries:updated":function(Jn){if(typeof(Zn==null?void 0:Zn.document)>"u"&&typeof window>"u")return;let Xn=Zn==null?void 0:Zn.delayFn;!Xn&&typeof requestAnimationFrame<"u"&&(Xn=requestAnimationFrame),debouncedRenderDOMHead(Jn,{document:(Zn==null?void 0:Zn.document)||window.document,delayFn:Xn})}}}}function maybeGetSSRHash(Zn){var Jn;return((Jn=Zn==null?void 0:Zn.head.querySelector('meta[name="unhead:ssr"]'))==null?void 0:Jn.getAttribute("content"))||!1}const TAG_WEIGHTS={critical:2,high:9,low:12,base:-1,title:1,meta:10};function tagWeight(Zn){if(typeof Zn.tagPriority=="number")return Zn.tagPriority;if(Zn.tag==="meta"){if(Zn.props.charset)return-2;if(Zn.props["http-equiv"]==="content-security-policy")return 0}const Jn=Zn.tagPriority||Zn.tag;return Jn in TAG_WEIGHTS?TAG_WEIGHTS[Jn]:10}const SortModifiers=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}];function SortTagsPlugin(){return{hooks:{"tags:resolve":Zn=>{const Jn=Xn=>{var Qn;return(Qn=Zn.tags.find(er=>er._d===Xn))==null?void 0:Qn._p};for(const{prefix:Xn,offset:Qn}of SortModifiers)for(const er of Zn.tags.filter(tr=>typeof tr.tagPriority=="string"&&tr.tagPriority.startsWith(Xn))){const tr=Jn(er.tagPriority.replace(Xn,""));typeof tr<"u"&&(er._p=tr+Qn)}Zn.tags.sort((Xn,Qn)=>Xn._p-Qn._p).sort((Xn,Qn)=>tagWeight(Xn)-tagWeight(Qn))}}}}function TitleTemplatePlugin(){return{hooks:{"tags:resolve":Zn=>{const{tags:Jn}=Zn;let Xn=Jn.findIndex(er=>er.tag==="titleTemplate");const Qn=Jn.findIndex(er=>er.tag==="title");if(Qn!==-1&&Xn!==-1){const er=resolveTitleTemplate(Jn[Xn].textContent,Jn[Qn].textContent);er!==null?Jn[Qn].textContent=er||Jn[Qn].textContent:delete Jn[Qn]}else if(Xn!==-1){const er=resolveTitleTemplate(Jn[Xn].textContent);er!==null&&(Jn[Xn].textContent=er,Jn[Xn].tag="title",Xn=-1)}Xn!==-1&&delete Jn[Xn],Zn.tags=Jn.filter(Boolean)}}}}function DeprecatedTagAttrPlugin(){return{hooks:{"tag:normalise":function({tag:Zn}){typeof Zn.props.body<"u"&&(Zn.tagPosition="bodyClose",delete Zn.props.body)}}}}const DupeableTags=["link","style","script","noscript"];function ProvideTagHashPlugin(){return{hooks:{"tag:normalise":({tag:Zn,resolvedOptions:Jn})=>{Jn.experimentalHashHydration===!0&&(Zn._h=hashTag(Zn)),Zn.key&&DupeableTags.includes(Zn.tag)&&(Zn._h=hashCode(Zn.key),Zn.props[`data-h-${Zn._h}`]="")}}}}const ValidEventTags=["script","link","bodyAttrs"];function EventHandlersPlugin(){const Zn=(Jn,Xn)=>{const Qn={},er={};Object.entries(Xn.props).forEach(([nr,rr])=>{nr.startsWith("on")&&typeof rr=="function"?er[nr]=rr:Qn[nr]=rr});let tr;return Jn==="dom"&&Xn.tag==="script"&&typeof Qn.src=="string"&&typeof er.onload<"u"&&(tr=Qn.src,delete Qn.src),{props:Qn,eventHandlers:er,delayedSrc:tr}};return{hooks:{"ssr:render":function(Jn){Jn.tags=Jn.tags.map(Xn=>(!ValidEventTags.includes(Xn.tag)||!Object.entries(Xn.props).find(([Qn,er])=>Qn.startsWith("on")&&typeof er=="function")||(Xn.props=Zn("ssr",Xn).props),Xn))},"dom:beforeRenderTag":function(Jn){if(!ValidEventTags.includes(Jn.tag.tag)||!Object.entries(Jn.tag.props).find(([tr,nr])=>tr.startsWith("on")&&typeof nr=="function"))return;const{props:Xn,eventHandlers:Qn,delayedSrc:er}=Zn("dom",Jn.tag);Object.keys(Qn).length&&(Jn.tag.props=Xn,Jn.tag._eventHandlers=Qn,Jn.tag._delayedSrc=er)},"dom:renderTag":function(Jn){const Xn=Jn.$el;if(!Jn.tag._eventHandlers||!Xn)return;const Qn=Jn.tag.tag==="bodyAttrs"&&typeof window<"u"?window:Xn;Object.entries(Jn.tag._eventHandlers).forEach(([er,tr])=>{const nr=`${Jn.tag._d||Jn.tag._p}:${er}`,rr=er.slice(2).toLowerCase(),sr=`data-h-${rr}`;if(Jn.markSideEffect(nr,()=>{}),Xn.hasAttribute(sr))return;const ir=tr;Xn.setAttribute(sr,""),Qn.addEventListener(rr,ir),Jn.entry&&(Jn.entry._sde[nr]=()=>{Qn.removeEventListener(rr,ir),Xn.removeAttribute(sr)})}),Jn.tag._delayedSrc&&Xn.setAttribute("src",Jn.tag._delayedSrc)}}}}const UsesMergeStrategy=["templateParams","htmlAttrs","bodyAttrs"];function DedupesTagsPlugin(){return{hooks:{"tag:normalise":function({tag:Zn}){["hid","vmid","key"].forEach(Qn=>{Zn.props[Qn]&&(Zn.key=Zn.props[Qn],delete Zn.props[Qn])});const Xn=tagDedupeKey(Zn)||(Zn.key?`${Zn.tag}:${Zn.key}`:!1);Xn&&(Zn._d=Xn)},"tags:resolve":function(Zn){const Jn={};Zn.tags.forEach(Qn=>{const er=(Qn.key?`${Qn.tag}:${Qn.key}`:Qn._d)||Qn._p,tr=Jn[er];if(tr){let rr=Qn==null?void 0:Qn.tagDuplicateStrategy;if(!rr&&UsesMergeStrategy.includes(Qn.tag)&&(rr="merge"),rr==="merge"){const sr=tr.props;["class","style"].forEach(ir=>{Qn.props[ir]&&sr[ir]&&(ir==="style"&&!sr[ir].endsWith(";")&&(sr[ir]+=";"),Qn.props[ir]=`${sr[ir]} ${Qn.props[ir]}`)}),Jn[er].props={...sr,...Qn.props};return}else if(Qn._e===tr._e){tr._duped=tr._duped||[],Qn._d=`${tr._d}:${tr._duped.length+1}`,tr._duped.push(Qn);return}}const nr=Object.keys(Qn.props).length+(Qn.innerHTML?1:0)+(Qn.textContent?1:0);if(HasElementTags.includes(Qn.tag)&&nr===0){delete Jn[er];return}Jn[er]=Qn});const Xn=[];Object.values(Jn).forEach(Qn=>{const er=Qn._duped;delete Qn._duped,Xn.push(Qn),er&&Xn.push(...er)}),Zn.tags=Xn}}}}function processTemplateParams(Zn,Jn){function Xn(tr){if(["s","pageTitle"].includes(tr))return Jn.pageTitle;let nr;return tr.includes(".")?nr=tr.split(".").reduce((rr,sr)=>rr&&rr[sr]||void 0,Jn):nr=Jn[tr],typeof nr<"u"?nr||"":!1}let Qn=Zn;try{Qn=decodeURI(Zn)}catch{}return(Qn.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(tr=>{const nr=Xn(tr.slice(1));typeof nr=="string"&&(Zn=Zn.replace(new RegExp(`\\${tr}(\\W|$)`,"g"),`${nr}$1`).trim())}),Jn.separator&&(Zn.endsWith(Jn.separator)&&(Zn=Zn.slice(0,-Jn.separator.length).trim()),Zn.startsWith(Jn.separator)&&(Zn=Zn.slice(Jn.separator.length).trim()),Zn=Zn.replace(new RegExp(`\\${Jn.separator}\\s*\\${Jn.separator}`,"g"),Jn.separator)),Zn}function TemplateParamsPlugin(){return{hooks:{"tags:resolve":Zn=>{var tr;const{tags:Jn}=Zn,Xn=(tr=Jn.find(nr=>nr.tag==="title"))==null?void 0:tr.textContent,Qn=Jn.findIndex(nr=>nr.tag==="templateParams"),er=Qn!==-1?Jn[Qn].props:{};er.pageTitle=er.pageTitle||Xn||"";for(const nr of Jn)if(["titleTemplate","title"].includes(nr.tag)&&typeof nr.textContent=="string")nr.textContent=processTemplateParams(nr.textContent,er);else if(nr.tag==="meta"&&typeof nr.props.content=="string")nr.props.content=processTemplateParams(nr.props.content,er);else if(nr.tag==="link"&&typeof nr.props.href=="string")nr.props.href=processTemplateParams(nr.props.href,er);else if(nr.tag==="script"&&["application/json","application/ld+json"].includes(nr.props.type)&&typeof nr.innerHTML=="string")try{nr.innerHTML=JSON.stringify(JSON.parse(nr.innerHTML),(rr,sr)=>typeof sr=="string"?processTemplateParams(sr,er):sr)}catch{}Zn.tags=Jn.filter(nr=>nr.tag!=="templateParams")}}}}const IsBrowser$1=typeof window<"u";let activeHead;function setActiveHead(Zn){return activeHead=Zn}function getActiveHead(){return activeHead}async function normaliseTag(Zn,Jn){const Xn={tag:Zn,props:{}};return Zn==="templateParams"?(Xn.props=Jn,Xn):["title","titleTemplate"].includes(Zn)?(Xn.textContent=Jn instanceof Promise?await Jn:Jn,Xn):typeof Jn=="string"?["script","noscript","style"].includes(Zn)?(Zn==="script"&&(/^(https?:)?\/\//.test(Jn)||Jn.startsWith("/"))?Xn.props.src=Jn:Xn.innerHTML=Jn,Xn):!1:(Xn.props=await normaliseProps(Zn,{...Jn}),Xn.props.children&&(Xn.props.innerHTML=Xn.props.children),delete Xn.props.children,Object.keys(Xn.props).filter(Qn=>TagConfigKeys.includes(Qn)).forEach(Qn=>{(!["innerHTML","textContent"].includes(Qn)||TagsWithInnerContent.includes(Xn.tag))&&(Xn[Qn]=Xn.props[Qn]),delete Xn.props[Qn]}),["innerHTML","textContent"].forEach(Qn=>{if(Xn.tag==="script"&&typeof Xn[Qn]=="string"&&["application/ld+json","application/json"].includes(Xn.props.type))try{Xn[Qn]=JSON.parse(Xn[Qn])}catch{Xn[Qn]=""}typeof Xn[Qn]=="object"&&(Xn[Qn]=JSON.stringify(Xn[Qn]))}),Xn.props.class&&(Xn.props.class=normaliseClassProp(Xn.props.class)),Xn.props.content&&Array.isArray(Xn.props.content)?Xn.props.content.map(Qn=>({...Xn,props:{...Xn.props,content:Qn}})):Xn)}function normaliseClassProp(Zn){return typeof Zn=="object"&&!Array.isArray(Zn)&&(Zn=Object.keys(Zn).filter(Jn=>Zn[Jn])),(Array.isArray(Zn)?Zn.join(" "):Zn).split(" ").filter(Jn=>Jn.trim()).filter(Boolean).join(" ")}async function normaliseProps(Zn,Jn){for(const Xn of Object.keys(Jn)){const Qn=Xn.startsWith("data-");Jn[Xn]instanceof Promise&&(Jn[Xn]=await Jn[Xn]),String(Jn[Xn])==="true"?Jn[Xn]=Qn?"true":"":String(Jn[Xn])==="false"&&(Qn?Jn[Xn]="false":delete Jn[Xn])}return Jn}const TagEntityBits=10;async function normaliseEntryTags(Zn){const Jn=[];return Object.entries(Zn.resolvedInput).filter(([Xn,Qn])=>typeof Qn<"u"&&ValidHeadTags.includes(Xn)).forEach(([Xn,Qn])=>{const er=asArray(Qn);Jn.push(...er.map(tr=>normaliseTag(Xn,tr)).flat())}),(await Promise.all(Jn)).flat().filter(Boolean).map((Xn,Qn)=>(Xn._e=Zn._i,Xn._p=(Zn._i<<TagEntityBits)+Qn,Xn))}function CorePlugins(){return[DedupesTagsPlugin(),SortTagsPlugin(),TemplateParamsPlugin(),TitleTemplatePlugin(),ProvideTagHashPlugin(),EventHandlersPlugin(),DeprecatedTagAttrPlugin()]}function DOMPlugins(Zn={}){return[PatchDomOnEntryUpdatesPlugin({document:Zn==null?void 0:Zn.document,delayFn:Zn==null?void 0:Zn.domDelayFn})]}function createHead$1(Zn={}){const Jn=createHeadCore({...Zn,plugins:[...DOMPlugins(Zn),...(Zn==null?void 0:Zn.plugins)||[]]});return Zn.experimentalHashHydration&&Jn.resolvedOptions.document&&(Jn._hash=maybeGetSSRHash(Jn.resolvedOptions.document)),setActiveHead(Jn),Jn}function createHeadCore(Zn={}){let Jn=[],Xn={},Qn=0;const er=createHooks();Zn!=null&&Zn.hooks&&er.addHooks(Zn.hooks),Zn.plugins=[...CorePlugins(),...(Zn==null?void 0:Zn.plugins)||[]],Zn.plugins.forEach(rr=>rr.hooks&&er.addHooks(rr.hooks)),Zn.document=Zn.document||(IsBrowser$1?document:void 0);const tr=()=>er.callHook("entries:updated",nr),nr={resolvedOptions:Zn,headEntries(){return Jn},get hooks(){return er},use(rr){rr.hooks&&er.addHooks(rr.hooks)},push(rr,sr){const ir={_i:Qn++,input:rr,_sde:{}};return sr!=null&&sr.mode&&(ir._m=sr==null?void 0:sr.mode),sr!=null&&sr.transform&&(ir._t=sr==null?void 0:sr.transform),Jn.push(ir),tr(),{dispose(){Jn=Jn.filter(or=>or._i!==ir._i?!0:(Xn={...Xn,...or._sde||{}},or._sde={},tr(),!1))},patch(or){Jn=Jn.map(ar=>(ar._i===ir._i&&(ir.input=ar.input=or,tr()),ar))}}},async resolveTags(){const rr={tags:[],entries:[...Jn]};await er.callHook("entries:resolve",rr);for(const sr of rr.entries){const ir=sr._t||(or=>or);if(sr.resolvedInput=ir(sr.resolvedInput||sr.input),sr.resolvedInput)for(const or of await normaliseEntryTags(sr)){const ar={tag:or,entry:sr,resolvedOptions:nr.resolvedOptions};await er.callHook("tag:normalise",ar),rr.tags.push(ar.tag)}}return await er.callHook("tags:resolve",rr),rr.tags},_popSideEffectQueue(){const rr={...Xn};return Xn={},rr},_elMap:{}};return nr.hooks.callHook("init",nr),nr}function resolveUnref(Zn){return typeof Zn=="function"?Zn():unref(Zn)}function resolveUnrefHeadInput(Zn,Jn=""){if(Zn instanceof Promise)return Zn;const Xn=resolveUnref(Zn);return!Zn||!Xn?Xn:Array.isArray(Xn)?Xn.map(Qn=>resolveUnrefHeadInput(Qn,Jn)):typeof Xn=="object"?Object.fromEntries(Object.entries(Xn).map(([Qn,er])=>Qn==="titleTemplate"||Qn.startsWith("on")?[Qn,unref(er)]:[Qn,resolveUnrefHeadInput(er,Qn)])):Xn}const Vue3=version.startsWith("3"),IsBrowser=typeof window<"u",headSymbol="usehead";function injectHead(){return getCurrentInstance()&&inject(headSymbol)||getActiveHead()}function vueInstall(Zn){return{install(Xn){Vue3&&(Xn.config.globalProperties.$unhead=Zn,Xn.config.globalProperties.$head=Zn,Xn.provide(headSymbol,Zn))}}.install}function createHead(Zn={}){const Jn=createHead$1({...Zn,domDelayFn:Xn=>setTimeout(()=>nextTick(()=>Xn()),10),plugins:[VueReactiveUseHeadPlugin(),...(Zn==null?void 0:Zn.plugins)||[]]});return Jn.install=vueInstall(Jn),Jn}function VueReactiveUseHeadPlugin(){return{hooks:{"entries:resolve":function(Zn){for(const Jn of Zn.entries)Jn.resolvedInput=resolveUnrefHeadInput(Jn.input)}}}}function clientUseHead(Zn,Jn={}){const Xn=injectHead(),Qn=ref(!1),er=ref({});watchEffect(()=>{er.value=Qn.value?{}:resolveUnrefHeadInput(Zn)});const tr=Xn.push(er.value,Jn);return watch(er,rr=>{tr.patch(rr)}),getCurrentInstance()&&(onBeforeUnmount(()=>{tr.dispose()}),onDeactivated(()=>{Qn.value=!0}),onActivated(()=>{Qn.value=!1})),tr}function serverUseHead(Zn,Jn={}){return injectHead().push(Zn,Jn)}function useHead(Zn,Jn={}){var Qn;const Xn=injectHead();if(Xn){const er=IsBrowser||!!((Qn=Xn.resolvedOptions)!=null&&Qn.document);return Jn.mode==="server"&&er||Jn.mode==="client"&&!er?void 0:er?clientUseHead(Zn,Jn):serverUseHead(Zn,Jn)}}const fieldContentRegExp=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function parse$1(Zn,Jn){if(typeof Zn!="string")throw new TypeError("argument str must be a string");const Xn={},er=(Jn||{}).decode||decode$1;let tr=0;for(;tr<Zn.length;){const nr=Zn.indexOf("=",tr);if(nr===-1)break;let rr=Zn.indexOf(";",tr);if(rr===-1)rr=Zn.length;else if(rr<nr){tr=Zn.lastIndexOf(";",nr-1)+1;continue}const sr=Zn.slice(tr,nr).trim();if(Xn[sr]===void 0){let ir=Zn.slice(nr+1,rr).trim();ir.codePointAt(0)===34&&(ir=ir.slice(1,-1)),Xn[sr]=tryDecode(ir,er)}tr=rr+1}return Xn}function serialize(Zn,Jn,Xn){const Qn=Xn||{},er=Qn.encode||encode;if(typeof er!="function")throw new TypeError("option encode is invalid");if(!fieldContentRegExp.test(Zn))throw new TypeError("argument name is invalid");const tr=er(Jn);if(tr&&!fieldContentRegExp.test(tr))throw new TypeError("argument val is invalid");let nr=Zn+"="+tr;if(Qn.maxAge!==void 0&&Qn.maxAge!==null){const rr=Qn.maxAge-0;if(Number.isNaN(rr)||!Number.isFinite(rr))throw new TypeError("option maxAge is invalid");nr+="; Max-Age="+Math.floor(rr)}if(Qn.domain){if(!fieldContentRegExp.test(Qn.domain))throw new TypeError("option domain is invalid");nr+="; Domain="+Qn.domain}if(Qn.path){if(!fieldContentRegExp.test(Qn.path))throw new TypeError("option path is invalid");nr+="; Path="+Qn.path}if(Qn.expires){if(!isDate(Qn.expires)||Number.isNaN(Qn.expires.valueOf()))throw new TypeError("option expires is invalid");nr+="; Expires="+Qn.expires.toUTCString()}if(Qn.httpOnly&&(nr+="; HttpOnly"),Qn.secure&&(nr+="; Secure"),Qn.priority)switch(typeof Qn.priority=="string"?Qn.priority.toLowerCase():Qn.priority){case"low":nr+="; Priority=Low";break;case"medium":nr+="; Priority=Medium";break;case"high":nr+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(Qn.sameSite)switch(typeof Qn.sameSite=="string"?Qn.sameSite.toLowerCase():Qn.sameSite){case!0:nr+="; SameSite=Strict";break;case"lax":nr+="; SameSite=Lax";break;case"strict":nr+="; SameSite=Strict";break;case"none":nr+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return nr}function isDate(Zn){return Object.prototype.toString.call(Zn)==="[object Date]"||Zn instanceof Date}function tryDecode(Zn,Jn){try{return Jn(Zn)}catch{return Zn}}function decode$1(Zn){return Zn.includes("%")?decodeURIComponent(Zn):Zn}function encode(Zn){return encodeURIComponent(Zn)}function isObject$2(Zn){return Zn!==null&&typeof Zn=="object"}function _defu(Zn,Jn,Xn=".",Qn){if(!isObject$2(Jn))return _defu(Zn,{},Xn,Qn);const er=Object.assign({},Jn);for(const tr in Zn){if(tr==="__proto__"||tr==="constructor")continue;const nr=Zn[tr];nr!=null&&(Qn&&Qn(er,tr,nr,Xn)||(Array.isArray(nr)&&Array.isArray(er[tr])?er[tr]=[...nr,...er[tr]]:isObject$2(nr)&&isObject$2(er[tr])?er[tr]=_defu(nr,er[tr],(Xn?`${Xn}.`:"")+tr.toString(),Qn):er[tr]=nr))}return er}function createDefu(Zn){return(...Jn)=>Jn.reduce((Xn,Qn)=>_defu(Xn,Qn,"",Zn),{})}const defu=createDefu();class H3Error extends Error{constructor(){super(...arguments),this.statusCode=500,this.fatal=!1,this.unhandled=!1,this.statusMessage=void 0}toJSON(){const Jn={message:this.message,statusCode:sanitizeStatusCode(this.statusCode,500)};return this.statusMessage&&(Jn.statusMessage=sanitizeStatusMessage(this.statusMessage)),this.data!==void 0&&(Jn.data=this.data),Jn}}H3Error.__h3_error__=!0;function createError$1(Zn){if(typeof Zn=="string")return new H3Error(Zn);if(isError(Zn))return Zn;const Jn=new H3Error(Zn.message??Zn.statusMessage,Zn.cause?{cause:Zn.cause}:void 0);if("stack"in Zn)try{Object.defineProperty(Jn,"stack",{get(){return Zn.stack}})}catch{try{Jn.stack=Zn.stack}catch{}}if(Zn.data&&(Jn.data=Zn.data),Zn.statusCode?Jn.statusCode=sanitizeStatusCode(Zn.statusCode,Jn.statusCode):Zn.status&&(Jn.statusCode=sanitizeStatusCode(Zn.status,Jn.statusCode)),Zn.statusMessage?Jn.statusMessage=Zn.statusMessage:Zn.statusText&&(Jn.statusMessage=Zn.statusText),Jn.statusMessage){const Xn=Jn.statusMessage;sanitizeStatusMessage(Jn.statusMessage)!==Xn&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future `statusMessage` will be sanitized by default.")}return Zn.fatal!==void 0&&(Jn.fatal=Zn.fatal),Zn.unhandled!==void 0&&(Jn.unhandled=Zn.unhandled),Jn}function isError(Zn){var Jn;return((Jn=Zn==null?void 0:Zn.constructor)==null?void 0:Jn.__h3_error__)===!0}const DISALLOWED_STATUS_CHARS=/[^\u0009\u0020-\u007E]/g;function sanitizeStatusMessage(Zn=""){return Zn.replace(DISALLOWED_STATUS_CHARS,"")}function sanitizeStatusCode(Zn,Jn=200){return!Zn||(typeof Zn=="string"&&(Zn=Number.parseInt(Zn,10)),Zn<100||Zn>999)?Jn:Zn}typeof setImmediate<"u"&&setImmediate;function useState(...Zn){const Jn=typeof Zn[Zn.length-1]=="string"?Zn.pop():void 0;typeof Zn[0]!="string"&&Zn.unshift(Jn);const[Xn,Qn]=Zn;if(!Xn||typeof Xn!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+Xn);if(Qn!==void 0&&typeof Qn!="function")throw new Error("[nuxt] [useState] init must be a function: "+Qn);const er="$s"+Xn,tr=useNuxtApp(),nr=toRef(tr.payload.state,er);if(nr.value===void 0&&Qn){const rr=Qn();if(isRef(rr))return tr.payload.state[er]=rr,rr;nr.value=rr}return nr}const useRouter=()=>{var Zn;return(Zn=useNuxtApp())==null?void 0:Zn.$router},useRoute=()=>hasInjectionContext()?inject("_route",useNuxtApp()._route):useNuxtApp()._route,defineNuxtRouteMiddleware=Zn=>Zn,isProcessingMiddleware=()=>{try{if(useNuxtApp()._processingMiddleware)return!0}catch{return!0}return!1},navigateTo=(Zn,Jn)=>{Zn||(Zn="/");const Xn=typeof Zn=="string"?Zn:Zn.path||"/",Qn=(Jn==null?void 0:Jn.external)||hasProtocol(Xn,{acceptRelative:!0});if(Qn&&!(Jn!=null&&Jn.external))throw new Error("Navigating to external URL is not allowed by default. Use `navigateTo (url, { external: true })`.");if(Qn&&parseURL$1(Xn).protocol==="script:")throw new Error("Cannot navigate to an URL with script protocol.");const er=isProcessingMiddleware();if(!Qn&&er)return Zn;const tr=useRouter();return Qn?(Jn!=null&&Jn.replace?location.replace(Xn):location.href=Xn,Promise.resolve()):Jn!=null&&Jn.replace?tr.replace(Zn):tr.push(Zn)},useError=()=>toRef(useNuxtApp().payload,"error"),showError=Zn=>{const Jn=createError(Zn);try{const Xn=useNuxtApp(),Qn=useError();Xn.hooks.callHook("app:error",Jn),Qn.value=Qn.value||Jn}catch{throw Jn}return Jn},clearError=async(Zn={})=>{const Jn=useNuxtApp(),Xn=useError();Jn.callHook("app:error:cleared",Zn),Zn.redirect&&await useRouter().replace(Zn.redirect),Xn.value=null},isNuxtError=Zn=>!!(Zn&&typeof Zn=="object"&&"__nuxt_error"in Zn),createError=Zn=>{const Jn=createError$1(Zn);return Jn.__nuxt_error=!0,Jn},requestIdleCallback=globalThis.requestIdleCallback||(Zn=>{const Jn=Date.now(),Xn={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-Jn))};return setTimeout(()=>{Zn(Xn)},1)}),cancelIdleCallback=globalThis.cancelIdleCallback||(Zn=>{clearTimeout(Zn)}),onNuxtReady=Zn=>{const Jn=useNuxtApp();Jn.isHydrating?Jn.hooks.hookOnce("app:suspense:resolve",()=>{requestIdleCallback(Zn)}):requestIdleCallback(Zn)},CookieDefaults={path:"/",watch:!0,decode:Zn=>destr(decodeURIComponent(Zn)),encode:Zn=>encodeURIComponent(typeof Zn=="string"?Zn:JSON.stringify(Zn))};function useCookie(Zn,Jn){var tr;const Xn={...CookieDefaults,...Jn},Qn=readRawCookies(Xn)||{},er=ref(Qn[Zn]??((tr=Xn.default)==null?void 0:tr.call(Xn)));{const nr=()=>{writeClientCookie(Zn,er.value,Xn)};Xn.watch?watch(er,nr,{deep:Xn.watch!=="shallow"}):nr()}return er}function readRawCookies(Zn={}){return parse$1(document.cookie,Zn)}function serializeCookie(Zn,Jn,Xn={}){return Jn==null?serialize(Zn,Jn,{...Xn,maxAge:-1}):serialize(Zn,Jn,Xn)}function writeClientCookie(Zn,Jn,Xn={}){document.cookie=serializeCookie(Zn,Jn,Xn)}async function preloadRouteComponents(Zn,Jn=useRouter()){const{path:Xn,matched:Qn}=Jn.resolve(Zn);if(!Qn.length||(Jn._routePreloaded||(Jn._routePreloaded=new Set),Jn._routePreloaded.has(Xn)))return;const er=Jn._preloadPromises=Jn._preloadPromises||[];if(er.length>4)return Promise.all(er).then(()=>preloadRouteComponents(Zn,Jn));Jn._routePreloaded.add(Xn);const tr=Qn.map(nr=>{var rr;return(rr=nr.components)==null?void 0:rr.default}).filter(nr=>typeof nr=="function");for(const nr of tr){const rr=Promise.resolve(nr()).catch(()=>{}).finally(()=>er.splice(er.indexOf(rr)));er.push(rr)}await Promise.all(er)}const scriptRel="modulepreload",assetsURL=function(Zn,Jn){return Zn.startsWith(".")?new URL(Zn,Jn).href:Zn},seen={},___vitePreload=function(Jn,Xn,Qn){if(!Xn||Xn.length===0)return Jn();const er=document.getElementsByTagName("link");return Promise.all(Xn.map(tr=>{if(tr=assetsURL(tr,Qn),tr in seen)return;seen[tr]=!0;const nr=tr.endsWith(".css"),rr=nr?'[rel="stylesheet"]':"";if(!!Qn)for(let or=er.length-1;or>=0;or--){const ar=er[or];if(ar.href===tr&&(!nr||ar.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${tr}"]${rr}`))return;const ir=document.createElement("link");if(ir.rel=nr?"stylesheet":scriptRel,nr||(ir.as="script",ir.crossOrigin=""),ir.href=tr,document.head.appendChild(ir),nr)return new Promise((or,ar)=>{ir.addEventListener("load",or),ir.addEventListener("error",()=>ar(new Error(`Unable to preload CSS for ${tr}`)))})})).then(()=>Jn())},__vitePreload=(...Zn)=>___vitePreload(...Zn).catch(Jn=>{const Xn=new Event("nuxt.preloadError");throw Xn.payload=Jn,window.dispatchEvent(Xn),Jn}),UNDEFINED=-1,HOLE=-2,NAN=-3,POSITIVE_INFINITY=-4,NEGATIVE_INFINITY=-5,NEGATIVE_ZERO=-6;function parse(Zn,Jn){return unflatten(JSON.parse(Zn),Jn)}function unflatten(Zn,Jn){if(typeof Zn=="number")return er(Zn,!0);if(!Array.isArray(Zn)||Zn.length===0)throw new Error("Invalid input");const Xn=Zn,Qn=Array(Xn.length);function er(tr,nr=!1){if(tr===UNDEFINED)return;if(tr===NAN)return NaN;if(tr===POSITIVE_INFINITY)return 1/0;if(tr===NEGATIVE_INFINITY)return-1/0;if(tr===NEGATIVE_ZERO)return-0;if(nr)throw new Error("Invalid input");if(tr in Qn)return Qn[tr];const rr=Xn[tr];if(!rr||typeof rr!="object")Qn[tr]=rr;else if(Array.isArray(rr))if(typeof rr[0]=="string"){const sr=rr[0],ir=Jn==null?void 0:Jn[sr];if(ir)return Qn[tr]=ir(er(rr[1]));switch(sr){case"Date":Qn[tr]=new Date(rr[1]);break;case"Set":const or=new Set;Qn[tr]=or;for(let cr=1;cr<rr.length;cr+=1)or.add(er(rr[cr]));break;case"Map":const ar=new Map;Qn[tr]=ar;for(let cr=1;cr<rr.length;cr+=2)ar.set(er(rr[cr]),er(rr[cr+1]));break;case"RegExp":Qn[tr]=new RegExp(rr[1],rr[2]);break;case"Object":Qn[tr]=Object(rr[1]);break;case"BigInt":Qn[tr]=BigInt(rr[1]);break;case"null":const lr=Object.create(null);Qn[tr]=lr;for(let cr=1;cr<rr.length;cr+=2)lr[rr[cr]]=er(rr[cr+1]);break;default:throw new Error(`Unknown type ${sr}`)}}else{const sr=new Array(rr.length);Qn[tr]=sr;for(let ir=0;ir<rr.length;ir+=1){const or=rr[ir];or!==HOLE&&(sr[ir]=er(or))}}else{const sr={};Qn[tr]=sr;for(const ir in rr){const or=rr[ir];sr[ir]=er(or)}}return Qn[tr]}return er(0)}const appHead={meta:[{name:"viewport",content:"width=device-width, initial-scale=1"},{charset:"utf-8"}],link:[],style:[],script:[],noscript:[],title:"New Recruit - Editor",base:{href:"/nr-editor/"}},appPageTransition=!1,appKeepalive=!1,appRootId="__nuxt",renderJsonPayloads=!0;function loadPayload(Zn,Jn={}){const Xn=_getPayloadURL(Zn,Jn),Qn=useNuxtApp(),er=Qn._payloadCache=Qn._payloadCache||{};return er[Xn]||(er[Xn]=_importPayload(Xn).then(tr=>tr||(delete er[Xn],null))),er[Xn]}const extension="json";function _getPayloadURL(Zn,Jn={}){const Xn=new URL(Zn,"http://localhost");if(Xn.search)throw new Error("Payload URL cannot contain search params: "+Zn);if(Xn.host!=="localhost"||hasProtocol(Xn.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+Zn);const Qn=Jn.hash||(Jn.fresh?Date.now():"");return joinURL(useRuntimeConfig().app.baseURL,Xn.pathname,Qn?`_payload.${Qn}.${extension}`:`_payload.${extension}`)}async function _importPayload(Zn){try{return renderJsonPayloads?parsePayload(await fetch(Zn).then(Jn=>Jn.text())):await __vitePreload(()=>import(Zn),[],import.meta.url).then(Jn=>Jn.default||Jn)}catch(Jn){console.warn("[nuxt] Cannot load payload ",Zn,Jn)}return null}function isPrerendered(){return!!useNuxtApp().payload.prerenderedAt}let payloadCache=null;async function getNuxtClientPayload(){if(payloadCache)return payloadCache;const Zn=document.getElementById("__NUXT_DATA__");if(!Zn)return{};const Jn=parsePayload(Zn.textContent||""),Xn=Zn.dataset.src?await _importPayload(Zn.dataset.src):void 0;return payloadCache={...Jn,...Xn,...window.__NUXT__},payloadCache}function parsePayload(Zn){return parse(Zn,useNuxtApp()._payloadRevivers)}function definePayloadReviver(Zn,Jn){useNuxtApp()._payloadRevivers[Zn]=Jn}function reloadNuxtApp(Zn={}){const Jn=Zn.path||window.location.pathname;let Xn={};try{Xn=JSON.parse(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(Zn.force||(Xn==null?void 0:Xn.path)!==Jn||(Xn==null?void 0:Xn.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:Jn,expires:Date.now()+(Zn.ttl??1e4)}))}catch{}if(Zn.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:useNuxtApp().payload.state}))}catch{}window.location.pathname!==Jn?window.location.href=Jn:window.location.reload()}}const firstNonUndefined=(...Zn)=>Zn.find(Jn=>Jn!==void 0),DEFAULT_EXTERNAL_REL_ATTRIBUTE="noopener noreferrer";function defineNuxtLink(Zn){const Jn=Zn.componentName||"NuxtLink",Xn=(Qn,er)=>{if(!Qn||Zn.trailingSlash!=="append"&&Zn.trailingSlash!=="remove")return Qn;const tr=Zn.trailingSlash==="append"?withTrailingSlash:withoutTrailingSlash;if(typeof Qn=="string")return tr(Qn,!0);const nr="path"in Qn?Qn.path:er(Qn).path;return{...Qn,name:void 0,path:tr(nr,!0)}};return defineComponent({name:Jn,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},setup(Qn,{slots:er}){const tr=useRouter(),nr=computed(()=>{const ar=Qn.to||Qn.href||"";return Xn(ar,tr.resolve)}),rr=computed(()=>Qn.external||Qn.target&&Qn.target!=="_self"?!0:typeof nr.value=="object"?!1:nr.value===""||hasProtocol(nr.value,{acceptRelative:!0})),sr=ref(!1),ir=ref(null),or=ar=>{var lr;ir.value=Qn.custom?(lr=ar==null?void 0:ar.$el)==null?void 0:lr.nextElementSibling:ar==null?void 0:ar.$el};if(Qn.prefetch!==!1&&Qn.noPrefetch!==!0&&Qn.target!=="_blank"&&!isSlowConnection()){const lr=useNuxtApp();let cr,pr=null;onMounted(()=>{const ur=useObserver();onNuxtReady(()=>{cr=requestIdleCallback(()=>{var gr;(gr=ir==null?void 0:ir.value)!=null&&gr.tagName&&(pr=ur.observe(ir.value,async()=>{pr==null||pr(),pr=null;const dr=typeof nr.value=="string"?nr.value:tr.resolve(nr.value).fullPath;await Promise.all([lr.hooks.callHook("link:prefetch",dr).catch(()=>{}),!rr.value&&preloadRouteComponents(nr.value,tr).catch(()=>{})]),sr.value=!0}))})})}),onBeforeUnmount(()=>{cr&&cancelIdleCallback(cr),pr==null||pr(),pr=null})}return()=>{var ur,gr;if(!rr.value){const dr={ref:or,to:nr.value,activeClass:Qn.activeClass||Zn.activeClass,exactActiveClass:Qn.exactActiveClass||Zn.exactActiveClass,replace:Qn.replace,ariaCurrentValue:Qn.ariaCurrentValue,custom:Qn.custom};return Qn.custom||(sr.value&&(dr.class=Qn.prefetchedClass||Zn.prefetchedClass),dr.rel=Qn.rel),h$2(resolveComponent("RouterLink"),dr,er.default)}const ar=typeof nr.value=="object"?((ur=tr.resolve(nr.value))==null?void 0:ur.href)??null:nr.value||null,lr=Qn.target||null,cr=Qn.noRel?null:firstNonUndefined(Qn.rel,Zn.externalRelAttribute,ar?DEFAULT_EXTERNAL_REL_ATTRIBUTE:"")||null,pr=()=>navigateTo(ar,{replace:Qn.replace});return Qn.custom?er.default?er.default({href:ar,navigate:pr,get route(){if(!ar)return;const dr=parseURL$1(ar);return{path:dr.pathname,fullPath:dr.pathname,get query(){return parseQuery$1(dr.search)},hash:dr.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:ar}},rel:cr,target:lr,isExternal:rr.value,isActive:!1,isExactActive:!1}):null:h$2("a",{ref:ir,href:ar,rel:cr,target:lr},(gr=er.default)==null?void 0:gr.call(er))}}})}const __nuxt_component_0$2=defineNuxtLink({componentName:"NuxtLink"});function useObserver(){const Zn=useNuxtApp();if(Zn._observer)return Zn._observer;let Jn=null;const Xn=new Map,Qn=(tr,nr)=>(Jn||(Jn=new IntersectionObserver(rr=>{for(const sr of rr){const ir=Xn.get(sr.target);(sr.isIntersecting||sr.intersectionRatio>0)&&ir&&ir()}})),Xn.set(tr,nr),Jn.observe(tr),()=>{Xn.delete(tr),Jn.unobserve(tr),Xn.size===0&&(Jn.disconnect(),Jn=null)});return Zn._observer={observe:Qn}}function isSlowConnection(){const Zn=navigator.connection;return!!(Zn&&(Zn.saveData||/2g/.test(Zn.effectiveType)))}const plugin$1=defineNuxtPlugin(Zn=>{const Jn=createPinia();return Zn.vueApp.use(Jn),setActivePinia(Jn),Zn.payload&&Zn.payload.pinia&&(Jn.state.value=Zn.payload.pinia),{provide:{pinia:Jn}}}),revivers={NuxtError:Zn=>createError(Zn),EmptyShallowRef:Zn=>shallowRef(Zn==="_"?void 0:JSON.parse(Zn)),EmptyRef:Zn=>ref(Zn==="_"?void 0:JSON.parse(Zn)),ShallowRef:Zn=>shallowRef(Zn),ShallowReactive:Zn=>shallowReactive(Zn),Ref:Zn=>ref(Zn),Reactive:Zn=>reactive(Zn)},revive_payload_client_4sVQNw7RlN=defineNuxtPlugin({name:"nuxt:revive-payload:client",order:-30,async setup(Zn){let Jn,Xn;for(const Qn in revivers)definePayloadReviver(Qn,revivers[Qn]);Object.assign(Zn.payload,([Jn,Xn]=executeAsync(()=>Zn.runWithContext(getNuxtClientPayload)),Jn=await Jn,Xn(),Jn)),window.__NUXT__=Zn.payload}},1),components_plugin_KR1HBZs4kY=defineNuxtPlugin({name:"nuxt:global-components"}),unhead_KgADcZ0jPj=defineNuxtPlugin({name:"nuxt:head",setup(Zn){const Xn=createHead();Xn.push(appHead),Zn.vueApp.use(Xn);{let Qn=!0;const er=()=>{Qn=!1,Xn.hooks.callHook("entries:updated",Xn)};Xn.hooks.hook("dom:beforeRender",tr=>{tr.shouldRender=!Qn}),Zn.hooks.hook("page:start",()=>{Qn=!0}),Zn.hooks.hook("page:finish",er),Zn.hooks.hook("app:suspense:resolve",er)}}});/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(Zn){return Zn.__esModule||Zn[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(Zn,Jn){const Xn={};for(const Qn in Jn){const er=Jn[Qn];Xn[Qn]=isArray(er)?er.map(Zn):Zn(er)}return Xn}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=Zn=>Zn.replace(TRAILING_SLASH_RE,"");function parseURL(Zn,Jn,Xn="/"){let Qn,er={},tr="",nr="";const rr=Jn.indexOf("#");let sr=Jn.indexOf("?");return rr<sr&&rr>=0&&(sr=-1),sr>-1&&(Qn=Jn.slice(0,sr),tr=Jn.slice(sr+1,rr>-1?rr:Jn.length),er=Zn(tr)),rr>-1&&(Qn=Qn||Jn.slice(0,rr),nr=Jn.slice(rr,Jn.length)),Qn=resolveRelativePath(Qn??Jn,Xn),{fullPath:Qn+(tr&&"?")+tr+nr,path:Qn,query:er,hash:nr}}function stringifyURL(Zn,Jn){const Xn=Jn.query?Zn(Jn.query):"";return Jn.path+(Xn&&"?")+Xn+(Jn.hash||"")}function stripBase(Zn,Jn){return!Jn||!Zn.toLowerCase().startsWith(Jn.toLowerCase())?Zn:Zn.slice(Jn.length)||"/"}function isSameRouteLocation(Zn,Jn,Xn){const Qn=Jn.matched.length-1,er=Xn.matched.length-1;return Qn>-1&&Qn===er&&isSameRouteRecord(Jn.matched[Qn],Xn.matched[er])&&isSameRouteLocationParams(Jn.params,Xn.params)&&Zn(Jn.query)===Zn(Xn.query)&&Jn.hash===Xn.hash}function isSameRouteRecord(Zn,Jn){return(Zn.aliasOf||Zn)===(Jn.aliasOf||Jn)}function isSameRouteLocationParams(Zn,Jn){if(Object.keys(Zn).length!==Object.keys(Jn).length)return!1;for(const Xn in Zn)if(!isSameRouteLocationParamsValue(Zn[Xn],Jn[Xn]))return!1;return!0}function isSameRouteLocationParamsValue(Zn,Jn){return isArray(Zn)?isEquivalentArray(Zn,Jn):isArray(Jn)?isEquivalentArray(Jn,Zn):Zn===Jn}function isEquivalentArray(Zn,Jn){return isArray(Jn)?Zn.length===Jn.length&&Zn.every((Xn,Qn)=>Xn===Jn[Qn]):Zn.length===1&&Zn[0]===Jn}function resolveRelativePath(Zn,Jn){if(Zn.startsWith("/"))return Zn;if(!Zn)return Jn;const Xn=Jn.split("/"),Qn=Zn.split("/"),er=Qn[Qn.length-1];(er===".."||er===".")&&Qn.push("");let tr=Xn.length-1,nr,rr;for(nr=0;nr<Qn.length;nr++)if(rr=Qn[nr],rr!==".")if(rr==="..")tr>1&&tr--;else break;return Xn.slice(0,tr).join("/")+"/"+Qn.slice(nr-(nr===Qn.length?1:0)).join("/")}var NavigationType;(function(Zn){Zn.pop="pop",Zn.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(Zn){Zn.back="back",Zn.forward="forward",Zn.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(Zn){if(!Zn)if(isBrowser){const Jn=document.querySelector("base");Zn=Jn&&Jn.getAttribute("href")||"/",Zn=Zn.replace(/^\w+:\/\/[^\/]+/,"")}else Zn="/";return Zn[0]!=="/"&&Zn[0]!=="#"&&(Zn="/"+Zn),removeTrailingSlash(Zn)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(Zn,Jn){return Zn.replace(BEFORE_HASH_RE,"#")+Jn}function getElementPosition(Zn,Jn){const Xn=document.documentElement.getBoundingClientRect(),Qn=Zn.getBoundingClientRect();return{behavior:Jn.behavior,left:Qn.left-Xn.left-(Jn.left||0),top:Qn.top-Xn.top-(Jn.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(Zn){let Jn;if("el"in Zn){const Xn=Zn.el,Qn=typeof Xn=="string"&&Xn.startsWith("#"),er=typeof Xn=="string"?Qn?document.getElementById(Xn.slice(1)):document.querySelector(Xn):Xn;if(!er)return;Jn=getElementPosition(er,Zn)}else Jn=Zn;"scrollBehavior"in document.documentElement.style?window.scrollTo(Jn):window.scrollTo(Jn.left!=null?Jn.left:window.pageXOffset,Jn.top!=null?Jn.top:window.pageYOffset)}function getScrollKey(Zn,Jn){return(history.state?history.state.position-Jn:-1)+Zn}const scrollPositions=new Map;function saveScrollPosition(Zn,Jn){scrollPositions.set(Zn,Jn)}function getSavedScrollPosition(Zn){const Jn=scrollPositions.get(Zn);return scrollPositions.delete(Zn),Jn}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation$1(Zn,Jn){const{pathname:Xn,search:Qn,hash:er}=Jn,tr=Zn.indexOf("#");if(tr>-1){let rr=er.includes(Zn.slice(tr))?Zn.slice(tr).length:1,sr=er.slice(rr);return sr[0]!=="/"&&(sr="/"+sr),stripBase(sr,"")}return stripBase(Xn,Zn)+Qn+er}function useHistoryListeners(Zn,Jn,Xn,Qn){let er=[],tr=[],nr=null;const rr=({state:lr})=>{const cr=createCurrentLocation$1(Zn,location),pr=Xn.value,ur=Jn.value;let gr=0;if(lr){if(Xn.value=cr,Jn.value=lr,nr&&nr===pr){nr=null;return}gr=ur?lr.position-ur.position:0}else Qn(cr);er.forEach(dr=>{dr(Xn.value,pr,{delta:gr,type:NavigationType.pop,direction:gr?gr>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function sr(){nr=Xn.value}function ir(lr){er.push(lr);const cr=()=>{const pr=er.indexOf(lr);pr>-1&&er.splice(pr,1)};return tr.push(cr),cr}function or(){const{history:lr}=window;lr.state&&lr.replaceState(assign({},lr.state,{scroll:computeScrollPosition()}),"")}function ar(){for(const lr of tr)lr();tr=[],window.removeEventListener("popstate",rr),window.removeEventListener("beforeunload",or)}return window.addEventListener("popstate",rr),window.addEventListener("beforeunload",or,{passive:!0}),{pauseListeners:sr,listen:ir,destroy:ar}}function buildState(Zn,Jn,Xn,Qn=!1,er=!1){return{back:Zn,current:Jn,forward:Xn,replaced:Qn,position:window.history.length,scroll:er?computeScrollPosition():null}}function useHistoryStateNavigation(Zn){const{history:Jn,location:Xn}=window,Qn={value:createCurrentLocation$1(Zn,Xn)},er={value:Jn.state};er.value||tr(Qn.value,{back:null,current:Qn.value,forward:null,position:Jn.length-1,replaced:!0,scroll:null},!0);function tr(sr,ir,or){const ar=Zn.indexOf("#"),lr=ar>-1?(Xn.host&&document.querySelector("base")?Zn:Zn.slice(ar))+sr:createBaseLocation()+Zn+sr;try{Jn[or?"replaceState":"pushState"](ir,"",lr),er.value=ir}catch(cr){console.error(cr),Xn[or?"replace":"assign"](lr)}}function nr(sr,ir){const or=assign({},Jn.state,buildState(er.value.back,sr,er.value.forward,!0),ir,{position:er.value.position});tr(sr,or,!0),Qn.value=sr}function rr(sr,ir){const or=assign({},er.value,Jn.state,{forward:sr,scroll:computeScrollPosition()});tr(or.current,or,!0);const ar=assign({},buildState(Qn.value,sr,null),{position:or.position+1},ir);tr(sr,ar,!1),Qn.value=sr}return{location:Qn,state:er,push:rr,replace:nr}}function createWebHistory(Zn){Zn=normalizeBase(Zn);const Jn=useHistoryStateNavigation(Zn),Xn=useHistoryListeners(Zn,Jn.state,Jn.location,Jn.replace);function Qn(tr,nr=!0){nr||Xn.pauseListeners(),history.go(tr)}const er=assign({location:"",base:Zn,go:Qn,createHref:createHref.bind(null,Zn)},Jn,Xn);return Object.defineProperty(er,"location",{enumerable:!0,get:()=>Jn.location.value}),Object.defineProperty(er,"state",{enumerable:!0,get:()=>Jn.state.value}),er}function createWebHashHistory(Zn){return Zn=location.host?Zn||location.pathname+location.search:"",Zn.includes("#")||(Zn+="#"),createWebHistory(Zn)}function isRouteLocation(Zn){return typeof Zn=="string"||Zn&&typeof Zn=="object"}function isRouteName(Zn){return typeof Zn=="string"||typeof Zn=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(Zn){Zn[Zn.aborted=4]="aborted",Zn[Zn.cancelled=8]="cancelled",Zn[Zn.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(Zn,Jn){return assign(new Error,{type:Zn,[NavigationFailureSymbol]:!0},Jn)}function isNavigationFailure(Zn,Jn){return Zn instanceof Error&&NavigationFailureSymbol in Zn&&(Jn==null||!!(Zn.type&Jn))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(Zn,Jn){const Xn=assign({},BASE_PATH_PARSER_OPTIONS,Jn),Qn=[];let er=Xn.start?"^":"";const tr=[];for(const ir of Zn){const or=ir.length?[]:[90];Xn.strict&&!ir.length&&(er+="/");for(let ar=0;ar<ir.length;ar++){const lr=ir[ar];let cr=40+(Xn.sensitive?.25:0);if(lr.type===0)ar||(er+="/"),er+=lr.value.replace(REGEX_CHARS_RE,"\\$&"),cr+=40;else if(lr.type===1){const{value:pr,repeatable:ur,optional:gr,regexp:dr}=lr;tr.push({name:pr,repeatable:ur,optional:gr});const fr=dr||BASE_PARAM_PATTERN;if(fr!==BASE_PARAM_PATTERN){cr+=10;try{new RegExp(`(${fr})`)}catch(_r){throw new Error(`Invalid custom RegExp for param "${pr}" (${fr}): `+_r.message)}}let yr=ur?`((?:${fr})(?:/(?:${fr}))*)`:`(${fr})`;ar||(yr=gr&&ir.length<2?`(?:/${yr})`:"/"+yr),gr&&(yr+="?"),er+=yr,cr+=20,gr&&(cr+=-8),ur&&(cr+=-20),fr===".*"&&(cr+=-50)}or.push(cr)}Qn.push(or)}if(Xn.strict&&Xn.end){const ir=Qn.length-1;Qn[ir][Qn[ir].length-1]+=.7000000000000001}Xn.strict||(er+="/?"),Xn.end?er+="$":Xn.strict&&(er+="(?:/|$)");const nr=new RegExp(er,Xn.sensitive?"":"i");function rr(ir){const or=ir.match(nr),ar={};if(!or)return null;for(let lr=1;lr<or.length;lr++){const cr=or[lr]||"",pr=tr[lr-1];ar[pr.name]=cr&&pr.repeatable?cr.split("/"):cr}return ar}function sr(ir){let or="",ar=!1;for(const lr of Zn){(!ar||!or.endsWith("/"))&&(or+="/"),ar=!1;for(const cr of lr)if(cr.type===0)or+=cr.value;else if(cr.type===1){const{value:pr,repeatable:ur,optional:gr}=cr,dr=pr in ir?ir[pr]:"";if(isArray(dr)&&!ur)throw new Error(`Provided param "${pr}" is an array but it is not repeatable (* or + modifiers)`);const fr=isArray(dr)?dr.join("/"):dr;if(!fr)if(gr)lr.length<2&&(or.endsWith("/")?or=or.slice(0,-1):ar=!0);else throw new Error(`Missing required param "${pr}"`);or+=fr}}return or||"/"}return{re:nr,score:Qn,keys:tr,parse:rr,stringify:sr}}function compareScoreArray(Zn,Jn){let Xn=0;for(;Xn<Zn.length&&Xn<Jn.length;){const Qn=Jn[Xn]-Zn[Xn];if(Qn)return Qn;Xn++}return Zn.length<Jn.length?Zn.length===1&&Zn[0]===40+40?-1:1:Zn.length>Jn.length?Jn.length===1&&Jn[0]===40+40?1:-1:0}function comparePathParserScore(Zn,Jn){let Xn=0;const Qn=Zn.score,er=Jn.score;for(;Xn<Qn.length&&Xn<er.length;){const tr=compareScoreArray(Qn[Xn],er[Xn]);if(tr)return tr;Xn++}if(Math.abs(er.length-Qn.length)===1){if(isLastScoreNegative(Qn))return 1;if(isLastScoreNegative(er))return-1}return er.length-Qn.length}function isLastScoreNegative(Zn){const Jn=Zn[Zn.length-1];return Zn.length>0&&Jn[Jn.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(Zn){if(!Zn)return[[]];if(Zn==="/")return[[ROOT_TOKEN]];if(!Zn.startsWith("/"))throw new Error(`Invalid path "${Zn}"`);function Jn(cr){throw new Error(`ERR (${Xn})/"${ir}": ${cr}`)}let Xn=0,Qn=Xn;const er=[];let tr;function nr(){tr&&er.push(tr),tr=[]}let rr=0,sr,ir="",or="";function ar(){ir&&(Xn===0?tr.push({type:0,value:ir}):Xn===1||Xn===2||Xn===3?(tr.length>1&&(sr==="*"||sr==="+")&&Jn(`A repeatable param (${ir}) must be alone in its segment. eg: '/:ids+.`),tr.push({type:1,value:ir,regexp:or,repeatable:sr==="*"||sr==="+",optional:sr==="*"||sr==="?"})):Jn("Invalid state to consume buffer"),ir="")}function lr(){ir+=sr}for(;rr<Zn.length;){if(sr=Zn[rr++],sr==="\\"&&Xn!==2){Qn=Xn,Xn=4;continue}switch(Xn){case 0:sr==="/"?(ir&&ar(),nr()):sr===":"?(ar(),Xn=1):lr();break;case 4:lr(),Xn=Qn;break;case 1:sr==="("?Xn=2:VALID_PARAM_RE.test(sr)?lr():(ar(),Xn=0,sr!=="*"&&sr!=="?"&&sr!=="+"&&rr--);break;case 2:sr===")"?or[or.length-1]=="\\"?or=or.slice(0,-1)+sr:Xn=3:or+=sr;break;case 3:ar(),Xn=0,sr!=="*"&&sr!=="?"&&sr!=="+"&&rr--,or="";break;default:Jn("Unknown state");break}}return Xn===2&&Jn(`Unfinished custom RegExp for param "${ir}"`),ar(),nr(),er}function createRouteRecordMatcher(Zn,Jn,Xn){const Qn=tokensToParser(tokenizePath(Zn.path),Xn),er=assign(Qn,{record:Zn,parent:Jn,children:[],alias:[]});return Jn&&!er.record.aliasOf==!Jn.record.aliasOf&&Jn.children.push(er),er}function createRouterMatcher(Zn,Jn){const Xn=[],Qn=new Map;Jn=mergeOptions({strict:!1,end:!0,sensitive:!1},Jn);function er(or){return Qn.get(or)}function tr(or,ar,lr){const cr=!lr,pr=normalizeRouteRecord(or);pr.aliasOf=lr&&lr.record;const ur=mergeOptions(Jn,or),gr=[pr];if("alias"in or){const yr=typeof or.alias=="string"?[or.alias]:or.alias;for(const _r of yr)gr.push(assign({},pr,{components:lr?lr.record.components:pr.components,path:_r,aliasOf:lr?lr.record:pr}))}let dr,fr;for(const yr of gr){const{path:_r}=yr;if(ar&&_r[0]!=="/"){const vr=ar.record.path,Er=vr[vr.length-1]==="/"?"":"/";yr.path=ar.record.path+(_r&&Er+_r)}if(dr=createRouteRecordMatcher(yr,ar,ur),lr?lr.alias.push(dr):(fr=fr||dr,fr!==dr&&fr.alias.push(dr),cr&&or.name&&!isAliasRecord(dr)&&nr(or.name)),pr.children){const vr=pr.children;for(let Er=0;Er<vr.length;Er++)tr(vr[Er],dr,lr&&lr.children[Er])}lr=lr||dr,(dr.record.components&&Object.keys(dr.record.components).length||dr.record.name||dr.record.redirect)&&sr(dr)}return fr?()=>{nr(fr)}:noop}function nr(or){if(isRouteName(or)){const ar=Qn.get(or);ar&&(Qn.delete(or),Xn.splice(Xn.indexOf(ar),1),ar.children.forEach(nr),ar.alias.forEach(nr))}else{const ar=Xn.indexOf(or);ar>-1&&(Xn.splice(ar,1),or.record.name&&Qn.delete(or.record.name),or.children.forEach(nr),or.alias.forEach(nr))}}function rr(){return Xn}function sr(or){let ar=0;for(;ar<Xn.length&&comparePathParserScore(or,Xn[ar])>=0&&(or.record.path!==Xn[ar].record.path||!isRecordChildOf(or,Xn[ar]));)ar++;Xn.splice(ar,0,or),or.record.name&&!isAliasRecord(or)&&Qn.set(or.record.name,or)}function ir(or,ar){let lr,cr={},pr,ur;if("name"in or&&or.name){if(lr=Qn.get(or.name),!lr)throw createRouterError(1,{location:or});ur=lr.record.name,cr=assign(paramsFromLocation(ar.params,lr.keys.filter(fr=>!fr.optional).map(fr=>fr.name)),or.params&&paramsFromLocation(or.params,lr.keys.map(fr=>fr.name))),pr=lr.stringify(cr)}else if("path"in or)pr=or.path,lr=Xn.find(fr=>fr.re.test(pr)),lr&&(cr=lr.parse(pr),ur=lr.record.name);else{if(lr=ar.name?Qn.get(ar.name):Xn.find(fr=>fr.re.test(ar.path)),!lr)throw createRouterError(1,{location:or,currentLocation:ar});ur=lr.record.name,cr=assign({},ar.params,or.params),pr=lr.stringify(cr)}const gr=[];let dr=lr;for(;dr;)gr.unshift(dr.record),dr=dr.parent;return{name:ur,path:pr,params:cr,matched:gr,meta:mergeMetaFields(gr)}}return Zn.forEach(or=>tr(or)),{addRoute:tr,resolve:ir,removeRoute:nr,getRoutes:rr,getRecordMatcher:er}}function paramsFromLocation(Zn,Jn){const Xn={};for(const Qn of Jn)Qn in Zn&&(Xn[Qn]=Zn[Qn]);return Xn}function normalizeRouteRecord(Zn){return{path:Zn.path,redirect:Zn.redirect,name:Zn.name,meta:Zn.meta||{},aliasOf:void 0,beforeEnter:Zn.beforeEnter,props:normalizeRecordProps(Zn),children:Zn.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in Zn?Zn.components||null:Zn.component&&{default:Zn.component}}}function normalizeRecordProps(Zn){const Jn={},Xn=Zn.props||!1;if("component"in Zn)Jn.default=Xn;else for(const Qn in Zn.components)Jn[Qn]=typeof Xn=="boolean"?Xn:Xn[Qn];return Jn}function isAliasRecord(Zn){for(;Zn;){if(Zn.record.aliasOf)return!0;Zn=Zn.parent}return!1}function mergeMetaFields(Zn){return Zn.reduce((Jn,Xn)=>assign(Jn,Xn.meta),{})}function mergeOptions(Zn,Jn){const Xn={};for(const Qn in Zn)Xn[Qn]=Qn in Jn?Jn[Qn]:Zn[Qn];return Xn}function isRecordChildOf(Zn,Jn){return Jn.children.some(Xn=>Xn===Zn||isRecordChildOf(Zn,Xn))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(Zn){return encodeURI(""+Zn).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(Zn){return commonEncode(Zn).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(Zn){return commonEncode(Zn).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(Zn){return encodeQueryValue(Zn).replace(EQUAL_RE,"%3D")}function encodePath(Zn){return commonEncode(Zn).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(Zn){return Zn==null?"":encodePath(Zn).replace(SLASH_RE,"%2F")}function decode(Zn){try{return decodeURIComponent(""+Zn)}catch{}return""+Zn}function parseQuery(Zn){const Jn={};if(Zn===""||Zn==="?")return Jn;const Qn=(Zn[0]==="?"?Zn.slice(1):Zn).split("&");for(let er=0;er<Qn.length;++er){const tr=Qn[er].replace(PLUS_RE," "),nr=tr.indexOf("="),rr=decode(nr<0?tr:tr.slice(0,nr)),sr=nr<0?null:decode(tr.slice(nr+1));if(rr in Jn){let ir=Jn[rr];isArray(ir)||(ir=Jn[rr]=[ir]),ir.push(sr)}else Jn[rr]=sr}return Jn}function stringifyQuery(Zn){let Jn="";for(let Xn in Zn){const Qn=Zn[Xn];if(Xn=encodeQueryKey(Xn),Qn==null){Qn!==void 0&&(Jn+=(Jn.length?"&":"")+Xn);continue}(isArray(Qn)?Qn.map(tr=>tr&&encodeQueryValue(tr)):[Qn&&encodeQueryValue(Qn)]).forEach(tr=>{tr!==void 0&&(Jn+=(Jn.length?"&":"")+Xn,tr!=null&&(Jn+="="+tr))})}return Jn}function normalizeQuery(Zn){const Jn={};for(const Xn in Zn){const Qn=Zn[Xn];Qn!==void 0&&(Jn[Xn]=isArray(Qn)?Qn.map(er=>er==null?null:""+er):Qn==null?Qn:""+Qn)}return Jn}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let Zn=[];function Jn(Qn){return Zn.push(Qn),()=>{const er=Zn.indexOf(Qn);er>-1&&Zn.splice(er,1)}}function Xn(){Zn=[]}return{add:Jn,list:()=>Zn,reset:Xn}}function guardToPromiseFn(Zn,Jn,Xn,Qn,er){const tr=Qn&&(Qn.enterCallbacks[er]=Qn.enterCallbacks[er]||[]);return()=>new Promise((nr,rr)=>{const sr=ar=>{ar===!1?rr(createRouterError(4,{from:Xn,to:Jn})):ar instanceof Error?rr(ar):isRouteLocation(ar)?rr(createRouterError(2,{from:Jn,to:ar})):(tr&&Qn.enterCallbacks[er]===tr&&typeof ar=="function"&&tr.push(ar),nr())},ir=Zn.call(Qn&&Qn.instances[er],Jn,Xn,sr);let or=Promise.resolve(ir);Zn.length<3&&(or=or.then(sr)),or.catch(ar=>rr(ar))})}function extractComponentsGuards(Zn,Jn,Xn,Qn){const er=[];for(const tr of Zn)for(const nr in tr.components){let rr=tr.components[nr];if(!(Jn!=="beforeRouteEnter"&&!tr.instances[nr]))if(isRouteComponent(rr)){const ir=(rr.__vccOpts||rr)[Jn];ir&&er.push(guardToPromiseFn(ir,Xn,Qn,tr,nr))}else{let sr=rr();er.push(()=>sr.then(ir=>{if(!ir)return Promise.reject(new Error(`Couldn't resolve component "${nr}" at "${tr.path}"`));const or=isESModule(ir)?ir.default:ir;tr.components[nr]=or;const lr=(or.__vccOpts||or)[Jn];return lr&&guardToPromiseFn(lr,Xn,Qn,tr,nr)()}))}}return er}function isRouteComponent(Zn){return typeof Zn=="object"||"displayName"in Zn||"props"in Zn||"__vccOpts"in Zn}function useLink(Zn){const Jn=inject(routerKey),Xn=inject(routeLocationKey),Qn=computed(()=>Jn.resolve(unref(Zn.to))),er=computed(()=>{const{matched:sr}=Qn.value,{length:ir}=sr,or=sr[ir-1],ar=Xn.matched;if(!or||!ar.length)return-1;const lr=ar.findIndex(isSameRouteRecord.bind(null,or));if(lr>-1)return lr;const cr=getOriginalPath(sr[ir-2]);return ir>1&&getOriginalPath(or)===cr&&ar[ar.length-1].path!==cr?ar.findIndex(isSameRouteRecord.bind(null,sr[ir-2])):lr}),tr=computed(()=>er.value>-1&&includesParams(Xn.params,Qn.value.params)),nr=computed(()=>er.value>-1&&er.value===Xn.matched.length-1&&isSameRouteLocationParams(Xn.params,Qn.value.params));function rr(sr={}){return guardEvent(sr)?Jn[unref(Zn.replace)?"replace":"push"](unref(Zn.to)).catch(noop):Promise.resolve()}return{route:Qn,href:computed(()=>Qn.value.href),isActive:tr,isExactActive:nr,navigate:rr}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(Zn,{slots:Jn}){const Xn=reactive(useLink(Zn)),{options:Qn}=inject(routerKey),er=computed(()=>({[getLinkClass(Zn.activeClass,Qn.linkActiveClass,"router-link-active")]:Xn.isActive,[getLinkClass(Zn.exactActiveClass,Qn.linkExactActiveClass,"router-link-exact-active")]:Xn.isExactActive}));return()=>{const tr=Jn.default&&Jn.default(Xn);return Zn.custom?tr:h$2("a",{"aria-current":Xn.isExactActive?Zn.ariaCurrentValue:null,href:Xn.href,onClick:Xn.navigate,class:er.value},tr)}}}),RouterLink=RouterLinkImpl;function guardEvent(Zn){if(!(Zn.metaKey||Zn.altKey||Zn.ctrlKey||Zn.shiftKey)&&!Zn.defaultPrevented&&!(Zn.button!==void 0&&Zn.button!==0)){if(Zn.currentTarget&&Zn.currentTarget.getAttribute){const Jn=Zn.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(Jn))return}return Zn.preventDefault&&Zn.preventDefault(),!0}}function includesParams(Zn,Jn){for(const Xn in Jn){const Qn=Jn[Xn],er=Zn[Xn];if(typeof Qn=="string"){if(Qn!==er)return!1}else if(!isArray(er)||er.length!==Qn.length||Qn.some((tr,nr)=>tr!==er[nr]))return!1}return!0}function getOriginalPath(Zn){return Zn?Zn.aliasOf?Zn.aliasOf.path:Zn.path:""}const getLinkClass=(Zn,Jn,Xn)=>Zn??Jn??Xn,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(Zn,{attrs:Jn,slots:Xn}){const Qn=inject(routerViewLocationKey),er=computed(()=>Zn.route||Qn.value),tr=inject(viewDepthKey,0),nr=computed(()=>{let ir=unref(tr);const{matched:or}=er.value;let ar;for(;(ar=or[ir])&&!ar.components;)ir++;return ir}),rr=computed(()=>er.value.matched[nr.value]);provide(viewDepthKey,computed(()=>nr.value+1)),provide(matchedRouteKey,rr),provide(routerViewLocationKey,er);const sr=ref();return watch(()=>[sr.value,rr.value,Zn.name],([ir,or,ar],[lr,cr,pr])=>{or&&(or.instances[ar]=ir,cr&&cr!==or&&ir&&ir===lr&&(or.leaveGuards.size||(or.leaveGuards=cr.leaveGuards),or.updateGuards.size||(or.updateGuards=cr.updateGuards))),ir&&or&&(!cr||!isSameRouteRecord(or,cr)||!lr)&&(or.enterCallbacks[ar]||[]).forEach(ur=>ur(ir))},{flush:"post"}),()=>{const ir=er.value,or=Zn.name,ar=rr.value,lr=ar&&ar.components[or];if(!lr)return normalizeSlot(Xn.default,{Component:lr,route:ir});const cr=ar.props[or],pr=cr?cr===!0?ir.params:typeof cr=="function"?cr(ir):cr:null,gr=h$2(lr,assign({},pr,Jn,{onVnodeUnmounted:dr=>{dr.component.isUnmounted&&(ar.instances[or]=null)},ref:sr}));return normalizeSlot(Xn.default,{Component:gr,route:ir})||gr}}});function normalizeSlot(Zn,Jn){if(!Zn)return null;const Xn=Zn(Jn);return Xn.length===1?Xn[0]:Xn}const RouterView=RouterViewImpl;function createRouter(Zn){const Jn=createRouterMatcher(Zn.routes,Zn),Xn=Zn.parseQuery||parseQuery,Qn=Zn.stringifyQuery||stringifyQuery,er=Zn.history,tr=useCallbacks(),nr=useCallbacks(),rr=useCallbacks(),sr=shallowRef(START_LOCATION_NORMALIZED);let ir=START_LOCATION_NORMALIZED;isBrowser&&Zn.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const or=applyToParams.bind(null,Gr=>""+Gr),ar=applyToParams.bind(null,encodeParam),lr=applyToParams.bind(null,decode);function cr(Gr,Yr){let Jr,ss;return isRouteName(Gr)?(Jr=Jn.getRecordMatcher(Gr),ss=Yr):ss=Gr,Jn.addRoute(ss,Jr)}function pr(Gr){const Yr=Jn.getRecordMatcher(Gr);Yr&&Jn.removeRoute(Yr)}function ur(){return Jn.getRoutes().map(Gr=>Gr.record)}function gr(Gr){return!!Jn.getRecordMatcher(Gr)}function dr(Gr,Yr){if(Yr=assign({},Yr||sr.value),typeof Gr=="string"){const hr=parseURL(Xn,Gr,Yr.path),Rr=Jn.resolve({path:hr.path},Yr),Or=er.createHref(hr.fullPath);return assign(hr,Rr,{params:lr(Rr.params),hash:decode(hr.hash),redirectedFrom:void 0,href:Or})}let Jr;if("path"in Gr)Jr=assign({},Gr,{path:parseURL(Xn,Gr.path,Yr.path).path});else{const hr=assign({},Gr.params);for(const Rr in hr)hr[Rr]==null&&delete hr[Rr];Jr=assign({},Gr,{params:ar(hr)}),Yr.params=ar(Yr.params)}const ss=Jn.resolve(Jr,Yr),cs=Gr.hash||"";ss.params=or(lr(ss.params));const Ir=stringifyURL(Qn,assign({},Gr,{hash:encodeHash(cs),path:ss.path})),Pr=er.createHref(Ir);return assign({fullPath:Ir,hash:cs,query:Qn===stringifyQuery?normalizeQuery(Gr.query):Gr.query||{}},ss,{redirectedFrom:void 0,href:Pr})}function fr(Gr){return typeof Gr=="string"?parseURL(Xn,Gr,sr.value.path):assign({},Gr)}function yr(Gr,Yr){if(ir!==Gr)return createRouterError(8,{from:Yr,to:Gr})}function _r(Gr){return kr(Gr)}function vr(Gr){return _r(assign(fr(Gr),{replace:!0}))}function Er(Gr){const Yr=Gr.matched[Gr.matched.length-1];if(Yr&&Yr.redirect){const{redirect:Jr}=Yr;let ss=typeof Jr=="function"?Jr(Gr):Jr;return typeof ss=="string"&&(ss=ss.includes("?")||ss.includes("#")?ss=fr(ss):{path:ss},ss.params={}),assign({query:Gr.query,hash:Gr.hash,params:"path"in ss?{}:Gr.params},ss)}}function kr(Gr,Yr){const Jr=ir=dr(Gr),ss=sr.value,cs=Gr.state,Ir=Gr.force,Pr=Gr.replace===!0,hr=Er(Jr);if(hr)return kr(assign(fr(hr),{state:typeof hr=="object"?assign({},cs,hr.state):cs,force:Ir,replace:Pr}),Yr||Jr);const Rr=Jr;Rr.redirectedFrom=Yr;let Or;return!Ir&&isSameRouteLocation(Qn,ss,Jr)&&(Or=createRouterError(16,{to:Rr,from:ss}),zr(ss,ss,!0,!1)),(Or?Promise.resolve(Or):Lr(Rr,ss)).catch(br=>isNavigationFailure(br)?isNavigationFailure(br,2)?br:ls(br):rs(br,Rr,ss)).then(br=>{if(br){if(isNavigationFailure(br,2))return kr(assign({replace:Pr},fr(br.to),{state:typeof br.to=="object"?assign({},cs,br.to.state):cs,force:Ir}),Yr||Rr)}else br=wr(Rr,ss,!0,Pr,cs);return Vr(Rr,ss,br),br})}function xr(Gr,Yr){const Jr=yr(Gr,Yr);return Jr?Promise.reject(Jr):Promise.resolve()}function Cr(Gr){const Yr=is.values().next().value;return Yr&&typeof Yr.runWithContext=="function"?Yr.runWithContext(Gr):Gr()}function Lr(Gr,Yr){let Jr;const[ss,cs,Ir]=extractChangingRecords(Gr,Yr);Jr=extractComponentsGuards(ss.reverse(),"beforeRouteLeave",Gr,Yr);for(const hr of ss)hr.leaveGuards.forEach(Rr=>{Jr.push(guardToPromiseFn(Rr,Gr,Yr))});const Pr=xr.bind(null,Gr,Yr);return Jr.push(Pr),fs(Jr).then(()=>{Jr=[];for(const hr of tr.list())Jr.push(guardToPromiseFn(hr,Gr,Yr));return Jr.push(Pr),fs(Jr)}).then(()=>{Jr=extractComponentsGuards(cs,"beforeRouteUpdate",Gr,Yr);for(const hr of cs)hr.updateGuards.forEach(Rr=>{Jr.push(guardToPromiseFn(Rr,Gr,Yr))});return Jr.push(Pr),fs(Jr)}).then(()=>{Jr=[];for(const hr of Gr.matched)if(hr.beforeEnter&&!Yr.matched.includes(hr))if(isArray(hr.beforeEnter))for(const Rr of hr.beforeEnter)Jr.push(guardToPromiseFn(Rr,Gr,Yr));else Jr.push(guardToPromiseFn(hr.beforeEnter,Gr,Yr));return Jr.push(Pr),fs(Jr)}).then(()=>(Gr.matched.forEach(hr=>hr.enterCallbacks={}),Jr=extractComponentsGuards(Ir,"beforeRouteEnter",Gr,Yr),Jr.push(Pr),fs(Jr))).then(()=>{Jr=[];for(const hr of nr.list())Jr.push(guardToPromiseFn(hr,Gr,Yr));return Jr.push(Pr),fs(Jr)}).catch(hr=>isNavigationFailure(hr,8)?hr:Promise.reject(hr))}function Vr(Gr,Yr,Jr){for(const ss of rr.list())Cr(()=>ss(Gr,Yr,Jr))}function wr(Gr,Yr,Jr,ss,cs){const Ir=yr(Gr,Yr);if(Ir)return Ir;const Pr=Yr===START_LOCATION_NORMALIZED,hr=isBrowser?history.state:{};Jr&&(ss||Pr?er.replace(Gr.fullPath,assign({scroll:Pr&&hr&&hr.scroll},cs)):er.push(Gr.fullPath,cs)),sr.value=Gr,zr(Gr,Yr,Jr,Pr),ls()}let $r;function mr(){$r||($r=er.listen((Gr,Yr,Jr)=>{if(!ts.listening)return;const ss=dr(Gr),cs=Er(ss);if(cs){kr(assign(cs,{replace:!0}),ss).catch(noop);return}ir=ss;const Ir=sr.value;isBrowser&&saveScrollPosition(getScrollKey(Ir.fullPath,Jr.delta),computeScrollPosition()),Lr(ss,Ir).catch(Pr=>isNavigationFailure(Pr,12)?Pr:isNavigationFailure(Pr,2)?(kr(Pr.to,ss).then(hr=>{isNavigationFailure(hr,20)&&!Jr.delta&&Jr.type===NavigationType.pop&&er.go(-1,!1)}).catch(noop),Promise.reject()):(Jr.delta&&er.go(-Jr.delta,!1),rs(Pr,ss,Ir))).then(Pr=>{Pr=Pr||wr(ss,Ir,!1),Pr&&(Jr.delta&&!isNavigationFailure(Pr,8)?er.go(-Jr.delta,!1):Jr.type===NavigationType.pop&&isNavigationFailure(Pr,20)&&er.go(-1,!1)),Vr(ss,Ir,Pr)}).catch(noop)}))}let jr=useCallbacks(),Qr=useCallbacks(),Hr;function rs(Gr,Yr,Jr){ls(Gr);const ss=Qr.list();return ss.length?ss.forEach(cs=>cs(Gr,Yr,Jr)):console.error(Gr),Promise.reject(Gr)}function Xr(){return Hr&&sr.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Gr,Yr)=>{jr.add([Gr,Yr])})}function ls(Gr){return Hr||(Hr=!Gr,mr(),jr.list().forEach(([Yr,Jr])=>Gr?Jr(Gr):Yr()),jr.reset()),Gr}function zr(Gr,Yr,Jr,ss){const{scrollBehavior:cs}=Zn;if(!isBrowser||!cs)return Promise.resolve();const Ir=!Jr&&getSavedScrollPosition(getScrollKey(Gr.fullPath,0))||(ss||!Jr)&&history.state&&history.state.scroll||null;return nextTick().then(()=>cs(Gr,Yr,Ir)).then(Pr=>Pr&&scrollToPosition(Pr)).catch(Pr=>rs(Pr,Gr,Yr))}const Ur=Gr=>er.go(Gr);let ns;const is=new Set,ts={currentRoute:sr,listening:!0,addRoute:cr,removeRoute:pr,hasRoute:gr,getRoutes:ur,resolve:dr,options:Zn,push:_r,replace:vr,go:Ur,back:()=>Ur(-1),forward:()=>Ur(1),beforeEach:tr.add,beforeResolve:nr.add,afterEach:rr.add,onError:Qr.add,isReady:Xr,install(Gr){const Yr=this;Gr.component("RouterLink",RouterLink),Gr.component("RouterView",RouterView),Gr.config.globalProperties.$router=Yr,Object.defineProperty(Gr.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(sr)}),isBrowser&&!ns&&sr.value===START_LOCATION_NORMALIZED&&(ns=!0,_r(er.location).catch(cs=>{}));const Jr={};for(const cs in START_LOCATION_NORMALIZED)Jr[cs]=computed(()=>sr.value[cs]);Gr.provide(routerKey,Yr),Gr.provide(routeLocationKey,reactive(Jr)),Gr.provide(routerViewLocationKey,sr);const ss=Gr.unmount;is.add(Gr),Gr.unmount=function(){is.delete(Gr),is.size<1&&(ir=START_LOCATION_NORMALIZED,$r&&$r(),$r=null,sr.value=START_LOCATION_NORMALIZED,ns=!1,Hr=!1),ss()}}};function fs(Gr){return Gr.reduce((Yr,Jr)=>Yr.then(()=>Cr(Jr)),Promise.resolve())}return ts}function extractChangingRecords(Zn,Jn){const Xn=[],Qn=[],er=[],tr=Math.max(Jn.matched.length,Zn.matched.length);for(let nr=0;nr<tr;nr++){const rr=Jn.matched[nr];rr&&(Zn.matched.find(ir=>isSameRouteRecord(ir,rr))?Qn.push(rr):Xn.push(rr));const sr=Zn.matched[nr];sr&&(Jn.matched.find(ir=>isSameRouteRecord(ir,sr))||er.push(sr))}return[Xn,Qn,er]}const _routes=[{name:"slugs",path:"/:slugs(.*)*",meta:{},alias:[],redirect:void 0,component:()=>__vitePreload(()=>import("./_...slugs_.5eaed52a.js"),[],import.meta.url).then(Zn=>Zn.default||Zn)},{name:"catalogue",path:"/catalogue",meta:{},alias:[],redirect:void 0,component:()=>__vitePreload(()=>import("./catalogue.045abc4f.js"),["./catalogue.045abc4f.js","./Loading.3bee84dc.js","./catalogue.492b4e1c.js","./catalogue.47b8d1f8.css","./warning_sign.ccff6bd9.js","./warning_sign.d392e129.css","./NodePath.8eeb8a2c.js","./catalogue.107de794.css"],import.meta.url).then(Zn=>Zn.default||Zn)},{name:"index",path:"/",meta:{},alias:[],redirect:void 0,component:()=>__vitePreload(()=>import("./index.9fc76d28.js"),["./index.9fc76d28.js","./CreateSystem.8156ec51.js","./CreateSystem.ea4932ba.css","./warning_sign.ccff6bd9.js","./warning_sign.d392e129.css","./right2.91afc9dd.js","./index.9565897b.css"],import.meta.url).then(Zn=>Zn.default||Zn)},{name:"scripts-id",path:"/scripts/:id()",meta:{},alias:[],redirect:void 0,component:()=>__vitePreload(()=>import("./_id_.be747b7d.js"),["./_id_.be747b7d.js","./catalogue.492b4e1c.js","./catalogue.47b8d1f8.css","./NodePath.8eeb8a2c.js","./right2.91afc9dd.js","./_id_.d483a3cb.css"],import.meta.url).then(Zn=>Zn.default||Zn)},{name:"search-id",path:"/search/:id()",meta:{},alias:[],redirect:void 0,component:()=>__vitePreload(()=>import("./_id_.171f1261.js"),["./_id_.171f1261.js","./NodePath.8eeb8a2c.js"],import.meta.url).then(Zn=>Zn.default||Zn)},{name:"system",path:"/system",meta:{},alias:[],redirect:void 0,component:()=>__vitePreload(()=>import("./system.177ae792.js"),["./system.177ae792.js","./CreateSystem.8156ec51.js","./CreateSystem.ea4932ba.css","./Loading.3bee84dc.js","./system.209c5aed.css"],import.meta.url).then(Zn=>Zn.default||Zn)}],routerOptions0={scrollBehavior(Zn,Jn,Xn){const Qn=useNuxtApp();let er=Xn||void 0;if(!er&&Jn&&Zn&&Zn.meta.scrollToTop!==!1&&_isDifferentRoute(Jn,Zn)&&(er={left:0,top:0}),Zn.path===Jn.path){if(Jn.hash&&!Zn.hash)return{left:0,top:0};if(Zn.hash)return{el:Zn.hash,top:_getHashElementScrollMarginTop(Zn.hash)}}const tr=rr=>!!(rr.meta.pageTransition??appPageTransition),nr=tr(Jn)&&tr(Zn)?"page:transition:finish":"page:finish";return new Promise(rr=>{Qn.hooks.hookOnce(nr,async()=>{await nextTick(),Zn.hash&&(er={el:Zn.hash,top:_getHashElementScrollMarginTop(Zn.hash)}),rr(er)})})}};function _getHashElementScrollMarginTop(Zn){try{const Jn=document.querySelector(Zn);if(Jn)return parseFloat(getComputedStyle(Jn).scrollMarginTop)}catch{}return 0}function _isDifferentRoute(Zn,Jn){const Xn=Zn.matched[0]===Jn.matched[0];return!!(!Xn||Xn&&JSON.stringify(Zn.params)!==JSON.stringify(Jn.params))}const configRouterOptions={},routerOptions={...configRouterOptions,...routerOptions0},validate=defineNuxtRouteMiddleware(async Zn=>{var sr;let Jn,Xn;if(!((sr=Zn.meta)!=null&&sr.validate))return;const Qn=useNuxtApp(),er=useRouter();if(([Jn,Xn]=executeAsync(()=>Promise.resolve(Zn.meta.validate(Zn))),Jn=await Jn,Xn(),Jn)===!0)return;const nr=createError({statusCode:404,statusMessage:`Page Not Found: ${Zn.fullPath}`}),rr=er.beforeResolve(ir=>{if(rr(),ir===Zn){const or=er.afterEach(async()=>{or(),await Qn.runWithContext(()=>showError(nr)),window.history.pushState({},"",Zn.fullPath)});return!1}})}),globalMiddleware=[validate],namedMiddleware={};function createCurrentLocation(Zn,Jn){const{pathname:Xn,search:Qn,hash:er}=Jn,tr=Zn.indexOf("#");if(tr>-1){const rr=er.includes(Zn.slice(tr))?Zn.slice(tr).length:1;let sr=er.slice(rr);return sr[0]!=="/"&&(sr="/"+sr),withoutBase(sr,"")}return withoutBase(Xn,Zn)+Qn+er}const plugin=defineNuxtPlugin({name:"nuxt:router",enforce:"pre",async setup(Zn){var ur,gr;let Jn,Xn,Qn=useRuntimeConfig().app.baseURL;routerOptions.hashMode&&!Qn.includes("#")&&(Qn+="#");const er=((ur=routerOptions.history)==null?void 0:ur.call(routerOptions,Qn))??(routerOptions.hashMode?createWebHashHistory(Qn):createWebHistory(Qn)),tr=((gr=routerOptions.routes)==null?void 0:gr.call(routerOptions,_routes))??_routes;let nr;const rr=createCurrentLocation(Qn,window.location),sr=createRouter({...routerOptions,scrollBehavior:(dr,fr,yr)=>{var _r;if(fr===START_LOCATION_NORMALIZED){nr=yr;return}return sr.options.scrollBehavior=routerOptions.scrollBehavior,(_r=routerOptions.scrollBehavior)==null?void 0:_r.call(routerOptions,dr,START_LOCATION_NORMALIZED,nr||yr)},history:er,routes:tr});Zn.vueApp.use(sr);const ir=shallowRef(sr.currentRoute.value);sr.afterEach((dr,fr)=>{ir.value=fr}),Object.defineProperty(Zn.vueApp.config.globalProperties,"previousRoute",{get:()=>ir.value});const or=shallowRef(sr.resolve(rr)),ar=()=>{or.value=sr.currentRoute.value};Zn.hook("page:finish",ar),sr.afterEach((dr,fr)=>{var yr,_r,vr,Er;((_r=(yr=dr.matched[0])==null?void 0:yr.components)==null?void 0:_r.default)===((Er=(vr=fr.matched[0])==null?void 0:vr.components)==null?void 0:Er.default)&&ar()});const lr={};for(const dr in or.value)lr[dr]=computed(()=>or.value[dr]);Zn._route=reactive(lr),Zn._middleware=Zn._middleware||{global:[],named:{}};const cr=useError();try{[Jn,Xn]=executeAsync(()=>sr.isReady()),await Jn,Xn()}catch(dr){[Jn,Xn]=executeAsync(()=>Zn.runWithContext(()=>showError(dr))),await Jn,Xn()}const pr=useState("_layout");return sr.beforeEach(async(dr,fr)=>{var yr;dr.meta=reactive(dr.meta),Zn.isHydrating&&pr.value&&!isReadonly(dr.meta.layout)&&(dr.meta.layout=pr.value),Zn._processingMiddleware=!0;{const _r=new Set([...globalMiddleware,...Zn._middleware.global]);for(const vr of dr.matched){const Er=vr.meta.middleware;if(Er)if(Array.isArray(Er))for(const kr of Er)_r.add(kr);else _r.add(Er)}for(const vr of _r){const Er=typeof vr=="string"?Zn._middleware.named[vr]||await((yr=namedMiddleware[vr])==null?void 0:yr.call(namedMiddleware).then(xr=>xr.default||xr)):vr;if(!Er)throw new Error(`Unknown route middleware: '${vr}'.`);const kr=await Zn.runWithContext(()=>Er(dr,fr));if(!Zn.payload.serverRendered&&Zn.isHydrating&&(kr===!1||kr instanceof Error)){const xr=kr||createError$1({statusCode:404,statusMessage:`Page Not Found: ${rr}`});return await Zn.runWithContext(()=>showError(xr)),!1}if(kr||kr===!1)return kr}}}),sr.onError(()=>{delete Zn._processingMiddleware}),sr.afterEach(async(dr,fr,yr)=>{delete Zn._processingMiddleware,!Zn.isHydrating&&cr.value&&await Zn.runWithContext(clearError),dr.matched.length===0&&await Zn.runWithContext(()=>showError(createError$1({statusCode:404,fatal:!1,statusMessage:`Page not found: ${dr.fullPath}`})))}),Zn.hooks.hookOnce("app:created",async()=>{try{await sr.replace({...sr.resolve(rr),name:void 0,force:!0}),sr.options.scrollBehavior=routerOptions.scrollBehavior}catch(dr){await Zn.runWithContext(()=>showError(dr))}}),{provide:{router:sr}}}},1),layouts={},prefetch_client_5tzzN0oIVL=defineNuxtPlugin({name:"nuxt:prefetch",setup(Zn){const Jn=useRouter();Zn.hooks.hook("app:mounted",()=>{Jn.beforeEach(async Xn=>{var er;const Qn=(er=Xn==null?void 0:Xn.meta)==null?void 0:er.layout;Qn&&typeof layouts[Qn]=="function"&&await layouts[Qn]()})}),Zn.hooks.hook("link:prefetch",Xn=>{var nr,rr,sr,ir;if(hasProtocol(Xn))return;const Qn=Jn.resolve(Xn);if(!Qn)return;const er=(nr=Qn==null?void 0:Qn.meta)==null?void 0:nr.layout;let tr=Array.isArray((rr=Qn==null?void 0:Qn.meta)==null?void 0:rr.middleware)?(sr=Qn==null?void 0:Qn.meta)==null?void 0:sr.middleware:[(ir=Qn==null?void 0:Qn.meta)==null?void 0:ir.middleware];tr=tr.filter(or=>typeof or=="string");for(const or of tr)typeof namedMiddleware[or]=="function"&&namedMiddleware[or]();er&&typeof layouts[er]=="function"&&layouts[er]()})}}),chunk_reload_client_UciE0i6zes=defineNuxtPlugin({name:"nuxt:chunk-reload",setup(Zn){const Jn=useRouter(),Xn=useRuntimeConfig(),Qn=new Set;Jn.beforeEach(()=>{Qn.clear()}),Zn.hook("app:chunkError",({error:er})=>{Qn.add(er)}),Jn.onError((er,tr)=>{if(Qn.has(er)){const rr="href"in tr&&tr.href.startsWith("#")?Xn.app.baseURL+tr.href:joinURL(Xn.app.baseURL,tr.fullPath);reloadNuxtApp({path:rr,persistState:!0})}})}}),payload_client_yVLowv6hDl=defineNuxtPlugin({name:"nuxt:payload",setup(Zn){isPrerendered()&&(Zn.hooks.hook("link:prefetch",async Jn=>{parseURL$1(Jn).protocol||await loadPayload(Jn)}),useRouter().beforeResolve(async(Jn,Xn)=>{if(Jn.path===Xn.path)return;const Qn=await loadPayload(Jn.path);Qn&&Object.assign(Zn.static.data,Qn.data)}))}}),usePersistedstateCookies=Zn=>({getItem:Jn=>useCookie(Jn,{...Zn,encode:encodeURIComponent,decode:decodeURIComponent}).value,setItem:(Jn,Xn)=>{useCookie(Jn,{...Zn,encode:encodeURIComponent,decode:decodeURIComponent}).value=Xn}}),usePersistedstateLocalStorage=()=>({getItem:Zn=>useNuxtApp().ssrContext?null:localStorage.getItem(Zn),setItem:(Zn,Jn)=>{useNuxtApp().ssrContext||localStorage.setItem(Zn,Jn)}}),usePersistedstateSessionStorage=()=>({getItem:Zn=>useNuxtApp().ssrContext?null:sessionStorage.getItem(Zn),setItem:(Zn,Jn)=>{useNuxtApp().ssrContext||sessionStorage.setItem(Zn,Jn)}}),persistedState={localStorage:usePersistedstateLocalStorage(),sessionStorage:usePersistedstateSessionStorage(),cookies:usePersistedstateCookies(),cookiesWithOptions:usePersistedstateCookies};function isObject$1(Zn){return typeof Zn=="object"&&Zn!==null}function normalizeOptions(Zn,Jn){return Zn=isObject$1(Zn)?Zn:Object.create(null),new Proxy(Zn,{get(Xn,Qn,er){return Qn==="key"?Reflect.get(Xn,Qn,er):Reflect.get(Xn,Qn,er)||Reflect.get(Jn,Qn,er)}})}function get(Zn,Jn){return Jn.reduce((Xn,Qn)=>Xn==null?void 0:Xn[Qn],Zn)}function set(Zn,Jn,Xn){return Jn.slice(0,-1).reduce((Qn,er)=>/^(__proto__)$/.test(er)?{}:Qn[er]=Qn[er]||{},Zn)[Jn[Jn.length-1]]=Xn,Zn}function pick(Zn,Jn){return Jn.reduce((Xn,Qn)=>{const er=Qn.split(".");return set(Xn,er,get(Zn,er))},{})}function hydrateStore(Zn,{storage:Jn,serializer:Xn,key:Qn,debug:er}){try{const tr=Jn==null?void 0:Jn.getItem(Qn);tr&&Zn.$patch(Xn==null?void 0:Xn.deserialize(tr))}catch(tr){er&&console.error(tr)}}function persistState(Zn,{storage:Jn,serializer:Xn,key:Qn,paths:er,debug:tr}){try{const nr=Array.isArray(er)?pick(Zn,er):Zn;Jn.setItem(Qn,Xn.serialize(nr))}catch(nr){tr&&console.error(nr)}}function createPersistedState(Zn={}){return Jn=>{const{auto:Xn=!1}=Zn,{options:{persist:Qn=Xn},store:er}=Jn;if(!Qn)return;const tr=(Array.isArray(Qn)?Qn.map(nr=>normalizeOptions(nr,Zn)):[normalizeOptions(Qn,Zn)]).map(({storage:nr=localStorage,beforeRestore:rr=null,afterRestore:sr=null,serializer:ir={serialize:JSON.stringify,deserialize:JSON.parse},key:or=er.$id,paths:ar=null,debug:lr=!1})=>{var cr;return{storage:nr,beforeRestore:rr,afterRestore:sr,serializer:ir,key:((cr=Zn.key)!=null?cr:pr=>pr)(or),paths:ar,debug:lr}});er.$persist=()=>{tr.forEach(nr=>{persistState(er.$state,nr)})},er.$hydrate=({runHooks:nr=!0}={})=>{tr.forEach(rr=>{const{beforeRestore:sr,afterRestore:ir}=rr;nr&&(sr==null||sr(Jn)),hydrateStore(er,rr),nr&&(ir==null||ir(Jn))})},tr.forEach(nr=>{const{beforeRestore:rr,afterRestore:sr}=nr;rr==null||rr(Jn),hydrateStore(er,nr),sr==null||sr(Jn),er.$subscribe((ir,or)=>{persistState(or,nr)},{detached:!0})})}}const plugin_1UohGbtF8v=defineNuxtPlugin(Zn=>{const{cookieOptions:Jn,debug:Xn,storage:Qn}=useRuntimeConfig().public.persistedState;Zn.$pinia.use(createPersistedState({storage:Qn==="cookies"?persistedState.cookiesWithOptions(Jn):persistedState[Qn],debug:Xn}))});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Zn){return Zn&&Zn.__esModule&&Object.prototype.hasOwnProperty.call(Zn,"default")?Zn.default:Zn}var vClickOutside_umd={exports:{}};(function(Zn,Jn){(function(Xn,Qn){Zn.exports=Qn()})(commonjsGlobal,function(){var Xn="__v-click-outside",Qn=typeof window<"u",er=typeof navigator<"u",tr=Qn&&("ontouchstart"in window||er&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],nr=function(or){var ar=or.event,lr=or.handler;(0,or.middleware)(ar)&&lr(ar)},rr=function(or,ar){var lr=function(fr){var yr=typeof fr=="function";if(!yr&&typeof fr!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:yr?fr:fr.handler,middleware:fr.middleware||function(_r){return _r},events:fr.events||tr,isActive:fr.isActive!==!1,detectIframe:fr.detectIframe!==!1,capture:!!fr.capture}}(ar.value),cr=lr.handler,pr=lr.middleware,ur=lr.detectIframe,gr=lr.capture;if(lr.isActive){if(or[Xn]=lr.events.map(function(fr){return{event:fr,srcTarget:document.documentElement,handler:function(yr){return function(_r){var vr=_r.el,Er=_r.event,kr=_r.handler,xr=_r.middleware,Cr=Er.path||Er.composedPath&&Er.composedPath();(Cr?Cr.indexOf(vr)<0:!vr.contains(Er.target))&&nr({event:Er,handler:kr,middleware:xr})}({el:or,event:yr,handler:cr,middleware:pr})},capture:gr}}),ur){var dr={event:"blur",srcTarget:window,handler:function(fr){return function(yr){var _r=yr.el,vr=yr.event,Er=yr.handler,kr=yr.middleware;setTimeout(function(){var xr=document.activeElement;xr&&xr.tagName==="IFRAME"&&!_r.contains(xr)&&nr({event:vr,handler:Er,middleware:kr})},0)}({el:or,event:fr,handler:cr,middleware:pr})},capture:gr};or[Xn]=[].concat(or[Xn],[dr])}or[Xn].forEach(function(fr){var yr=fr.event,_r=fr.srcTarget,vr=fr.handler;return setTimeout(function(){or[Xn]&&_r.addEventListener(yr,vr,gr)},0)})}},sr=function(or){(or[Xn]||[]).forEach(function(ar){return ar.srcTarget.removeEventListener(ar.event,ar.handler,ar.capture)}),delete or[Xn]},ir=Qn?{beforeMount:rr,updated:function(or,ar){var lr=ar.value,cr=ar.oldValue;JSON.stringify(lr)!==JSON.stringify(cr)&&(sr(or),rr(or,{value:lr}))},unmounted:sr}:{};return{install:function(or){or.directive("click-outside",ir)},directive:ir}})})(vClickOutside_umd);var vClickOutside_umdExports=vClickOutside_umd.exports;const vClickOutside=getDefaultExportFromCjs(vClickOutside_umdExports);function M$1(Zn){return{all:Zn=Zn||new Map,on:function(Jn,Xn){var Qn=Zn.get(Jn);Qn?Qn.push(Xn):Zn.set(Jn,[Xn])},off:function(Jn,Xn){var Qn=Zn.get(Jn);Qn&&(Xn?Qn.splice(Qn.indexOf(Xn)>>>0,1):Zn.set(Jn,[]))},emit:function(Jn,Xn){var Qn=Zn.get(Jn);Qn&&Qn.slice().map(function(er){er(Xn)}),(Qn=Zn.get("*"))&&Qn.slice().map(function(er){er(Jn,Xn)})}}}const d$1=M$1(),C$1=new Map,w$1={x:["left","center","right"],y:["top","bottom"]},R$1=(Zn=>()=>Zn++)(0),V$1=Zn=>typeof Zn!="string"?[]:Zn.split(/\s+/gi).filter(Jn=>Jn),W$1=Zn=>{typeof Zn=="string"&&(Zn=V$1(Zn));let Jn=null,Xn=null;return Zn.forEach(Qn=>{w$1.y.indexOf(Qn)!==-1&&(Xn=Qn),w$1.x.indexOf(Qn)!==-1&&(Jn=Qn)}),{x:Jn,y:Xn}};let Y$1=class{constructor(Jn,Xn,Qn){this.remaining=Xn,this.callback=Jn,this.notifyItem=Qn,this.resume()}pause(){clearTimeout(this.notifyItem.timer),this.remaining-=Date.now()-this.start}resume(){this.start=Date.now(),clearTimeout(this.notifyItem.timer),this.notifyItem.timer=setTimeout(this.callback,this.remaining)}};const m$1={position:["top","right"],cssAnimation:"vn-fade",velocityAnimation:{enter:Zn=>({height:[Zn.clientHeight,0],opacity:[1,0]}),leave:{height:0,opacity:[0,1]}}},j$1=defineComponent({name:"velocity-group",emits:["after-leave","leave","enter"],methods:{enter(Zn,Jn){this.$emit("enter",Zn,Jn)},leave(Zn,Jn){this.$emit("leave",Zn,Jn)},afterLeave(){this.$emit("after-leave")}}}),v$1=(Zn,Jn)=>{const Xn=Zn.__vccOpts||Zn;for(const[Qn,er]of Jn)Xn[Qn]=er;return Xn};function G$1(Zn,Jn,Xn,Qn,er,tr){return openBlock(),createBlock(TransitionGroup,{tag:"span",css:!1,onEnter:Zn.enter,onLeave:Zn.leave,onAfterLeave:Zn.afterLeave},{default:withCtx(()=>[renderSlot(Zn.$slots,"default")]),_:3},8,["onEnter","onLeave","onAfterLeave"])}const z$1=v$1(j$1,[["render",G$1]]),F$1=defineComponent({name:"css-group",inheritAttrs:!1,props:{name:{type:String,required:!0}}});function P$1(Zn,Jn,Xn,Qn,er,tr){return openBlock(),createBlock(TransitionGroup,{tag:"span",name:Zn.name},{default:withCtx(()=>[renderSlot(Zn.$slots,"default")]),_:3},8,["name"])}const q$1=v$1(F$1,[["render",P$1]]),h$1="[-+]?[0-9]*.?[0-9]+",L$1=[{name:"px",regexp:new RegExp(`^${h$1}px$`)},{name:"%",regexp:new RegExp(`^${h$1}%$`)},{name:"px",regexp:new RegExp(`^${h$1}$`)}],J$1=Zn=>{if(Zn==="auto")return{type:Zn,value:0};for(let Jn=0;Jn<L$1.length;Jn++){const Xn=L$1[Jn];if(Xn.regexp.test(Zn))return{type:Xn.name,value:parseFloat(Zn)}}return{type:"",value:Zn}},K$1=Zn=>{switch(typeof Zn){case"number":return{type:"px",value:Zn};case"string":return J$1(Zn);default:return{type:"",value:Zn}}},f$1={IDLE:0,DESTROYED:2},Q$1=defineComponent({name:"notifications",components:{VelocityGroup:z$1,CssGroup:q$1},props:{group:{type:String,default:""},width:{type:[Number,String],default:300},reverse:{type:Boolean,default:!1},position:{type:[String,Array],default:m$1.position},classes:{type:String,default:"vue-notification"},animationType:{type:String,default:"css"},animation:{type:Object,default:m$1.velocityAnimation},animationName:{type:String,default:m$1.cssAnimation},speed:{type:Number,default:300},cooldown:{type:Number,default:0},duration:{type:Number,default:3e3},delay:{type:Number,default:0},max:{type:Number,default:1/0},ignoreDuplicates:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0},pauseOnHover:{type:Boolean,default:!1}},emits:["click","destroy","start"],data(){return{list:[],velocity:C$1.get("velocity"),timerControl:null}},computed:{actualWidth(){return K$1(this.width)},isVA(){return this.animationType==="velocity"},componentName(){return this.isVA?"velocity-group":"css-group"},styles(){const{x:Zn,y:Jn}=W$1(this.position),Xn=this.actualWidth.value,Qn=this.actualWidth.type,er={width:Xn+Qn};return Jn&&(er[Jn]="0px"),Zn&&(Zn==="center"?er.left=`calc(50% - ${+Xn/2}${Qn})`:er[Zn]="0px"),er},active(){return this.list.filter(Zn=>Zn.state!==f$1.DESTROYED)},botToTop(){return this.styles.hasOwnProperty("bottom")}},mounted(){d$1.on("add",this.addItem),d$1.on("close",this.closeItem)},methods:{destroyIfNecessary(Zn){this.$emit("click",Zn),this.closeOnClick&&this.destroy(Zn)},pauseTimeout(){var Zn;this.pauseOnHover&&((Zn=this.timerControl)==null||Zn.pause())},resumeTimeout(){var Zn;this.pauseOnHover&&((Zn=this.timerControl)==null||Zn.resume())},addItem(Zn={}){if(Zn.group||(Zn.group=""),Zn.data||(Zn.data={}),this.group!==Zn.group)return;if(Zn.clean||Zn.clear){this.destroyAll();return}const Jn=typeof Zn.duration=="number"?Zn.duration:this.duration,Xn=typeof Zn.speed=="number"?Zn.speed:this.speed,Qn=typeof Zn.ignoreDuplicates=="boolean"?Zn.ignoreDuplicates:this.ignoreDuplicates,{title:er,text:tr,type:nr,data:rr,id:sr}=Zn,ir={id:sr||R$1(),title:er,text:tr,type:nr,state:f$1.IDLE,speed:Xn,length:Jn+2*Xn,data:rr};Jn>=0&&(this.timerControl=new Y$1(()=>this.destroy(ir),ir.length,ir));const or=this.reverse?!this.botToTop:this.botToTop;let ar=-1;const lr=this.active.some(cr=>cr.title===Zn.title&&cr.text===Zn.text);(!Qn||!lr)&&(or?(this.list.push(ir),this.$emit("start",ir),this.active.length>this.max&&(ar=0)):(this.list.unshift(ir),this.$emit("start",ir),this.active.length>this.max&&(ar=this.active.length-1)),ar!==-1&&this.destroy(this.active[ar]))},closeItem(Zn){this.destroyById(Zn)},notifyClass(Zn){return["vue-notification-template",this.classes,Zn.type||""]},notifyWrapperStyle(Zn){return this.isVA?void 0:{transition:`all ${Zn.speed}ms`}},destroy(Zn){clearTimeout(Zn.timer),Zn.state=f$1.DESTROYED,this.clean(),this.$emit("destroy",Zn)},destroyById(Zn){const Jn=this.list.find(Xn=>Xn.id===Zn);Jn&&this.destroy(Jn)},destroyAll(){this.active.forEach(this.destroy)},getAnimation(Zn,Jn){var Xn;const Qn=(Xn=this.animation)==null?void 0:Xn[Zn];return typeof Qn=="function"?Qn.call(this,Jn):Qn},enter(Zn,Jn){if(!this.isVA)return;const Xn=this.getAnimation("enter",Zn);this.velocity(Zn,Xn,{duration:this.speed,complete:Jn})},leave(Zn,Jn){if(!this.isVA)return;const Xn=this.getAnimation("leave",Zn);this.velocity(Zn,Xn,{duration:this.speed,complete:Jn})},clean(){this.list=this.list.filter(Zn=>Zn.state!==f$1.DESTROYED)}}}),U$2=["data-id"],X$1=["onClick"],Z$1=["innerHTML"],tt$1=["innerHTML"];function et$1(Zn,Jn,Xn,Qn,er,tr){return openBlock(),createElementBlock("div",{class:"vue-notification-group",style:normalizeStyle(Zn.styles)},[(openBlock(),createBlock(resolveDynamicComponent(Zn.componentName),{name:Zn.animationName,onEnter:Zn.enter,onLeave:Zn.leave,onAfterLeave:Zn.clean},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Zn.active,nr=>(openBlock(),createElementBlock("div",{key:nr.id,class:"vue-notification-wrapper",style:normalizeStyle(Zn.notifyWrapperStyle(nr)),"data-id":nr.id,onMouseenter:Jn[0]||(Jn[0]=(...rr)=>Zn.pauseTimeout&&Zn.pauseTimeout(...rr)),onMouseleave:Jn[1]||(Jn[1]=(...rr)=>Zn.resumeTimeout&&Zn.resumeTimeout(...rr))},[renderSlot(Zn.$slots,"body",{class:normalizeClass([Zn.classes,nr.type]),item:nr,close:()=>Zn.destroy(nr)},()=>[createBaseVNode("div",{class:normalizeClass(Zn.notifyClass(nr)),onClick:rr=>Zn.destroyIfNecessary(nr)},[nr.title?(openBlock(),createElementBlock("div",{key:0,class:"notification-title",innerHTML:nr.title},null,8,Z$1)):createCommentVNode("",!0),createBaseVNode("div",{class:"notification-content",innerHTML:nr.text},null,8,tt$1)],10,X$1)])],44,U$2))),128))]),_:3},40,["name","onEnter","onLeave","onAfterLeave"]))],4)}const it$1=v$1(Q$1,[["render",et$1]]),A$1=Zn=>{typeof Zn=="string"&&(Zn={title:"",text:Zn}),typeof Zn=="object"&&d$1.emit("add",Zn)};A$1.close=Zn=>{d$1.emit("close",Zn)};function st$1(Zn,Jn={}){Object.entries(Jn).forEach(Qn=>C$1.set(...Qn));const Xn=Jn.name||"notify";Zn.config.globalProperties["$"+Xn]=A$1,Zn.component(Jn.componentName||"Notifications",it$1)}const at$1={install:st$1};(function(){var Zn;try{if(typeof document<"u"){var Jn=document.createElement("style");Jn.nonce=(Zn=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:Zn.content,Jn.appendChild(document.createTextNode(".vue-notification-group{display:block;position:fixed;z-index:5000}.vue-notification-wrapper{display:block;overflow:hidden;width:100%;margin:0;padding:0}.notification-title{font-weight:600}.vue-notification-template{display:block;box-sizing:border-box;background:white;text-align:left}.vue-notification{display:block;box-sizing:border-box;text-align:left;font-size:12px;padding:10px;margin:0 5px 5px;color:#fff;background:#44A4FC;border-left:5px solid #187FE7}.vue-notification.warn{background:#ffb648;border-left-color:#f48a06}.vue-notification.error{background:#E54D42;border-left-color:#b82e24}.vue-notification.success{background:#68CD86;border-left-color:#42a85f}.vn-fade-enter-active,.vn-fade-leave-active,.vn-fade-move{transition:all .5s}.vn-fade-enter-from,.vn-fade-leave-to{opacity:0}")),document.head.appendChild(Jn)}}catch(Xn){console.error("vite-plugin-css-injected-by-js",Xn)}})();function setAppearanceFont(Zn,Jn,Xn="sans-serif",Qn=16){const er=`font${Jn}`,tr=`font${Jn}Size`;let nr=Zn[er]||"sans-serif";document.documentElement.style.setProperty(`--${er}`,nr||Xn),document.documentElement.style.setProperty(`--${tr}`,(Zn[tr]||Qn)+"px")}var lodash_merge={exports:{}};lodash_merge.exports;(function(Zn,Jn){var Xn=200,Qn="__lodash_hash_undefined__",er=800,tr=16,nr=9007199254740991,rr="[object Arguments]",sr="[object Array]",ir="[object AsyncFunction]",or="[object Boolean]",ar="[object Date]",lr="[object Error]",cr="[object Function]",pr="[object GeneratorFunction]",ur="[object Map]",gr="[object Number]",dr="[object Null]",fr="[object Object]",yr="[object Proxy]",_r="[object RegExp]",vr="[object Set]",Er="[object String]",kr="[object Undefined]",xr="[object WeakMap]",Cr="[object ArrayBuffer]",Lr="[object DataView]",Vr="[object Float32Array]",wr="[object Float64Array]",$r="[object Int8Array]",mr="[object Int16Array]",jr="[object Int32Array]",Qr="[object Uint8Array]",Hr="[object Uint8ClampedArray]",rs="[object Uint16Array]",Xr="[object Uint32Array]",ls=/[\\^$.*+?()[\]{}|]/g,zr=/^\[object .+?Constructor\]$/,Ur=/^(?:0|[1-9]\d*)$/,ns={};ns[Vr]=ns[wr]=ns[$r]=ns[mr]=ns[jr]=ns[Qr]=ns[Hr]=ns[rs]=ns[Xr]=!0,ns[rr]=ns[sr]=ns[Cr]=ns[or]=ns[Lr]=ns[ar]=ns[lr]=ns[cr]=ns[ur]=ns[gr]=ns[fr]=ns[_r]=ns[vr]=ns[Er]=ns[xr]=!1;var is=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ts=typeof self=="object"&&self&&self.Object===Object&&self,fs=is||ts||Function("return this")(),Gr=Jn&&!Jn.nodeType&&Jn,Yr=Gr&&!0&&Zn&&!Zn.nodeType&&Zn,Jr=Yr&&Yr.exports===Gr,ss=Jr&&is.process,cs=function(){try{var Sr=Yr&&Yr.require&&Yr.require("util").types;return Sr||ss&&ss.binding&&ss.binding("util")}catch{}}(),Ir=cs&&cs.isTypedArray;function Pr(Sr,Fr,Kr){switch(Kr.length){case 0:return Sr.call(Fr);case 1:return Sr.call(Fr,Kr[0]);case 2:return Sr.call(Fr,Kr[0],Kr[1]);case 3:return Sr.call(Fr,Kr[0],Kr[1],Kr[2])}return Sr.apply(Fr,Kr)}function hr(Sr,Fr){for(var Kr=-1,as=Array(Sr);++Kr<Sr;)as[Kr]=Fr(Kr);return as}function Rr(Sr){return function(Fr){return Sr(Fr)}}function Or(Sr,Fr){return Sr==null?void 0:Sr[Fr]}function br(Sr,Fr){return function(Kr){return Sr(Fr(Kr))}}var Ar=Array.prototype,Tr=Function.prototype,Mr=Object.prototype,Br=fs["__core-js_shared__"],Nr=Tr.toString,Dr=Mr.hasOwnProperty,qr=function(){var Sr=/[^.]+$/.exec(Br&&Br.keys&&Br.keys.IE_PROTO||"");return Sr?"Symbol(src)_1."+Sr:""}(),Wr=Mr.toString,es=Nr.call(Object),us=RegExp("^"+Nr.call(Dr).replace(ls,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),os=Jr?fs.Buffer:void 0,ds=fs.Symbol,bs=fs.Uint8Array,As=os?os.allocUnsafe:void 0,Cs=br(Object.getPrototypeOf,Object),gs=Object.create,Ts=Mr.propertyIsEnumerable,ws=Ar.splice,ms=ds?ds.toStringTag:void 0,Ss=function(){try{var Sr=Ws(Object,"defineProperty");return Sr({},"",{}),Sr}catch{}}(),Hs=os?os.isBuffer:void 0,Ms=Math.max,Vs=Date.now,$s=Ws(fs,"Map"),xs=Ws(Object,"create"),Ps=function(){function Sr(){}return function(Fr){if(!Rs(Fr))return{};if(gs)return gs(Fr);Sr.prototype=Fr;var Kr=new Sr;return Sr.prototype=void 0,Kr}}();function Os(Sr){var Fr=-1,Kr=Sr==null?0:Sr.length;for(this.clear();++Fr<Kr;){var as=Sr[Fr];this.set(as[0],as[1])}}function fi(){this.__data__=xs?xs(null):{},this.size=0}function di(Sr){var Fr=this.has(Sr)&&delete this.__data__[Sr];return this.size-=Fr?1:0,Fr}function hi(Sr){var Fr=this.__data__;if(xs){var Kr=Fr[Sr];return Kr===Qn?void 0:Kr}return Dr.call(Fr,Sr)?Fr[Sr]:void 0}function pi(Sr){var Fr=this.__data__;return xs?Fr[Sr]!==void 0:Dr.call(Fr,Sr)}function gi(Sr,Fr){var Kr=this.__data__;return this.size+=this.has(Sr)?0:1,Kr[Sr]=xs&&Fr===void 0?Qn:Fr,this}Os.prototype.clear=fi,Os.prototype.delete=di,Os.prototype.get=hi,Os.prototype.has=pi,Os.prototype.set=gi;function Is(Sr){var Fr=-1,Kr=Sr==null?0:Sr.length;for(this.clear();++Fr<Kr;){var as=Sr[Fr];this.set(as[0],as[1])}}function mi(){this.__data__=[],this.size=0}function yi(Sr){var Fr=this.__data__,Kr=Us(Fr,Sr);if(Kr<0)return!1;var as=Fr.length-1;return Kr==as?Fr.pop():ws.call(Fr,Kr,1),--this.size,!0}function _i(Sr){var Fr=this.__data__,Kr=Us(Fr,Sr);return Kr<0?void 0:Fr[Kr][1]}function vi(Sr){return Us(this.__data__,Sr)>-1}function bi(Sr,Fr){var Kr=this.__data__,as=Us(Kr,Sr);return as<0?(++this.size,Kr.push([Sr,Fr])):Kr[as][1]=Fr,this}Is.prototype.clear=mi,Is.prototype.delete=yi,Is.prototype.get=_i,Is.prototype.has=vi,Is.prototype.set=bi;function Ns(Sr){var Fr=-1,Kr=Sr==null?0:Sr.length;for(this.clear();++Fr<Kr;){var as=Sr[Fr];this.set(as[0],as[1])}}function Ai(){this.size=0,this.__data__={hash:new Os,map:new($s||Is),string:new Os}}function wi(Sr){var Fr=zs(this,Sr).delete(Sr);return this.size-=Fr?1:0,Fr}function Ei(Sr){return zs(this,Sr).get(Sr)}function ki(Sr){return zs(this,Sr).has(Sr)}function Ci(Sr,Fr){var Kr=zs(this,Sr),as=Kr.size;return Kr.set(Sr,Fr),this.size+=Kr.size==as?0:1,this}Ns.prototype.clear=Ai,Ns.prototype.delete=wi,Ns.prototype.get=Ei,Ns.prototype.has=ki,Ns.prototype.set=Ci;function Bs(Sr){var Fr=this.__data__=new Is(Sr);this.size=Fr.size}function xi(){this.__data__=new Is,this.size=0}function Si(Sr){var Fr=this.__data__,Kr=Fr.delete(Sr);return this.size=Fr.size,Kr}function Ti(Sr){return this.__data__.get(Sr)}function Ii(Sr){return this.__data__.has(Sr)}function Oi(Sr,Fr){var Kr=this.__data__;if(Kr instanceof Is){var as=Kr.__data__;if(!$s||as.length<Xn-1)return as.push([Sr,Fr]),this.size=++Kr.size,this;Kr=this.__data__=new Ns(as)}return Kr.set(Sr,Fr),this.size=Kr.size,this}Bs.prototype.clear=xi,Bs.prototype.delete=Si,Bs.prototype.get=Ti,Bs.prototype.has=Ii,Bs.prototype.set=Oi;function Ri(Sr,Fr){var Kr=Js(Sr),as=!Kr&&Zs(Sr),ps=!Kr&&!as&&ii(Sr),ys=!Kr&&!as&&!ps&&ai(Sr),_s=Kr||as||ps||ys,hs=_s?hr(Sr.length,String):[],vs=hs.length;for(var ks in Sr)(Fr||Dr.call(Sr,ks))&&!(_s&&(ks=="length"||ps&&(ks=="offset"||ks=="parent")||ys&&(ks=="buffer"||ks=="byteLength"||ks=="byteOffset")||ri(ks,vs)))&&hs.push(ks);return hs}function Ks(Sr,Fr,Kr){(Kr!==void 0&&!js(Sr[Fr],Kr)||Kr===void 0&&!(Fr in Sr))&&Gs(Sr,Fr,Kr)}function Pi(Sr,Fr,Kr){var as=Sr[Fr];(!(Dr.call(Sr,Fr)&&js(as,Kr))||Kr===void 0&&!(Fr in Sr))&&Gs(Sr,Fr,Kr)}function Us(Sr,Fr){for(var Kr=Sr.length;Kr--;)if(js(Sr[Kr][0],Fr))return Kr;return-1}function Gs(Sr,Fr,Kr){Fr=="__proto__"&&Ss?Ss(Sr,Fr,{configurable:!0,enumerable:!0,value:Kr,writable:!0}):Sr[Fr]=Kr}var Ni=Gi();function Ds(Sr){return Sr==null?Sr===void 0?kr:dr:ms&&ms in Object(Sr)?Wi(Sr):Qi(Sr)}function ti(Sr){return Ls(Sr)&&Ds(Sr)==rr}function Bi(Sr){if(!Rs(Sr)||Yi(Sr))return!1;var Fr=Xs(Sr)?us:zr;return Fr.test(ro(Sr))}function $i(Sr){return Ls(Sr)&&oi(Sr.length)&&!!ns[Ds(Sr)]}function Li(Sr){if(!Rs(Sr))return Xi(Sr);var Fr=si(Sr),Kr=[];for(var as in Sr)as=="constructor"&&(Fr||!Dr.call(Sr,as))||Kr.push(as);return Kr}function ni(Sr,Fr,Kr,as,ps){Sr!==Fr&&Ni(Fr,function(ys,_s){if(ps||(ps=new Bs),Rs(ys))Fi(Sr,Fr,_s,Kr,ni,as,ps);else{var hs=as?as(qs(Sr,_s),ys,_s+"",Sr,Fr,ps):void 0;hs===void 0&&(hs=ys),Ks(Sr,_s,hs)}},li)}function Fi(Sr,Fr,Kr,as,ps,ys,_s){var hs=qs(Sr,Kr),vs=qs(Fr,Kr),ks=_s.get(vs);if(ks){Ks(Sr,Kr,ks);return}var Es=ys?ys(hs,vs,Kr+"",Sr,Fr,_s):void 0,Fs=Es===void 0;if(Fs){var Qs=Js(vs),ei=!Qs&&ii(vs),ui=!Qs&&!ei&&ai(vs);Es=vs,Qs||ei||ui?Js(hs)?Es=hs:so(hs)?Es=Hi(hs):ei?(Fs=!1,Es=Di(vs,!0)):ui?(Fs=!1,Es=ji(vs,!0)):Es=[]:io(vs)||Zs(vs)?(Es=hs,Zs(hs)?Es=oo(hs):(!Rs(hs)||Xs(hs))&&(Es=qi(vs))):Fs=!1}Fs&&(_s.set(vs,Es),ps(Es,vs,as,ys,_s),_s.delete(vs)),Ks(Sr,Kr,Es)}function Mi(Sr,Fr){return to(eo(Sr,Fr,ci),Sr+"")}var Ui=Ss?function(Sr,Fr){return Ss(Sr,"toString",{configurable:!0,enumerable:!1,value:lo(Fr),writable:!0})}:ci;function Di(Sr,Fr){if(Fr)return Sr.slice();var Kr=Sr.length,as=As?As(Kr):new Sr.constructor(Kr);return Sr.copy(as),as}function zi(Sr){var Fr=new Sr.constructor(Sr.byteLength);return new bs(Fr).set(new bs(Sr)),Fr}function ji(Sr,Fr){var Kr=Fr?zi(Sr.buffer):Sr.buffer;return new Sr.constructor(Kr,Sr.byteOffset,Sr.length)}function Hi(Sr,Fr){var Kr=-1,as=Sr.length;for(Fr||(Fr=Array(as));++Kr<as;)Fr[Kr]=Sr[Kr];return Fr}function Vi(Sr,Fr,Kr,as){var ps=!Kr;Kr||(Kr={});for(var ys=-1,_s=Fr.length;++ys<_s;){var hs=Fr[ys],vs=as?as(Kr[hs],Sr[hs],hs,Kr,Sr):void 0;vs===void 0&&(vs=Sr[hs]),ps?Gs(Kr,hs,vs):Pi(Kr,hs,vs)}return Kr}function Ki(Sr){return Mi(function(Fr,Kr){var as=-1,ps=Kr.length,ys=ps>1?Kr[ps-1]:void 0,_s=ps>2?Kr[2]:void 0;for(ys=Sr.length>3&&typeof ys=="function"?(ps--,ys):void 0,_s&&Zi(Kr[0],Kr[1],_s)&&(ys=ps<3?void 0:ys,ps=1),Fr=Object(Fr);++as<ps;){var hs=Kr[as];hs&&Sr(Fr,hs,as,ys)}return Fr})}function Gi(Sr){return function(Fr,Kr,as){for(var ps=-1,ys=Object(Fr),_s=as(Fr),hs=_s.length;hs--;){var vs=_s[Sr?hs:++ps];if(Kr(ys[vs],vs,ys)===!1)break}return Fr}}function zs(Sr,Fr){var Kr=Sr.__data__;return Ji(Fr)?Kr[typeof Fr=="string"?"string":"hash"]:Kr.map}function Ws(Sr,Fr){var Kr=Or(Sr,Fr);return Bi(Kr)?Kr:void 0}function Wi(Sr){var Fr=Dr.call(Sr,ms),Kr=Sr[ms];try{Sr[ms]=void 0;var as=!0}catch{}var ps=Wr.call(Sr);return as&&(Fr?Sr[ms]=Kr:delete Sr[ms]),ps}function qi(Sr){return typeof Sr.constructor=="function"&&!si(Sr)?Ps(Cs(Sr)):{}}function ri(Sr,Fr){var Kr=typeof Sr;return Fr=Fr??nr,!!Fr&&(Kr=="number"||Kr!="symbol"&&Ur.test(Sr))&&Sr>-1&&Sr%1==0&&Sr<Fr}function Zi(Sr,Fr,Kr){if(!Rs(Kr))return!1;var as=typeof Fr;return(as=="number"?Ys(Kr)&&ri(Fr,Kr.length):as=="string"&&Fr in Kr)?js(Kr[Fr],Sr):!1}function Ji(Sr){var Fr=typeof Sr;return Fr=="string"||Fr=="number"||Fr=="symbol"||Fr=="boolean"?Sr!=="__proto__":Sr===null}function Yi(Sr){return!!qr&&qr in Sr}function si(Sr){var Fr=Sr&&Sr.constructor,Kr=typeof Fr=="function"&&Fr.prototype||Mr;return Sr===Kr}function Xi(Sr){var Fr=[];if(Sr!=null)for(var Kr in Object(Sr))Fr.push(Kr);return Fr}function Qi(Sr){return Wr.call(Sr)}function eo(Sr,Fr,Kr){return Fr=Ms(Fr===void 0?Sr.length-1:Fr,0),function(){for(var as=arguments,ps=-1,ys=Ms(as.length-Fr,0),_s=Array(ys);++ps<ys;)_s[ps]=as[Fr+ps];ps=-1;for(var hs=Array(Fr+1);++ps<Fr;)hs[ps]=as[ps];return hs[Fr]=Kr(_s),Pr(Sr,this,hs)}}function qs(Sr,Fr){if(!(Fr==="constructor"&&typeof Sr[Fr]=="function")&&Fr!="__proto__")return Sr[Fr]}var to=no(Ui);function no(Sr){var Fr=0,Kr=0;return function(){var as=Vs(),ps=tr-(as-Kr);if(Kr=as,ps>0){if(++Fr>=er)return arguments[0]}else Fr=0;return Sr.apply(void 0,arguments)}}function ro(Sr){if(Sr!=null){try{return Nr.call(Sr)}catch{}try{return Sr+""}catch{}}return""}function js(Sr,Fr){return Sr===Fr||Sr!==Sr&&Fr!==Fr}var Zs=ti(function(){return arguments}())?ti:function(Sr){return Ls(Sr)&&Dr.call(Sr,"callee")&&!Ts.call(Sr,"callee")},Js=Array.isArray;function Ys(Sr){return Sr!=null&&oi(Sr.length)&&!Xs(Sr)}function so(Sr){return Ls(Sr)&&Ys(Sr)}var ii=Hs||co;function Xs(Sr){if(!Rs(Sr))return!1;var Fr=Ds(Sr);return Fr==cr||Fr==pr||Fr==ir||Fr==yr}function oi(Sr){return typeof Sr=="number"&&Sr>-1&&Sr%1==0&&Sr<=nr}function Rs(Sr){var Fr=typeof Sr;return Sr!=null&&(Fr=="object"||Fr=="function")}function Ls(Sr){return Sr!=null&&typeof Sr=="object"}function io(Sr){if(!Ls(Sr)||Ds(Sr)!=fr)return!1;var Fr=Cs(Sr);if(Fr===null)return!0;var Kr=Dr.call(Fr,"constructor")&&Fr.constructor;return typeof Kr=="function"&&Kr instanceof Kr&&Nr.call(Kr)==es}var ai=Ir?Rr(Ir):$i;function oo(Sr){return Vi(Sr,li(Sr))}function li(Sr){return Ys(Sr)?Ri(Sr,!0):Li(Sr)}var ao=Ki(function(Sr,Fr,Kr){ni(Sr,Fr,Kr)});function lo(Sr){return function(){return Sr}}function ci(Sr){return Sr}function co(){return!1}Zn.exports=ao})(lodash_merge,lodash_merge.exports);var lodash_mergeExports=lodash_merge.exports;const merge=getDefaultExportFromCjs(lodash_mergeExports);function hexToRgb(Zn){const Jn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Zn);return Jn?{r:parseInt(Jn[1],16),g:parseInt(Jn[2],16),b:parseInt(Jn[3],16)}:null}async function updateCssVars(Zn,Jn){const Xn=document.documentElement;if(Zn.dark?Xn.classList.add("dark"):Xn.classList.remove("dark"),Zn.background){const er=hexToRgb(Zn.background);if(document.documentElement.style.setProperty("--bg",Zn.background),document.documentElement.style.setProperty("--popups_background",Zn.background),er!=null)for(const tr in er)document.documentElement.style.setProperty(`--bg-${tr}`,`${er[tr]}`)}if(Zn.title&&document.documentElement.style.setProperty("--title",Zn.title),Zn.forcesBackground?document.documentElement.style.setProperty("--forces_background",Zn.forcesBackground):Zn.title&&(document.documentElement.style.setProperty("--forces_background",Zn.title),Zn.forcesBackground=Zn.title),Zn.highlight){const er=hexToRgb(Zn.highlight);if(er!=null)for(const tr in er)document.documentElement.style.setProperty(`--highlight-${tr}`,`${er[tr]}`)}Zn.borderColor&&document.documentElement.style.setProperty("--box-border",`${Zn.borderColor}`);let Qn="";if(Zn.invertColors==!0?Qn="invert(100)":Zn.invertImages?Qn="":Qn="invert(0)",Zn.hue&&(Qn+=` hue-rotate(${Zn.hue}deg)`),navigator.userAgent.toLowerCase().indexOf("firefox")>-1?document.documentElement.style.setProperty("--global-filter","none"):document.documentElement.style.setProperty("--global-filter",Qn),Zn.backgroundTexture&&document.documentElement.style.setProperty("--bg-texture",Zn.backgroundTexture),Zn.backgroundSize&&document.documentElement.style.setProperty("--backgroundSize",Zn.backgroundSize),Zn.inputRadius&&document.documentElement.style.setProperty("--input-radius",Zn.inputRadius+"px"),Zn.inputBackground&&document.documentElement.style.setProperty("--input-background",Zn.inputBackground),Jn.unitColor&&document.documentElement.style.setProperty("--color-unit",Jn.unitColor),Jn.armyColor&&document.documentElement.style.setProperty("--color-army",Jn.armyColor),Zn.fontColor&&document.documentElement.style.setProperty("--font-color",Zn.fontColor),document.documentElement.style.setProperty("--italic",Zn.italic??"italic"),Zn.colorGray&&document.documentElement.style.setProperty("--color-gray",Zn.colorGray),Zn.colorRed&&document.documentElement.style.setProperty("--color-red",Zn.colorRed),Zn.colorGreen&&document.documentElement.style.setProperty("--color-green",Zn.colorGreen),Zn.colorBlue&&document.documentElement.style.setProperty("--color-blue",Zn.colorBlue),Zn.colorLightblue&&document.documentElement.style.setProperty("--color-lightblue",Zn.colorLightblue),Zn.bga){let er=Number(Zn.bga);er>1&&(er/=100),document.documentElement.style.setProperty("--bg-a",`${er}`)}if(Zn.invertImagesBrightness){const er=180*(Number(Zn.invertImagesBrightness)/100);document.documentElement.style.setProperty("--image-filter",`invert(${Zn.invertImagesBrightness}%) hue-rotate(${er}deg)`)}else Zn.invertImages?document.documentElement.style.setProperty("--image-filter","invert(100%) hue-rotate(180deg)"):document.documentElement.style.setProperty("--image-filter","");if(Zn.costColor){const er=Zn.costColor;document.documentElement.style.setProperty("--cost-color",er)}if(setAppearanceFont(Zn,""),setAppearanceFont(Zn,"Header"),setAppearanceFont(Zn,"Button"),document.documentElement.style.setProperty("--fontHeaderTransform",Zn.headerTransform),Zn.inputHighlights){const er=Zn.inputHighlights;document.documentElement.style.setProperty("--input-highlights",er)}Zn.dark?(document.documentElement.style.setProperty("--hover-brighten-color","rgba(0, 0, 0, 0.15)"),document.documentElement.style.setProperty("--hover-darken-color","rgba(255, 255, 255, 0.15)")):(document.documentElement.style.setProperty("--hover-darken-color","rgba(0, 0, 0, 0.15)"),document.documentElement.style.setProperty("--hover-brighten-color","rgba(255, 255, 255, 0.15)")),Zn.titleBarColor&&document.documentElement.style.setProperty("--titleBarColor",Zn.titleBarColor)}const defaultAppearence={background:"#f0f5ff",backgroundTexture:"url(assets/images/no.jpg)",backgroundSize:"auto",bga:70,hue:0,title:"#8ecff0",forcesBackground:"#dcd189",highlight:"#fffef1",dropdownStyle:2,inputRadius:0,inputBackground:"#ffffff",inputHighlights:"#add8e6",categoryIcons:!0,costsLeft:!1,invertColors:!1,invertImages:!1,invertImagesBrightness:0,font:"sans-serif",fontSize:16,fontHeader:"sans-serif",fontHeaderSize:16,headerTransform:"none",fontButton:"sans-serif",fontButtonSize:16,fontColor:"black",borderColor:"#aaaaaa",colorGray:"gray",colorBlue:"#0f59ba",colorRed:"#e64e4e",colorGreen:"#439943",colorLightblue:"#009cbd",costColor:"#284781",titleBarColor:"#708090",unitsBackground:"",fitBackground:!1,hoverColor:""},defaultSortConfiguration=`type:model
type:mount
type:crew
type:upgrade
type:entry
type:group & name:/mount/i
type:group & name:/weapons/i
type:group & name:/armour/i
type:group & name:/equipment/i
type:group & name:/items/i
type:group & name:/options/i
type:group
cost:pts
cost:points
name`,defaultState={systemsFolder:"",showOnlyEnabledCategories:!1,globalDuplicateIdError:!1,useNewCategoriesUI:!1,sort:"asc",theme:"",githubAutoIncrement:!0,autosort:{config:defaultSortConfiguration},display:{sortIndex:!0,references:!0,costs:!0,primaryCategory:!1},autoFormatCharacteristics:!1,autoRenameInfoLinkParent:!1},useSettingsStore=defineStore("settings",{state:()=>({...defaultState}),persist:{storage:globalThis.localStorage,deserialize(Zn){const Jn=JSON.parse(Zn);return merge(Jn,defaultState)},serialize:JSON.stringify},getters:{isDarkTheme(){return this.theme==="dark"}},actions:{getDefaultAppareance(){return this.theme==="dark"?{...defaultAppearence,background:"#2b2b2b",bga:"100",borderColor:"#5e5e5e",colorGray:"#737283",colorBlue:"#2d9ce1",colorRed:"#c74343",costColor:"#5dabdf",dropdownStyle:2,fontColor:"#ababab",inputBackground:"#333333",inputHighlights:"#add8e6",invertImagesBrightness:"85",titleBarColor:"#525252",title:"#333333",dark:!0}:defaultAppearence},setTheme(Zn){this.theme=Zn,this.refreshAppearance()},refreshAppearance(){updateCssVars(this.getDefaultAppareance(),{})},init(){this.display||(this.display={sortIndex:!0,references:!0,costs:!0})}}});function commonjsRequire(Zn){throw new Error('Could not dynamically require "'+Zn+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(Zn,Jn){(function(Xn){Zn.exports=Xn()})(function(){return function Xn(Qn,er,tr){function nr(ir,or){if(!er[ir]){if(!Qn[ir]){var ar=typeof commonjsRequire=="function"&&commonjsRequire;if(!or&&ar)return ar(ir,!0);if(rr)return rr(ir,!0);var lr=new Error("Cannot find module '"+ir+"'");throw lr.code="MODULE_NOT_FOUND",lr}var cr=er[ir]={exports:{}};Qn[ir][0].call(cr.exports,function(pr){var ur=Qn[ir][1][pr];return nr(ur||pr)},cr,cr.exports,Xn,Qn,er,tr)}return er[ir].exports}for(var rr=typeof commonjsRequire=="function"&&commonjsRequire,sr=0;sr<tr.length;sr++)nr(tr[sr]);return nr}({1:[function(Xn,Qn,er){var tr=Xn("./utils"),nr=Xn("./support"),rr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";er.encode=function(sr){for(var ir,or,ar,lr,cr,pr,ur,gr=[],dr=0,fr=sr.length,yr=fr,_r=tr.getTypeOf(sr)!=="string";dr<sr.length;)yr=fr-dr,ar=_r?(ir=sr[dr++],or=dr<fr?sr[dr++]:0,dr<fr?sr[dr++]:0):(ir=sr.charCodeAt(dr++),or=dr<fr?sr.charCodeAt(dr++):0,dr<fr?sr.charCodeAt(dr++):0),lr=ir>>2,cr=(3&ir)<<4|or>>4,pr=1<yr?(15&or)<<2|ar>>6:64,ur=2<yr?63&ar:64,gr.push(rr.charAt(lr)+rr.charAt(cr)+rr.charAt(pr)+rr.charAt(ur));return gr.join("")},er.decode=function(sr){var ir,or,ar,lr,cr,pr,ur=0,gr=0,dr="data:";if(sr.substr(0,dr.length)===dr)throw new Error("Invalid base64 input, it looks like a data url.");var fr,yr=3*(sr=sr.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(sr.charAt(sr.length-1)===rr.charAt(64)&&yr--,sr.charAt(sr.length-2)===rr.charAt(64)&&yr--,yr%1!=0)throw new Error("Invalid base64 input, bad content length.");for(fr=nr.uint8array?new Uint8Array(0|yr):new Array(0|yr);ur<sr.length;)ir=rr.indexOf(sr.charAt(ur++))<<2|(lr=rr.indexOf(sr.charAt(ur++)))>>4,or=(15&lr)<<4|(cr=rr.indexOf(sr.charAt(ur++)))>>2,ar=(3&cr)<<6|(pr=rr.indexOf(sr.charAt(ur++))),fr[gr++]=ir,cr!==64&&(fr[gr++]=or),pr!==64&&(fr[gr++]=ar);return fr}},{"./support":30,"./utils":32}],2:[function(Xn,Qn,er){var tr=Xn("./external"),nr=Xn("./stream/DataWorker"),rr=Xn("./stream/Crc32Probe"),sr=Xn("./stream/DataLengthProbe");function ir(or,ar,lr,cr,pr){this.compressedSize=or,this.uncompressedSize=ar,this.crc32=lr,this.compression=cr,this.compressedContent=pr}ir.prototype={getContentWorker:function(){var or=new nr(tr.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new sr("data_length")),ar=this;return or.on("end",function(){if(this.streamInfo.data_length!==ar.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),or},getCompressedWorker:function(){return new nr(tr.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},ir.createWorkerFrom=function(or,ar,lr){return or.pipe(new rr).pipe(new sr("uncompressedSize")).pipe(ar.compressWorker(lr)).pipe(new sr("compressedSize")).withStreamInfo("compression",ar)},Qn.exports=ir},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(Xn,Qn,er){var tr=Xn("./stream/GenericWorker");er.STORE={magic:"\0\0",compressWorker:function(){return new tr("STORE compression")},uncompressWorker:function(){return new tr("STORE decompression")}},er.DEFLATE=Xn("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(Xn,Qn,er){var tr=Xn("./utils"),nr=function(){for(var rr,sr=[],ir=0;ir<256;ir++){rr=ir;for(var or=0;or<8;or++)rr=1&rr?3988292384^rr>>>1:rr>>>1;sr[ir]=rr}return sr}();Qn.exports=function(rr,sr){return rr!==void 0&&rr.length?tr.getTypeOf(rr)!=="string"?function(ir,or,ar,lr){var cr=nr,pr=lr+ar;ir^=-1;for(var ur=lr;ur<pr;ur++)ir=ir>>>8^cr[255&(ir^or[ur])];return-1^ir}(0|sr,rr,rr.length,0):function(ir,or,ar,lr){var cr=nr,pr=lr+ar;ir^=-1;for(var ur=lr;ur<pr;ur++)ir=ir>>>8^cr[255&(ir^or.charCodeAt(ur))];return-1^ir}(0|sr,rr,rr.length,0):0}},{"./utils":32}],5:[function(Xn,Qn,er){er.base64=!1,er.binary=!1,er.dir=!1,er.createFolders=!0,er.date=null,er.compression=null,er.compressionOptions=null,er.comment=null,er.unixPermissions=null,er.dosPermissions=null},{}],6:[function(Xn,Qn,er){var tr=null;tr=typeof Promise<"u"?Promise:Xn("lie"),Qn.exports={Promise:tr}},{lie:37}],7:[function(Xn,Qn,er){var tr=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",nr=Xn("pako"),rr=Xn("./utils"),sr=Xn("./stream/GenericWorker"),ir=tr?"uint8array":"array";function or(ar,lr){sr.call(this,"FlateWorker/"+ar),this._pako=null,this._pakoAction=ar,this._pakoOptions=lr,this.meta={}}er.magic="\b\0",rr.inherits(or,sr),or.prototype.processChunk=function(ar){this.meta=ar.meta,this._pako===null&&this._createPako(),this._pako.push(rr.transformTo(ir,ar.data),!1)},or.prototype.flush=function(){sr.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},or.prototype.cleanUp=function(){sr.prototype.cleanUp.call(this),this._pako=null},or.prototype._createPako=function(){this._pako=new nr[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var ar=this;this._pako.onData=function(lr){ar.push({data:lr,meta:ar.meta})}},er.compressWorker=function(ar){return new or("Deflate",ar)},er.uncompressWorker=function(){return new or("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(Xn,Qn,er){function tr(cr,pr){var ur,gr="";for(ur=0;ur<pr;ur++)gr+=String.fromCharCode(255&cr),cr>>>=8;return gr}function nr(cr,pr,ur,gr,dr,fr){var yr,_r,vr=cr.file,Er=cr.compression,kr=fr!==ir.utf8encode,xr=rr.transformTo("string",fr(vr.name)),Cr=rr.transformTo("string",ir.utf8encode(vr.name)),Lr=vr.comment,Vr=rr.transformTo("string",fr(Lr)),wr=rr.transformTo("string",ir.utf8encode(Lr)),$r=Cr.length!==vr.name.length,mr=wr.length!==Lr.length,jr="",Qr="",Hr="",rs=vr.dir,Xr=vr.date,ls={crc32:0,compressedSize:0,uncompressedSize:0};pr&&!ur||(ls.crc32=cr.crc32,ls.compressedSize=cr.compressedSize,ls.uncompressedSize=cr.uncompressedSize);var zr=0;pr&&(zr|=8),kr||!$r&&!mr||(zr|=2048);var Ur=0,ns=0;rs&&(Ur|=16),dr==="UNIX"?(ns=798,Ur|=function(ts,fs){var Gr=ts;return ts||(Gr=fs?16893:33204),(65535&Gr)<<16}(vr.unixPermissions,rs)):(ns=20,Ur|=function(ts){return 63&(ts||0)}(vr.dosPermissions)),yr=Xr.getUTCHours(),yr<<=6,yr|=Xr.getUTCMinutes(),yr<<=5,yr|=Xr.getUTCSeconds()/2,_r=Xr.getUTCFullYear()-1980,_r<<=4,_r|=Xr.getUTCMonth()+1,_r<<=5,_r|=Xr.getUTCDate(),$r&&(Qr=tr(1,1)+tr(or(xr),4)+Cr,jr+="up"+tr(Qr.length,2)+Qr),mr&&(Hr=tr(1,1)+tr(or(Vr),4)+wr,jr+="uc"+tr(Hr.length,2)+Hr);var is="";return is+=`
\0`,is+=tr(zr,2),is+=Er.magic,is+=tr(yr,2),is+=tr(_r,2),is+=tr(ls.crc32,4),is+=tr(ls.compressedSize,4),is+=tr(ls.uncompressedSize,4),is+=tr(xr.length,2),is+=tr(jr.length,2),{fileRecord:ar.LOCAL_FILE_HEADER+is+xr+jr,dirRecord:ar.CENTRAL_FILE_HEADER+tr(ns,2)+is+tr(Vr.length,2)+"\0\0\0\0"+tr(Ur,4)+tr(gr,4)+xr+jr+Vr}}var rr=Xn("../utils"),sr=Xn("../stream/GenericWorker"),ir=Xn("../utf8"),or=Xn("../crc32"),ar=Xn("../signature");function lr(cr,pr,ur,gr){sr.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=pr,this.zipPlatform=ur,this.encodeFileName=gr,this.streamFiles=cr,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}rr.inherits(lr,sr),lr.prototype.push=function(cr){var pr=cr.meta.percent||0,ur=this.entriesCount,gr=this._sources.length;this.accumulate?this.contentBuffer.push(cr):(this.bytesWritten+=cr.data.length,sr.prototype.push.call(this,{data:cr.data,meta:{currentFile:this.currentFile,percent:ur?(pr+100*(ur-gr-1))/ur:100}}))},lr.prototype.openedSource=function(cr){this.currentSourceOffset=this.bytesWritten,this.currentFile=cr.file.name;var pr=this.streamFiles&&!cr.file.dir;if(pr){var ur=nr(cr,pr,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:ur.fileRecord,meta:{percent:0}})}else this.accumulate=!0},lr.prototype.closedSource=function(cr){this.accumulate=!1;var pr=this.streamFiles&&!cr.file.dir,ur=nr(cr,pr,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(ur.dirRecord),pr)this.push({data:function(gr){return ar.DATA_DESCRIPTOR+tr(gr.crc32,4)+tr(gr.compressedSize,4)+tr(gr.uncompressedSize,4)}(cr),meta:{percent:100}});else for(this.push({data:ur.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},lr.prototype.flush=function(){for(var cr=this.bytesWritten,pr=0;pr<this.dirRecords.length;pr++)this.push({data:this.dirRecords[pr],meta:{percent:100}});var ur=this.bytesWritten-cr,gr=function(dr,fr,yr,_r,vr){var Er=rr.transformTo("string",vr(_r));return ar.CENTRAL_DIRECTORY_END+"\0\0\0\0"+tr(dr,2)+tr(dr,2)+tr(fr,4)+tr(yr,4)+tr(Er.length,2)+Er}(this.dirRecords.length,ur,cr,this.zipComment,this.encodeFileName);this.push({data:gr,meta:{percent:100}})},lr.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},lr.prototype.registerPrevious=function(cr){this._sources.push(cr);var pr=this;return cr.on("data",function(ur){pr.processChunk(ur)}),cr.on("end",function(){pr.closedSource(pr.previous.streamInfo),pr._sources.length?pr.prepareNextSource():pr.end()}),cr.on("error",function(ur){pr.error(ur)}),this},lr.prototype.resume=function(){return!!sr.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},lr.prototype.error=function(cr){var pr=this._sources;if(!sr.prototype.error.call(this,cr))return!1;for(var ur=0;ur<pr.length;ur++)try{pr[ur].error(cr)}catch{}return!0},lr.prototype.lock=function(){sr.prototype.lock.call(this);for(var cr=this._sources,pr=0;pr<cr.length;pr++)cr[pr].lock()},Qn.exports=lr},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(Xn,Qn,er){var tr=Xn("../compressions"),nr=Xn("./ZipFileWorker");er.generateWorker=function(rr,sr,ir){var or=new nr(sr.streamFiles,ir,sr.platform,sr.encodeFileName),ar=0;try{rr.forEach(function(lr,cr){ar++;var pr=function(fr,yr){var _r=fr||yr,vr=tr[_r];if(!vr)throw new Error(_r+" is not a valid compression method !");return vr}(cr.options.compression,sr.compression),ur=cr.options.compressionOptions||sr.compressionOptions||{},gr=cr.dir,dr=cr.date;cr._compressWorker(pr,ur).withStreamInfo("file",{name:lr,dir:gr,date:dr,comment:cr.comment||"",unixPermissions:cr.unixPermissions,dosPermissions:cr.dosPermissions}).pipe(or)}),or.entriesCount=ar}catch(lr){or.error(lr)}return or}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(Xn,Qn,er){function tr(){if(!(this instanceof tr))return new tr;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var nr=new tr;for(var rr in this)typeof this[rr]!="function"&&(nr[rr]=this[rr]);return nr}}(tr.prototype=Xn("./object")).loadAsync=Xn("./load"),tr.support=Xn("./support"),tr.defaults=Xn("./defaults"),tr.version="3.10.1",tr.loadAsync=function(nr,rr){return new tr().loadAsync(nr,rr)},tr.external=Xn("./external"),Qn.exports=tr},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(Xn,Qn,er){var tr=Xn("./utils"),nr=Xn("./external"),rr=Xn("./utf8"),sr=Xn("./zipEntries"),ir=Xn("./stream/Crc32Probe"),or=Xn("./nodejsUtils");function ar(lr){return new nr.Promise(function(cr,pr){var ur=lr.decompressed.getContentWorker().pipe(new ir);ur.on("error",function(gr){pr(gr)}).on("end",function(){ur.streamInfo.crc32!==lr.decompressed.crc32?pr(new Error("Corrupted zip : CRC32 mismatch")):cr()}).resume()})}Qn.exports=function(lr,cr){var pr=this;return cr=tr.extend(cr||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:rr.utf8decode}),or.isNode&&or.isStream(lr)?nr.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):tr.prepareContent("the loaded zip file",lr,!0,cr.optimizedBinaryString,cr.base64).then(function(ur){var gr=new sr(cr);return gr.load(ur),gr}).then(function(ur){var gr=[nr.Promise.resolve(ur)],dr=ur.files;if(cr.checkCRC32)for(var fr=0;fr<dr.length;fr++)gr.push(ar(dr[fr]));return nr.Promise.all(gr)}).then(function(ur){for(var gr=ur.shift(),dr=gr.files,fr=0;fr<dr.length;fr++){var yr=dr[fr],_r=yr.fileNameStr,vr=tr.resolve(yr.fileNameStr);pr.file(vr,yr.decompressed,{binary:!0,optimizedBinaryString:!0,date:yr.date,dir:yr.dir,comment:yr.fileCommentStr.length?yr.fileCommentStr:null,unixPermissions:yr.unixPermissions,dosPermissions:yr.dosPermissions,createFolders:cr.createFolders}),yr.dir||(pr.file(vr).unsafeOriginalName=_r)}return gr.zipComment.length&&(pr.comment=gr.zipComment),pr})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(Xn,Qn,er){var tr=Xn("../utils"),nr=Xn("../stream/GenericWorker");function rr(sr,ir){nr.call(this,"Nodejs stream input adapter for "+sr),this._upstreamEnded=!1,this._bindStream(ir)}tr.inherits(rr,nr),rr.prototype._bindStream=function(sr){var ir=this;(this._stream=sr).pause(),sr.on("data",function(or){ir.push({data:or,meta:{percent:0}})}).on("error",function(or){ir.isPaused?this.generatedError=or:ir.error(or)}).on("end",function(){ir.isPaused?ir._upstreamEnded=!0:ir.end()})},rr.prototype.pause=function(){return!!nr.prototype.pause.call(this)&&(this._stream.pause(),!0)},rr.prototype.resume=function(){return!!nr.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},Qn.exports=rr},{"../stream/GenericWorker":28,"../utils":32}],13:[function(Xn,Qn,er){var tr=Xn("readable-stream").Readable;function nr(rr,sr,ir){tr.call(this,sr),this._helper=rr;var or=this;rr.on("data",function(ar,lr){or.push(ar)||or._helper.pause(),ir&&ir(lr)}).on("error",function(ar){or.emit("error",ar)}).on("end",function(){or.push(null)})}Xn("../utils").inherits(nr,tr),nr.prototype._read=function(){this._helper.resume()},Qn.exports=nr},{"../utils":32,"readable-stream":16}],14:[function(Xn,Qn,er){Qn.exports={isNode:typeof Buffer<"u",newBufferFrom:function(tr,nr){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(tr,nr);if(typeof tr=="number")throw new Error('The "data" argument must not be a number');return new Buffer(tr,nr)},allocBuffer:function(tr){if(Buffer.alloc)return Buffer.alloc(tr);var nr=new Buffer(tr);return nr.fill(0),nr},isBuffer:function(tr){return Buffer.isBuffer(tr)},isStream:function(tr){return tr&&typeof tr.on=="function"&&typeof tr.pause=="function"&&typeof tr.resume=="function"}}},{}],15:[function(Xn,Qn,er){function tr(vr,Er,kr){var xr,Cr=rr.getTypeOf(Er),Lr=rr.extend(kr||{},or);Lr.date=Lr.date||new Date,Lr.compression!==null&&(Lr.compression=Lr.compression.toUpperCase()),typeof Lr.unixPermissions=="string"&&(Lr.unixPermissions=parseInt(Lr.unixPermissions,8)),Lr.unixPermissions&&16384&Lr.unixPermissions&&(Lr.dir=!0),Lr.dosPermissions&&16&Lr.dosPermissions&&(Lr.dir=!0),Lr.dir&&(vr=dr(vr)),Lr.createFolders&&(xr=gr(vr))&&fr.call(this,xr,!0);var Vr=Cr==="string"&&Lr.binary===!1&&Lr.base64===!1;kr&&kr.binary!==void 0||(Lr.binary=!Vr),(Er instanceof ar&&Er.uncompressedSize===0||Lr.dir||!Er||Er.length===0)&&(Lr.base64=!1,Lr.binary=!0,Er="",Lr.compression="STORE",Cr="string");var wr=null;wr=Er instanceof ar||Er instanceof sr?Er:pr.isNode&&pr.isStream(Er)?new ur(vr,Er):rr.prepareContent(vr,Er,Lr.binary,Lr.optimizedBinaryString,Lr.base64);var $r=new lr(vr,wr,Lr);this.files[vr]=$r}var nr=Xn("./utf8"),rr=Xn("./utils"),sr=Xn("./stream/GenericWorker"),ir=Xn("./stream/StreamHelper"),or=Xn("./defaults"),ar=Xn("./compressedObject"),lr=Xn("./zipObject"),cr=Xn("./generate"),pr=Xn("./nodejsUtils"),ur=Xn("./nodejs/NodejsStreamInputAdapter"),gr=function(vr){vr.slice(-1)==="/"&&(vr=vr.substring(0,vr.length-1));var Er=vr.lastIndexOf("/");return 0<Er?vr.substring(0,Er):""},dr=function(vr){return vr.slice(-1)!=="/"&&(vr+="/"),vr},fr=function(vr,Er){return Er=Er!==void 0?Er:or.createFolders,vr=dr(vr),this.files[vr]||tr.call(this,vr,null,{dir:!0,createFolders:Er}),this.files[vr]};function yr(vr){return Object.prototype.toString.call(vr)==="[object RegExp]"}var _r={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(vr){var Er,kr,xr;for(Er in this.files)xr=this.files[Er],(kr=Er.slice(this.root.length,Er.length))&&Er.slice(0,this.root.length)===this.root&&vr(kr,xr)},filter:function(vr){var Er=[];return this.forEach(function(kr,xr){vr(kr,xr)&&Er.push(xr)}),Er},file:function(vr,Er,kr){if(arguments.length!==1)return vr=this.root+vr,tr.call(this,vr,Er,kr),this;if(yr(vr)){var xr=vr;return this.filter(function(Lr,Vr){return!Vr.dir&&xr.test(Lr)})}var Cr=this.files[this.root+vr];return Cr&&!Cr.dir?Cr:null},folder:function(vr){if(!vr)return this;if(yr(vr))return this.filter(function(Cr,Lr){return Lr.dir&&vr.test(Cr)});var Er=this.root+vr,kr=fr.call(this,Er),xr=this.clone();return xr.root=kr.name,xr},remove:function(vr){vr=this.root+vr;var Er=this.files[vr];if(Er||(vr.slice(-1)!=="/"&&(vr+="/"),Er=this.files[vr]),Er&&!Er.dir)delete this.files[vr];else for(var kr=this.filter(function(Cr,Lr){return Lr.name.slice(0,vr.length)===vr}),xr=0;xr<kr.length;xr++)delete this.files[kr[xr].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(vr){var Er,kr={};try{if((kr=rr.extend(vr||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:nr.utf8encode})).type=kr.type.toLowerCase(),kr.compression=kr.compression.toUpperCase(),kr.type==="binarystring"&&(kr.type="string"),!kr.type)throw new Error("No output type specified.");rr.checkSupport(kr.type),kr.platform!=="darwin"&&kr.platform!=="freebsd"&&kr.platform!=="linux"&&kr.platform!=="sunos"||(kr.platform="UNIX"),kr.platform==="win32"&&(kr.platform="DOS");var xr=kr.comment||this.comment||"";Er=cr.generateWorker(this,kr,xr)}catch(Cr){(Er=new sr("error")).error(Cr)}return new ir(Er,kr.type||"string",kr.mimeType)},generateAsync:function(vr,Er){return this.generateInternalStream(vr).accumulate(Er)},generateNodeStream:function(vr,Er){return(vr=vr||{}).type||(vr.type="nodebuffer"),this.generateInternalStream(vr).toNodejsStream(Er)}};Qn.exports=_r},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(Xn,Qn,er){Qn.exports=Xn("stream")},{stream:void 0}],17:[function(Xn,Qn,er){var tr=Xn("./DataReader");function nr(rr){tr.call(this,rr);for(var sr=0;sr<this.data.length;sr++)rr[sr]=255&rr[sr]}Xn("../utils").inherits(nr,tr),nr.prototype.byteAt=function(rr){return this.data[this.zero+rr]},nr.prototype.lastIndexOfSignature=function(rr){for(var sr=rr.charCodeAt(0),ir=rr.charCodeAt(1),or=rr.charCodeAt(2),ar=rr.charCodeAt(3),lr=this.length-4;0<=lr;--lr)if(this.data[lr]===sr&&this.data[lr+1]===ir&&this.data[lr+2]===or&&this.data[lr+3]===ar)return lr-this.zero;return-1},nr.prototype.readAndCheckSignature=function(rr){var sr=rr.charCodeAt(0),ir=rr.charCodeAt(1),or=rr.charCodeAt(2),ar=rr.charCodeAt(3),lr=this.readData(4);return sr===lr[0]&&ir===lr[1]&&or===lr[2]&&ar===lr[3]},nr.prototype.readData=function(rr){if(this.checkOffset(rr),rr===0)return[];var sr=this.data.slice(this.zero+this.index,this.zero+this.index+rr);return this.index+=rr,sr},Qn.exports=nr},{"../utils":32,"./DataReader":18}],18:[function(Xn,Qn,er){var tr=Xn("../utils");function nr(rr){this.data=rr,this.length=rr.length,this.index=0,this.zero=0}nr.prototype={checkOffset:function(rr){this.checkIndex(this.index+rr)},checkIndex:function(rr){if(this.length<this.zero+rr||rr<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+rr+"). Corrupted zip ?")},setIndex:function(rr){this.checkIndex(rr),this.index=rr},skip:function(rr){this.setIndex(this.index+rr)},byteAt:function(){},readInt:function(rr){var sr,ir=0;for(this.checkOffset(rr),sr=this.index+rr-1;sr>=this.index;sr--)ir=(ir<<8)+this.byteAt(sr);return this.index+=rr,ir},readString:function(rr){return tr.transformTo("string",this.readData(rr))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var rr=this.readInt(4);return new Date(Date.UTC(1980+(rr>>25&127),(rr>>21&15)-1,rr>>16&31,rr>>11&31,rr>>5&63,(31&rr)<<1))}},Qn.exports=nr},{"../utils":32}],19:[function(Xn,Qn,er){var tr=Xn("./Uint8ArrayReader");function nr(rr){tr.call(this,rr)}Xn("../utils").inherits(nr,tr),nr.prototype.readData=function(rr){this.checkOffset(rr);var sr=this.data.slice(this.zero+this.index,this.zero+this.index+rr);return this.index+=rr,sr},Qn.exports=nr},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(Xn,Qn,er){var tr=Xn("./DataReader");function nr(rr){tr.call(this,rr)}Xn("../utils").inherits(nr,tr),nr.prototype.byteAt=function(rr){return this.data.charCodeAt(this.zero+rr)},nr.prototype.lastIndexOfSignature=function(rr){return this.data.lastIndexOf(rr)-this.zero},nr.prototype.readAndCheckSignature=function(rr){return rr===this.readData(4)},nr.prototype.readData=function(rr){this.checkOffset(rr);var sr=this.data.slice(this.zero+this.index,this.zero+this.index+rr);return this.index+=rr,sr},Qn.exports=nr},{"../utils":32,"./DataReader":18}],21:[function(Xn,Qn,er){var tr=Xn("./ArrayReader");function nr(rr){tr.call(this,rr)}Xn("../utils").inherits(nr,tr),nr.prototype.readData=function(rr){if(this.checkOffset(rr),rr===0)return new Uint8Array(0);var sr=this.data.subarray(this.zero+this.index,this.zero+this.index+rr);return this.index+=rr,sr},Qn.exports=nr},{"../utils":32,"./ArrayReader":17}],22:[function(Xn,Qn,er){var tr=Xn("../utils"),nr=Xn("../support"),rr=Xn("./ArrayReader"),sr=Xn("./StringReader"),ir=Xn("./NodeBufferReader"),or=Xn("./Uint8ArrayReader");Qn.exports=function(ar){var lr=tr.getTypeOf(ar);return tr.checkSupport(lr),lr!=="string"||nr.uint8array?lr==="nodebuffer"?new ir(ar):nr.uint8array?new or(tr.transformTo("uint8array",ar)):new rr(tr.transformTo("array",ar)):new sr(ar)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(Xn,Qn,er){er.LOCAL_FILE_HEADER="PK",er.CENTRAL_FILE_HEADER="PK",er.CENTRAL_DIRECTORY_END="PK",er.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",er.ZIP64_CENTRAL_DIRECTORY_END="PK",er.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(Xn,Qn,er){var tr=Xn("./GenericWorker"),nr=Xn("../utils");function rr(sr){tr.call(this,"ConvertWorker to "+sr),this.destType=sr}nr.inherits(rr,tr),rr.prototype.processChunk=function(sr){this.push({data:nr.transformTo(this.destType,sr.data),meta:sr.meta})},Qn.exports=rr},{"../utils":32,"./GenericWorker":28}],25:[function(Xn,Qn,er){var tr=Xn("./GenericWorker"),nr=Xn("../crc32");function rr(){tr.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}Xn("../utils").inherits(rr,tr),rr.prototype.processChunk=function(sr){this.streamInfo.crc32=nr(sr.data,this.streamInfo.crc32||0),this.push(sr)},Qn.exports=rr},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(Xn,Qn,er){var tr=Xn("../utils"),nr=Xn("./GenericWorker");function rr(sr){nr.call(this,"DataLengthProbe for "+sr),this.propName=sr,this.withStreamInfo(sr,0)}tr.inherits(rr,nr),rr.prototype.processChunk=function(sr){if(sr){var ir=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=ir+sr.data.length}nr.prototype.processChunk.call(this,sr)},Qn.exports=rr},{"../utils":32,"./GenericWorker":28}],27:[function(Xn,Qn,er){var tr=Xn("../utils"),nr=Xn("./GenericWorker");function rr(sr){nr.call(this,"DataWorker");var ir=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,sr.then(function(or){ir.dataIsReady=!0,ir.data=or,ir.max=or&&or.length||0,ir.type=tr.getTypeOf(or),ir.isPaused||ir._tickAndRepeat()},function(or){ir.error(or)})}tr.inherits(rr,nr),rr.prototype.cleanUp=function(){nr.prototype.cleanUp.call(this),this.data=null},rr.prototype.resume=function(){return!!nr.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,tr.delay(this._tickAndRepeat,[],this)),!0)},rr.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(tr.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},rr.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var sr=null,ir=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":sr=this.data.substring(this.index,ir);break;case"uint8array":sr=this.data.subarray(this.index,ir);break;case"array":case"nodebuffer":sr=this.data.slice(this.index,ir)}return this.index=ir,this.push({data:sr,meta:{percent:this.max?this.index/this.max*100:0}})},Qn.exports=rr},{"../utils":32,"./GenericWorker":28}],28:[function(Xn,Qn,er){function tr(nr){this.name=nr||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}tr.prototype={push:function(nr){this.emit("data",nr)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(nr){this.emit("error",nr)}return!0},error:function(nr){return!this.isFinished&&(this.isPaused?this.generatedError=nr:(this.isFinished=!0,this.emit("error",nr),this.previous&&this.previous.error(nr),this.cleanUp()),!0)},on:function(nr,rr){return this._listeners[nr].push(rr),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(nr,rr){if(this._listeners[nr])for(var sr=0;sr<this._listeners[nr].length;sr++)this._listeners[nr][sr].call(this,rr)},pipe:function(nr){return nr.registerPrevious(this)},registerPrevious:function(nr){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=nr.streamInfo,this.mergeStreamInfo(),this.previous=nr;var rr=this;return nr.on("data",function(sr){rr.processChunk(sr)}),nr.on("end",function(){rr.end()}),nr.on("error",function(sr){rr.error(sr)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var nr=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),nr=!0),this.previous&&this.previous.resume(),!nr},flush:function(){},processChunk:function(nr){this.push(nr)},withStreamInfo:function(nr,rr){return this.extraStreamInfo[nr]=rr,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var nr in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,nr)&&(this.streamInfo[nr]=this.extraStreamInfo[nr])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var nr="Worker "+this.name;return this.previous?this.previous+" -> "+nr:nr}},Qn.exports=tr},{}],29:[function(Xn,Qn,er){var tr=Xn("../utils"),nr=Xn("./ConvertWorker"),rr=Xn("./GenericWorker"),sr=Xn("../base64"),ir=Xn("../support"),or=Xn("../external"),ar=null;if(ir.nodestream)try{ar=Xn("../nodejs/NodejsStreamOutputAdapter")}catch{}function lr(pr,ur){return new or.Promise(function(gr,dr){var fr=[],yr=pr._internalType,_r=pr._outputType,vr=pr._mimeType;pr.on("data",function(Er,kr){fr.push(Er),ur&&ur(kr)}).on("error",function(Er){fr=[],dr(Er)}).on("end",function(){try{var Er=function(kr,xr,Cr){switch(kr){case"blob":return tr.newBlob(tr.transformTo("arraybuffer",xr),Cr);case"base64":return sr.encode(xr);default:return tr.transformTo(kr,xr)}}(_r,function(kr,xr){var Cr,Lr=0,Vr=null,wr=0;for(Cr=0;Cr<xr.length;Cr++)wr+=xr[Cr].length;switch(kr){case"string":return xr.join("");case"array":return Array.prototype.concat.apply([],xr);case"uint8array":for(Vr=new Uint8Array(wr),Cr=0;Cr<xr.length;Cr++)Vr.set(xr[Cr],Lr),Lr+=xr[Cr].length;return Vr;case"nodebuffer":return Buffer.concat(xr);default:throw new Error("concat : unsupported type '"+kr+"'")}}(yr,fr),vr);gr(Er)}catch(kr){dr(kr)}fr=[]}).resume()})}function cr(pr,ur,gr){var dr=ur;switch(ur){case"blob":case"arraybuffer":dr="uint8array";break;case"base64":dr="string"}try{this._internalType=dr,this._outputType=ur,this._mimeType=gr,tr.checkSupport(dr),this._worker=pr.pipe(new nr(dr)),pr.lock()}catch(fr){this._worker=new rr("error"),this._worker.error(fr)}}cr.prototype={accumulate:function(pr){return lr(this,pr)},on:function(pr,ur){var gr=this;return pr==="data"?this._worker.on(pr,function(dr){ur.call(gr,dr.data,dr.meta)}):this._worker.on(pr,function(){tr.delay(ur,arguments,gr)}),this},resume:function(){return tr.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(pr){if(tr.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new ar(this,{objectMode:this._outputType!=="nodebuffer"},pr)}},Qn.exports=cr},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(Xn,Qn,er){if(er.base64=!0,er.array=!0,er.string=!0,er.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",er.nodebuffer=typeof Buffer<"u",er.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")er.blob=!1;else{var tr=new ArrayBuffer(0);try{er.blob=new Blob([tr],{type:"application/zip"}).size===0}catch{try{var nr=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);nr.append(tr),er.blob=nr.getBlob("application/zip").size===0}catch{er.blob=!1}}}try{er.nodestream=!!Xn("readable-stream").Readable}catch{er.nodestream=!1}},{"readable-stream":16}],31:[function(Xn,Qn,er){for(var tr=Xn("./utils"),nr=Xn("./support"),rr=Xn("./nodejsUtils"),sr=Xn("./stream/GenericWorker"),ir=new Array(256),or=0;or<256;or++)ir[or]=252<=or?6:248<=or?5:240<=or?4:224<=or?3:192<=or?2:1;ir[254]=ir[254]=1;function ar(){sr.call(this,"utf-8 decode"),this.leftOver=null}function lr(){sr.call(this,"utf-8 encode")}er.utf8encode=function(cr){return nr.nodebuffer?rr.newBufferFrom(cr,"utf-8"):function(pr){var ur,gr,dr,fr,yr,_r=pr.length,vr=0;for(fr=0;fr<_r;fr++)(64512&(gr=pr.charCodeAt(fr)))==55296&&fr+1<_r&&(64512&(dr=pr.charCodeAt(fr+1)))==56320&&(gr=65536+(gr-55296<<10)+(dr-56320),fr++),vr+=gr<128?1:gr<2048?2:gr<65536?3:4;for(ur=nr.uint8array?new Uint8Array(vr):new Array(vr),fr=yr=0;yr<vr;fr++)(64512&(gr=pr.charCodeAt(fr)))==55296&&fr+1<_r&&(64512&(dr=pr.charCodeAt(fr+1)))==56320&&(gr=65536+(gr-55296<<10)+(dr-56320),fr++),gr<128?ur[yr++]=gr:(gr<2048?ur[yr++]=192|gr>>>6:(gr<65536?ur[yr++]=224|gr>>>12:(ur[yr++]=240|gr>>>18,ur[yr++]=128|gr>>>12&63),ur[yr++]=128|gr>>>6&63),ur[yr++]=128|63&gr);return ur}(cr)},er.utf8decode=function(cr){return nr.nodebuffer?tr.transformTo("nodebuffer",cr).toString("utf-8"):function(pr){var ur,gr,dr,fr,yr=pr.length,_r=new Array(2*yr);for(ur=gr=0;ur<yr;)if((dr=pr[ur++])<128)_r[gr++]=dr;else if(4<(fr=ir[dr]))_r[gr++]=65533,ur+=fr-1;else{for(dr&=fr===2?31:fr===3?15:7;1<fr&&ur<yr;)dr=dr<<6|63&pr[ur++],fr--;1<fr?_r[gr++]=65533:dr<65536?_r[gr++]=dr:(dr-=65536,_r[gr++]=55296|dr>>10&1023,_r[gr++]=56320|1023&dr)}return _r.length!==gr&&(_r.subarray?_r=_r.subarray(0,gr):_r.length=gr),tr.applyFromCharCode(_r)}(cr=tr.transformTo(nr.uint8array?"uint8array":"array",cr))},tr.inherits(ar,sr),ar.prototype.processChunk=function(cr){var pr=tr.transformTo(nr.uint8array?"uint8array":"array",cr.data);if(this.leftOver&&this.leftOver.length){if(nr.uint8array){var ur=pr;(pr=new Uint8Array(ur.length+this.leftOver.length)).set(this.leftOver,0),pr.set(ur,this.leftOver.length)}else pr=this.leftOver.concat(pr);this.leftOver=null}var gr=function(fr,yr){var _r;for((yr=yr||fr.length)>fr.length&&(yr=fr.length),_r=yr-1;0<=_r&&(192&fr[_r])==128;)_r--;return _r<0||_r===0?yr:_r+ir[fr[_r]]>yr?_r:yr}(pr),dr=pr;gr!==pr.length&&(nr.uint8array?(dr=pr.subarray(0,gr),this.leftOver=pr.subarray(gr,pr.length)):(dr=pr.slice(0,gr),this.leftOver=pr.slice(gr,pr.length))),this.push({data:er.utf8decode(dr),meta:cr.meta})},ar.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:er.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},er.Utf8DecodeWorker=ar,tr.inherits(lr,sr),lr.prototype.processChunk=function(cr){this.push({data:er.utf8encode(cr.data),meta:cr.meta})},er.Utf8EncodeWorker=lr},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(Xn,Qn,er){var tr=Xn("./support"),nr=Xn("./base64"),rr=Xn("./nodejsUtils"),sr=Xn("./external");function ir(ur){return ur}function or(ur,gr){for(var dr=0;dr<ur.length;++dr)gr[dr]=255&ur.charCodeAt(dr);return gr}Xn("setimmediate"),er.newBlob=function(ur,gr){er.checkSupport("blob");try{return new Blob([ur],{type:gr})}catch{try{var dr=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return dr.append(ur),dr.getBlob(gr)}catch{throw new Error("Bug : can't construct the Blob.")}}};var ar={stringifyByChunk:function(ur,gr,dr){var fr=[],yr=0,_r=ur.length;if(_r<=dr)return String.fromCharCode.apply(null,ur);for(;yr<_r;)gr==="array"||gr==="nodebuffer"?fr.push(String.fromCharCode.apply(null,ur.slice(yr,Math.min(yr+dr,_r)))):fr.push(String.fromCharCode.apply(null,ur.subarray(yr,Math.min(yr+dr,_r)))),yr+=dr;return fr.join("")},stringifyByChar:function(ur){for(var gr="",dr=0;dr<ur.length;dr++)gr+=String.fromCharCode(ur[dr]);return gr},applyCanBeUsed:{uint8array:function(){try{return tr.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return tr.nodebuffer&&String.fromCharCode.apply(null,rr.allocBuffer(1)).length===1}catch{return!1}}()}};function lr(ur){var gr=65536,dr=er.getTypeOf(ur),fr=!0;if(dr==="uint8array"?fr=ar.applyCanBeUsed.uint8array:dr==="nodebuffer"&&(fr=ar.applyCanBeUsed.nodebuffer),fr)for(;1<gr;)try{return ar.stringifyByChunk(ur,dr,gr)}catch{gr=Math.floor(gr/2)}return ar.stringifyByChar(ur)}function cr(ur,gr){for(var dr=0;dr<ur.length;dr++)gr[dr]=ur[dr];return gr}er.applyFromCharCode=lr;var pr={};pr.string={string:ir,array:function(ur){return or(ur,new Array(ur.length))},arraybuffer:function(ur){return pr.string.uint8array(ur).buffer},uint8array:function(ur){return or(ur,new Uint8Array(ur.length))},nodebuffer:function(ur){return or(ur,rr.allocBuffer(ur.length))}},pr.array={string:lr,array:ir,arraybuffer:function(ur){return new Uint8Array(ur).buffer},uint8array:function(ur){return new Uint8Array(ur)},nodebuffer:function(ur){return rr.newBufferFrom(ur)}},pr.arraybuffer={string:function(ur){return lr(new Uint8Array(ur))},array:function(ur){return cr(new Uint8Array(ur),new Array(ur.byteLength))},arraybuffer:ir,uint8array:function(ur){return new Uint8Array(ur)},nodebuffer:function(ur){return rr.newBufferFrom(new Uint8Array(ur))}},pr.uint8array={string:lr,array:function(ur){return cr(ur,new Array(ur.length))},arraybuffer:function(ur){return ur.buffer},uint8array:ir,nodebuffer:function(ur){return rr.newBufferFrom(ur)}},pr.nodebuffer={string:lr,array:function(ur){return cr(ur,new Array(ur.length))},arraybuffer:function(ur){return pr.nodebuffer.uint8array(ur).buffer},uint8array:function(ur){return cr(ur,new Uint8Array(ur.length))},nodebuffer:ir},er.transformTo=function(ur,gr){if(gr=gr||"",!ur)return gr;er.checkSupport(ur);var dr=er.getTypeOf(gr);return pr[dr][ur](gr)},er.resolve=function(ur){for(var gr=ur.split("/"),dr=[],fr=0;fr<gr.length;fr++){var yr=gr[fr];yr==="."||yr===""&&fr!==0&&fr!==gr.length-1||(yr===".."?dr.pop():dr.push(yr))}return dr.join("/")},er.getTypeOf=function(ur){return typeof ur=="string"?"string":Object.prototype.toString.call(ur)==="[object Array]"?"array":tr.nodebuffer&&rr.isBuffer(ur)?"nodebuffer":tr.uint8array&&ur instanceof Uint8Array?"uint8array":tr.arraybuffer&&ur instanceof ArrayBuffer?"arraybuffer":void 0},er.checkSupport=function(ur){if(!tr[ur.toLowerCase()])throw new Error(ur+" is not supported by this platform")},er.MAX_VALUE_16BITS=65535,er.MAX_VALUE_32BITS=-1,er.pretty=function(ur){var gr,dr,fr="";for(dr=0;dr<(ur||"").length;dr++)fr+="\\x"+((gr=ur.charCodeAt(dr))<16?"0":"")+gr.toString(16).toUpperCase();return fr},er.delay=function(ur,gr,dr){setImmediate(function(){ur.apply(dr||null,gr||[])})},er.inherits=function(ur,gr){function dr(){}dr.prototype=gr.prototype,ur.prototype=new dr},er.extend=function(){var ur,gr,dr={};for(ur=0;ur<arguments.length;ur++)for(gr in arguments[ur])Object.prototype.hasOwnProperty.call(arguments[ur],gr)&&dr[gr]===void 0&&(dr[gr]=arguments[ur][gr]);return dr},er.prepareContent=function(ur,gr,dr,fr,yr){return sr.Promise.resolve(gr).then(function(_r){return tr.blob&&(_r instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_r))!==-1)&&typeof FileReader<"u"?new sr.Promise(function(vr,Er){var kr=new FileReader;kr.onload=function(xr){vr(xr.target.result)},kr.onerror=function(xr){Er(xr.target.error)},kr.readAsArrayBuffer(_r)}):_r}).then(function(_r){var vr=er.getTypeOf(_r);return vr?(vr==="arraybuffer"?_r=er.transformTo("uint8array",_r):vr==="string"&&(yr?_r=nr.decode(_r):dr&&fr!==!0&&(_r=function(Er){return or(Er,tr.uint8array?new Uint8Array(Er.length):new Array(Er.length))}(_r))),_r):sr.Promise.reject(new Error("Can't read the data of '"+ur+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(Xn,Qn,er){var tr=Xn("./reader/readerFor"),nr=Xn("./utils"),rr=Xn("./signature"),sr=Xn("./zipEntry"),ir=Xn("./support");function or(ar){this.files=[],this.loadOptions=ar}or.prototype={checkSignature:function(ar){if(!this.reader.readAndCheckSignature(ar)){this.reader.index-=4;var lr=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+nr.pretty(lr)+", expected "+nr.pretty(ar)+")")}},isSignature:function(ar,lr){var cr=this.reader.index;this.reader.setIndex(ar);var pr=this.reader.readString(4)===lr;return this.reader.setIndex(cr),pr},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var ar=this.reader.readData(this.zipCommentLength),lr=ir.uint8array?"uint8array":"array",cr=nr.transformTo(lr,ar);this.zipComment=this.loadOptions.decodeFileName(cr)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var ar,lr,cr,pr=this.zip64EndOfCentralSize-44;0<pr;)ar=this.reader.readInt(2),lr=this.reader.readInt(4),cr=this.reader.readData(lr),this.zip64ExtensibleData[ar]={id:ar,length:lr,value:cr}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var ar,lr;for(ar=0;ar<this.files.length;ar++)lr=this.files[ar],this.reader.setIndex(lr.localHeaderOffset),this.checkSignature(rr.LOCAL_FILE_HEADER),lr.readLocalPart(this.reader),lr.handleUTF8(),lr.processAttributes()},readCentralDir:function(){var ar;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(rr.CENTRAL_FILE_HEADER);)(ar=new sr({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(ar);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var ar=this.reader.lastIndexOfSignature(rr.CENTRAL_DIRECTORY_END);if(ar<0)throw this.isSignature(0,rr.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(ar);var lr=ar;if(this.checkSignature(rr.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===nr.MAX_VALUE_16BITS||this.diskWithCentralDirStart===nr.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===nr.MAX_VALUE_16BITS||this.centralDirRecords===nr.MAX_VALUE_16BITS||this.centralDirSize===nr.MAX_VALUE_32BITS||this.centralDirOffset===nr.MAX_VALUE_32BITS){if(this.zip64=!0,(ar=this.reader.lastIndexOfSignature(rr.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(ar),this.checkSignature(rr.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,rr.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(rr.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(rr.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var cr=this.centralDirOffset+this.centralDirSize;this.zip64&&(cr+=20,cr+=12+this.zip64EndOfCentralSize);var pr=lr-cr;if(0<pr)this.isSignature(lr,rr.CENTRAL_FILE_HEADER)||(this.reader.zero=pr);else if(pr<0)throw new Error("Corrupted zip: missing "+Math.abs(pr)+" bytes.")},prepareReader:function(ar){this.reader=tr(ar)},load:function(ar){this.prepareReader(ar),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Qn.exports=or},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(Xn,Qn,er){var tr=Xn("./reader/readerFor"),nr=Xn("./utils"),rr=Xn("./compressedObject"),sr=Xn("./crc32"),ir=Xn("./utf8"),or=Xn("./compressions"),ar=Xn("./support");function lr(cr,pr){this.options=cr,this.loadOptions=pr}lr.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(cr){var pr,ur;if(cr.skip(22),this.fileNameLength=cr.readInt(2),ur=cr.readInt(2),this.fileName=cr.readData(this.fileNameLength),cr.skip(ur),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((pr=function(gr){for(var dr in or)if(Object.prototype.hasOwnProperty.call(or,dr)&&or[dr].magic===gr)return or[dr];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+nr.pretty(this.compressionMethod)+" unknown (inner file : "+nr.transformTo("string",this.fileName)+")");this.decompressed=new rr(this.compressedSize,this.uncompressedSize,this.crc32,pr,cr.readData(this.compressedSize))},readCentralPart:function(cr){this.versionMadeBy=cr.readInt(2),cr.skip(2),this.bitFlag=cr.readInt(2),this.compressionMethod=cr.readString(2),this.date=cr.readDate(),this.crc32=cr.readInt(4),this.compressedSize=cr.readInt(4),this.uncompressedSize=cr.readInt(4);var pr=cr.readInt(2);if(this.extraFieldsLength=cr.readInt(2),this.fileCommentLength=cr.readInt(2),this.diskNumberStart=cr.readInt(2),this.internalFileAttributes=cr.readInt(2),this.externalFileAttributes=cr.readInt(4),this.localHeaderOffset=cr.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");cr.skip(pr),this.readExtraFields(cr),this.parseZIP64ExtraField(cr),this.fileComment=cr.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var cr=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),cr==0&&(this.dosPermissions=63&this.externalFileAttributes),cr==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var cr=tr(this.extraFields[1].value);this.uncompressedSize===nr.MAX_VALUE_32BITS&&(this.uncompressedSize=cr.readInt(8)),this.compressedSize===nr.MAX_VALUE_32BITS&&(this.compressedSize=cr.readInt(8)),this.localHeaderOffset===nr.MAX_VALUE_32BITS&&(this.localHeaderOffset=cr.readInt(8)),this.diskNumberStart===nr.MAX_VALUE_32BITS&&(this.diskNumberStart=cr.readInt(4))}},readExtraFields:function(cr){var pr,ur,gr,dr=cr.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});cr.index+4<dr;)pr=cr.readInt(2),ur=cr.readInt(2),gr=cr.readData(ur),this.extraFields[pr]={id:pr,length:ur,value:gr};cr.setIndex(dr)},handleUTF8:function(){var cr=ar.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ir.utf8decode(this.fileName),this.fileCommentStr=ir.utf8decode(this.fileComment);else{var pr=this.findExtraFieldUnicodePath();if(pr!==null)this.fileNameStr=pr;else{var ur=nr.transformTo(cr,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(ur)}var gr=this.findExtraFieldUnicodeComment();if(gr!==null)this.fileCommentStr=gr;else{var dr=nr.transformTo(cr,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(dr)}}},findExtraFieldUnicodePath:function(){var cr=this.extraFields[28789];if(cr){var pr=tr(cr.value);return pr.readInt(1)!==1||sr(this.fileName)!==pr.readInt(4)?null:ir.utf8decode(pr.readData(cr.length-5))}return null},findExtraFieldUnicodeComment:function(){var cr=this.extraFields[25461];if(cr){var pr=tr(cr.value);return pr.readInt(1)!==1||sr(this.fileComment)!==pr.readInt(4)?null:ir.utf8decode(pr.readData(cr.length-5))}return null}},Qn.exports=lr},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(Xn,Qn,er){function tr(pr,ur,gr){this.name=pr,this.dir=gr.dir,this.date=gr.date,this.comment=gr.comment,this.unixPermissions=gr.unixPermissions,this.dosPermissions=gr.dosPermissions,this._data=ur,this._dataBinary=gr.binary,this.options={compression:gr.compression,compressionOptions:gr.compressionOptions}}var nr=Xn("./stream/StreamHelper"),rr=Xn("./stream/DataWorker"),sr=Xn("./utf8"),ir=Xn("./compressedObject"),or=Xn("./stream/GenericWorker");tr.prototype={internalStream:function(pr){var ur=null,gr="string";try{if(!pr)throw new Error("No output type specified.");var dr=(gr=pr.toLowerCase())==="string"||gr==="text";gr!=="binarystring"&&gr!=="text"||(gr="string"),ur=this._decompressWorker();var fr=!this._dataBinary;fr&&!dr&&(ur=ur.pipe(new sr.Utf8EncodeWorker)),!fr&&dr&&(ur=ur.pipe(new sr.Utf8DecodeWorker))}catch(yr){(ur=new or("error")).error(yr)}return new nr(ur,gr,"")},async:function(pr,ur){return this.internalStream(pr).accumulate(ur)},nodeStream:function(pr,ur){return this.internalStream(pr||"nodebuffer").toNodejsStream(ur)},_compressWorker:function(pr,ur){if(this._data instanceof ir&&this._data.compression.magic===pr.magic)return this._data.getCompressedWorker();var gr=this._decompressWorker();return this._dataBinary||(gr=gr.pipe(new sr.Utf8EncodeWorker)),ir.createWorkerFrom(gr,pr,ur)},_decompressWorker:function(){return this._data instanceof ir?this._data.getContentWorker():this._data instanceof or?this._data:new rr(this._data)}};for(var ar=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],lr=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},cr=0;cr<ar.length;cr++)tr.prototype[ar[cr]]=lr;Qn.exports=tr},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(Xn,Qn,er){(function(tr){var nr,rr,sr=tr.MutationObserver||tr.WebKitMutationObserver;if(sr){var ir=0,or=new sr(pr),ar=tr.document.createTextNode("");or.observe(ar,{characterData:!0}),nr=function(){ar.data=ir=++ir%2}}else if(tr.setImmediate||tr.MessageChannel===void 0)nr="document"in tr&&"onreadystatechange"in tr.document.createElement("script")?function(){var ur=tr.document.createElement("script");ur.onreadystatechange=function(){pr(),ur.onreadystatechange=null,ur.parentNode.removeChild(ur),ur=null},tr.document.documentElement.appendChild(ur)}:function(){setTimeout(pr,0)};else{var lr=new tr.MessageChannel;lr.port1.onmessage=pr,nr=function(){lr.port2.postMessage(0)}}var cr=[];function pr(){var ur,gr;rr=!0;for(var dr=cr.length;dr;){for(gr=cr,cr=[],ur=-1;++ur<dr;)gr[ur]();dr=cr.length}rr=!1}Qn.exports=function(ur){cr.push(ur)!==1||rr||nr()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(Xn,Qn,er){var tr=Xn("immediate");function nr(){}var rr={},sr=["REJECTED"],ir=["FULFILLED"],or=["PENDING"];function ar(dr){if(typeof dr!="function")throw new TypeError("resolver must be a function");this.state=or,this.queue=[],this.outcome=void 0,dr!==nr&&ur(this,dr)}function lr(dr,fr,yr){this.promise=dr,typeof fr=="function"&&(this.onFulfilled=fr,this.callFulfilled=this.otherCallFulfilled),typeof yr=="function"&&(this.onRejected=yr,this.callRejected=this.otherCallRejected)}function cr(dr,fr,yr){tr(function(){var _r;try{_r=fr(yr)}catch(vr){return rr.reject(dr,vr)}_r===dr?rr.reject(dr,new TypeError("Cannot resolve promise with itself")):rr.resolve(dr,_r)})}function pr(dr){var fr=dr&&dr.then;if(dr&&(typeof dr=="object"||typeof dr=="function")&&typeof fr=="function")return function(){fr.apply(dr,arguments)}}function ur(dr,fr){var yr=!1;function _r(kr){yr||(yr=!0,rr.reject(dr,kr))}function vr(kr){yr||(yr=!0,rr.resolve(dr,kr))}var Er=gr(function(){fr(vr,_r)});Er.status==="error"&&_r(Er.value)}function gr(dr,fr){var yr={};try{yr.value=dr(fr),yr.status="success"}catch(_r){yr.status="error",yr.value=_r}return yr}(Qn.exports=ar).prototype.finally=function(dr){if(typeof dr!="function")return this;var fr=this.constructor;return this.then(function(yr){return fr.resolve(dr()).then(function(){return yr})},function(yr){return fr.resolve(dr()).then(function(){throw yr})})},ar.prototype.catch=function(dr){return this.then(null,dr)},ar.prototype.then=function(dr,fr){if(typeof dr!="function"&&this.state===ir||typeof fr!="function"&&this.state===sr)return this;var yr=new this.constructor(nr);return this.state!==or?cr(yr,this.state===ir?dr:fr,this.outcome):this.queue.push(new lr(yr,dr,fr)),yr},lr.prototype.callFulfilled=function(dr){rr.resolve(this.promise,dr)},lr.prototype.otherCallFulfilled=function(dr){cr(this.promise,this.onFulfilled,dr)},lr.prototype.callRejected=function(dr){rr.reject(this.promise,dr)},lr.prototype.otherCallRejected=function(dr){cr(this.promise,this.onRejected,dr)},rr.resolve=function(dr,fr){var yr=gr(pr,fr);if(yr.status==="error")return rr.reject(dr,yr.value);var _r=yr.value;if(_r)ur(dr,_r);else{dr.state=ir,dr.outcome=fr;for(var vr=-1,Er=dr.queue.length;++vr<Er;)dr.queue[vr].callFulfilled(fr)}return dr},rr.reject=function(dr,fr){dr.state=sr,dr.outcome=fr;for(var yr=-1,_r=dr.queue.length;++yr<_r;)dr.queue[yr].callRejected(fr);return dr},ar.resolve=function(dr){return dr instanceof this?dr:rr.resolve(new this(nr),dr)},ar.reject=function(dr){var fr=new this(nr);return rr.reject(fr,dr)},ar.all=function(dr){var fr=this;if(Object.prototype.toString.call(dr)!=="[object Array]")return this.reject(new TypeError("must be an array"));var yr=dr.length,_r=!1;if(!yr)return this.resolve([]);for(var vr=new Array(yr),Er=0,kr=-1,xr=new this(nr);++kr<yr;)Cr(dr[kr],kr);return xr;function Cr(Lr,Vr){fr.resolve(Lr).then(function(wr){vr[Vr]=wr,++Er!==yr||_r||(_r=!0,rr.resolve(xr,vr))},function(wr){_r||(_r=!0,rr.reject(xr,wr))})}},ar.race=function(dr){var fr=this;if(Object.prototype.toString.call(dr)!=="[object Array]")return this.reject(new TypeError("must be an array"));var yr=dr.length,_r=!1;if(!yr)return this.resolve([]);for(var vr=-1,Er=new this(nr);++vr<yr;)kr=dr[vr],fr.resolve(kr).then(function(xr){_r||(_r=!0,rr.resolve(Er,xr))},function(xr){_r||(_r=!0,rr.reject(Er,xr))});var kr;return Er}},{immediate:36}],38:[function(Xn,Qn,er){var tr={};(0,Xn("./lib/utils/common").assign)(tr,Xn("./lib/deflate"),Xn("./lib/inflate"),Xn("./lib/zlib/constants")),Qn.exports=tr},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(Xn,Qn,er){var tr=Xn("./zlib/deflate"),nr=Xn("./utils/common"),rr=Xn("./utils/strings"),sr=Xn("./zlib/messages"),ir=Xn("./zlib/zstream"),or=Object.prototype.toString,ar=0,lr=-1,cr=0,pr=8;function ur(dr){if(!(this instanceof ur))return new ur(dr);this.options=nr.assign({level:lr,method:pr,chunkSize:16384,windowBits:15,memLevel:8,strategy:cr,to:""},dr||{});var fr=this.options;fr.raw&&0<fr.windowBits?fr.windowBits=-fr.windowBits:fr.gzip&&0<fr.windowBits&&fr.windowBits<16&&(fr.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ir,this.strm.avail_out=0;var yr=tr.deflateInit2(this.strm,fr.level,fr.method,fr.windowBits,fr.memLevel,fr.strategy);if(yr!==ar)throw new Error(sr[yr]);if(fr.header&&tr.deflateSetHeader(this.strm,fr.header),fr.dictionary){var _r;if(_r=typeof fr.dictionary=="string"?rr.string2buf(fr.dictionary):or.call(fr.dictionary)==="[object ArrayBuffer]"?new Uint8Array(fr.dictionary):fr.dictionary,(yr=tr.deflateSetDictionary(this.strm,_r))!==ar)throw new Error(sr[yr]);this._dict_set=!0}}function gr(dr,fr){var yr=new ur(fr);if(yr.push(dr,!0),yr.err)throw yr.msg||sr[yr.err];return yr.result}ur.prototype.push=function(dr,fr){var yr,_r,vr=this.strm,Er=this.options.chunkSize;if(this.ended)return!1;_r=fr===~~fr?fr:fr===!0?4:0,typeof dr=="string"?vr.input=rr.string2buf(dr):or.call(dr)==="[object ArrayBuffer]"?vr.input=new Uint8Array(dr):vr.input=dr,vr.next_in=0,vr.avail_in=vr.input.length;do{if(vr.avail_out===0&&(vr.output=new nr.Buf8(Er),vr.next_out=0,vr.avail_out=Er),(yr=tr.deflate(vr,_r))!==1&&yr!==ar)return this.onEnd(yr),!(this.ended=!0);vr.avail_out!==0&&(vr.avail_in!==0||_r!==4&&_r!==2)||(this.options.to==="string"?this.onData(rr.buf2binstring(nr.shrinkBuf(vr.output,vr.next_out))):this.onData(nr.shrinkBuf(vr.output,vr.next_out)))}while((0<vr.avail_in||vr.avail_out===0)&&yr!==1);return _r===4?(yr=tr.deflateEnd(this.strm),this.onEnd(yr),this.ended=!0,yr===ar):_r!==2||(this.onEnd(ar),!(vr.avail_out=0))},ur.prototype.onData=function(dr){this.chunks.push(dr)},ur.prototype.onEnd=function(dr){dr===ar&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=nr.flattenChunks(this.chunks)),this.chunks=[],this.err=dr,this.msg=this.strm.msg},er.Deflate=ur,er.deflate=gr,er.deflateRaw=function(dr,fr){return(fr=fr||{}).raw=!0,gr(dr,fr)},er.gzip=function(dr,fr){return(fr=fr||{}).gzip=!0,gr(dr,fr)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(Xn,Qn,er){var tr=Xn("./zlib/inflate"),nr=Xn("./utils/common"),rr=Xn("./utils/strings"),sr=Xn("./zlib/constants"),ir=Xn("./zlib/messages"),or=Xn("./zlib/zstream"),ar=Xn("./zlib/gzheader"),lr=Object.prototype.toString;function cr(ur){if(!(this instanceof cr))return new cr(ur);this.options=nr.assign({chunkSize:16384,windowBits:0,to:""},ur||{});var gr=this.options;gr.raw&&0<=gr.windowBits&&gr.windowBits<16&&(gr.windowBits=-gr.windowBits,gr.windowBits===0&&(gr.windowBits=-15)),!(0<=gr.windowBits&&gr.windowBits<16)||ur&&ur.windowBits||(gr.windowBits+=32),15<gr.windowBits&&gr.windowBits<48&&!(15&gr.windowBits)&&(gr.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new or,this.strm.avail_out=0;var dr=tr.inflateInit2(this.strm,gr.windowBits);if(dr!==sr.Z_OK)throw new Error(ir[dr]);this.header=new ar,tr.inflateGetHeader(this.strm,this.header)}function pr(ur,gr){var dr=new cr(gr);if(dr.push(ur,!0),dr.err)throw dr.msg||ir[dr.err];return dr.result}cr.prototype.push=function(ur,gr){var dr,fr,yr,_r,vr,Er,kr=this.strm,xr=this.options.chunkSize,Cr=this.options.dictionary,Lr=!1;if(this.ended)return!1;fr=gr===~~gr?gr:gr===!0?sr.Z_FINISH:sr.Z_NO_FLUSH,typeof ur=="string"?kr.input=rr.binstring2buf(ur):lr.call(ur)==="[object ArrayBuffer]"?kr.input=new Uint8Array(ur):kr.input=ur,kr.next_in=0,kr.avail_in=kr.input.length;do{if(kr.avail_out===0&&(kr.output=new nr.Buf8(xr),kr.next_out=0,kr.avail_out=xr),(dr=tr.inflate(kr,sr.Z_NO_FLUSH))===sr.Z_NEED_DICT&&Cr&&(Er=typeof Cr=="string"?rr.string2buf(Cr):lr.call(Cr)==="[object ArrayBuffer]"?new Uint8Array(Cr):Cr,dr=tr.inflateSetDictionary(this.strm,Er)),dr===sr.Z_BUF_ERROR&&Lr===!0&&(dr=sr.Z_OK,Lr=!1),dr!==sr.Z_STREAM_END&&dr!==sr.Z_OK)return this.onEnd(dr),!(this.ended=!0);kr.next_out&&(kr.avail_out!==0&&dr!==sr.Z_STREAM_END&&(kr.avail_in!==0||fr!==sr.Z_FINISH&&fr!==sr.Z_SYNC_FLUSH)||(this.options.to==="string"?(yr=rr.utf8border(kr.output,kr.next_out),_r=kr.next_out-yr,vr=rr.buf2string(kr.output,yr),kr.next_out=_r,kr.avail_out=xr-_r,_r&&nr.arraySet(kr.output,kr.output,yr,_r,0),this.onData(vr)):this.onData(nr.shrinkBuf(kr.output,kr.next_out)))),kr.avail_in===0&&kr.avail_out===0&&(Lr=!0)}while((0<kr.avail_in||kr.avail_out===0)&&dr!==sr.Z_STREAM_END);return dr===sr.Z_STREAM_END&&(fr=sr.Z_FINISH),fr===sr.Z_FINISH?(dr=tr.inflateEnd(this.strm),this.onEnd(dr),this.ended=!0,dr===sr.Z_OK):fr!==sr.Z_SYNC_FLUSH||(this.onEnd(sr.Z_OK),!(kr.avail_out=0))},cr.prototype.onData=function(ur){this.chunks.push(ur)},cr.prototype.onEnd=function(ur){ur===sr.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=nr.flattenChunks(this.chunks)),this.chunks=[],this.err=ur,this.msg=this.strm.msg},er.Inflate=cr,er.inflate=pr,er.inflateRaw=function(ur,gr){return(gr=gr||{}).raw=!0,pr(ur,gr)},er.ungzip=pr},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(Xn,Qn,er){var tr=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";er.assign=function(sr){for(var ir=Array.prototype.slice.call(arguments,1);ir.length;){var or=ir.shift();if(or){if(typeof or!="object")throw new TypeError(or+"must be non-object");for(var ar in or)or.hasOwnProperty(ar)&&(sr[ar]=or[ar])}}return sr},er.shrinkBuf=function(sr,ir){return sr.length===ir?sr:sr.subarray?sr.subarray(0,ir):(sr.length=ir,sr)};var nr={arraySet:function(sr,ir,or,ar,lr){if(ir.subarray&&sr.subarray)sr.set(ir.subarray(or,or+ar),lr);else for(var cr=0;cr<ar;cr++)sr[lr+cr]=ir[or+cr]},flattenChunks:function(sr){var ir,or,ar,lr,cr,pr;for(ir=ar=0,or=sr.length;ir<or;ir++)ar+=sr[ir].length;for(pr=new Uint8Array(ar),ir=lr=0,or=sr.length;ir<or;ir++)cr=sr[ir],pr.set(cr,lr),lr+=cr.length;return pr}},rr={arraySet:function(sr,ir,or,ar,lr){for(var cr=0;cr<ar;cr++)sr[lr+cr]=ir[or+cr]},flattenChunks:function(sr){return[].concat.apply([],sr)}};er.setTyped=function(sr){sr?(er.Buf8=Uint8Array,er.Buf16=Uint16Array,er.Buf32=Int32Array,er.assign(er,nr)):(er.Buf8=Array,er.Buf16=Array,er.Buf32=Array,er.assign(er,rr))},er.setTyped(tr)},{}],42:[function(Xn,Qn,er){var tr=Xn("./common"),nr=!0,rr=!0;try{String.fromCharCode.apply(null,[0])}catch{nr=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{rr=!1}for(var sr=new tr.Buf8(256),ir=0;ir<256;ir++)sr[ir]=252<=ir?6:248<=ir?5:240<=ir?4:224<=ir?3:192<=ir?2:1;function or(ar,lr){if(lr<65537&&(ar.subarray&&rr||!ar.subarray&&nr))return String.fromCharCode.apply(null,tr.shrinkBuf(ar,lr));for(var cr="",pr=0;pr<lr;pr++)cr+=String.fromCharCode(ar[pr]);return cr}sr[254]=sr[254]=1,er.string2buf=function(ar){var lr,cr,pr,ur,gr,dr=ar.length,fr=0;for(ur=0;ur<dr;ur++)(64512&(cr=ar.charCodeAt(ur)))==55296&&ur+1<dr&&(64512&(pr=ar.charCodeAt(ur+1)))==56320&&(cr=65536+(cr-55296<<10)+(pr-56320),ur++),fr+=cr<128?1:cr<2048?2:cr<65536?3:4;for(lr=new tr.Buf8(fr),ur=gr=0;gr<fr;ur++)(64512&(cr=ar.charCodeAt(ur)))==55296&&ur+1<dr&&(64512&(pr=ar.charCodeAt(ur+1)))==56320&&(cr=65536+(cr-55296<<10)+(pr-56320),ur++),cr<128?lr[gr++]=cr:(cr<2048?lr[gr++]=192|cr>>>6:(cr<65536?lr[gr++]=224|cr>>>12:(lr[gr++]=240|cr>>>18,lr[gr++]=128|cr>>>12&63),lr[gr++]=128|cr>>>6&63),lr[gr++]=128|63&cr);return lr},er.buf2binstring=function(ar){return or(ar,ar.length)},er.binstring2buf=function(ar){for(var lr=new tr.Buf8(ar.length),cr=0,pr=lr.length;cr<pr;cr++)lr[cr]=ar.charCodeAt(cr);return lr},er.buf2string=function(ar,lr){var cr,pr,ur,gr,dr=lr||ar.length,fr=new Array(2*dr);for(cr=pr=0;cr<dr;)if((ur=ar[cr++])<128)fr[pr++]=ur;else if(4<(gr=sr[ur]))fr[pr++]=65533,cr+=gr-1;else{for(ur&=gr===2?31:gr===3?15:7;1<gr&&cr<dr;)ur=ur<<6|63&ar[cr++],gr--;1<gr?fr[pr++]=65533:ur<65536?fr[pr++]=ur:(ur-=65536,fr[pr++]=55296|ur>>10&1023,fr[pr++]=56320|1023&ur)}return or(fr,pr)},er.utf8border=function(ar,lr){var cr;for((lr=lr||ar.length)>ar.length&&(lr=ar.length),cr=lr-1;0<=cr&&(192&ar[cr])==128;)cr--;return cr<0||cr===0?lr:cr+sr[ar[cr]]>lr?cr:lr}},{"./common":41}],43:[function(Xn,Qn,er){Qn.exports=function(tr,nr,rr,sr){for(var ir=65535&tr|0,or=tr>>>16&65535|0,ar=0;rr!==0;){for(rr-=ar=2e3<rr?2e3:rr;or=or+(ir=ir+nr[sr++]|0)|0,--ar;);ir%=65521,or%=65521}return ir|or<<16|0}},{}],44:[function(Xn,Qn,er){Qn.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(Xn,Qn,er){var tr=function(){for(var nr,rr=[],sr=0;sr<256;sr++){nr=sr;for(var ir=0;ir<8;ir++)nr=1&nr?3988292384^nr>>>1:nr>>>1;rr[sr]=nr}return rr}();Qn.exports=function(nr,rr,sr,ir){var or=tr,ar=ir+sr;nr^=-1;for(var lr=ir;lr<ar;lr++)nr=nr>>>8^or[255&(nr^rr[lr])];return-1^nr}},{}],46:[function(Xn,Qn,er){var tr,nr=Xn("../utils/common"),rr=Xn("./trees"),sr=Xn("./adler32"),ir=Xn("./crc32"),or=Xn("./messages"),ar=0,lr=4,cr=0,pr=-2,ur=-1,gr=4,dr=2,fr=8,yr=9,_r=286,vr=30,Er=19,kr=2*_r+1,xr=15,Cr=3,Lr=258,Vr=Lr+Cr+1,wr=42,$r=113,mr=1,jr=2,Qr=3,Hr=4;function rs(hr,Rr){return hr.msg=or[Rr],Rr}function Xr(hr){return(hr<<1)-(4<hr?9:0)}function ls(hr){for(var Rr=hr.length;0<=--Rr;)hr[Rr]=0}function zr(hr){var Rr=hr.state,Or=Rr.pending;Or>hr.avail_out&&(Or=hr.avail_out),Or!==0&&(nr.arraySet(hr.output,Rr.pending_buf,Rr.pending_out,Or,hr.next_out),hr.next_out+=Or,Rr.pending_out+=Or,hr.total_out+=Or,hr.avail_out-=Or,Rr.pending-=Or,Rr.pending===0&&(Rr.pending_out=0))}function Ur(hr,Rr){rr._tr_flush_block(hr,0<=hr.block_start?hr.block_start:-1,hr.strstart-hr.block_start,Rr),hr.block_start=hr.strstart,zr(hr.strm)}function ns(hr,Rr){hr.pending_buf[hr.pending++]=Rr}function is(hr,Rr){hr.pending_buf[hr.pending++]=Rr>>>8&255,hr.pending_buf[hr.pending++]=255&Rr}function ts(hr,Rr){var Or,br,Ar=hr.max_chain_length,Tr=hr.strstart,Mr=hr.prev_length,Br=hr.nice_match,Nr=hr.strstart>hr.w_size-Vr?hr.strstart-(hr.w_size-Vr):0,Dr=hr.window,qr=hr.w_mask,Wr=hr.prev,es=hr.strstart+Lr,us=Dr[Tr+Mr-1],os=Dr[Tr+Mr];hr.prev_length>=hr.good_match&&(Ar>>=2),Br>hr.lookahead&&(Br=hr.lookahead);do if(Dr[(Or=Rr)+Mr]===os&&Dr[Or+Mr-1]===us&&Dr[Or]===Dr[Tr]&&Dr[++Or]===Dr[Tr+1]){Tr+=2,Or++;do;while(Dr[++Tr]===Dr[++Or]&&Dr[++Tr]===Dr[++Or]&&Dr[++Tr]===Dr[++Or]&&Dr[++Tr]===Dr[++Or]&&Dr[++Tr]===Dr[++Or]&&Dr[++Tr]===Dr[++Or]&&Dr[++Tr]===Dr[++Or]&&Dr[++Tr]===Dr[++Or]&&Tr<es);if(br=Lr-(es-Tr),Tr=es-Lr,Mr<br){if(hr.match_start=Rr,Br<=(Mr=br))break;us=Dr[Tr+Mr-1],os=Dr[Tr+Mr]}}while((Rr=Wr[Rr&qr])>Nr&&--Ar!=0);return Mr<=hr.lookahead?Mr:hr.lookahead}function fs(hr){var Rr,Or,br,Ar,Tr,Mr,Br,Nr,Dr,qr,Wr=hr.w_size;do{if(Ar=hr.window_size-hr.lookahead-hr.strstart,hr.strstart>=Wr+(Wr-Vr)){for(nr.arraySet(hr.window,hr.window,Wr,Wr,0),hr.match_start-=Wr,hr.strstart-=Wr,hr.block_start-=Wr,Rr=Or=hr.hash_size;br=hr.head[--Rr],hr.head[Rr]=Wr<=br?br-Wr:0,--Or;);for(Rr=Or=Wr;br=hr.prev[--Rr],hr.prev[Rr]=Wr<=br?br-Wr:0,--Or;);Ar+=Wr}if(hr.strm.avail_in===0)break;if(Mr=hr.strm,Br=hr.window,Nr=hr.strstart+hr.lookahead,Dr=Ar,qr=void 0,qr=Mr.avail_in,Dr<qr&&(qr=Dr),Or=qr===0?0:(Mr.avail_in-=qr,nr.arraySet(Br,Mr.input,Mr.next_in,qr,Nr),Mr.state.wrap===1?Mr.adler=sr(Mr.adler,Br,qr,Nr):Mr.state.wrap===2&&(Mr.adler=ir(Mr.adler,Br,qr,Nr)),Mr.next_in+=qr,Mr.total_in+=qr,qr),hr.lookahead+=Or,hr.lookahead+hr.insert>=Cr)for(Tr=hr.strstart-hr.insert,hr.ins_h=hr.window[Tr],hr.ins_h=(hr.ins_h<<hr.hash_shift^hr.window[Tr+1])&hr.hash_mask;hr.insert&&(hr.ins_h=(hr.ins_h<<hr.hash_shift^hr.window[Tr+Cr-1])&hr.hash_mask,hr.prev[Tr&hr.w_mask]=hr.head[hr.ins_h],hr.head[hr.ins_h]=Tr,Tr++,hr.insert--,!(hr.lookahead+hr.insert<Cr)););}while(hr.lookahead<Vr&&hr.strm.avail_in!==0)}function Gr(hr,Rr){for(var Or,br;;){if(hr.lookahead<Vr){if(fs(hr),hr.lookahead<Vr&&Rr===ar)return mr;if(hr.lookahead===0)break}if(Or=0,hr.lookahead>=Cr&&(hr.ins_h=(hr.ins_h<<hr.hash_shift^hr.window[hr.strstart+Cr-1])&hr.hash_mask,Or=hr.prev[hr.strstart&hr.w_mask]=hr.head[hr.ins_h],hr.head[hr.ins_h]=hr.strstart),Or!==0&&hr.strstart-Or<=hr.w_size-Vr&&(hr.match_length=ts(hr,Or)),hr.match_length>=Cr)if(br=rr._tr_tally(hr,hr.strstart-hr.match_start,hr.match_length-Cr),hr.lookahead-=hr.match_length,hr.match_length<=hr.max_lazy_match&&hr.lookahead>=Cr){for(hr.match_length--;hr.strstart++,hr.ins_h=(hr.ins_h<<hr.hash_shift^hr.window[hr.strstart+Cr-1])&hr.hash_mask,Or=hr.prev[hr.strstart&hr.w_mask]=hr.head[hr.ins_h],hr.head[hr.ins_h]=hr.strstart,--hr.match_length!=0;);hr.strstart++}else hr.strstart+=hr.match_length,hr.match_length=0,hr.ins_h=hr.window[hr.strstart],hr.ins_h=(hr.ins_h<<hr.hash_shift^hr.window[hr.strstart+1])&hr.hash_mask;else br=rr._tr_tally(hr,0,hr.window[hr.strstart]),hr.lookahead--,hr.strstart++;if(br&&(Ur(hr,!1),hr.strm.avail_out===0))return mr}return hr.insert=hr.strstart<Cr-1?hr.strstart:Cr-1,Rr===lr?(Ur(hr,!0),hr.strm.avail_out===0?Qr:Hr):hr.last_lit&&(Ur(hr,!1),hr.strm.avail_out===0)?mr:jr}function Yr(hr,Rr){for(var Or,br,Ar;;){if(hr.lookahead<Vr){if(fs(hr),hr.lookahead<Vr&&Rr===ar)return mr;if(hr.lookahead===0)break}if(Or=0,hr.lookahead>=Cr&&(hr.ins_h=(hr.ins_h<<hr.hash_shift^hr.window[hr.strstart+Cr-1])&hr.hash_mask,Or=hr.prev[hr.strstart&hr.w_mask]=hr.head[hr.ins_h],hr.head[hr.ins_h]=hr.strstart),hr.prev_length=hr.match_length,hr.prev_match=hr.match_start,hr.match_length=Cr-1,Or!==0&&hr.prev_length<hr.max_lazy_match&&hr.strstart-Or<=hr.w_size-Vr&&(hr.match_length=ts(hr,Or),hr.match_length<=5&&(hr.strategy===1||hr.match_length===Cr&&4096<hr.strstart-hr.match_start)&&(hr.match_length=Cr-1)),hr.prev_length>=Cr&&hr.match_length<=hr.prev_length){for(Ar=hr.strstart+hr.lookahead-Cr,br=rr._tr_tally(hr,hr.strstart-1-hr.prev_match,hr.prev_length-Cr),hr.lookahead-=hr.prev_length-1,hr.prev_length-=2;++hr.strstart<=Ar&&(hr.ins_h=(hr.ins_h<<hr.hash_shift^hr.window[hr.strstart+Cr-1])&hr.hash_mask,Or=hr.prev[hr.strstart&hr.w_mask]=hr.head[hr.ins_h],hr.head[hr.ins_h]=hr.strstart),--hr.prev_length!=0;);if(hr.match_available=0,hr.match_length=Cr-1,hr.strstart++,br&&(Ur(hr,!1),hr.strm.avail_out===0))return mr}else if(hr.match_available){if((br=rr._tr_tally(hr,0,hr.window[hr.strstart-1]))&&Ur(hr,!1),hr.strstart++,hr.lookahead--,hr.strm.avail_out===0)return mr}else hr.match_available=1,hr.strstart++,hr.lookahead--}return hr.match_available&&(br=rr._tr_tally(hr,0,hr.window[hr.strstart-1]),hr.match_available=0),hr.insert=hr.strstart<Cr-1?hr.strstart:Cr-1,Rr===lr?(Ur(hr,!0),hr.strm.avail_out===0?Qr:Hr):hr.last_lit&&(Ur(hr,!1),hr.strm.avail_out===0)?mr:jr}function Jr(hr,Rr,Or,br,Ar){this.good_length=hr,this.max_lazy=Rr,this.nice_length=Or,this.max_chain=br,this.func=Ar}function ss(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=fr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new nr.Buf16(2*kr),this.dyn_dtree=new nr.Buf16(2*(2*vr+1)),this.bl_tree=new nr.Buf16(2*(2*Er+1)),ls(this.dyn_ltree),ls(this.dyn_dtree),ls(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new nr.Buf16(xr+1),this.heap=new nr.Buf16(2*_r+1),ls(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new nr.Buf16(2*_r+1),ls(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function cs(hr){var Rr;return hr&&hr.state?(hr.total_in=hr.total_out=0,hr.data_type=dr,(Rr=hr.state).pending=0,Rr.pending_out=0,Rr.wrap<0&&(Rr.wrap=-Rr.wrap),Rr.status=Rr.wrap?wr:$r,hr.adler=Rr.wrap===2?0:1,Rr.last_flush=ar,rr._tr_init(Rr),cr):rs(hr,pr)}function Ir(hr){var Rr=cs(hr);return Rr===cr&&function(Or){Or.window_size=2*Or.w_size,ls(Or.head),Or.max_lazy_match=tr[Or.level].max_lazy,Or.good_match=tr[Or.level].good_length,Or.nice_match=tr[Or.level].nice_length,Or.max_chain_length=tr[Or.level].max_chain,Or.strstart=0,Or.block_start=0,Or.lookahead=0,Or.insert=0,Or.match_length=Or.prev_length=Cr-1,Or.match_available=0,Or.ins_h=0}(hr.state),Rr}function Pr(hr,Rr,Or,br,Ar,Tr){if(!hr)return pr;var Mr=1;if(Rr===ur&&(Rr=6),br<0?(Mr=0,br=-br):15<br&&(Mr=2,br-=16),Ar<1||yr<Ar||Or!==fr||br<8||15<br||Rr<0||9<Rr||Tr<0||gr<Tr)return rs(hr,pr);br===8&&(br=9);var Br=new ss;return(hr.state=Br).strm=hr,Br.wrap=Mr,Br.gzhead=null,Br.w_bits=br,Br.w_size=1<<Br.w_bits,Br.w_mask=Br.w_size-1,Br.hash_bits=Ar+7,Br.hash_size=1<<Br.hash_bits,Br.hash_mask=Br.hash_size-1,Br.hash_shift=~~((Br.hash_bits+Cr-1)/Cr),Br.window=new nr.Buf8(2*Br.w_size),Br.head=new nr.Buf16(Br.hash_size),Br.prev=new nr.Buf16(Br.w_size),Br.lit_bufsize=1<<Ar+6,Br.pending_buf_size=4*Br.lit_bufsize,Br.pending_buf=new nr.Buf8(Br.pending_buf_size),Br.d_buf=1*Br.lit_bufsize,Br.l_buf=3*Br.lit_bufsize,Br.level=Rr,Br.strategy=Tr,Br.method=Or,Ir(hr)}tr=[new Jr(0,0,0,0,function(hr,Rr){var Or=65535;for(Or>hr.pending_buf_size-5&&(Or=hr.pending_buf_size-5);;){if(hr.lookahead<=1){if(fs(hr),hr.lookahead===0&&Rr===ar)return mr;if(hr.lookahead===0)break}hr.strstart+=hr.lookahead,hr.lookahead=0;var br=hr.block_start+Or;if((hr.strstart===0||hr.strstart>=br)&&(hr.lookahead=hr.strstart-br,hr.strstart=br,Ur(hr,!1),hr.strm.avail_out===0)||hr.strstart-hr.block_start>=hr.w_size-Vr&&(Ur(hr,!1),hr.strm.avail_out===0))return mr}return hr.insert=0,Rr===lr?(Ur(hr,!0),hr.strm.avail_out===0?Qr:Hr):(hr.strstart>hr.block_start&&(Ur(hr,!1),hr.strm.avail_out),mr)}),new Jr(4,4,8,4,Gr),new Jr(4,5,16,8,Gr),new Jr(4,6,32,32,Gr),new Jr(4,4,16,16,Yr),new Jr(8,16,32,32,Yr),new Jr(8,16,128,128,Yr),new Jr(8,32,128,256,Yr),new Jr(32,128,258,1024,Yr),new Jr(32,258,258,4096,Yr)],er.deflateInit=function(hr,Rr){return Pr(hr,Rr,fr,15,8,0)},er.deflateInit2=Pr,er.deflateReset=Ir,er.deflateResetKeep=cs,er.deflateSetHeader=function(hr,Rr){return hr&&hr.state?hr.state.wrap!==2?pr:(hr.state.gzhead=Rr,cr):pr},er.deflate=function(hr,Rr){var Or,br,Ar,Tr;if(!hr||!hr.state||5<Rr||Rr<0)return hr?rs(hr,pr):pr;if(br=hr.state,!hr.output||!hr.input&&hr.avail_in!==0||br.status===666&&Rr!==lr)return rs(hr,hr.avail_out===0?-5:pr);if(br.strm=hr,Or=br.last_flush,br.last_flush=Rr,br.status===wr)if(br.wrap===2)hr.adler=0,ns(br,31),ns(br,139),ns(br,8),br.gzhead?(ns(br,(br.gzhead.text?1:0)+(br.gzhead.hcrc?2:0)+(br.gzhead.extra?4:0)+(br.gzhead.name?8:0)+(br.gzhead.comment?16:0)),ns(br,255&br.gzhead.time),ns(br,br.gzhead.time>>8&255),ns(br,br.gzhead.time>>16&255),ns(br,br.gzhead.time>>24&255),ns(br,br.level===9?2:2<=br.strategy||br.level<2?4:0),ns(br,255&br.gzhead.os),br.gzhead.extra&&br.gzhead.extra.length&&(ns(br,255&br.gzhead.extra.length),ns(br,br.gzhead.extra.length>>8&255)),br.gzhead.hcrc&&(hr.adler=ir(hr.adler,br.pending_buf,br.pending,0)),br.gzindex=0,br.status=69):(ns(br,0),ns(br,0),ns(br,0),ns(br,0),ns(br,0),ns(br,br.level===9?2:2<=br.strategy||br.level<2?4:0),ns(br,3),br.status=$r);else{var Mr=fr+(br.w_bits-8<<4)<<8;Mr|=(2<=br.strategy||br.level<2?0:br.level<6?1:br.level===6?2:3)<<6,br.strstart!==0&&(Mr|=32),Mr+=31-Mr%31,br.status=$r,is(br,Mr),br.strstart!==0&&(is(br,hr.adler>>>16),is(br,65535&hr.adler)),hr.adler=1}if(br.status===69)if(br.gzhead.extra){for(Ar=br.pending;br.gzindex<(65535&br.gzhead.extra.length)&&(br.pending!==br.pending_buf_size||(br.gzhead.hcrc&&br.pending>Ar&&(hr.adler=ir(hr.adler,br.pending_buf,br.pending-Ar,Ar)),zr(hr),Ar=br.pending,br.pending!==br.pending_buf_size));)ns(br,255&br.gzhead.extra[br.gzindex]),br.gzindex++;br.gzhead.hcrc&&br.pending>Ar&&(hr.adler=ir(hr.adler,br.pending_buf,br.pending-Ar,Ar)),br.gzindex===br.gzhead.extra.length&&(br.gzindex=0,br.status=73)}else br.status=73;if(br.status===73)if(br.gzhead.name){Ar=br.pending;do{if(br.pending===br.pending_buf_size&&(br.gzhead.hcrc&&br.pending>Ar&&(hr.adler=ir(hr.adler,br.pending_buf,br.pending-Ar,Ar)),zr(hr),Ar=br.pending,br.pending===br.pending_buf_size)){Tr=1;break}Tr=br.gzindex<br.gzhead.name.length?255&br.gzhead.name.charCodeAt(br.gzindex++):0,ns(br,Tr)}while(Tr!==0);br.gzhead.hcrc&&br.pending>Ar&&(hr.adler=ir(hr.adler,br.pending_buf,br.pending-Ar,Ar)),Tr===0&&(br.gzindex=0,br.status=91)}else br.status=91;if(br.status===91)if(br.gzhead.comment){Ar=br.pending;do{if(br.pending===br.pending_buf_size&&(br.gzhead.hcrc&&br.pending>Ar&&(hr.adler=ir(hr.adler,br.pending_buf,br.pending-Ar,Ar)),zr(hr),Ar=br.pending,br.pending===br.pending_buf_size)){Tr=1;break}Tr=br.gzindex<br.gzhead.comment.length?255&br.gzhead.comment.charCodeAt(br.gzindex++):0,ns(br,Tr)}while(Tr!==0);br.gzhead.hcrc&&br.pending>Ar&&(hr.adler=ir(hr.adler,br.pending_buf,br.pending-Ar,Ar)),Tr===0&&(br.status=103)}else br.status=103;if(br.status===103&&(br.gzhead.hcrc?(br.pending+2>br.pending_buf_size&&zr(hr),br.pending+2<=br.pending_buf_size&&(ns(br,255&hr.adler),ns(br,hr.adler>>8&255),hr.adler=0,br.status=$r)):br.status=$r),br.pending!==0){if(zr(hr),hr.avail_out===0)return br.last_flush=-1,cr}else if(hr.avail_in===0&&Xr(Rr)<=Xr(Or)&&Rr!==lr)return rs(hr,-5);if(br.status===666&&hr.avail_in!==0)return rs(hr,-5);if(hr.avail_in!==0||br.lookahead!==0||Rr!==ar&&br.status!==666){var Br=br.strategy===2?function(Nr,Dr){for(var qr;;){if(Nr.lookahead===0&&(fs(Nr),Nr.lookahead===0)){if(Dr===ar)return mr;break}if(Nr.match_length=0,qr=rr._tr_tally(Nr,0,Nr.window[Nr.strstart]),Nr.lookahead--,Nr.strstart++,qr&&(Ur(Nr,!1),Nr.strm.avail_out===0))return mr}return Nr.insert=0,Dr===lr?(Ur(Nr,!0),Nr.strm.avail_out===0?Qr:Hr):Nr.last_lit&&(Ur(Nr,!1),Nr.strm.avail_out===0)?mr:jr}(br,Rr):br.strategy===3?function(Nr,Dr){for(var qr,Wr,es,us,os=Nr.window;;){if(Nr.lookahead<=Lr){if(fs(Nr),Nr.lookahead<=Lr&&Dr===ar)return mr;if(Nr.lookahead===0)break}if(Nr.match_length=0,Nr.lookahead>=Cr&&0<Nr.strstart&&(Wr=os[es=Nr.strstart-1])===os[++es]&&Wr===os[++es]&&Wr===os[++es]){us=Nr.strstart+Lr;do;while(Wr===os[++es]&&Wr===os[++es]&&Wr===os[++es]&&Wr===os[++es]&&Wr===os[++es]&&Wr===os[++es]&&Wr===os[++es]&&Wr===os[++es]&&es<us);Nr.match_length=Lr-(us-es),Nr.match_length>Nr.lookahead&&(Nr.match_length=Nr.lookahead)}if(Nr.match_length>=Cr?(qr=rr._tr_tally(Nr,1,Nr.match_length-Cr),Nr.lookahead-=Nr.match_length,Nr.strstart+=Nr.match_length,Nr.match_length=0):(qr=rr._tr_tally(Nr,0,Nr.window[Nr.strstart]),Nr.lookahead--,Nr.strstart++),qr&&(Ur(Nr,!1),Nr.strm.avail_out===0))return mr}return Nr.insert=0,Dr===lr?(Ur(Nr,!0),Nr.strm.avail_out===0?Qr:Hr):Nr.last_lit&&(Ur(Nr,!1),Nr.strm.avail_out===0)?mr:jr}(br,Rr):tr[br.level].func(br,Rr);if(Br!==Qr&&Br!==Hr||(br.status=666),Br===mr||Br===Qr)return hr.avail_out===0&&(br.last_flush=-1),cr;if(Br===jr&&(Rr===1?rr._tr_align(br):Rr!==5&&(rr._tr_stored_block(br,0,0,!1),Rr===3&&(ls(br.head),br.lookahead===0&&(br.strstart=0,br.block_start=0,br.insert=0))),zr(hr),hr.avail_out===0))return br.last_flush=-1,cr}return Rr!==lr?cr:br.wrap<=0?1:(br.wrap===2?(ns(br,255&hr.adler),ns(br,hr.adler>>8&255),ns(br,hr.adler>>16&255),ns(br,hr.adler>>24&255),ns(br,255&hr.total_in),ns(br,hr.total_in>>8&255),ns(br,hr.total_in>>16&255),ns(br,hr.total_in>>24&255)):(is(br,hr.adler>>>16),is(br,65535&hr.adler)),zr(hr),0<br.wrap&&(br.wrap=-br.wrap),br.pending!==0?cr:1)},er.deflateEnd=function(hr){var Rr;return hr&&hr.state?(Rr=hr.state.status)!==wr&&Rr!==69&&Rr!==73&&Rr!==91&&Rr!==103&&Rr!==$r&&Rr!==666?rs(hr,pr):(hr.state=null,Rr===$r?rs(hr,-3):cr):pr},er.deflateSetDictionary=function(hr,Rr){var Or,br,Ar,Tr,Mr,Br,Nr,Dr,qr=Rr.length;if(!hr||!hr.state||(Tr=(Or=hr.state).wrap)===2||Tr===1&&Or.status!==wr||Or.lookahead)return pr;for(Tr===1&&(hr.adler=sr(hr.adler,Rr,qr,0)),Or.wrap=0,qr>=Or.w_size&&(Tr===0&&(ls(Or.head),Or.strstart=0,Or.block_start=0,Or.insert=0),Dr=new nr.Buf8(Or.w_size),nr.arraySet(Dr,Rr,qr-Or.w_size,Or.w_size,0),Rr=Dr,qr=Or.w_size),Mr=hr.avail_in,Br=hr.next_in,Nr=hr.input,hr.avail_in=qr,hr.next_in=0,hr.input=Rr,fs(Or);Or.lookahead>=Cr;){for(br=Or.strstart,Ar=Or.lookahead-(Cr-1);Or.ins_h=(Or.ins_h<<Or.hash_shift^Or.window[br+Cr-1])&Or.hash_mask,Or.prev[br&Or.w_mask]=Or.head[Or.ins_h],Or.head[Or.ins_h]=br,br++,--Ar;);Or.strstart=br,Or.lookahead=Cr-1,fs(Or)}return Or.strstart+=Or.lookahead,Or.block_start=Or.strstart,Or.insert=Or.lookahead,Or.lookahead=0,Or.match_length=Or.prev_length=Cr-1,Or.match_available=0,hr.next_in=Br,hr.input=Nr,hr.avail_in=Mr,Or.wrap=Tr,cr},er.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(Xn,Qn,er){Qn.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(Xn,Qn,er){Qn.exports=function(tr,nr){var rr,sr,ir,or,ar,lr,cr,pr,ur,gr,dr,fr,yr,_r,vr,Er,kr,xr,Cr,Lr,Vr,wr,$r,mr,jr;rr=tr.state,sr=tr.next_in,mr=tr.input,ir=sr+(tr.avail_in-5),or=tr.next_out,jr=tr.output,ar=or-(nr-tr.avail_out),lr=or+(tr.avail_out-257),cr=rr.dmax,pr=rr.wsize,ur=rr.whave,gr=rr.wnext,dr=rr.window,fr=rr.hold,yr=rr.bits,_r=rr.lencode,vr=rr.distcode,Er=(1<<rr.lenbits)-1,kr=(1<<rr.distbits)-1;e:do{yr<15&&(fr+=mr[sr++]<<yr,yr+=8,fr+=mr[sr++]<<yr,yr+=8),xr=_r[fr&Er];t:for(;;){if(fr>>>=Cr=xr>>>24,yr-=Cr,(Cr=xr>>>16&255)===0)jr[or++]=65535&xr;else{if(!(16&Cr)){if(!(64&Cr)){xr=_r[(65535&xr)+(fr&(1<<Cr)-1)];continue t}if(32&Cr){rr.mode=12;break e}tr.msg="invalid literal/length code",rr.mode=30;break e}Lr=65535&xr,(Cr&=15)&&(yr<Cr&&(fr+=mr[sr++]<<yr,yr+=8),Lr+=fr&(1<<Cr)-1,fr>>>=Cr,yr-=Cr),yr<15&&(fr+=mr[sr++]<<yr,yr+=8,fr+=mr[sr++]<<yr,yr+=8),xr=vr[fr&kr];n:for(;;){if(fr>>>=Cr=xr>>>24,yr-=Cr,!(16&(Cr=xr>>>16&255))){if(!(64&Cr)){xr=vr[(65535&xr)+(fr&(1<<Cr)-1)];continue n}tr.msg="invalid distance code",rr.mode=30;break e}if(Vr=65535&xr,yr<(Cr&=15)&&(fr+=mr[sr++]<<yr,(yr+=8)<Cr&&(fr+=mr[sr++]<<yr,yr+=8)),cr<(Vr+=fr&(1<<Cr)-1)){tr.msg="invalid distance too far back",rr.mode=30;break e}if(fr>>>=Cr,yr-=Cr,(Cr=or-ar)<Vr){if(ur<(Cr=Vr-Cr)&&rr.sane){tr.msg="invalid distance too far back",rr.mode=30;break e}if($r=dr,(wr=0)===gr){if(wr+=pr-Cr,Cr<Lr){for(Lr-=Cr;jr[or++]=dr[wr++],--Cr;);wr=or-Vr,$r=jr}}else if(gr<Cr){if(wr+=pr+gr-Cr,(Cr-=gr)<Lr){for(Lr-=Cr;jr[or++]=dr[wr++],--Cr;);if(wr=0,gr<Lr){for(Lr-=Cr=gr;jr[or++]=dr[wr++],--Cr;);wr=or-Vr,$r=jr}}}else if(wr+=gr-Cr,Cr<Lr){for(Lr-=Cr;jr[or++]=dr[wr++],--Cr;);wr=or-Vr,$r=jr}for(;2<Lr;)jr[or++]=$r[wr++],jr[or++]=$r[wr++],jr[or++]=$r[wr++],Lr-=3;Lr&&(jr[or++]=$r[wr++],1<Lr&&(jr[or++]=$r[wr++]))}else{for(wr=or-Vr;jr[or++]=jr[wr++],jr[or++]=jr[wr++],jr[or++]=jr[wr++],2<(Lr-=3););Lr&&(jr[or++]=jr[wr++],1<Lr&&(jr[or++]=jr[wr++]))}break}}break}}while(sr<ir&&or<lr);sr-=Lr=yr>>3,fr&=(1<<(yr-=Lr<<3))-1,tr.next_in=sr,tr.next_out=or,tr.avail_in=sr<ir?ir-sr+5:5-(sr-ir),tr.avail_out=or<lr?lr-or+257:257-(or-lr),rr.hold=fr,rr.bits=yr}},{}],49:[function(Xn,Qn,er){var tr=Xn("../utils/common"),nr=Xn("./adler32"),rr=Xn("./crc32"),sr=Xn("./inffast"),ir=Xn("./inftrees"),or=1,ar=2,lr=0,cr=-2,pr=1,ur=852,gr=592;function dr(wr){return(wr>>>24&255)+(wr>>>8&65280)+((65280&wr)<<8)+((255&wr)<<24)}function fr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new tr.Buf16(320),this.work=new tr.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function yr(wr){var $r;return wr&&wr.state?($r=wr.state,wr.total_in=wr.total_out=$r.total=0,wr.msg="",$r.wrap&&(wr.adler=1&$r.wrap),$r.mode=pr,$r.last=0,$r.havedict=0,$r.dmax=32768,$r.head=null,$r.hold=0,$r.bits=0,$r.lencode=$r.lendyn=new tr.Buf32(ur),$r.distcode=$r.distdyn=new tr.Buf32(gr),$r.sane=1,$r.back=-1,lr):cr}function _r(wr){var $r;return wr&&wr.state?(($r=wr.state).wsize=0,$r.whave=0,$r.wnext=0,yr(wr)):cr}function vr(wr,$r){var mr,jr;return wr&&wr.state?(jr=wr.state,$r<0?(mr=0,$r=-$r):(mr=1+($r>>4),$r<48&&($r&=15)),$r&&($r<8||15<$r)?cr:(jr.window!==null&&jr.wbits!==$r&&(jr.window=null),jr.wrap=mr,jr.wbits=$r,_r(wr))):cr}function Er(wr,$r){var mr,jr;return wr?(jr=new fr,(wr.state=jr).window=null,(mr=vr(wr,$r))!==lr&&(wr.state=null),mr):cr}var kr,xr,Cr=!0;function Lr(wr){if(Cr){var $r;for(kr=new tr.Buf32(512),xr=new tr.Buf32(32),$r=0;$r<144;)wr.lens[$r++]=8;for(;$r<256;)wr.lens[$r++]=9;for(;$r<280;)wr.lens[$r++]=7;for(;$r<288;)wr.lens[$r++]=8;for(ir(or,wr.lens,0,288,kr,0,wr.work,{bits:9}),$r=0;$r<32;)wr.lens[$r++]=5;ir(ar,wr.lens,0,32,xr,0,wr.work,{bits:5}),Cr=!1}wr.lencode=kr,wr.lenbits=9,wr.distcode=xr,wr.distbits=5}function Vr(wr,$r,mr,jr){var Qr,Hr=wr.state;return Hr.window===null&&(Hr.wsize=1<<Hr.wbits,Hr.wnext=0,Hr.whave=0,Hr.window=new tr.Buf8(Hr.wsize)),jr>=Hr.wsize?(tr.arraySet(Hr.window,$r,mr-Hr.wsize,Hr.wsize,0),Hr.wnext=0,Hr.whave=Hr.wsize):(jr<(Qr=Hr.wsize-Hr.wnext)&&(Qr=jr),tr.arraySet(Hr.window,$r,mr-jr,Qr,Hr.wnext),(jr-=Qr)?(tr.arraySet(Hr.window,$r,mr-jr,jr,0),Hr.wnext=jr,Hr.whave=Hr.wsize):(Hr.wnext+=Qr,Hr.wnext===Hr.wsize&&(Hr.wnext=0),Hr.whave<Hr.wsize&&(Hr.whave+=Qr))),0}er.inflateReset=_r,er.inflateReset2=vr,er.inflateResetKeep=yr,er.inflateInit=function(wr){return Er(wr,15)},er.inflateInit2=Er,er.inflate=function(wr,$r){var mr,jr,Qr,Hr,rs,Xr,ls,zr,Ur,ns,is,ts,fs,Gr,Yr,Jr,ss,cs,Ir,Pr,hr,Rr,Or,br,Ar=0,Tr=new tr.Buf8(4),Mr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!wr||!wr.state||!wr.output||!wr.input&&wr.avail_in!==0)return cr;(mr=wr.state).mode===12&&(mr.mode=13),rs=wr.next_out,Qr=wr.output,ls=wr.avail_out,Hr=wr.next_in,jr=wr.input,Xr=wr.avail_in,zr=mr.hold,Ur=mr.bits,ns=Xr,is=ls,Rr=lr;e:for(;;)switch(mr.mode){case pr:if(mr.wrap===0){mr.mode=13;break}for(;Ur<16;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}if(2&mr.wrap&&zr===35615){Tr[mr.check=0]=255&zr,Tr[1]=zr>>>8&255,mr.check=rr(mr.check,Tr,2,0),Ur=zr=0,mr.mode=2;break}if(mr.flags=0,mr.head&&(mr.head.done=!1),!(1&mr.wrap)||(((255&zr)<<8)+(zr>>8))%31){wr.msg="incorrect header check",mr.mode=30;break}if((15&zr)!=8){wr.msg="unknown compression method",mr.mode=30;break}if(Ur-=4,hr=8+(15&(zr>>>=4)),mr.wbits===0)mr.wbits=hr;else if(hr>mr.wbits){wr.msg="invalid window size",mr.mode=30;break}mr.dmax=1<<hr,wr.adler=mr.check=1,mr.mode=512&zr?10:12,Ur=zr=0;break;case 2:for(;Ur<16;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}if(mr.flags=zr,(255&mr.flags)!=8){wr.msg="unknown compression method",mr.mode=30;break}if(57344&mr.flags){wr.msg="unknown header flags set",mr.mode=30;break}mr.head&&(mr.head.text=zr>>8&1),512&mr.flags&&(Tr[0]=255&zr,Tr[1]=zr>>>8&255,mr.check=rr(mr.check,Tr,2,0)),Ur=zr=0,mr.mode=3;case 3:for(;Ur<32;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}mr.head&&(mr.head.time=zr),512&mr.flags&&(Tr[0]=255&zr,Tr[1]=zr>>>8&255,Tr[2]=zr>>>16&255,Tr[3]=zr>>>24&255,mr.check=rr(mr.check,Tr,4,0)),Ur=zr=0,mr.mode=4;case 4:for(;Ur<16;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}mr.head&&(mr.head.xflags=255&zr,mr.head.os=zr>>8),512&mr.flags&&(Tr[0]=255&zr,Tr[1]=zr>>>8&255,mr.check=rr(mr.check,Tr,2,0)),Ur=zr=0,mr.mode=5;case 5:if(1024&mr.flags){for(;Ur<16;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}mr.length=zr,mr.head&&(mr.head.extra_len=zr),512&mr.flags&&(Tr[0]=255&zr,Tr[1]=zr>>>8&255,mr.check=rr(mr.check,Tr,2,0)),Ur=zr=0}else mr.head&&(mr.head.extra=null);mr.mode=6;case 6:if(1024&mr.flags&&(Xr<(ts=mr.length)&&(ts=Xr),ts&&(mr.head&&(hr=mr.head.extra_len-mr.length,mr.head.extra||(mr.head.extra=new Array(mr.head.extra_len)),tr.arraySet(mr.head.extra,jr,Hr,ts,hr)),512&mr.flags&&(mr.check=rr(mr.check,jr,ts,Hr)),Xr-=ts,Hr+=ts,mr.length-=ts),mr.length))break e;mr.length=0,mr.mode=7;case 7:if(2048&mr.flags){if(Xr===0)break e;for(ts=0;hr=jr[Hr+ts++],mr.head&&hr&&mr.length<65536&&(mr.head.name+=String.fromCharCode(hr)),hr&&ts<Xr;);if(512&mr.flags&&(mr.check=rr(mr.check,jr,ts,Hr)),Xr-=ts,Hr+=ts,hr)break e}else mr.head&&(mr.head.name=null);mr.length=0,mr.mode=8;case 8:if(4096&mr.flags){if(Xr===0)break e;for(ts=0;hr=jr[Hr+ts++],mr.head&&hr&&mr.length<65536&&(mr.head.comment+=String.fromCharCode(hr)),hr&&ts<Xr;);if(512&mr.flags&&(mr.check=rr(mr.check,jr,ts,Hr)),Xr-=ts,Hr+=ts,hr)break e}else mr.head&&(mr.head.comment=null);mr.mode=9;case 9:if(512&mr.flags){for(;Ur<16;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}if(zr!==(65535&mr.check)){wr.msg="header crc mismatch",mr.mode=30;break}Ur=zr=0}mr.head&&(mr.head.hcrc=mr.flags>>9&1,mr.head.done=!0),wr.adler=mr.check=0,mr.mode=12;break;case 10:for(;Ur<32;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}wr.adler=mr.check=dr(zr),Ur=zr=0,mr.mode=11;case 11:if(mr.havedict===0)return wr.next_out=rs,wr.avail_out=ls,wr.next_in=Hr,wr.avail_in=Xr,mr.hold=zr,mr.bits=Ur,2;wr.adler=mr.check=1,mr.mode=12;case 12:if($r===5||$r===6)break e;case 13:if(mr.last){zr>>>=7&Ur,Ur-=7&Ur,mr.mode=27;break}for(;Ur<3;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}switch(mr.last=1&zr,Ur-=1,3&(zr>>>=1)){case 0:mr.mode=14;break;case 1:if(Lr(mr),mr.mode=20,$r!==6)break;zr>>>=2,Ur-=2;break e;case 2:mr.mode=17;break;case 3:wr.msg="invalid block type",mr.mode=30}zr>>>=2,Ur-=2;break;case 14:for(zr>>>=7&Ur,Ur-=7&Ur;Ur<32;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}if((65535&zr)!=(zr>>>16^65535)){wr.msg="invalid stored block lengths",mr.mode=30;break}if(mr.length=65535&zr,Ur=zr=0,mr.mode=15,$r===6)break e;case 15:mr.mode=16;case 16:if(ts=mr.length){if(Xr<ts&&(ts=Xr),ls<ts&&(ts=ls),ts===0)break e;tr.arraySet(Qr,jr,Hr,ts,rs),Xr-=ts,Hr+=ts,ls-=ts,rs+=ts,mr.length-=ts;break}mr.mode=12;break;case 17:for(;Ur<14;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}if(mr.nlen=257+(31&zr),zr>>>=5,Ur-=5,mr.ndist=1+(31&zr),zr>>>=5,Ur-=5,mr.ncode=4+(15&zr),zr>>>=4,Ur-=4,286<mr.nlen||30<mr.ndist){wr.msg="too many length or distance symbols",mr.mode=30;break}mr.have=0,mr.mode=18;case 18:for(;mr.have<mr.ncode;){for(;Ur<3;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}mr.lens[Mr[mr.have++]]=7&zr,zr>>>=3,Ur-=3}for(;mr.have<19;)mr.lens[Mr[mr.have++]]=0;if(mr.lencode=mr.lendyn,mr.lenbits=7,Or={bits:mr.lenbits},Rr=ir(0,mr.lens,0,19,mr.lencode,0,mr.work,Or),mr.lenbits=Or.bits,Rr){wr.msg="invalid code lengths set",mr.mode=30;break}mr.have=0,mr.mode=19;case 19:for(;mr.have<mr.nlen+mr.ndist;){for(;Jr=(Ar=mr.lencode[zr&(1<<mr.lenbits)-1])>>>16&255,ss=65535&Ar,!((Yr=Ar>>>24)<=Ur);){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}if(ss<16)zr>>>=Yr,Ur-=Yr,mr.lens[mr.have++]=ss;else{if(ss===16){for(br=Yr+2;Ur<br;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}if(zr>>>=Yr,Ur-=Yr,mr.have===0){wr.msg="invalid bit length repeat",mr.mode=30;break}hr=mr.lens[mr.have-1],ts=3+(3&zr),zr>>>=2,Ur-=2}else if(ss===17){for(br=Yr+3;Ur<br;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}Ur-=Yr,hr=0,ts=3+(7&(zr>>>=Yr)),zr>>>=3,Ur-=3}else{for(br=Yr+7;Ur<br;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}Ur-=Yr,hr=0,ts=11+(127&(zr>>>=Yr)),zr>>>=7,Ur-=7}if(mr.have+ts>mr.nlen+mr.ndist){wr.msg="invalid bit length repeat",mr.mode=30;break}for(;ts--;)mr.lens[mr.have++]=hr}}if(mr.mode===30)break;if(mr.lens[256]===0){wr.msg="invalid code -- missing end-of-block",mr.mode=30;break}if(mr.lenbits=9,Or={bits:mr.lenbits},Rr=ir(or,mr.lens,0,mr.nlen,mr.lencode,0,mr.work,Or),mr.lenbits=Or.bits,Rr){wr.msg="invalid literal/lengths set",mr.mode=30;break}if(mr.distbits=6,mr.distcode=mr.distdyn,Or={bits:mr.distbits},Rr=ir(ar,mr.lens,mr.nlen,mr.ndist,mr.distcode,0,mr.work,Or),mr.distbits=Or.bits,Rr){wr.msg="invalid distances set",mr.mode=30;break}if(mr.mode=20,$r===6)break e;case 20:mr.mode=21;case 21:if(6<=Xr&&258<=ls){wr.next_out=rs,wr.avail_out=ls,wr.next_in=Hr,wr.avail_in=Xr,mr.hold=zr,mr.bits=Ur,sr(wr,is),rs=wr.next_out,Qr=wr.output,ls=wr.avail_out,Hr=wr.next_in,jr=wr.input,Xr=wr.avail_in,zr=mr.hold,Ur=mr.bits,mr.mode===12&&(mr.back=-1);break}for(mr.back=0;Jr=(Ar=mr.lencode[zr&(1<<mr.lenbits)-1])>>>16&255,ss=65535&Ar,!((Yr=Ar>>>24)<=Ur);){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}if(Jr&&!(240&Jr)){for(cs=Yr,Ir=Jr,Pr=ss;Jr=(Ar=mr.lencode[Pr+((zr&(1<<cs+Ir)-1)>>cs)])>>>16&255,ss=65535&Ar,!(cs+(Yr=Ar>>>24)<=Ur);){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}zr>>>=cs,Ur-=cs,mr.back+=cs}if(zr>>>=Yr,Ur-=Yr,mr.back+=Yr,mr.length=ss,Jr===0){mr.mode=26;break}if(32&Jr){mr.back=-1,mr.mode=12;break}if(64&Jr){wr.msg="invalid literal/length code",mr.mode=30;break}mr.extra=15&Jr,mr.mode=22;case 22:if(mr.extra){for(br=mr.extra;Ur<br;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}mr.length+=zr&(1<<mr.extra)-1,zr>>>=mr.extra,Ur-=mr.extra,mr.back+=mr.extra}mr.was=mr.length,mr.mode=23;case 23:for(;Jr=(Ar=mr.distcode[zr&(1<<mr.distbits)-1])>>>16&255,ss=65535&Ar,!((Yr=Ar>>>24)<=Ur);){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}if(!(240&Jr)){for(cs=Yr,Ir=Jr,Pr=ss;Jr=(Ar=mr.distcode[Pr+((zr&(1<<cs+Ir)-1)>>cs)])>>>16&255,ss=65535&Ar,!(cs+(Yr=Ar>>>24)<=Ur);){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}zr>>>=cs,Ur-=cs,mr.back+=cs}if(zr>>>=Yr,Ur-=Yr,mr.back+=Yr,64&Jr){wr.msg="invalid distance code",mr.mode=30;break}mr.offset=ss,mr.extra=15&Jr,mr.mode=24;case 24:if(mr.extra){for(br=mr.extra;Ur<br;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}mr.offset+=zr&(1<<mr.extra)-1,zr>>>=mr.extra,Ur-=mr.extra,mr.back+=mr.extra}if(mr.offset>mr.dmax){wr.msg="invalid distance too far back",mr.mode=30;break}mr.mode=25;case 25:if(ls===0)break e;if(ts=is-ls,mr.offset>ts){if((ts=mr.offset-ts)>mr.whave&&mr.sane){wr.msg="invalid distance too far back",mr.mode=30;break}fs=ts>mr.wnext?(ts-=mr.wnext,mr.wsize-ts):mr.wnext-ts,ts>mr.length&&(ts=mr.length),Gr=mr.window}else Gr=Qr,fs=rs-mr.offset,ts=mr.length;for(ls<ts&&(ts=ls),ls-=ts,mr.length-=ts;Qr[rs++]=Gr[fs++],--ts;);mr.length===0&&(mr.mode=21);break;case 26:if(ls===0)break e;Qr[rs++]=mr.length,ls--,mr.mode=21;break;case 27:if(mr.wrap){for(;Ur<32;){if(Xr===0)break e;Xr--,zr|=jr[Hr++]<<Ur,Ur+=8}if(is-=ls,wr.total_out+=is,mr.total+=is,is&&(wr.adler=mr.check=mr.flags?rr(mr.check,Qr,is,rs-is):nr(mr.check,Qr,is,rs-is)),is=ls,(mr.flags?zr:dr(zr))!==mr.check){wr.msg="incorrect data check",mr.mode=30;break}Ur=zr=0}mr.mode=28;case 28:if(mr.wrap&&mr.flags){for(;Ur<32;){if(Xr===0)break e;Xr--,zr+=jr[Hr++]<<Ur,Ur+=8}if(zr!==(4294967295&mr.total)){wr.msg="incorrect length check",mr.mode=30;break}Ur=zr=0}mr.mode=29;case 29:Rr=1;break e;case 30:Rr=-3;break e;case 31:return-4;case 32:default:return cr}return wr.next_out=rs,wr.avail_out=ls,wr.next_in=Hr,wr.avail_in=Xr,mr.hold=zr,mr.bits=Ur,(mr.wsize||is!==wr.avail_out&&mr.mode<30&&(mr.mode<27||$r!==4))&&Vr(wr,wr.output,wr.next_out,is-wr.avail_out)?(mr.mode=31,-4):(ns-=wr.avail_in,is-=wr.avail_out,wr.total_in+=ns,wr.total_out+=is,mr.total+=is,mr.wrap&&is&&(wr.adler=mr.check=mr.flags?rr(mr.check,Qr,is,wr.next_out-is):nr(mr.check,Qr,is,wr.next_out-is)),wr.data_type=mr.bits+(mr.last?64:0)+(mr.mode===12?128:0)+(mr.mode===20||mr.mode===15?256:0),(ns==0&&is===0||$r===4)&&Rr===lr&&(Rr=-5),Rr)},er.inflateEnd=function(wr){if(!wr||!wr.state)return cr;var $r=wr.state;return $r.window&&($r.window=null),wr.state=null,lr},er.inflateGetHeader=function(wr,$r){var mr;return wr&&wr.state&&2&(mr=wr.state).wrap?((mr.head=$r).done=!1,lr):cr},er.inflateSetDictionary=function(wr,$r){var mr,jr=$r.length;return wr&&wr.state?(mr=wr.state).wrap!==0&&mr.mode!==11?cr:mr.mode===11&&nr(1,$r,jr,0)!==mr.check?-3:Vr(wr,$r,jr,jr)?(mr.mode=31,-4):(mr.havedict=1,lr):cr},er.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(Xn,Qn,er){var tr=Xn("../utils/common"),nr=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],rr=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],sr=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ir=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Qn.exports=function(or,ar,lr,cr,pr,ur,gr,dr){var fr,yr,_r,vr,Er,kr,xr,Cr,Lr,Vr=dr.bits,wr=0,$r=0,mr=0,jr=0,Qr=0,Hr=0,rs=0,Xr=0,ls=0,zr=0,Ur=null,ns=0,is=new tr.Buf16(16),ts=new tr.Buf16(16),fs=null,Gr=0;for(wr=0;wr<=15;wr++)is[wr]=0;for($r=0;$r<cr;$r++)is[ar[lr+$r]]++;for(Qr=Vr,jr=15;1<=jr&&is[jr]===0;jr--);if(jr<Qr&&(Qr=jr),jr===0)return pr[ur++]=20971520,pr[ur++]=20971520,dr.bits=1,0;for(mr=1;mr<jr&&is[mr]===0;mr++);for(Qr<mr&&(Qr=mr),wr=Xr=1;wr<=15;wr++)if(Xr<<=1,(Xr-=is[wr])<0)return-1;if(0<Xr&&(or===0||jr!==1))return-1;for(ts[1]=0,wr=1;wr<15;wr++)ts[wr+1]=ts[wr]+is[wr];for($r=0;$r<cr;$r++)ar[lr+$r]!==0&&(gr[ts[ar[lr+$r]]++]=$r);if(kr=or===0?(Ur=fs=gr,19):or===1?(Ur=nr,ns-=257,fs=rr,Gr-=257,256):(Ur=sr,fs=ir,-1),wr=mr,Er=ur,rs=$r=zr=0,_r=-1,vr=(ls=1<<(Hr=Qr))-1,or===1&&852<ls||or===2&&592<ls)return 1;for(;;){for(xr=wr-rs,Lr=gr[$r]<kr?(Cr=0,gr[$r]):gr[$r]>kr?(Cr=fs[Gr+gr[$r]],Ur[ns+gr[$r]]):(Cr=96,0),fr=1<<wr-rs,mr=yr=1<<Hr;pr[Er+(zr>>rs)+(yr-=fr)]=xr<<24|Cr<<16|Lr|0,yr!==0;);for(fr=1<<wr-1;zr&fr;)fr>>=1;if(fr!==0?(zr&=fr-1,zr+=fr):zr=0,$r++,--is[wr]==0){if(wr===jr)break;wr=ar[lr+gr[$r]]}if(Qr<wr&&(zr&vr)!==_r){for(rs===0&&(rs=Qr),Er+=mr,Xr=1<<(Hr=wr-rs);Hr+rs<jr&&!((Xr-=is[Hr+rs])<=0);)Hr++,Xr<<=1;if(ls+=1<<Hr,or===1&&852<ls||or===2&&592<ls)return 1;pr[_r=zr&vr]=Qr<<24|Hr<<16|Er-ur|0}}return zr!==0&&(pr[Er+zr]=wr-rs<<24|64<<16|0),dr.bits=Qr,0}},{"../utils/common":41}],51:[function(Xn,Qn,er){Qn.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(Xn,Qn,er){var tr=Xn("../utils/common"),nr=0,rr=1;function sr(Ar){for(var Tr=Ar.length;0<=--Tr;)Ar[Tr]=0}var ir=0,or=29,ar=256,lr=ar+1+or,cr=30,pr=19,ur=2*lr+1,gr=15,dr=16,fr=7,yr=256,_r=16,vr=17,Er=18,kr=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],xr=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Cr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Lr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Vr=new Array(2*(lr+2));sr(Vr);var wr=new Array(2*cr);sr(wr);var $r=new Array(512);sr($r);var mr=new Array(256);sr(mr);var jr=new Array(or);sr(jr);var Qr,Hr,rs,Xr=new Array(cr);function ls(Ar,Tr,Mr,Br,Nr){this.static_tree=Ar,this.extra_bits=Tr,this.extra_base=Mr,this.elems=Br,this.max_length=Nr,this.has_stree=Ar&&Ar.length}function zr(Ar,Tr){this.dyn_tree=Ar,this.max_code=0,this.stat_desc=Tr}function Ur(Ar){return Ar<256?$r[Ar]:$r[256+(Ar>>>7)]}function ns(Ar,Tr){Ar.pending_buf[Ar.pending++]=255&Tr,Ar.pending_buf[Ar.pending++]=Tr>>>8&255}function is(Ar,Tr,Mr){Ar.bi_valid>dr-Mr?(Ar.bi_buf|=Tr<<Ar.bi_valid&65535,ns(Ar,Ar.bi_buf),Ar.bi_buf=Tr>>dr-Ar.bi_valid,Ar.bi_valid+=Mr-dr):(Ar.bi_buf|=Tr<<Ar.bi_valid&65535,Ar.bi_valid+=Mr)}function ts(Ar,Tr,Mr){is(Ar,Mr[2*Tr],Mr[2*Tr+1])}function fs(Ar,Tr){for(var Mr=0;Mr|=1&Ar,Ar>>>=1,Mr<<=1,0<--Tr;);return Mr>>>1}function Gr(Ar,Tr,Mr){var Br,Nr,Dr=new Array(gr+1),qr=0;for(Br=1;Br<=gr;Br++)Dr[Br]=qr=qr+Mr[Br-1]<<1;for(Nr=0;Nr<=Tr;Nr++){var Wr=Ar[2*Nr+1];Wr!==0&&(Ar[2*Nr]=fs(Dr[Wr]++,Wr))}}function Yr(Ar){var Tr;for(Tr=0;Tr<lr;Tr++)Ar.dyn_ltree[2*Tr]=0;for(Tr=0;Tr<cr;Tr++)Ar.dyn_dtree[2*Tr]=0;for(Tr=0;Tr<pr;Tr++)Ar.bl_tree[2*Tr]=0;Ar.dyn_ltree[2*yr]=1,Ar.opt_len=Ar.static_len=0,Ar.last_lit=Ar.matches=0}function Jr(Ar){8<Ar.bi_valid?ns(Ar,Ar.bi_buf):0<Ar.bi_valid&&(Ar.pending_buf[Ar.pending++]=Ar.bi_buf),Ar.bi_buf=0,Ar.bi_valid=0}function ss(Ar,Tr,Mr,Br){var Nr=2*Tr,Dr=2*Mr;return Ar[Nr]<Ar[Dr]||Ar[Nr]===Ar[Dr]&&Br[Tr]<=Br[Mr]}function cs(Ar,Tr,Mr){for(var Br=Ar.heap[Mr],Nr=Mr<<1;Nr<=Ar.heap_len&&(Nr<Ar.heap_len&&ss(Tr,Ar.heap[Nr+1],Ar.heap[Nr],Ar.depth)&&Nr++,!ss(Tr,Br,Ar.heap[Nr],Ar.depth));)Ar.heap[Mr]=Ar.heap[Nr],Mr=Nr,Nr<<=1;Ar.heap[Mr]=Br}function Ir(Ar,Tr,Mr){var Br,Nr,Dr,qr,Wr=0;if(Ar.last_lit!==0)for(;Br=Ar.pending_buf[Ar.d_buf+2*Wr]<<8|Ar.pending_buf[Ar.d_buf+2*Wr+1],Nr=Ar.pending_buf[Ar.l_buf+Wr],Wr++,Br===0?ts(Ar,Nr,Tr):(ts(Ar,(Dr=mr[Nr])+ar+1,Tr),(qr=kr[Dr])!==0&&is(Ar,Nr-=jr[Dr],qr),ts(Ar,Dr=Ur(--Br),Mr),(qr=xr[Dr])!==0&&is(Ar,Br-=Xr[Dr],qr)),Wr<Ar.last_lit;);ts(Ar,yr,Tr)}function Pr(Ar,Tr){var Mr,Br,Nr,Dr=Tr.dyn_tree,qr=Tr.stat_desc.static_tree,Wr=Tr.stat_desc.has_stree,es=Tr.stat_desc.elems,us=-1;for(Ar.heap_len=0,Ar.heap_max=ur,Mr=0;Mr<es;Mr++)Dr[2*Mr]!==0?(Ar.heap[++Ar.heap_len]=us=Mr,Ar.depth[Mr]=0):Dr[2*Mr+1]=0;for(;Ar.heap_len<2;)Dr[2*(Nr=Ar.heap[++Ar.heap_len]=us<2?++us:0)]=1,Ar.depth[Nr]=0,Ar.opt_len--,Wr&&(Ar.static_len-=qr[2*Nr+1]);for(Tr.max_code=us,Mr=Ar.heap_len>>1;1<=Mr;Mr--)cs(Ar,Dr,Mr);for(Nr=es;Mr=Ar.heap[1],Ar.heap[1]=Ar.heap[Ar.heap_len--],cs(Ar,Dr,1),Br=Ar.heap[1],Ar.heap[--Ar.heap_max]=Mr,Ar.heap[--Ar.heap_max]=Br,Dr[2*Nr]=Dr[2*Mr]+Dr[2*Br],Ar.depth[Nr]=(Ar.depth[Mr]>=Ar.depth[Br]?Ar.depth[Mr]:Ar.depth[Br])+1,Dr[2*Mr+1]=Dr[2*Br+1]=Nr,Ar.heap[1]=Nr++,cs(Ar,Dr,1),2<=Ar.heap_len;);Ar.heap[--Ar.heap_max]=Ar.heap[1],function(os,ds){var bs,As,Cs,gs,Ts,ws,ms=ds.dyn_tree,Ss=ds.max_code,Hs=ds.stat_desc.static_tree,Ms=ds.stat_desc.has_stree,Vs=ds.stat_desc.extra_bits,$s=ds.stat_desc.extra_base,xs=ds.stat_desc.max_length,Ps=0;for(gs=0;gs<=gr;gs++)os.bl_count[gs]=0;for(ms[2*os.heap[os.heap_max]+1]=0,bs=os.heap_max+1;bs<ur;bs++)xs<(gs=ms[2*ms[2*(As=os.heap[bs])+1]+1]+1)&&(gs=xs,Ps++),ms[2*As+1]=gs,Ss<As||(os.bl_count[gs]++,Ts=0,$s<=As&&(Ts=Vs[As-$s]),ws=ms[2*As],os.opt_len+=ws*(gs+Ts),Ms&&(os.static_len+=ws*(Hs[2*As+1]+Ts)));if(Ps!==0){do{for(gs=xs-1;os.bl_count[gs]===0;)gs--;os.bl_count[gs]--,os.bl_count[gs+1]+=2,os.bl_count[xs]--,Ps-=2}while(0<Ps);for(gs=xs;gs!==0;gs--)for(As=os.bl_count[gs];As!==0;)Ss<(Cs=os.heap[--bs])||(ms[2*Cs+1]!==gs&&(os.opt_len+=(gs-ms[2*Cs+1])*ms[2*Cs],ms[2*Cs+1]=gs),As--)}}(Ar,Tr),Gr(Dr,us,Ar.bl_count)}function hr(Ar,Tr,Mr){var Br,Nr,Dr=-1,qr=Tr[1],Wr=0,es=7,us=4;for(qr===0&&(es=138,us=3),Tr[2*(Mr+1)+1]=65535,Br=0;Br<=Mr;Br++)Nr=qr,qr=Tr[2*(Br+1)+1],++Wr<es&&Nr===qr||(Wr<us?Ar.bl_tree[2*Nr]+=Wr:Nr!==0?(Nr!==Dr&&Ar.bl_tree[2*Nr]++,Ar.bl_tree[2*_r]++):Wr<=10?Ar.bl_tree[2*vr]++:Ar.bl_tree[2*Er]++,Dr=Nr,us=(Wr=0)===qr?(es=138,3):Nr===qr?(es=6,3):(es=7,4))}function Rr(Ar,Tr,Mr){var Br,Nr,Dr=-1,qr=Tr[1],Wr=0,es=7,us=4;for(qr===0&&(es=138,us=3),Br=0;Br<=Mr;Br++)if(Nr=qr,qr=Tr[2*(Br+1)+1],!(++Wr<es&&Nr===qr)){if(Wr<us)for(;ts(Ar,Nr,Ar.bl_tree),--Wr!=0;);else Nr!==0?(Nr!==Dr&&(ts(Ar,Nr,Ar.bl_tree),Wr--),ts(Ar,_r,Ar.bl_tree),is(Ar,Wr-3,2)):Wr<=10?(ts(Ar,vr,Ar.bl_tree),is(Ar,Wr-3,3)):(ts(Ar,Er,Ar.bl_tree),is(Ar,Wr-11,7));Dr=Nr,us=(Wr=0)===qr?(es=138,3):Nr===qr?(es=6,3):(es=7,4)}}sr(Xr);var Or=!1;function br(Ar,Tr,Mr,Br){is(Ar,(ir<<1)+(Br?1:0),3),function(Nr,Dr,qr,Wr){Jr(Nr),Wr&&(ns(Nr,qr),ns(Nr,~qr)),tr.arraySet(Nr.pending_buf,Nr.window,Dr,qr,Nr.pending),Nr.pending+=qr}(Ar,Tr,Mr,!0)}er._tr_init=function(Ar){Or||(function(){var Tr,Mr,Br,Nr,Dr,qr=new Array(gr+1);for(Nr=Br=0;Nr<or-1;Nr++)for(jr[Nr]=Br,Tr=0;Tr<1<<kr[Nr];Tr++)mr[Br++]=Nr;for(mr[Br-1]=Nr,Nr=Dr=0;Nr<16;Nr++)for(Xr[Nr]=Dr,Tr=0;Tr<1<<xr[Nr];Tr++)$r[Dr++]=Nr;for(Dr>>=7;Nr<cr;Nr++)for(Xr[Nr]=Dr<<7,Tr=0;Tr<1<<xr[Nr]-7;Tr++)$r[256+Dr++]=Nr;for(Mr=0;Mr<=gr;Mr++)qr[Mr]=0;for(Tr=0;Tr<=143;)Vr[2*Tr+1]=8,Tr++,qr[8]++;for(;Tr<=255;)Vr[2*Tr+1]=9,Tr++,qr[9]++;for(;Tr<=279;)Vr[2*Tr+1]=7,Tr++,qr[7]++;for(;Tr<=287;)Vr[2*Tr+1]=8,Tr++,qr[8]++;for(Gr(Vr,lr+1,qr),Tr=0;Tr<cr;Tr++)wr[2*Tr+1]=5,wr[2*Tr]=fs(Tr,5);Qr=new ls(Vr,kr,ar+1,lr,gr),Hr=new ls(wr,xr,0,cr,gr),rs=new ls(new Array(0),Cr,0,pr,fr)}(),Or=!0),Ar.l_desc=new zr(Ar.dyn_ltree,Qr),Ar.d_desc=new zr(Ar.dyn_dtree,Hr),Ar.bl_desc=new zr(Ar.bl_tree,rs),Ar.bi_buf=0,Ar.bi_valid=0,Yr(Ar)},er._tr_stored_block=br,er._tr_flush_block=function(Ar,Tr,Mr,Br){var Nr,Dr,qr=0;0<Ar.level?(Ar.strm.data_type===2&&(Ar.strm.data_type=function(Wr){var es,us=4093624447;for(es=0;es<=31;es++,us>>>=1)if(1&us&&Wr.dyn_ltree[2*es]!==0)return nr;if(Wr.dyn_ltree[18]!==0||Wr.dyn_ltree[20]!==0||Wr.dyn_ltree[26]!==0)return rr;for(es=32;es<ar;es++)if(Wr.dyn_ltree[2*es]!==0)return rr;return nr}(Ar)),Pr(Ar,Ar.l_desc),Pr(Ar,Ar.d_desc),qr=function(Wr){var es;for(hr(Wr,Wr.dyn_ltree,Wr.l_desc.max_code),hr(Wr,Wr.dyn_dtree,Wr.d_desc.max_code),Pr(Wr,Wr.bl_desc),es=pr-1;3<=es&&Wr.bl_tree[2*Lr[es]+1]===0;es--);return Wr.opt_len+=3*(es+1)+5+5+4,es}(Ar),Nr=Ar.opt_len+3+7>>>3,(Dr=Ar.static_len+3+7>>>3)<=Nr&&(Nr=Dr)):Nr=Dr=Mr+5,Mr+4<=Nr&&Tr!==-1?br(Ar,Tr,Mr,Br):Ar.strategy===4||Dr===Nr?(is(Ar,2+(Br?1:0),3),Ir(Ar,Vr,wr)):(is(Ar,4+(Br?1:0),3),function(Wr,es,us,os){var ds;for(is(Wr,es-257,5),is(Wr,us-1,5),is(Wr,os-4,4),ds=0;ds<os;ds++)is(Wr,Wr.bl_tree[2*Lr[ds]+1],3);Rr(Wr,Wr.dyn_ltree,es-1),Rr(Wr,Wr.dyn_dtree,us-1)}(Ar,Ar.l_desc.max_code+1,Ar.d_desc.max_code+1,qr+1),Ir(Ar,Ar.dyn_ltree,Ar.dyn_dtree)),Yr(Ar),Br&&Jr(Ar)},er._tr_tally=function(Ar,Tr,Mr){return Ar.pending_buf[Ar.d_buf+2*Ar.last_lit]=Tr>>>8&255,Ar.pending_buf[Ar.d_buf+2*Ar.last_lit+1]=255&Tr,Ar.pending_buf[Ar.l_buf+Ar.last_lit]=255&Mr,Ar.last_lit++,Tr===0?Ar.dyn_ltree[2*Mr]++:(Ar.matches++,Tr--,Ar.dyn_ltree[2*(mr[Mr]+ar+1)]++,Ar.dyn_dtree[2*Ur(Tr)]++),Ar.last_lit===Ar.lit_bufsize-1},er._tr_align=function(Ar){is(Ar,2,3),ts(Ar,yr,Vr),function(Tr){Tr.bi_valid===16?(ns(Tr,Tr.bi_buf),Tr.bi_buf=0,Tr.bi_valid=0):8<=Tr.bi_valid&&(Tr.pending_buf[Tr.pending++]=255&Tr.bi_buf,Tr.bi_buf>>=8,Tr.bi_valid-=8)}(Ar)}},{"../utils/common":41}],53:[function(Xn,Qn,er){Qn.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(Xn,Qn,er){(function(tr){(function(nr,rr){if(!nr.setImmediate){var sr,ir,or,ar,lr=1,cr={},pr=!1,ur=nr.document,gr=Object.getPrototypeOf&&Object.getPrototypeOf(nr);gr=gr&&gr.setTimeout?gr:nr,sr={}.toString.call(nr.process)==="[object process]"?function(_r){process.nextTick(function(){fr(_r)})}:function(){if(nr.postMessage&&!nr.importScripts){var _r=!0,vr=nr.onmessage;return nr.onmessage=function(){_r=!1},nr.postMessage("","*"),nr.onmessage=vr,_r}}()?(ar="setImmediate$"+Math.random()+"$",nr.addEventListener?nr.addEventListener("message",yr,!1):nr.attachEvent("onmessage",yr),function(_r){nr.postMessage(ar+_r,"*")}):nr.MessageChannel?((or=new MessageChannel).port1.onmessage=function(_r){fr(_r.data)},function(_r){or.port2.postMessage(_r)}):ur&&"onreadystatechange"in ur.createElement("script")?(ir=ur.documentElement,function(_r){var vr=ur.createElement("script");vr.onreadystatechange=function(){fr(_r),vr.onreadystatechange=null,ir.removeChild(vr),vr=null},ir.appendChild(vr)}):function(_r){setTimeout(fr,0,_r)},gr.setImmediate=function(_r){typeof _r!="function"&&(_r=new Function(""+_r));for(var vr=new Array(arguments.length-1),Er=0;Er<vr.length;Er++)vr[Er]=arguments[Er+1];var kr={callback:_r,args:vr};return cr[lr]=kr,sr(lr),lr++},gr.clearImmediate=dr}function dr(_r){delete cr[_r]}function fr(_r){if(pr)setTimeout(fr,0,_r);else{var vr=cr[_r];if(vr){pr=!0;try{(function(Er){var kr=Er.callback,xr=Er.args;switch(xr.length){case 0:kr();break;case 1:kr(xr[0]);break;case 2:kr(xr[0],xr[1]);break;case 3:kr(xr[0],xr[1],xr[2]);break;default:kr.apply(rr,xr)}})(vr)}finally{dr(_r),pr=!1}}}}function yr(_r){_r.source===nr&&typeof _r.data=="string"&&_r.data.indexOf(ar)===0&&fr(+_r.data.slice(ar.length))}})(typeof self>"u"?tr===void 0?this:tr:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const JSZip=getDefaultExportFromCjs(jszip_minExports);function getRandomInt(Zn){return Math.floor(Math.random()*Math.floor(Zn))}function isHtml(Zn){return/<[^>]+>/.test(Zn)}function stripHtml(Zn){if(!isHtml(Zn))return Zn;if(Zn==null)return"";let Jn=Zn;return Jn=Jn.replace(/[\t ]+/g," "),Jn=Jn.replace(/&bull;/g,""),Jn=Jn.replace(/&nbsp;/g," "),Jn=Jn.replace(//g,"-"),Jn=Jn.replace(/<br *[/]?>/g,`
`),Jn=Jn.replace(/(<([^>]+)>)/gi,""),Jn=Jn.replace(/[&][a-zA-Z]+;/g,""),Jn}function download(Zn,Jn,Xn){const Qn=document.createElement("a"),er=new Blob([Xn],{type:Jn}),tr=URL.createObjectURL(er);Qn.setAttribute("href",tr),Qn.setAttribute("download",Zn),Qn.setAttribute("target","_blank"),Qn.click()}function stripNumber(Zn){return Zn.replace(/[0-9]+ *[.-] *(.*)/,"$1")}function fix_xml_object(Zn){const Jn=[Zn];for(;Jn.length;){const Xn=Jn.pop();for(const er in Xn){const tr=Xn[er];if(Array.isArray(tr)&&tr.length===1){const nr=tr[0],rr=Object.values(nr);rr.length===1&&Array.isArray(rr[0])&&(Xn[er]=rr[0])}}const Qn=Xn.$;delete Xn.$,Xn&&typeof Xn=="object"&&Jn.push(...Object.values(Xn)),Qn&&Object.assign(Xn,Qn)}}function to_kebab_case(Zn){return Zn.trim().toLowerCase().replace(/\s/g,"-")}function to_snake_case(Zn){return Zn.toLowerCase().replace(/\s/g,"_")}function delete_path_related_characters(Zn){return Zn.replace(/([\ :])/g,"_").replace(/([\\\/\$\@\~\'\"\`\ \:])/g,"")}function hashFnv32a(Zn,Jn=198209835){let Xn,Qn,er=Jn===void 0?2166136261:Jn;for(Xn=0,Qn=Zn.length;Xn<Qn;Xn++)er^=Zn.charCodeAt(Xn),er+=(er<<1)+(er<<4)+(er<<7)+(er<<8)+(er<<24);return er>>>0}function findLastIndexOfAssumingSorted(Zn,Jn){let Xn=-1;const Qn=Zn.length;for(let er=0;er<Qn;er++)if(Jn(Zn[er]))Xn=er;else if(Xn)return Xn;return Xn}function pushAfterLastOfAssumingSorted(Zn,Jn,Xn){const Qn=findLastIndexOfAssumingSorted(Zn,Xn);Qn===-1?Zn.push(Jn):Zn.splice(Qn+1,0,Jn)}function escapeRegex(Zn){return Zn.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function groupBy(Zn,Jn=Xn=>Xn.toString()){const Xn={};for(let Qn=0;Qn<Zn.length;Qn++){const er=Zn[Qn],tr=Jn(er),nr=Xn[tr];nr?nr.push(er):Xn[tr]=[er]}return Xn}let gitSha1;typeof window>"u"?gitSha1=async Zn=>{const Jn=`blob ${Zn.length}\0`,Xn=(await __vitePreload(()=>import("./__vite-browser-external.b25bb000.js"),[],import.meta.url)).createHash("sha1");return Xn.update(Jn),Xn.update(Zn),Xn.digest("hex")}:gitSha1=async Zn=>{const Jn=`blob ${typeof Zn=="string"?Zn.length:Zn.byteLength}\0`,Qn=new TextEncoder().encode(Jn+Zn),er=await crypto.subtle.digest("SHA-1",Qn);return Array.from(new Uint8Array(er)).map(tr=>tr.toString(16).padStart(2,"0")).join("")};function forEachValueRecursive(Zn,Jn){const Xn=[Zn];for(;Xn.length;){const Qn=Xn.pop();for(const er of Object.values(Qn))er&&typeof er=="object"&&Xn.push(er);Array.isArray(Qn)||Jn(Qn)}}function forEachPairRecursive(Zn,Jn){const Xn=[Zn];for(;Xn.length;){const Qn=Xn.pop();if(isObject(Qn))for(const er of Object.keys(Qn)){const tr=Qn[er];if(isObject(tr))if(Array.isArray(Qn))for(const nr of tr)Jn(nr,er),Xn.push(tr);else Jn(tr,er),Xn.push(tr);else Jn(tr,er)}}}function shouldPatch(Zn,Jn){for(const Xn of Jn)switch(Xn.type){case"or":{if(!Xn.value.includes(Zn[Xn.field]))return!1;break}case"not":{if(Zn[Xn.field]===Xn.value)return!1;break}case"if":default:{if(Zn[Xn.field]!==Xn.value)return!1;break}}return!0}function patchJson(Zn,Jn){let Xn=0;return forEachValueRecursive(Zn,Qn=>{for(const er of Object.keys(Jn)){const tr=Jn[er],nr=Qn[er];let rr=tr[nr];if(!rr)if(nr!==void 0&&tr.$any)rr=tr.$any;else continue;if((!rr.$patchConditions||shouldPatch(Qn,rr.$patchConditions))&&(rr.$move?Qn[rr.$move]=nr:Object.assign(Qn,rr),Xn++,delete Qn.$patchConditions,rr.$patchPush)){for(const[sr,ir]of Object.entries(rr.$patchPush)){const or=JSON.parse(JSON.stringify(ir));sr in Qn||(Qn[sr]=[]),Array.isArray(or)?Qn[sr].push(...or):Qn[sr].push(or)}delete Qn.$patchPush}}}),Xn}function sortByAscending(Zn,Jn){return[...Zn].sort((Xn,Qn)=>(Jn(Xn)??"").toString().localeCompare((Jn(Qn)??"").toString(),void 0,{numeric:!0}))}function sortByDescending(Zn,Jn){return[...Zn].sort((Xn,Qn)=>(Jn(Qn)??"").toString().localeCompare((Jn(Xn)??"").toString(),void 0,{numeric:!0}))}const sortBy=sortByAscending;function sortByAscendingInplace(Zn,Jn){return Zn.sort((Xn,Qn)=>(Jn(Xn)??"").toString().localeCompare((Jn(Qn)??"").toString(),void 0,{numeric:!0}))}function sortByDescendingInplace(Zn,Jn){return Zn.sort((Xn,Qn)=>(Jn(Qn)??"").toString().localeCompare((Jn(Xn)??"").toString(),void 0,{numeric:!0}))}function findMax(Zn,Jn){if(!Zn.length)return;if(Zn.length==1)return Zn[0];let Xn=Zn[0],Qn=Jn(Xn).toString();for(const er of Zn){const tr=(Jn(er)??"").toString();tr.localeCompare(Qn,void 0,{numeric:!0})===1&&(Xn=er,Qn=tr)}return Xn}function findMin(Zn,Jn){if(!Zn.length)return;let Xn=Zn[0],Qn=Jn(Xn).toString();for(const er of Zn){const tr=(Jn(er)??"").toString();tr.localeCompare(Qn,void 0,{numeric:!0})===-1&&(Xn=er,Qn=tr)}return Xn}function diffSet(Zn,Jn){const Xn=[];for(const Qn of Jn.values())Zn.delete(Qn)||Xn.push(Qn);for(const Qn of Zn.values())Xn.push(Qn);return Xn}function suffixIf(Zn,Jn){return Zn?Zn.toString()+Jn:""}function prefixIf(Zn,Jn){return Jn?Zn+Jn.toString():""}function surroundIf(Zn,Jn,Xn){return Jn?Zn+Jn.toString()+Xn:""}function betweenIf(Zn,Jn,Xn){return Zn&&Xn?`${Zn}${Jn.toString()}${Xn}`:`${Zn}${Xn}`}function textIf(Zn,Jn){return Zn?Jn:""}function cleanName(Zn){return stripNumber(`${Zn}`).trim()}function replaceKey(Zn,Jn,Xn){Jn in Zn&&(Zn[Xn]=Zn[Jn],delete Zn[Jn])}function countKeys(Zn){const Jn={};for(const Xn of Zn)Jn[Xn]=1+(Jn[Xn]||0);return Jn}function flattenRecursive(Zn,Jn=0,Xn=[]){Xn.push({depth:Jn,current:Zn.self});for(const Qn of Zn.childs)flattenRecursive(Qn,Jn+1,Xn);return Xn}function forEachRecursive(Zn,Jn){for(const Xn of Zn.childs)forEachRecursive(Xn,Jn);Jn(Zn)}function recurseThis(Zn,Jn,Xn=100,Qn=0){const er={childs:[],self:Zn};if(Qn<Xn){const tr=Zn[Jn]();for(const nr of tr)er.childs.push(recurseThis(nr,Jn,Xn,Qn+1))}return er}function recurseFn(Zn,Jn,Xn=100,Qn=0){const er={childs:[],self:Zn};if(Qn<Xn){const tr=Jn(Zn,Qn);if(tr!==void 0)for(const nr of tr){const rr=recurseFn(nr,Jn,Xn,Qn+1);rr.self.parent=Zn,er.childs.push(rr)}}return er}function clone(Zn){return Object.create(Zn)}function copy(Zn){return Object.assign(Object.create(Object.getPrototypeOf(Zn)),Zn)}function arrayRemove(Zn,Jn){const Xn=Zn.findIndex(Qn=>Qn===Jn);return Xn!==-1?(Zn.splice(Xn,1),!0):!1}function addObjIfMissing(Zn,Jn,Xn){const Qn=Zn[Jn];if(Qn&&!Qn.includes(Xn)){Qn.push(Xn);return}Zn[Jn]=[Xn]}function addObj(Zn,Jn,Xn){const Qn=Zn[Jn];if(Qn){Qn.push(Xn);return}Zn[Jn]=[Xn]}function addObjUnique(Zn,Jn,Xn){const Qn=Zn[Jn];if(Qn&&Qn.indexOf(Xn)===-1){Qn.push(Xn);return}Zn[Jn]=[Xn]}function popObj(Zn,Jn,Xn){const Qn=Zn[Jn];if(Qn){const er=Qn.indexOf(Xn);er>=0&&Qn.splice(er,1);return}}function add(Zn,Jn,Xn=1){const Qn=Zn[Jn]||0,er=Xn+Qn;return Xn===0?delete Zn[Jn]:Zn[Jn]=er,Qn}function remove(Zn,Jn,Xn=1){const er=(Zn[Jn]||0)-Xn;return er===0?delete Zn[Jn]:Zn[Jn]=er,er}function addOne(Zn,Jn){const Xn=Zn[Jn]||0;return Zn[Jn]=1+Xn,Xn}function removeOne(Zn,Jn){const Qn=(Zn[Jn]||0)-1;return Qn===0?delete Zn[Jn]:Zn[Jn]=Qn,Qn}function isObject(Zn){return Zn&&typeof Zn=="object"}function isDefaultObject(Zn){return!Object.getPrototypeOf(Object.getPrototypeOf(Zn))}function removePrefix(Zn,Jn){return Zn.startsWith(Jn)?Zn.substring(Jn.length):Zn}function removeSuffix(Zn,Jn){return Zn.endsWith(Jn)?Zn.substring(0,Zn.length-Jn.length):Zn}function makeNoObserve(Zn){Object.defineProperty(Zn,Symbol.toStringTag,{get:function(){return"ObjectNoObserve"}})}function setMinus(Zn,Jn){const Xn=new Set;for(const Qn of Zn.values())Jn.has(Qn)||Xn.add(Qn);return Xn}function combineArrays(Zn){const Jn=[];for(const Xn of Zn)Xn&&Jn.push(...Xn);return Jn}function arraysEqual(Zn,Jn){if(Zn.length!==Jn.length)return!1;for(let Xn=0;Xn<Zn.length;++Xn)if(Zn[Xn]!==Jn[Xn])return!1;return!0}function textSearchRegex(Zn){const Xn=`^(?=.*${escapeRegex(Zn).split(" ").map(er=>`(?=.*${er})`).join("")}).*$`;return new RegExp(Xn,"i")}function generateBattlescribeId(){return[getRandomInt(65535),getRandomInt(65535),getRandomInt(65535),getRandomInt(65535)].map(Zn=>Zn.toString(16)).join("-")}function*enumerate_zip(Zn,Jn){for(let Xn=0;Xn<Math.min(Zn.length,Jn.length);Xn++)yield[Zn[Xn],Jn[Xn]]}function escapeXml(Zn){return Zn.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}async function zipCompress(Zn,Jn,Xn){var Qn=new JSZip;return Qn.file(Zn,Jn),await Qn.generateAsync({type:Xn,compression:"DEFLATE"})}function debouncePromise(Zn,Jn){let Xn;return function(...Qn){return clearTimeout(Xn),new Promise(er=>{Xn=setTimeout(()=>{const tr=Zn(Qn);er(tr)},Jn)})}}function findSelfOrParentWhere(Zn,Jn){let Xn=Zn;for(;Xn&&!Object.is(Xn,Xn.parent);){if(Jn(Xn))return Xn;Xn=Xn.parent}}function findParentWhere(Zn,Jn){let Xn=Zn.parent;for(;Xn&&!Object.is(Xn,Xn.parent);){if(Jn(Xn))return Xn;Xn=Xn.parent}}function forEachParent(Zn,Jn){let Xn=Zn.parent;for(;Xn&&!(!Xn||Jn(Xn)===!1);)Xn=Xn.parent}function first(Zn){for(const Jn of Zn)return Jn}function has(Zn,Jn){for(const Xn of Zn)if(Jn===Xn)return!0;return!1}function capitalize(Zn){return Zn.charAt(0).toUpperCase()+Zn.slice(1)}function arrayIf(Zn,Jn){return Zn?[Jn]:[]}function inBounds(Zn,Jn,Xn){return Zn<Jn?Jn:Zn>Xn?Xn:Zn}const helpers=Object.freeze(Object.defineProperty({__proto__:null,add,addObj,addObjIfMissing,addObjUnique,addOne,arrayIf,arrayRemove,arraysEqual,betweenIf,capitalize,cleanName,clone,combineArrays,copy,countKeys,debouncePromise,delete_path_related_characters,diffSet,enumerate_zip,escapeRegex,escapeXml,findLastIndexOfAssumingSorted,findMax,findMin,findParentWhere,findSelfOrParentWhere,first,fix_xml_object,flattenRecursive,forEachPairRecursive,forEachParent,forEachRecursive,forEachValueRecursive,generateBattlescribeId,get gitSha1(){return gitSha1},groupBy,has,hashFnv32a,inBounds,isDefaultObject,isObject,makeNoObserve,patchJson,popObj,prefixIf,pushAfterLastOfAssumingSorted,recurseFn,recurseThis,remove,removeOne,removePrefix,removeSuffix,replaceKey,setMinus,shouldPatch,sortBy,sortByAscending,sortByAscendingInplace,sortByDescending,sortByDescendingInplace,stripNumber,suffixIf,surroundIf,textIf,textSearchRegex,to_kebab_case,to_snake_case,zipCompress},Symbol.toStringTag,{value:"Module"}));function dirname(Zn){return Zn.replaceAll("\\","/").split("/").slice(0,-1).join("/")}function filename(Zn){const Jn=Zn.replaceAll("\\","/").split("/");return Jn[Jn.length-1]}async function getFolderFiles(Zn){return electron?await electron.invoke("getFolderFiles",Zn):[]}async function getFolderFolders(Zn){if(electron)try{const Jn=[];if(!await electron.invoke("isDirectory",Zn))return[];const Qn=await electron.invoke("readdirSync",Zn);for(const er of Qn){const tr=`${Zn}/${er}`;try{if(await electron.invoke("isDirectory",tr)){const rr={name:er,path:tr};Jn.push(rr)}}catch(nr){console.error("Error reading dir:",tr,nr);continue}}return Jn}catch(Jn){throw console.error("Error:",Jn),Jn}}async function writeFile(Zn,Jn){if(!electron)return;const Xn=dirname(Zn);await electron.invoke("mkdirSync",Xn,{recursive:!0}),await electron.invoke("saveFile",Zn,Jn)}async function deleteFile(Zn){if(electron)return await electron.invoke("unlinkSync",Zn)}async function readFile(Zn){if(electron)return await electron.invoke("getFile",Zn)}async function showOpenDialog(Zn){if(electron)return electron.invoke("showOpenDialog",Zn)}async function showMessageBox(Zn){if(electron)return electron.invoke("showMessageBoxSync",Zn)}async function closeWindow(){if(electron)return electron.invoke("closeWindow")}async function getPath(Zn){if(electron)return await electron.invoke("getPath",Zn)}async function createFolder(Zn){electron&&await electron.invoke("mkdirSync",Zn,{recursive:!0})}let initialized=!1;const watchers={};async function watchFile(Zn,Jn){electron&&(initialized||(initialized=!0,electron.on("fileChanged",(Xn,Qn,er)=>{const tr=watchers[Qn];tr&&tr(Qn,er)})),await electron.invoke("chokidarWatchFile",Zn),watchers[Zn]=Jn)}async function unwatchFile(Zn){electron&&(delete watchers[Zn],await electron.invoke("chokidarUnwatchFile",Zn))}async function getFolderRemote(Zn){return electron?await electron.invoke("getFolderRemote",Zn):null}const node=Object.freeze(Object.defineProperty({__proto__:null,closeWindow,createFolder,deleteFile,dirname,filename,getFolderFiles,getFolderFolders,getFolderRemote,getPath,readFile,showMessageBox,showOpenDialog,unwatchFile,watchFile,writeFile},Symbol.toStringTag,{value:"Module"})),vue_init_9ZUD1XgGXo=defineNuxtPlugin(Zn=>{Zn.vueApp.use(vClickOutside),Zn.vueApp.use(at$1),Zn.$pinia.use(({store:Xn})=>{Xn.$router=Zn.$router}),globalThis.$toRaw=toRaw,globalThis.$markRaw=markRaw,globalThis.$helpers=helpers,globalThis.$node=node,globalThis.notify=A$1,globalThis.isEditor=!0,globalThis.$nextTick=nextTick,typeof globalThis.electron>"u"&&(globalThis.electron=null),useSettingsStore().init()}),_plugins=[plugin$1,revive_payload_client_4sVQNw7RlN,components_plugin_KR1HBZs4kY,unhead_KgADcZ0jPj,plugin,prefetch_client_5tzzN0oIVL,chunk_reload_client_UciE0i6zes,payload_client_yVLowv6hDl,plugin_1UohGbtF8v,vue_init_9ZUD1XgGXo],__default__={name:"PopupDialog",emits:["button","close","update:modelValue","cancel"],methods:{stop(Zn){Zn.stopImmediatePropagation()},click_button(){this.$emit("button"),this.buttonclose&&this.close()},veil_close_popup(){this.nocloseonclickoutside||this.close()},button_close_popup(){this.close()},close(){this.mobile?history.back():this.doClose()},doClose(){this.content=!1,this.$emit("update:modelValue",this.content),this.$emit("cancel"),this.$emit("close")},popstate(Zn){this.doClose()},esc_close_popup(Zn){var Jn;Zn.stopPropagation(),Zn.stopImmediatePropagation(),((Jn=Zn.key)==null?void 0:Jn.toLowerCase())==="escape"&&this.close()},before_print(Zn){let Xn=this.$refs.content.cloneNode(!0);document.body.appendChild(Xn),Xn.classList.add("printable");const Qn=()=>{document.body.removeChild(Xn)};addEventListener("afterprint",Qn,{once:!0})},isMobile(){var Zn=window.matchMedia||window.msMatchMedia;if(Zn){var Jn=Zn("(pointer:coarse)");return Jn.matches}return!1}},mounted(){addEventListener("keydown",this.esc_close_popup),this.print&&addEventListener("beforeprint",this.before_print),this.mobile&&(history.pushState({popupOpen:!0,url:window.location.toString()},""),addEventListener("popstate",this.popstate))},unmounted(){removeEventListener("keydown",this.esc_close_popup),this.print&&removeEventListener("beforeprint",this.before_print),this.mobile&&removeEventListener("popstate",this.popstate)},props:{modelValue:{default:!0,type:Boolean},text:{type:String,default:"Close"},noclose:{default:!1,type:Boolean},x:{default:!1,type:Boolean},button:{default:"",type:String},disabled:{default:!1,type:Boolean},slotstyle:{default:""},print:{type:Boolean,default:!1},buttonclose:{type:Boolean,default:!0},overflow:{type:Boolean,default:!1},keeponroutechange:{type:Boolean,default:!1},width:{type:String,default:"300px"},nocloseonclickoutside:{type:Boolean,default:!1}},watch:{modelValue(Zn){this.content=Zn}},data(){return{content:this.modelValue,mobile:this.isMobile()}}},__injectCSSVars__=()=>{useCssVars(Zn=>({"73507b52":Zn.width}))},__setup__=__default__.setup;__default__.setup=__setup__?(Zn,Jn)=>(__injectCSSVars__(),__setup__(Zn,Jn)):__injectCSSVars__;const PopupDialog_vue_vue_type_style_index_0_scoped_30ce7386_lang="",_export_sfc=(Zn,Jn)=>{const Xn=Zn.__vccOpts||Zn;for(const[Qn,er]of Jn)Xn[Qn]=er;return Xn},_hoisted_1$4={class:"content",ref:"content"},_hoisted_2$4={class:"close-wrap"},_hoisted_3$4=["disabled"];function _sfc_render$3(Zn,Jn,Xn,Qn,er,tr){return er.content?(openBlock(),createBlock(Teleport,{key:0,to:"#popups"},[createBaseVNode("div",{class:normalizeClass(["container",{allowoverflow:Xn.overflow}]),onClick:Jn[3]||(Jn[3]=(...nr)=>tr.stop&&tr.stop(...nr))},[createBaseVNode("div",{class:"veil",onClick:Jn[0]||(Jn[0]=(...nr)=>tr.veil_close_popup&&tr.veil_close_popup(...nr))}),createBaseVNode("div",{class:normalizeClass(["box",{print:Xn.print}]),style:normalizeStyle(Xn.slotstyle)},[createBaseVNode("div",_hoisted_1$4,[renderSlot(Zn.$slots,"default",{},void 0,!0)],512),createBaseVNode("div",_hoisted_2$4,[renderSlot(Zn.$slots,"boutons",{},void 0,!0),Xn.button?(openBlock(),createElementBlock("button",{key:0,disabled:Xn.disabled,class:"bouton close",onClick:Jn[1]||(Jn[1]=(...nr)=>tr.click_button&&tr.click_button(...nr))},toDisplayString(Xn.button),9,_hoisted_3$4)):createCommentVNode("",!0),Xn.noclose?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,class:"bouton close",onClick:Jn[2]||(Jn[2]=(...nr)=>tr.button_close_popup&&tr.button_close_popup(...nr))},toDisplayString(Xn.text),1))])],6)],2)])):createCommentVNode("",!0)}const __nuxt_component_0$1=_export_sfc(__default__,[["render",_sfc_render$3],["__scopeId","data-v-30ce7386"]]),usePromptStore=defineStore("prompts",{state:()=>({}),persist:{storage:globalThis.localStorage},actions:{get(Zn){return this.$state[Zn]},set(Zn,Jn){this.$state[Zn]=Jn}}}),Settings_vue_vue_type_style_index_0_lang="",_sfc_main$4={setup(){return{settings:useSettingsStore(),prompt:usePromptStore()}},computed:{noRevisionPopup:{get(){return this.prompt.get("revision")},set(Zn){this.prompt.set("revision",Zn)}}}},_hoisted_1$3=createBaseVNode("label",{for:"theme"},"Theme: ",-1),_hoisted_2$3=createBaseVNode("option",{value:"light"},"Light",-1),_hoisted_3$3=createBaseVNode("option",{value:"dark"},"Dark",-1),_hoisted_4$2=[_hoisted_2$3,_hoisted_3$3],_hoisted_5$1={class:"row"},_hoisted_6$1=createBaseVNode("label",{for:"global-duplicate-id-error"},"Check for duplicate ids across all catalogues (requires reload)",-1),_hoisted_7$1={class:"row"},_hoisted_8$1=createBaseVNode("label",{for:"github-auto-increment"},"Auto increment revision when saving (requires github integration & internet)",-1),_hoisted_9$1={class:"row"},_hoisted_10$1=createBaseVNode("label",{for:"revision-popupt"},"Don't show popups asking to increment revision",-1),_hoisted_11$1={class:"row"},_hoisted_12$1=createBaseVNode("label",{for:"categories-ui-v2"},"Use new UI for categories",-1),_hoisted_13$1={class:"row"},_hoisted_14$1=createBaseVNode("label",{for:"auto-format"},"Automatically format characteristics on paste",-1),_hoisted_15$1={class:"row"},_hoisted_16$1=createBaseVNode("label",{for:"auto-rename"},"Automatically rename parent entry when assigning info links",-1),_hoisted_17$1={class:"mt-10px"},_hoisted_18$1=createBaseVNode("legend",null,"Display",-1),_hoisted_19$1={class:"row"},_hoisted_20$1=createBaseVNode("label",{for:""},"Sort Index",-1),_hoisted_21$1={class:"row"},_hoisted_22$1=createBaseVNode("label",{for:"refs"},"Refs",-1),_hoisted_23$1={class:"row"},_hoisted_24$1=createBaseVNode("label",{for:""},"Costs",-1),_hoisted_25$1={class:"row"},_hoisted_26=createBaseVNode("label",{for:""},"Primary Category",-1);function _sfc_render$2(Zn,Jn,Xn,Qn,er,tr){return openBlock(),createElementBlock("div",null,[createBaseVNode("div",null,[_hoisted_1$3,withDirectives(createBaseVNode("select",{id:"theme","onUpdate:modelValue":Jn[0]||(Jn[0]=nr=>Qn.settings.theme=nr)},_hoisted_4$2,512),[[vModelSelect,Qn.settings.theme]])]),createBaseVNode("div",_hoisted_5$1,[withDirectives(createBaseVNode("input",{type:"checkbox",id:"global-duplicate-id-error","onUpdate:modelValue":Jn[1]||(Jn[1]=nr=>Qn.settings.globalDuplicateIdError=nr)},null,512),[[vModelCheckbox,Qn.settings.globalDuplicateIdError]]),_hoisted_6$1]),createBaseVNode("div",_hoisted_7$1,[withDirectives(createBaseVNode("input",{type:"checkbox",id:"github-auto-increment","onUpdate:modelValue":Jn[2]||(Jn[2]=nr=>Qn.settings.githubAutoIncrement=nr)},null,512),[[vModelCheckbox,Qn.settings.githubAutoIncrement]]),_hoisted_8$1]),createBaseVNode("div",_hoisted_9$1,[withDirectives(createBaseVNode("input",{type:"checkbox",id:"revision-popup","onUpdate:modelValue":Jn[3]||(Jn[3]=nr=>tr.noRevisionPopup=nr)},null,512),[[vModelCheckbox,tr.noRevisionPopup]]),_hoisted_10$1]),createBaseVNode("div",_hoisted_11$1,[withDirectives(createBaseVNode("input",{type:"checkbox",id:"categories-ui-v2","onUpdate:modelValue":Jn[4]||(Jn[4]=nr=>Qn.settings.useNewCategoriesUI=nr)},null,512),[[vModelCheckbox,Qn.settings.useNewCategoriesUI]]),_hoisted_12$1]),createBaseVNode("div",_hoisted_13$1,[withDirectives(createBaseVNode("input",{type:"checkbox",id:"auto-format","onUpdate:modelValue":Jn[5]||(Jn[5]=nr=>Qn.settings.autoFormatCharacteristics=nr)},null,512),[[vModelCheckbox,Qn.settings.autoFormatCharacteristics]]),_hoisted_14$1]),createBaseVNode("div",_hoisted_15$1,[withDirectives(createBaseVNode("input",{type:"checkbox",id:"auto-rename","onUpdate:modelValue":Jn[6]||(Jn[6]=nr=>Qn.settings.autoRenameInfoLinkParent=nr)},null,512),[[vModelCheckbox,Qn.settings.autoRenameInfoLinkParent]]),_hoisted_16$1]),createBaseVNode("fieldset",_hoisted_17$1,[_hoisted_18$1,createBaseVNode("div",_hoisted_19$1,[withDirectives(createBaseVNode("input",{type:"checkbox",id:"sort","onUpdate:modelValue":Jn[7]||(Jn[7]=nr=>Qn.settings.display.sortIndex=nr)},null,512),[[vModelCheckbox,Qn.settings.display.sortIndex]]),_hoisted_20$1]),createBaseVNode("div",_hoisted_21$1,[withDirectives(createBaseVNode("input",{type:"checkbox",id:"refs","onUpdate:modelValue":Jn[8]||(Jn[8]=nr=>Qn.settings.display.references=nr)},null,512),[[vModelCheckbox,Qn.settings.display.references]]),_hoisted_22$1]),createBaseVNode("div",_hoisted_23$1,[withDirectives(createBaseVNode("input",{type:"checkbox",id:"costs","onUpdate:modelValue":Jn[9]||(Jn[9]=nr=>Qn.settings.display.costs=nr)},null,512),[[vModelCheckbox,Qn.settings.display.costs]]),_hoisted_24$1]),createBaseVNode("div",_hoisted_25$1,[withDirectives(createBaseVNode("input",{type:"checkbox",id:"costs","onUpdate:modelValue":Jn[10]||(Jn[10]=nr=>Qn.settings.display.primaryCategory=nr)},null,512),[[vModelCheckbox,Qn.settings.display.primaryCategory]]),_hoisted_26])])])}const __nuxt_component_2$1=_export_sfc(_sfc_main$4,[["render",_sfc_render$2]]),_hoisted_1$2=["innerHTML"],_hoisted_2$2={key:0},_hoisted_3$2=createBaseVNode("br",null,null,-1),_hoisted_4$1=createBaseVNode("label",null,"Dont show this again",-1),_sfc_main$3=defineComponent({__name:"Prompt",setup(Zn){const Jn=usePromptStore(),Xn=ref(!1),Qn=ref(""),er=ref("Yes"),tr=ref("Cancel"),nr=ref(null),rr=ref(!1);let sr=null;globalThis.customPrompt=or=>{let ar=!0;if(sr!==null)throw new Error("Cannot create a Prompt when one is already active");const lr=new Promise(cr=>{if(typeof or=="string")Qn.value=or;else if(isObject(or)){if(or.id&&Jn.get(or.id)){ar=!1,cr(!1);return}Qn.value=or.html,tr.value=or.cancel??"Cancel",er.value=or.accept??"Yes",rr.value=!1,nr.value=or.id??null}sr=cr});return Xn.value=ar,lr};function ir(or){sr&&(sr(or),sr=null),rr.value&&nr.value&&Jn.set(nr.value,rr.value),Xn.value=!1}return(or,ar)=>{const lr=__nuxt_component_0$1;return unref(Xn)?(openBlock(),createBlock(lr,{key:0,modelValue:unref(Xn),"onUpdate:modelValue":ar[1]||(ar[1]=cr=>isRef(Xn)?Xn.value=cr:null),text:unref(tr),onButton:ar[2]||(ar[2]=cr=>ir(!0)),onClose:ar[3]||(ar[3]=cr=>ir(!1)),button:unref(er),nocloseonclickoutside:""},{default:withCtx(()=>[createBaseVNode("div",{innerHTML:unref(Qn)},null,8,_hoisted_1$2),unref(nr)?(openBlock(),createElementBlock("div",_hoisted_2$2,[_hoisted_3$2,withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":ar[0]||(ar[0]=cr=>isRef(rr)?rr.value=cr:null)},null,512),[[vModelCheckbox,unref(rr)]]),_hoisted_4$1])):createCommentVNode("",!0)]),_:1},8,["modelValue","text","button"])):createCommentVNode("",!0)}}}),_sfc_main$2={data(){return{settingsOpen:!1,bug:!1,feedback:!1,contact:"",text:"",text1:"",text2:""}},setup(){return{version:useRuntimeConfig().public.clientVersion,settings:useSettingsStore()}},computed:{can_submit_bug(){return this.text1&&this.text2},can_submit_feedback(){return this.text},electron(){return!!globalThis.electron}},methods:{submit_bug(){const Zn={contact:this.contact,happened:this.text1,expected:this.text2,type:"bug"};fetch("https://corsproxy.io/?https://www.newrecruit.eu/api/feedback",{method:"POST",body:JSON.stringify(Zn),headers:{"Content-Type":"application/json"}})},submit_feedback(){const Zn={contact:this.contact,content:this.text,type:"suggestion"};fetch("https://corsproxy.io/?https://www.newrecruit.eu/api/feedback",{method:"POST",body:JSON.stringify(Zn),headers:{"Content-Type":"application/json"}})}},components:{Settings:__nuxt_component_2$1,Prompt:_sfc_main$3}},_imports_0$1=""+new URL("icon.e7345919.png",import.meta.url).href,_imports_0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAZCAYAAADaILXQAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH4gceBjUENG+WiAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAACGklEQVRIx7WVv2sUQRTHP2/2zsCecOfqhaCePwpRMCjYiTGlNiKWNhIQCztLtRUsBEEr8wdEsE4VBK0METuNjZWYQDAEFDzczWJxY+GbOBln904xDx7M7HznO2/fm++8hF8mgAnG4ua9Xu98v9+fAaa73e5kURQrQO7tcXgBrM9nAkLx5glwTTf4/hkY13WCfb5vnwTkAK8i5ANgBmjw23yOrd8JzXrjMeB0BCPAcT3ET8cfvKIRHAOOZFnmR3MuErXzpeDADnACmPAPSIEXQAF8Bz4Bc8At4GsNuRWRReA68AFY1yJvisgVR365juAf/Vun08kS4F1QmP9hY2VZFkaLthN2xmi+RrHXwFNgY0T8PEAX+FiTv3VgMriGd4bk/KG78w1rbVP/IAa8CjQ9BTeAXcDzCvxtDaKBMcbJ/CzwIwLeF5G1Ae5FsCv+U2IGg4FT5WGNMLR2xfuxJ4JtaTAOTwLcqMnfEwUnnqx3a5Qx/DKw35FfGEEUD5S4CfSAzSH4DWAvFXmOeV4Tbcwfm4o8xywFDv2FiMYBnu3A22KBiwBH9TX0F/rAlxEISsWVwfc3rvhNYApYAGbb7fYlLVoKPBpSg5N6c04BN7Vr3QcyrwVu7zIiIoC0Wq0DNeRzVe1tS0SRxoy1VgCT5/kasFpRsPdBm5Sw5YWLNuiFiMjLCvK3vhIjY4Z1f0nT9KAWyE/JXU+xUkEsPwGe1gSU5MFaMAAAAABJRU5ErkJggg==",_imports_2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEmSURBVDhPlZTLSsRAEEXjCxQRX6Dzh/MRLtwouvBD3YhL3Y11kj7hGiYhc+DSVdVV1T2VZroZfku7Jkh7NRa9TFZt/VVkoStsSs+DeXhDm8BDW0/aCtOcRfJ0bXVaOmp27s1iAsmPYUMW2uyjrbNMN/WPS9hvvTfY6DrsvTfOTWambyz9ixLclPbl/MMAM4P3EjHmh25LyXmJ+FnJpiM4BIEksSFMb4t/2fTZ/JFMRNuwuZnNWJV+jonmIwZNRs7MeGKe9DV8SXFWT6XXEjf7Ka2BunuMbCh8QZp+N3sN3O5rMOfpf0KJ03NmSp99cxexiAKGra/w+SBX4S9iEu+MhvlHARxEM96thy2SN9EGGgG+7y/3FzExi+7CPqjZFN6kxTMNuu4P/5eO8a9CnUMAAAAASUVORK5CYII=",_imports_3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpVoqDlYQcQhSnayIijhqFYpQIdQKrTqYXL+EJg1Jiouj4Fpw8GOx6uDirKuDqyAIfoC4uTkpukiJ/0sKLWI8OO7Hu3uPu3eAUCsx1WwbA1TNMpLxmJjOrIiBV3SiF0EMYlRmpj4rSQl4jq97+Ph6F+VZ3uf+HF3ZnMkAn0g8w3TDIl4nntq0dM77xGFWlLPE58QjBl2Q+JHristvnAsOCzwzbKSSc8RhYrHQwkoLs6KhEk8SR7KqRvlC2uUs5y3OaqnCGvfkLwzltOUlrtMcQBwLWIQEEQoq2EAJFqK0aqSYSNJ+zMPf7/glcink2gAjxzzKUCE7fvA/+N2tmZ8Yd5NCMaD9xbY/hoDALlCv2vb3sW3XTwD/M3ClNf3lGjD9SXq1qUWOgO5t4OK6qSl7wOUO0Peky4bsSH6aQj4PvJ/RN2WAnlsguOr21tjH6QOQoq4SN8DBITBcoOw1j3d3tPb275lGfz+YcHK2AYSdwAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+UJFQolAuvg0VAAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAERUlEQVRIx8VXXUwcVRT+7sydnZ0dFpYKyBK2GOGBFKMSjFVJsHS7YkNSk42+9EU0YGIao6ZQ1ESqPljRhz4ZHkoUEuOT1p9Yg6F0rYlRH5AqJaEPaKINu4Eu7jLMzs7Oz/VB23V3ZoHdlHiebu6Ze7/c833nzDmEMYad7Js5XZ791jimqAhnddYleUmrmmF+APBJRMnqbMUrknm/jLnIIeHLvrCo7nQn2Q741bfUO9aS9rBp4kTOgB+7MI8AxevBRG2AG3/ntLxRFvDZCQ3xhDUYX2PvmRYCqMAoj1RjPRlpCvKTLz8vOfxc8cZsTPcuLZtTf8bZuUpBAcC0ELieYOeuLpsfzsZ077Yvno3p3vMXjAupTXYYt9EC1eRStF/oj/SKWQfw2QkNS8vmlKrhaeyB+SRM3dNOn7kZ9luhXo1bg3sFCgAZDQOrcWuw4MWjb6r7VhP2yk6cWhYgioBpFgmJAroO8PzOggs1cW1vvy4nKQCkN9loKVCOAx5/lKKrk6IlRJFIWPjoEx37AgQA8Fea4aljHrTsp/jjuoX5KwZmYiZMy11wiXX7JIDXyMzFrPzx+VzcLU9tBrw7JqElRMsKazxuYfiNDGzmnufHo54gf+f+0SdTmzjudkH0KEX3Q2LZfPr9HESeYXHZdtJlQ1y/YV/lFBVh18pCgMhhsWIxHeoR4SnBuaIizGV11uXmfKyHojbAVQxcVUXQf0Rw9WV11sVJIml1cx7scvKayTDoupO4XI5BVZ37D3S6a0MSSSunaszvwgPuaik8dO2aiede2MJLr6hYW89LdiNp4+SoiqEXt7C4ZBScCYV4ECfNUDXmd43lgTYOkkQK9mKXc7B4IKUyLPyST+TFJQM3VAbGAXOXC4EFgaCzw50uTpaIUrwZbCCOD5ub8xfU1+fXdXX5dXOTE6Shzrkn+4hCNZ2tALi/IB2qnMB9ERHVNQSSl6Dz3rxoOg4IOHUCSG/aePhBj+NcTY3zLi3LVqhXJPM5gxUAE5foCAJBT7d7enXeJ5TuNJy48IpknvPLmCt2JDcKFcoYsHDFwJZSultRVYaFBQN2kZjW15zq8suYK1kyj3RTRJ8Qb+WypjF8MK1BzTDc3cIjUEtAAKTTDL/9bkHwEAw9K8Hn++eJ6bSNz7/QMfOdWdBu3CyZtC8sqp99bUzkDHbqv8AXvzcR+8FE9KiARw4K8EkEP/9qIWMCCy6lUBQAPcegKDZ+/MnAp18ZMFx6HErxfl9YVHf3W2SAJACauX21kjxAJgMQWvq32Bzk2s6MyUkOAMZPyxvBBjJSWiE7gwKAlisN+m+ajpwZk5MFgQg28pOyhOm96kBkCdPBRn7yf2/2CqiP9IrZaL/QfztfLkuYLgZ17asjvWK2o50OhIJkiPJIVQpIeaSaG8lQRzsdKAbd1QiznrSHjTJHGMlLJmqqyfh4uSNMOUObLBFFq2Bo+xtLw+9KZ6ba2AAAAABJRU5ErkJggg==",_imports_4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAgCAMAAADZqYNOAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAkNQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////zmGfoQAAAL90Uk5TAAN08vN2KePmLTfx/qcbDKb8ub+0HBNVVxq2CyfRayBQbXVxakMJCBnPYE4fkdfMs5qlwQUxerrTY8eBjsvWkMUWAg8BTajfiksNfLUGFVPCsheMyB5RuNyfSRE1HcaD1G+s3S7EWs0j2EgOeOCqM4lEZyZfCndhpKEyXr6bnSwvr8oqmSurQQSUsMAYi9s7fWU2+vvDcGZsPlJCk9pbeQfZ1fDefr1/+VRWIdCPEjho+KmgRiXhl7uGQHPikkd8TFklAAAAAWJLR0TAE2Hf+AAAAAlwSFlzAAANqwAADasBvUJgOAAAAk9JREFUKM9jYEACjEzMLKyMDDgAG/v+/RycuGS5uPfv5+HlwyHLLyAoKCQsIopDWkxcQkxSSkCaATeQkZVDcaq8gqKSsoqqGpinrsGqyamlqK0Dcbyorp6+gaGRsYg8A4OJqZm5haWVtY25rZ09yHmSIg4SjiYMTmrOLtKubu62Hp5e3j5qvn7+AYFBDC7BIaEQC9TCwiMio6KBrBgLNiAZGxfPIJmQCJZz4kpK1k2B2OWcmgai5NIZMjKzQKzsnNy8fCeYOyMLQGShHoOkRRGQUZyUWVKK8EVZEsiQ8nQGxopKJ4YqzZB8ZD9W1wB951Jbx8DgmVnfoNkIdZmJCZhSbfJjYGhOiGJgkG4x009yhEi25rWBo6g9U4eho7MLZJdOt3kP1MTe/fttYLJaff0g5gS7iZOgsoqTpyRCZGP9pk4DsYr7ps+ImAmNwln+/CB6doJoR6s6iKWU7ig9Z+4slAQzL9ULwpCu6QXqsc6d74Uky2S+AMLQWQgKjQ7xRYGTXOCyLbWgiHXkZ5i3eMlSkF2tbhHWUE8zqC1TBpq3fNEyBvf9+1esBMf6qhC7+Tpg/RmL2hkY/Ffs388AxPtBZq8OZehhWrNobfs6J4b1QkEMDBuAEgy1G/enNwNl4zcBHRKk1bXQdrOyhNbsLYrGK3g2MmQrTNwKMm3LNrCffdnKt+9YY5e5qGanp6UC3JnSBm3QKFSfsStWR7TUhQEZ9C/ZAA2KTFMs6Xj3Hn9ggDm5uithS+XS8Uv2Zu1b6x6MPSuYzHJgZtGfp44QAQBbAJc9o1Mk+QAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wMi0wN1QxNzozMTo1MCswMDowMFttfAMAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDItMDdUMTc6MzE6NTArMDA6MDAqMMS/AAAARnRFWHRzb2Z0d2FyZQBJbWFnZU1hZ2ljayA2LjcuOC05IDIwMTktMDItMDEgUTE2IGh0dHA6Ly93d3cuaW1hZ2VtYWdpY2sub3JnQXviyAAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABh0RVh0VGh1bWI6OkltYWdlOjpoZWlnaHQANDc0fis41QAAABd0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAA0Mzm4WtLhAAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADE1ODEwOTY3MTB6P0nOAAAAE3RFWHRUaHVtYjo6U2l6ZQAxOC42S0JCW1UXCAAAAER0RVh0VGh1bWI6OlVSSQBmaWxlOi8vLi91cGxvYWRzLzU2L3NaenQxS3MvMjE0OC9lbGVjdHJvbl9pY29uXzEzMjQxMS5wbmfkifMWAAAAAElFTkSuQmCC",TitleBar_vue_vue_type_style_index_0_scoped_510c384b_lang="",_withScopeId=Zn=>(pushScopeId("data-v-510c384b"),Zn=Zn(),popScopeId(),Zn),_hoisted_1$1={class:"titlebar"},_hoisted_2$1={class:"titlebar-content titlebar-left",id:"titlebar-content"},_hoisted_3$1={class:"flex titletext"},_hoisted_4=_withScopeId(()=>createBaseVNode("img",{class:"w-30px h-30px",src:_imports_0$1},null,-1)),_hoisted_5={class:"m-auto version"},_hoisted_6={class:"text-slate-300"},_hoisted_7={class:"titlebar-content titlebar-right",id:"titlebar-content-right"},_hoisted_8=_withScopeId(()=>createBaseVNode("img",{class:"icon",src:_imports_0},null,-1)),_hoisted_9=_withScopeId(()=>createBaseVNode("span",{class:"icontext"},"Settings",-1)),_hoisted_10=[_hoisted_8,_hoisted_9],_hoisted_11=_withScopeId(()=>createBaseVNode("img",{class:"icon",src:_imports_2},null,-1)),_hoisted_12=_withScopeId(()=>createBaseVNode("span",{class:"icontext"},"Systems",-1)),_hoisted_13=_withScopeId(()=>createBaseVNode("a",{class:"iconbox no-underline",href:"https://discord.gg/cCtqGbugwb",target:"_blank"},[createBaseVNode("img",{class:"static-icon",src:_imports_3}),createBaseVNode("span",{class:"icontext"},"Discord")],-1)),_hoisted_14={key:1},_hoisted_15=_withScopeId(()=>createBaseVNode("img",{src:_imports_4},null,-1)),_hoisted_16=[_hoisted_15],_hoisted_17={class:"m-20px"},_hoisted_18=_withScopeId(()=>createBaseVNode("h2",{class:"text-center"},"Bug Report form",-1)),_hoisted_19=_withScopeId(()=>createBaseVNode("label",{for:"contact"},"Contact:",-1)),_hoisted_20=_withScopeId(()=>createBaseVNode("label",{for:"text1"},[createTextVNode("What happened "),createBaseVNode("span",{class:"gray"},"(include the steps to reproduce)"),createTextVNode(":*")],-1)),_hoisted_21=_withScopeId(()=>createBaseVNode("label",{for:"text2"},"What did you expect to happen:*",-1)),_hoisted_22={class:"m-20px"},_hoisted_23=_withScopeId(()=>createBaseVNode("h2",{class:"text-center"},"Feedback form",-1)),_hoisted_24=_withScopeId(()=>createBaseVNode("label",{for:"contact"},"Contact:",-1)),_hoisted_25=_withScopeId(()=>createBaseVNode("label",{for:"text"}," Do you have any suggestions to improve NewRecruit ?:* ",-1));function _sfc_render$1(Zn,Jn,Xn,Qn,er,tr){const nr=__nuxt_component_0$2,rr=__nuxt_component_0$1,sr=__nuxt_component_2$1,ir=_sfc_main$3;return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createVNode(nr,{to:{name:"index"},class:"titlecolor no-underline unselectable"},{default:withCtx(()=>[createBaseVNode("h1",_hoisted_3$1,[_hoisted_4,createBaseVNode("span",_hoisted_5,[createTextVNode(" New Recruit - Editor "),createBaseVNode("span",_hoisted_6,"v"+toDisplayString(Qn.version),1)])])]),_:1}),renderSlot(Zn.$slots,"default",{},void 0,!0)]),createBaseVNode("div",_hoisted_7,[createBaseVNode("div",{class:"iconbox no-underline unselectable",onClick:Jn[0]||(Jn[0]=or=>er.settingsOpen=!0)},_hoisted_10),tr.electron?(openBlock(),createBlock(nr,{key:0,class:"iconbox no-underline unselectable",to:"/system"},{default:withCtx(()=>[_hoisted_11,_hoisted_12]),_:1})):createCommentVNode("",!0),_hoisted_13,tr.electron?(openBlock(),createElementBlock("div",_hoisted_14,_hoisted_16)):createCommentVNode("",!0),er.bug?(openBlock(),createBlock(rr,{key:2,disabled:!tr.can_submit_bug,modelValue:er.bug,"onUpdate:modelValue":Jn[4]||(Jn[4]=or=>er.bug=or),button:"Submit",onButton:tr.submit_bug},{default:withCtx(()=>[createBaseVNode("div",_hoisted_17,[_hoisted_18,_hoisted_19,createBaseVNode("div",null,[withDirectives(createBaseVNode("input",{type:"text",id:"contact","onUpdate:modelValue":Jn[1]||(Jn[1]=or=>er.contact=or)},null,512),[[vModelText,er.contact]])]),_hoisted_20,withDirectives(createBaseVNode("textarea",{required:"",class:"w-full textbox",type:"text",id:"text1","onUpdate:modelValue":Jn[2]||(Jn[2]=or=>er.text1=or)},null,512),[[vModelText,er.text1]]),_hoisted_21,withDirectives(createBaseVNode("textarea",{required:"",class:"w-full mt-1px textbox",type:"text",id:"text2","onUpdate:modelValue":Jn[3]||(Jn[3]=or=>er.text2=or)},null,512),[[vModelText,er.text2]])])]),_:1},8,["disabled","modelValue","onButton"])):createCommentVNode("",!0),er.feedback?(openBlock(),createBlock(rr,{key:3,disabled:!tr.can_submit_feedback,modelValue:er.feedback,"onUpdate:modelValue":Jn[7]||(Jn[7]=or=>er.feedback=or),button:"Submit",onButton:tr.submit_feedback},{default:withCtx(()=>[createBaseVNode("div",_hoisted_22,[_hoisted_23,_hoisted_24,createBaseVNode("div",null,[withDirectives(createBaseVNode("input",{type:"text",id:"contact","onUpdate:modelValue":Jn[5]||(Jn[5]=or=>er.contact=or)},null,512),[[vModelText,er.contact]])]),_hoisted_25,withDirectives(createBaseVNode("textarea",{required:"",class:"w-full mt-1px textbox",type:"text",id:"text","onUpdate:modelValue":Jn[6]||(Jn[6]=or=>er.text=or)},null,512),[[vModelText,er.text]])])]),_:1},8,["disabled","modelValue","onButton"])):createCommentVNode("",!0),er.settingsOpen?(openBlock(),createBlock(rr,{key:4,modelValue:er.settingsOpen,"onUpdate:modelValue":Jn[8]||(Jn[8]=or=>er.settingsOpen=or)},{default:withCtx(()=>[createVNode(sr)]),_:1},8,["modelValue"])):createCommentVNode("",!0)]),createVNode(ir)])}const __nuxt_component_0=_export_sfc(_sfc_main$2,[["render",_sfc_render$1],["__scopeId","data-v-510c384b"]]),interpolatePath=(Zn,Jn)=>Jn.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,Xn=>{var Qn;return((Qn=Zn.params[Xn.slice(1)])==null?void 0:Qn.toString())||""}),generateRouteKey=(Zn,Jn)=>{const Xn=Zn.route.matched.find(er=>{var tr;return((tr=er.components)==null?void 0:tr.default)===Zn.Component.type}),Qn=Jn??(Xn==null?void 0:Xn.meta.key)??(Xn&&interpolatePath(Zn.route,Xn));return typeof Qn=="function"?Qn(Zn.route):Qn},wrapInKeepAlive=(Zn,Jn)=>({default:()=>Zn?h$2(KeepAlive,Zn===!0?{}:Zn,Jn):Jn}),_wrapIf=(Zn,Jn,Xn)=>(Jn=Jn===!0?{}:Jn,{default:()=>{var Qn;return Jn?h$2(Zn,Jn,Xn):(Qn=Xn.default)==null?void 0:Qn.call(Xn)}}),__nuxt_component_1=defineComponent({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(Zn,{attrs:Jn}){const Xn=useNuxtApp();return()=>h$2(RouterView,{name:Zn.name,route:Zn.route,...Jn},{default:Qn=>{if(!Qn.Component)return;const er=generateRouteKey(Qn,Zn.pageKey),tr=Xn.deferHydration(),nr=!!(Zn.transition??Qn.route.meta.pageTransition??appPageTransition),rr=nr&&_mergeTransitionProps([Zn.transition,Qn.route.meta.pageTransition,appPageTransition,{onAfterLeave:()=>{Xn.callHook("page:transition:finish",Qn.Component)}}].filter(Boolean));return _wrapIf(Transition,nr&&rr,wrapInKeepAlive(Zn.keepalive??Qn.route.meta.keepalive??appKeepalive,h$2(Suspense,{suspensible:!0,onPending:()=>Xn.callHook("page:start",Qn.Component),onResolve:()=>{nextTick(()=>Xn.callHook("page:finish",Qn.Component).finally(tr))}},{default:()=>h$2(RouteProvider,{key:er,routeProps:Qn,pageKey:er,hasTransition:nr})}))).default()}})}});function _toArray(Zn){return Array.isArray(Zn)?Zn:Zn?[Zn]:[]}function _mergeTransitionProps(Zn){const Jn=Zn.map(Xn=>({...Xn,onAfterLeave:_toArray(Xn.onAfterLeave)}));return defu(...Jn)}const RouteProvider=defineComponent({name:"RouteProvider",props:["routeProps","pageKey","hasTransition"],setup(Zn){const Jn=Zn.pageKey,Xn=Zn.routeProps.route,Qn={};for(const er in Zn.routeProps.route)Qn[er]=computed(()=>Jn===Zn.pageKey?Zn.routeProps.route[er]:Xn[er]);return provide("_route",reactive(Qn)),()=>h$2(Zn.routeProps.Component)}}),__nuxt_component_2=defineComponent({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(Zn,{slots:Jn,attrs:Xn}){const Qn=ref(!1);return onMounted(()=>{Qn.value=!0}),er=>{var sr;if(Qn.value)return(sr=Jn.default)==null?void 0:sr.call(Jn);const tr=Jn.fallback||Jn.placeholder;if(tr)return tr();const nr=er.fallback||er.placeholder||"",rr=er.fallbackTag||er.placeholderTag||"span";return createElementBlock(rr,Xn,nr)}}});function splitExactlyConstraints(Zn){if(!Zn.constraints)return Zn;const Jn=[];for(const Qn of Zn.constraints)if(Qn.type==="exactly"){const er={...Qn,id:Qn.id+"-min",type:"min"},tr={...Qn,id:Qn.id+"-max",type:"max"};Jn.push(er,tr)}else Jn.push(Qn);const Xn=copy(Zn);return Xn.constraints=Jn,Xn}function splitExactlyConstraintsModifiers(Zn){if(!Zn.modifiers&&!Zn.modifierGroups||!Zn.constraintsIterator)return Zn;const Jn={};for(const tr of Zn.constraintsIterator())tr.type==="exactly"&&(Jn[tr.id]=tr);function Xn(tr){const nr=[];for(const rr of tr)if(rr.field in Jn){const sr={...rr,field:rr.field+"-min"},ir={...rr,field:rr.field+"-max"};nr.push(sr,ir)}else nr.push(rr);return nr}function Qn(tr){const nr=[];for(const rr of tr){const sr={...rr};sr.modifiers&&(sr.modifiers=Xn(sr.modifiers)),sr.modifierGroups&&(sr.modifierGroups=Qn(sr.modifierGroups)),nr.push(sr)}return nr}const er=copy(Zn);return er.modifiers&&(er.modifiers=Xn(er.modifiers)),er.modifierGroups&&(er.modifierGroups=Qn(er.modifierGroups)),er}const isNonEmptyIfHasOneOf=["modifiers","modifierGroups","constraints","entryLinks","categoryLinks","selectionEntries","selectionEntryGroups","infoLinks","infoGroups","rules","profiles"],arrayKeys=["profile","rule","infoLink","infoGroup","selectionEntry","selectionEntryGroup","entryLink","profiles","rules","infoLinks","infoGroups","entryLinks","selectionEntries","selectionEntryLinks","selectionEntryGroups","categoryLinks","costTypes","profileTypes","characteristicTypes","categoryEntries","categories","forceEntries","forces","sharedSelectionEntries","sharedSelectionEntryGroups","sharedProfiles","sharedRules","sharedInfoGroups","rules","rootRules","publications","catalogueLinks","constraints","characteristics","costs"],arrayKeysWithoutId=["conditions","conditionGroups","modifiers","modifierGroups","repeats"],goodKeys=new Set([...arrayKeys,...arrayKeysWithoutId]),goodKeysWiki=new Set(arrayKeys);function getDataObject(Zn){if(Zn.isCatalogue&&Zn.isCatalogue())return Zn;if(Zn.gameSystem)return Zn.gameSystem;if(Zn.catalogue)return Zn.catalogue;throw Error("getDataObject data argument is not a valid system or catalogue")}function getDataDbId(Zn){if(Zn.isCatalogue&&Zn.isCatalogue()){if(Zn.id&&Zn.gameSystemId)return`${Zn.gameSystemId}-${Zn.id}`;if(Zn.id)return`${Zn.id}`}if(Zn.catalogue)return`${Zn.catalogue.gameSystemId}-${Zn.catalogue.id}`;if(Zn.gameSystem)return Zn.gameSystem.id;throw Error("getDataId data argument is not a valid system or catalogue")}class Base{constructor(Jn){Zr(this,"id");Zr(this,"type");Zr(this,"subType");Zr(this,"shared");Zr(this,"import");Zr(this,"collective");Zr(this,"comment");Zr(this,"publicationId");Zr(this,"typeName");Zr(this,"typeId");Zr(this,"categoryEntryId");Zr(this,"name");Zr(this,"hidden");Zr(this,"value");Zr(this,"page");Zr(this,"defaultAmount");Zr(this,"profiles");Zr(this,"rules");Zr(this,"infoLinks");Zr(this,"infoGroups");Zr(this,"publications");Zr(this,"costs");Zr(this,"selectionEntries");Zr(this,"selectionEntryGroups");Zr(this,"entryLinks");Zr(this,"profileTypes");Zr(this,"categoryEntries");Zr(this,"categoryLinks");Zr(this,"forceEntries");Zr(this,"sharedSelectionEntryGroups");Zr(this,"sharedSelectionEntries");Zr(this,"sharedProfiles");Zr(this,"sharedRules");Zr(this,"sharedInfoGroups");Zr(this,"target");Zr(this,"modifiers");Zr(this,"modifierGroups");Zr(this,"constraints");Zr(this,"repeats");Zr(this,"conditions");Zr(this,"conditionGroups");Zr(this,"catalogue");Zr(this,"extra_constraints");Zr(this,"childs");Zr(this,"loaded");Zr(this,"collective_recursive");Zr(this,"limited_to_one");Zr(this,"associations");Zr(this,"associationConstraints");Zr(this,"flatten");Zr(this,"collapsible");Zr(this,"sortIndex");Zr(this,"alias");return Object.setPrototypeOf(Jn,Object.getPrototypeOf(this))}get url(){return"%{main_catalogue|catalogue}/%{id}/%{getName}"}process(){this.loaded||(this.collective_recursive=this.isCollectiveRecursive(),this.limited_to_one=!this.canAmountBeAbove1(),this.loaded=!0)}toJson(){return entryToJson(this)}getCatalogue(){return this.catalogue}getGameSystem(){return this.getCatalogue().getGameSystem()}get[Symbol.toStringTag](){return globalThis.isEditor?"Object":"ObjectNoObserve"}isGroup(){return!1}isForce(){return!1}isCatalogue(){return!1}isLink(){return!1}isCategory(){return!1}isRoster(){return!1}isQuantifiable(){return!1}isEntry(){return!1}isIdUnique(){return!1}isRule(){return!1}isProfile(){return!1}isInfoGroup(){return!1}isUnit(){for(const Jn of this.categoryLinks||[])if(Jn.primary)return!0;return!1}getId(){return this.id}getType(){return this.subType??this.type}getTypeName(){return this.typeName}getCategoryEntryId(){return this.categoryEntryId}getHidden(){return this.hidden}getPage(){return this.page}getName(){return this.name}getDefaultAmount(){return this.defaultAmount}isCollective(){return this.collective}isCollectiveRecursive(){const Jn=[...this.selectionsIterator()];for(;Jn.length;){const Xn=Jn.pop();if(!Xn.isCollective()&&!Xn.isGroup())return!1;Jn.push(...Xn.selectionsIterator())}return!0}isEmptyNode(){for(const Jn of isNonEmptyIfHasOneOf)if(this[Jn]!==void 0)return!1;return!0}*forcesIterator(){}*associationsIterator(){this.associations&&(yield*this.associations)}*profilesIterator(){var Jn;for(const Xn of getAllInfoGroups(this))Xn.profiles&&(yield*Xn.profiles),Xn.infoLinks&&(yield*(Jn=Xn.infoLinks)==null?void 0:Jn.filter(Qn=>Qn.type==="profile").map(Qn=>Qn.target))}*rulesIterator(){var Jn;for(const Xn of getAllInfoGroups(this))Xn.rules&&(yield*Xn.rules),Xn.infoLinks&&(yield*(Jn=Xn.infoLinks)==null?void 0:Jn.filter(Qn=>Qn.type==="rule").map(Qn=>Qn.target))}*constraintsIterator(){this.constraints&&(yield*this.constraints)}*extraConstraintsIterator(){this.extra_constraints&&(yield*this.extra_constraints)}*modifierGroupsIterator(){this.modifierGroups&&(yield*this.modifierGroups)}*modifiersIterator(){this.modifiers&&(yield*this.modifiers)}*modifierGroupsIteratorRecursive(){yield this,this.isLink()&&(yield this.target);for(const Jn of this.modifierGroupsIterator())yield Jn,yield*iterateModifierGroupsRecursive(Jn.modifierGroups)}*selectionsIterator(){this.selectionEntries&&(yield*this.selectionEntries),this.selectionEntryGroups&&(yield*this.selectionEntryGroups),this.entryLinks&&(yield*this.entryLinks)}*localSelectionsIterator(){this.selectionEntries&&(yield*this.selectionEntries),this.selectionEntryGroups&&(yield*this.selectionEntryGroups),this.entryLinks&&(yield*this.entryLinks)}*nodesIterator(){this.isLink()&&(yield*this.target.nodesIterator()),this.selectionEntries&&(yield*this.selectionEntries),this.selectionEntryGroups&&(yield*this.selectionEntryGroups),this.entryLinks&&(yield*this.entryLinks)}*entriesIterator(){this.isLink()&&(yield*this.target.entriesIterator()),this.selectionEntries&&(yield*this.selectionEntries),this.selectionEntryGroups&&(yield*this.selectionEntryGroups),this.entryLinks&&(yield*this.entryLinks),this.childs&&(yield*this.childs)}*iterateSelectionEntries(){this.selectionEntries&&(yield*this.selectionEntries),this.entryLinks&&(yield*this.entryLinks),this.selectionEntryGroups&&(yield*this.selectionEntryGroups)}*iterateSelectionEntriesWithRoot(){this.selectionEntries&&(yield*this.selectionEntries),this.entryLinks&&(yield*this.entryLinks),this.selectionEntryGroups&&(yield*this.selectionEntryGroups)}*iterateRootEntries(){this.selectionEntries&&(yield*this.selectionEntries),this.entryLinks&&(yield*this.entryLinks),this.selectionEntryGroups&&(yield*this.selectionEntryGroups),this.forceEntries&&(yield*this.forceEntries)}*iterateAllRootEntries(){this.selectionEntries&&(yield*this.selectionEntries),this.entryLinks&&(yield*this.entryLinks),this.selectionEntryGroups&&(yield*this.selectionEntryGroups),this.forceEntries&&(yield*this.forceEntries)}*categoryLinksIterator(){this.categoryLinks&&(yield*this.categoryLinks)}*infoLinksIterator(){this.infoLinks&&(yield*this.infoLinks)}*infoGroupsIterator(){this.infoGroups&&(yield*this.infoGroups)}*infoRulesIterator(){if(this.isForce()){const Jn=this.getGameSystem();Jn.rules&&(yield*Jn.rules);const Xn=this.main_catalogue;Xn.rules&&(yield*Xn.rules)}this.rules&&(yield*this.rules)}*infoProfilesIterator(){this.profiles&&(yield*this.profiles)}forEachCond(Jn,Xn=0){if(Jn(this,0)===void 0)for(const Qn of this.selectionsIterator())Qn.forEachCond(Jn,Xn+1)}forEach(Jn){Jn(this);for(const Xn of this.selectionsIterator())Xn.forEach(Jn)}forEachNode(Jn){Jn(this);for(const Xn of this.nodesIterator())Xn.forEachNode(Jn)}forEachNodeCb(Jn){const Xn=[this],Qn=new Set;for(;Xn.length;){const er=Xn.pop();if(!Qn.has(er.id)){if(Qn.add(er.id),Jn(er),er.childs){Xn.push(...er.childs);continue}if(er.target){const tr=er.target;tr.selectionEntries&&Xn.push(...tr.selectionEntries),tr.selectionEntryGroups&&Xn.push(...tr.selectionEntryGroups),tr.entryLinks&&Xn.push(...tr.entryLinks)}er.selectionEntries&&Xn.push(...er.selectionEntries),er.selectionEntryGroups&&Xn.push(...er.selectionEntryGroups),er.entryLinks&&Xn.push(...er.entryLinks)}}}forEachObjectWhitelist(Jn,Xn=goodKeys,Qn){let er=[this],tr=[],nr=0;for(;er.length;){for(;er.length;){const rr=er.pop();for(const sr in rr){const ir=rr[sr];if(Xn.has(sr)&&isObject(ir))if(Array.isArray(ir)){if(ir.length&&isObject(ir[0]))for(let or=0;or<ir.length;or++){const ar=ir[or];Jn(ar,rr)!==!1&&tr.push(ar)}}else Jn(ir,rr)!==!1&&tr.push(ir)}}if(er=tr,tr=[],nr++,Qn&&nr>=Qn)break}}forEachObject(Jn,Xn=new Set){const Qn=[this];for(;Qn.length;){const er=Qn.pop();for(const tr of Object.keys(er)){const nr=er[tr];if(!Xn.has(tr)&&isObject(nr))if(Array.isArray(nr)){if(nr.length&&isObject(nr[0]))for(let rr=nr.length;rr--;){const sr=nr[rr];Jn(sr,er),Qn.push(sr)}}else Jn(nr,er),Qn.push(nr)}}}findOption(Jn){for(const Xn of this.selectionsIterator())if(Jn(Xn))return Xn}findOptionRecursive(Jn){const Xn=[...this.selectionsIterator()];for(;Xn.length;){const Qn=Xn.pop();if(Jn(Qn))return Qn}}find_recursive(Jn,Xn=!1){let Qn=[this],er=[];for(;Qn.length;){for(;Qn.length;){const tr=Qn.pop();for(const nr in tr){const rr=tr[nr];if(goodKeys.has(nr)&&isObject(rr))if(Array.isArray(rr)){if(rr.length&&isObject(rr[0]))for(let sr=0;sr<rr.length;sr++){const ir=rr[sr],or=Jn(ir);if(or)return ir;or!==!1&&(er.push(ir),ir.target&&Xn&&er.push(ir.target))}}else{const sr=Jn(rr);if(sr)return rr;sr!==!1&&(er.push(rr),rr.target&&Xn&&er.push(rr.target))}}}Qn=er,er=[]}}find(Jn,Xn=!1){let Qn=[this],er=[],tr=!0;for(;Qn.length;){for(;Qn.length;){const nr=Qn.pop();for(const rr in nr){const sr=nr[rr];if(goodKeys.has(rr)&&isObject(sr))if(Array.isArray(sr)){if(sr.length&&isObject(sr[0]))for(let ir=0;ir<sr.length;ir++){const or=sr[ir];if(Jn(or))return or;er.push(or),or.target&&Xn&&er.push(or.target)}}else{if(Jn(sr))return sr;er.push(sr),sr.target&&Xn&&er.push(sr.target)}}}if(!tr)return;tr=!1,Qn=er,er=[]}}getCosts(){return this.costs||[]}getPrimaryCategory(){for(const Jn of this.categoryLinks||[])if(Jn.primary)return Jn.targetId;return this.getCategoryEntryId()??UNCATEGORIZED_ID}getPrimaryCategoryLink(){for(const Jn of this.categoryLinks||[])if(Jn.primary)return Jn}getPackedConstraint(Jn){const Xn=Object.assign({},Jn);Xn.name=this.getName(),Xn.parent=this;const Qn=Jn.shared||this instanceof CategoryLink;Xn.childId=this.isLink()&&Qn?this.targetId:this.id,Xn.modifiers=[];for(const er of this.modifiersIterator())(er.field===Jn.id||er.field==="hidden"&&Jn.type==="min")&&Xn.modifiers.push(er);Xn.modifierGroups=[];for(const er of this.modifierGroupsIterator())e:for(const tr of iterateModifierGroupsRecursive([er]))for(const nr of tr.modifiers||[])if(nr.field===Jn.id||nr.field==="hidden"&&Jn.type==="min"){Xn.modifierGroups.push(er);break e}return Xn}getBoundConstraint(Jn){const Xn=this.getPackedConstraint(Jn);return Xn.scope="self",Xn}getChildBoundConstraints(Jn){const Xn=[];for(const Qn of this.selectionsIterator())if(!(Jn&&Qn.isGroup())){for(const er of Qn.constraintsIterator())(er.type==="min"||er.type==="exactly")&&er.scope==="parent"&&Xn.push(Qn.getBoundConstraint(er));Qn.isGroup()&&Xn.push(...Qn.getChildBoundConstraints())}return Xn}canAmountBeAbove1(){const Jn=getTheoreticalMaxes(this.constraintsIterator(),[...this.modifierGroupsIterator(),{modifiers:[...this.modifiersIterator()]}]);return!Jn.length||Jn.includes(-1)?!0:Math.min(...Jn)>1}hasOption(Jn){let Xn;return this.forEachCond(Qn=>(Qn.getName()===Jn&&(Xn=!0),Xn)),!!Xn}}class Entry extends Base{isEntry(){return!0}isQuantifiable(){return!0}isIdUnique(){return!0}}class Group extends Base{getDefaultSelectionEntryId(){return this.defaultSelectionEntryId}isGroup(){return!0}isIdUnique(){return!0}}class Link extends Base{constructor(){super(...arguments);Zr(this,"targetId")}isLink(){return!0}isGroup(){var Xn;return(Xn=this.target)==null?void 0:Xn.isGroup()}isCategory(){var Xn;return(Xn=this.target)==null?void 0:Xn.isCategory()}isQuantifiable(){var Xn;return(Xn=this.target)==null?void 0:Xn.isQuantifiable()}isEntry(){var Xn;return(Xn=this.target)==null?void 0:Xn.isEntry()}isIdUnique(){return!1}isProfile(){var Xn;return((Xn=this.target)==null?void 0:Xn.isProfile())||!1}isRule(){var Xn;return((Xn=this.target)==null?void 0:Xn.isRule())||!1}isInfoGroup(){var Xn;return((Xn=this.target)==null?void 0:Xn.isInfoGroup())||!1}isUnit(){if(this.target.isUnit())return!0;for(const Xn of this.categoryLinks||[])if(Xn.primary)return!0;return!1}getId(){return this.targetId}getType(){var Xn;return(Xn=this.target)==null?void 0:Xn.getType()}getPage(){var Xn;return this.page||((Xn=this.target)==null?void 0:Xn.page)}getHidden(){return this.target.hidden||this.hidden}getDefaultSelectionEntryId(){var Xn;return this.defaultSelectionEntryId||((Xn=this.target)==null?void 0:Xn.getDefaultSelectionEntryId())}getCategoryEntryId(){var Xn;return this.categoryEntryId??((Xn=this.target)==null?void 0:Xn.categoryEntryId)}get associationConstraints(){return this.target.associationConstraints}getAssociations(){return this.associations||this.target.associations}isCollective(){var Xn;return super.isCollective()||((Xn=this.target)==null?void 0:Xn.isCollective())}*extraConstraintsIterator(){yield*this.target.extraConstraintsIterator(),yield*super.extraConstraintsIterator()}*associationsIterator(){yield*this.target.associationsIterator(),yield*super.associationsIterator()}*rulesIterator(){yield*this.target.rulesIterator(),yield*super.rulesIterator()}*profilesIterator(){yield*this.target.profilesIterator(),yield*super.profilesIterator()}*constraintsIterator(){this.target&&(yield*this.target.constraintsIterator()),yield*super.constraintsIterator()}*modifierGroupsIterator(){yield*this.target.modifierGroupsIterator(),yield*super.modifierGroupsIterator()}*modifiersIterator(){yield*this.target.modifiersIterator(),yield*super.modifiersIterator()}*selectionsIterator(){yield*this.target.selectionsIterator(),yield*super.selectionsIterator()}*categoryLinksIterator(){yield*this.target.categoryLinksIterator(),yield*super.categoryLinksIterator()}*infoLinksIterator(){yield*this.target.infoLinksIterator(),yield*super.infoLinksIterator()}*infoGroupsIterator(){yield*this.target.infoGroupsIterator(),yield*super.infoGroupsIterator()}*infoRulesIterator(){yield*this.target.infoRulesIterator(),yield*super.infoRulesIterator()}*infoProfilesIterator(){yield*this.target.infoProfilesIterator(),yield*super.infoProfilesIterator()}getDefaultAmount(){return this.defaultAmount===void 0?this.target.defaultAmount:this.defaultAmount}getName(){var Xn;return((Xn=this.target)==null?void 0:Xn.name)||this.name}getPrimaryCategory(){for(const Xn of this.categoryLinks||[])if(Xn.primary)return Xn.targetId;for(const Xn of this.target.categoryLinks||[])if(Xn.primary)return Xn.targetId;return this.getCategoryEntryId()??UNCATEGORIZED_ID}getPrimaryCategoryLink(){for(const Xn of this.categoryLinks||[])if(Xn.primary)return Xn;for(const Xn of this.target.categoryLinks||[])if(Xn.primary)return Xn}getCosts(){var Qn;const Xn={};if((Qn=this.target)!=null&&Qn.costs)for(const er of this.target.costs)Xn[er.typeId]=er;if(this.costs)for(const er of this.costs)Xn[er.typeId]=er;return Object.values(Xn)}}Link.prototype.keyInfoCache={};class InfoLink extends Link{getTypeName(){var Jn;return(Jn=this.target)==null?void 0:Jn.typeName}}class CategoryLink extends Link{constructor(){super(...arguments);Zr(this,"primary");Zr(this,"main_catalogue")}get units(){return this.target.units}*selectionsIterator(){yield*this.target.units}isEmpty(){return this.target.isEmpty()}}const UNCATEGORIZED_ID="(No Category)",ILLEGAL_ID="(Illegal Units)";class Category extends Base{constructor(){super(...arguments);Zr(this,"units");Zr(this,"main_catalogue")}isCategory(){return!0}*selectionsIterator(){yield*this.units}isEmpty(){return!this.units.length}isIdUnique(){return!this.isEmptyNode()}}class Force extends Base{constructor(){super(...arguments);Zr(this,"categories");Zr(this,"forces");Zr(this,"main_catalogue")}isForce(){return!0}isEntry(){return!0}isIdUnique(){return!0}*selectionsIterator(){yield*this.categories,this.forces&&(yield*this.forces)}*rulesIterator(){var Xn;for(const Qn of getAllInfoGroups(this))Qn.rules&&(yield*Qn.rules),Qn.infoLinks&&(yield*(Xn=Qn.infoLinks)==null?void 0:Xn.filter(er=>er.type==="rule").map(er=>er.target));this.main_catalogue&&(yield*this.main_catalogue.rulesIterator())}generateForces(Xn){const Qn=[];for(const er of this.forceEntries||[]){const tr=clone(er);tr.main_catalogue=this.main_catalogue;const nr=[];for(const rr of er.categoryLinks||[])rr.targetId in Xn&&nr.push(Xn[rr.targetId]);tr.categories=nr,this.main_catalogue.index[tr.id]=tr,Qn.push(tr)}return this.forces=Qn,Qn}isEmpty(){for(const Xn of this.categories)if(!Xn.isEmpty())return!1;return!0}*forcesIterator(){this.forceEntries&&(yield*this.forceEntries)}*forcesIteratorRecursive(){if(this.forces)for(const Xn of this.forces)yield Xn,yield*Xn.forcesIteratorRecursive()}}const maxValue=1/0;function getTheoreticalMaxes(Zn,Jn){var er,tr,nr,rr;const Xn=[];function Qn(sr){Xn.push(sr)}for(const sr of Zn){const ir=Xn.length;if(sr.field!=="selections"||sr.type!=="max")continue;if(sr.value>1){Qn(sr.value);continue}let or=sr.value;for(const ar of iterateModifierGroupsRecursive(Jn))for(const lr of ar.modifiers||[])if(lr.field===sr.id){if(lr.type==="increment"){if((er=ar.repeats)!=null&&er.length||(tr=lr.repeats)!=null&&tr.length){Qn(maxValue);continue}if(or+=lr.value,or>1){Qn(or);continue}}if(lr.type==="decrement"&&lr.value<0){if((nr=ar.repeats)!=null&&nr.length||(rr=lr.repeats)!=null&&rr.length){Qn(maxValue);continue}if(or-=lr.value,or>1){Qn(or);continue}}if(lr.type==="set"&&lr.value>1){if(lr.value===-1){Qn(maxValue);continue}Qn(lr.value)}}ir===Xn.length&&Qn(or)}return Xn}class ProfileType extends Base{}class Profile extends Base{isProfile(){return!0}getTypeName(){return this.typeName}isIdUnique(){return!0}}class Characteristic extends Base{constructor(){super(...arguments);Zr(this,"originalValue")}getLabel(){var Xn;return this.catalogue?((Xn=this.catalogue.findOptionById(this.typeId))==null?void 0:Xn.getName())??this.typeId:this.typeId}getTypeName(){return this.getLabel()}getName(){return`${this.getLabel()} = ${this.$text}`}}class InfoGroup extends Base{isInfoGroup(){return!0}isIdUnique(){return!0}}const basicQueryFields=new Set(["any","model","unit","upgrade","mount","crew"]);class Condition extends Base{}class Constraint extends Condition{}class Modifier extends Base{}class ModifierGroup extends Base{}class Rule extends Base{getDescription(){return Array.isArray(this.description)?this.description.join(`
`):this.description}isRule(){return!0}isIdUnique(){return!0}}function*getAllInfoGroups(Zn){yield Zn;for(const Jn of Zn.infoGroups||[])yield*getAllInfoGroups(Jn);for(const Jn of Zn.infoLinks||[])Jn.type==="infoGroup"&&(yield*getAllInfoGroups(Jn.target))}function*iterateModifierGroupsRecursive(Zn){if(Zn)for(const Jn of Zn)yield Jn,yield*iterateModifierGroupsRecursive(Jn.modifierGroups)}const BaseChilds=["costTypes","costs","categoryEntries","forceEntries","sharedSelectionEntries","selectionEntries","sharedSelectionEntryGroups","selectionEntryGroups","entryLinks","infoLinks","categoryLinks","catalogueLinks","sharedProfiles","profiles","profileTypes","characteristics","characteristicTypes","sharedInfoGroups","infoGroups","sharedRules","rules","publications","associations","modifierGroups","modifiers","constraints","conditionGroups","conditions","repeats"],goodJsonArrayKeys=new Set(BaseChilds),goodJsonKeys=new Set([...goodJsonArrayKeys,"defaultAmount","id","import","importRootEntries","name","hidden","field","scope","value","percentValue","shared","includeChildSelections","includeChildForces","childId","type","targetId","primary","typeId","collective","$text","page","typeName","defaultSelectionEntryId","revision","battleScribeVersion","authorName","authorContact","authorUrl","library","gameSystemId","gameSystemRevision","xmlns","readme","description","alias","comment","publicationDate","publisher","publisherId","publisherUrl","shortName","repeats","roundUp","defaultCostLimit","publicationId","label","labelMembers","maxAssociationsPerMember","ids","min","max","of","flatten","collapsible","sortIndex","subType","arg","costTypeId","profileTypeId","characteristicTypeId","value"]);function rootToJson(Zn,Jn=!1){const Xn={catalogue:void 0,gameSystem:void 0},Qn={...Zn};Zn.gameSystemId?(Xn.catalogue=Qn,Xn.catalogue.type="catalogue",delete Xn.gameSystem):(Xn.gameSystem=Qn,Xn.gameSystem.type="gameSystem",delete Xn.catalogue);const er=Jn?getDataObject(Xn):Xn;return JSON.stringify(er,(nr,rr)=>{if(!(Array.isArray(rr)&&rr.length===0)&&(rr===Qn||goodJsonKeys.has(nr)||isFinite(Number(nr))))return isObject(rr)?splitExactlyConstraints(splitExactlyConstraintsModifiers(rr)):rr})}function entryToJson(Zn,Jn){return JSON.stringify(Zn,function(Qn,er){if(!(Array.isArray(er)&&er.length===0)&&(goodJsonKeys.has(Qn)||isFinite(Number(Qn))||Jn!=null&&Jn.has(Qn)))return er})}function entriesToJson(Zn,Jn,Xn){const Qn=(Xn==null?void 0:Xn.forceArray)===!1;return Zn=Array.isArray(Zn)&&(Zn==null?void 0:Zn.length)===1&&Qn?Zn[0]:Zn,JSON.stringify(Zn,function(tr,nr){if(goodJsonKeys.has(tr)||isFinite(Number(tr))||Jn!=null&&Jn.has(tr))return nr},(Xn==null?void 0:Xn.formatted)===!0?2:void 0)}function forEachObjectWhitelist2(Zn,Jn,Xn=goodKeys){for(const Qn in Zn)if(Xn.has(Qn)){const er=Zn[Qn];if(Array.isArray(er)&&er.length&&isObject(er[0]))for(let tr=0;tr<er.length;tr++){const nr=er[tr];Jn(nr,Zn),forEachObjectWhitelist2(nr,Jn,Xn)}}}class InfoIndex{constructor(){Zr(this,"index",{})}words(Jn){const Xn=`${Jn}`;return Xn.trim().match(/(\w+|\s|\W)/g)??[Xn]}clean(Jn){return Jn.match(/[a-z]/)?Jn.toLowerCase():Jn}add(Jn,Xn){typeof Jn!="string"||!Jn.match(/(?=.*[a-zA-Z].*[a-zA-Z])/)||this.addToIndex(this.index,Xn,this.words(Jn))}addToIndex(Jn,Xn,Qn,er=0){if(er<Qn.length){const tr=this.clean(Qn[er]);tr!==" "?(Jn[tr]||(Jn[tr]={}),this.addToIndex(Jn[tr],Xn,Qn,er+1)):this.addToIndex(Jn,Xn,Qn,er+1)}else Jn.$||(Jn.$=[]),Jn.$.push(Xn)}match(Jn){if(typeof Jn!="string"||!Jn.match(/(?=.*[a-zA-Z].*[a-zA-Z])/))return[{text:Jn}];const Xn=this.words(Jn),Qn=Xn.map(this.clean,this),er=[];let tr=[];for(let nr=0;nr<Qn.length;nr++){let rr=this.index,sr=0,ir;if(isMultilineCodeBlockStart(Qn,nr)){let or=findMultilineCodeBlockEnd(nr,Qn);or!==-1&&tr.push(Xn.slice(nr,or).join("")),nr=or-1;continue}else if(isCodeBlockStart(Qn,nr)){let or=findCodeBlockEnd(nr,Qn);or!==-1&&tr.push(Xn.slice(nr,or).join("")),nr=or-1;continue}if(Qn[nr]!==" ")for(let or=nr;or<Qn.length;or++){const ar=Qn[or];if(ar!==" ")if(rr=rr[ar],rr)rr.$&&(sr=1+(or-nr),ir=rr.$);else break}sr?(tr.length&&(er.push({text:tr.join("")}),tr=[]),er.push({match:ir,text:Xn.slice(nr,nr+sr).join("")}),nr+=sr-1):tr.push(Xn[nr])}return tr.length&&er.push({text:tr.join("")}),er}}function findMultilineCodeBlockEnd(Zn,Jn){let Xn=-1;for(let Qn=Zn+3;Qn<Jn.length;Qn++)Jn[Zn]==="`"&&Jn[Zn+1]==="`"&&Jn[Zn+2]==="`"&&(Xn=Qn+3);return Xn}function findCodeBlockEnd(Zn,Jn){let Xn=-1;for(let Qn=Zn+1;Qn<Jn.length;Qn++)(Jn[Zn]==="`"||Jn[Zn]==`
`)&&(Xn=Qn+1);return Xn}function isCodeBlockStart(Zn,Jn){return Zn[Jn]==="`"}function isMultilineCodeBlockStart(Zn,Jn){return Zn[Jn]==="`"&&Zn[Jn+1]==="`"&&Zn[Jn+2]==="`"}const validScopes=new Set(["force","roster","self","parent","ancestor","primary-category","force","roster","primary-catalogue"]),validChildIds=new Set(["any","unit","model","upgrade","mount","crew"]);function isScopeValid(Zn,Jn){if(validScopes.has(Jn))return!0;const Qn=Zn.catalogue.findOptionById(Jn);if(Qn&&(Qn.isForce()||Qn.isCategory()||Qn.isCatalogue()))return!0;const er=[Zn];for(;er.length;){const tr=er.pop();if(tr.id===Jn)return!0;tr.parent&&er.push(tr.parent)}return!1}function getModifierOrConditionParent(Zn){return findSelfOrParentWhere(Zn,Xn=>!(Xn instanceof Modifier||Xn instanceof Condition||Xn instanceof ModifierGroup))}function getModifiedField(Zn,Jn){if(!Zn||!Jn)return;const Xn=Zn.getCatalogue();if(Zn.parent){const er=getModifierOrConditionParent(Zn);if(er){for(const tr of er.constraintsIterator())if(tr.id===Jn)return tr}}return Xn==null?void 0:Xn.findOptionById(Jn)}function fieldToText(Zn,Jn){if(Jn===void 0)return"";if(Zn){if(`${Jn}`.startsWith("limit::"))return`limit::${fieldToText(Zn,removePrefix(`${Jn}`,"limit::"))}`;const Xn=Zn.catalogue||Zn,Qn=getModifiedField(Zn,Jn);if(Qn){const tr=Qn.type;if(tr&&["min","max","exactly"].includes(tr))return constraintToText(Zn,Qn);if(Qn.name)return Qn.isCategory&&Qn.isCategory()?`${Qn.name}`:Qn.url?`${Qn.name}`:Qn.name}const er=Xn.manager;if(er){const tr=Xn.manager.findOptionById(Jn)||er.getCatalogueInfo({targetId:Jn});return(tr==null?void 0:tr.name)||Jn}}return Jn}function conditionToString(Zn,Jn,Xn=!1,Qn=fieldToText){const er=Jn.type||"none",tr=Jn.value===void 0?1:Jn.percentValue?`${Jn.value}%`:Jn.value,nr=Qn(Zn,Jn.field),rr=["selections","forces"].includes(nr)?` ${nr}`:` ${Qn(Zn,nr)}`,sr=Qn(Zn,Jn.childId||"")+(Xn?`(${Jn.childId||"any"})`:""),ir=sr&&rr?"of ":"",or=Qn(Zn,Jn.scope),ar=or===(Zn==null?void 0:Zn.getName())?"":`${or}`,lr=Jn.includeChildSelections?" (recursive)":"",cr=ar?` in ${ar}${lr}`:"";switch(er){case"instanceOf":return`${ar} is ${sr}`;case"notInstanceOf":return`${ar} is not ${sr}`;case"atLeast":return`${tr}+${rr} ${ir}${sr}${cr}`;case"greaterThan":return`${Number(tr)+1}+${rr} ${ir}${sr}${cr}`;case"atMost":return`${tr}${tr===0?"":"-"}${rr} ${ir}${sr}${cr}`;case"lessThan":return`${Number(tr)-1}${Number(tr)-1===0?"":"-"}${rr} ${ir}${sr}${cr}`;case"equalTo":return`${tr}${rr} ${ir}${sr}${cr}`;case"notEqualTo":return`not ${tr}${rr} ${ir}${sr}${cr}`;case"none":return`${rr} ${ir}${sr}${cr}`;default:return`${er} ${tr}${rr} ${ir}${sr}${cr}`}}function constraintToText(Zn,Jn,Xn=fieldToText){if(!has(Zn.constraintsIterator(),Jn))return Jn.id;const Qn=Jn.field==="selections"?"":` ${Xn(Zn,Jn.field)}`,er=Jn.scope==="parent"?"":`(${Xn(Zn,Jn.scope)})`,tr=Jn.childId?` ${Xn(Zn,Jn.childId)}`:"";return`${Jn.type}${Qn}${tr}${er}`}function modifierToString(Zn,Jn,Xn=fieldToText){var Qn;return`${Jn.type} ${Xn(Zn,Jn.field)} ${Xn(Zn,(Qn=Jn.value)==null?void 0:Qn.toString())}`}typeof $toRaw>"u"&&(globalThis.$toRaw=function(Zn){return Zn});class CatalogueLink extends Base{constructor(){super(...arguments);Zr(this,"targetId");Zr(this,"importRootEntries")}isLink(){return!1}}class Publication extends Base{constructor(){super(...arguments);Zr(this,"shortName");Zr(this,"publisher");Zr(this,"publicationDate");Zr(this,"publisherUrl")}}class Catalogue extends Base{constructor(){super(...arguments);Zr(this,"library");Zr(this,"revision");Zr(this,"gameSystemId");Zr(this,"gameSystemRevision");Zr(this,"authorContact");Zr(this,"authorName");Zr(this,"authorUrl");Zr(this,"battleScribeVersion");Zr(this,"costTypes");Zr(this,"catalogueLinks");Zr(this,"gameSystem");Zr(this,"initialized");Zr(this,"loaded_wiki");Zr(this,"loaded_editor");Zr(this,"imports");Zr(this,"importsWithEntries");Zr(this,"index");Zr(this,"infoIndex");Zr(this,"unresolvedLinks",{});Zr(this,"forces");Zr(this,"categories");Zr(this,"units");Zr(this,"roster_constraints");Zr(this,"manager");Zr(this,"book");Zr(this,"short");Zr(this,"version");Zr(this,"nrversion");Zr(this,"lastUpdated");Zr(this,"costIndex");Zr(this,"fullFilePath");Zr(this,"errors")}reset(){delete this.initialized,delete this.loaded,delete this.loaded_editor,delete this.loaded_wiki;for(const Xn of this.imports||[])delete Xn.initialized,delete Xn.loaded,delete Xn.loaded_editor,delete Xn.loaded_wiki}init(Xn=!0){this.initialized||(this.initialized=!0,this.generateImports(Xn),this.resolveAllLinks(Xn),this.generateCostIndex(),this.indexInfo())}process(){if(this.loaded)return;this.loaded=!0,this.init();const Xn=this.generateUnits(),Qn=this.generateCategories(Xn);this.categories=Object.values(Qn),this.generateForces(Qn,this.forcesIterator()),this.generateExtraConstraints()}processForWiki(Xn){if(this.loaded_wiki)return;this.loaded_wiki=!0,this.process();const Qn=Xn.rules||{};Xn.rules=Qn,this.imports.forEach(tr=>{addObjUnique(tr,"refs",this)});function er(tr,nr){tr.parent=nr,tr.target&&addObjUnique(tr.target,"refs",nr),tr instanceof Rule&&(Qn[tr.id]=tr)}forEachObjectWhitelist2(this,er,goodKeysWiki);for(const tr of this.forces||[]){tr.parent=this;for(const nr of tr.categories)nr.parent=tr}}processForEditor(){this.loaded_editor||(this.loaded_editor=!0,this.init(!1),this.gameSystem&&addObjUnique(this.gameSystem,"refs",this),forEachObjectWhitelist2(this,(Xn,Qn)=>{if(Xn.parent=Qn,Xn.catalogue=this,Xn.refs||(Xn.refs=[]),Xn.other_refs||(Xn.other_refs=[]),Xn.target&&addObjUnique(Xn.target,"refs",Xn),Xn.isProfile()&&!Xn.isLink()){const tr=this.findOptionById(Xn.typeId);tr&&addObjUnique(tr,"refs",Xn)}const er=Xn.value;if(er){const tr=this.findOptionById(er);tr&&addObjUnique(tr,"other_refs",Xn)}this.refreshErrors(Xn)},goodJsonArrayKeys))}get url(){return"%{book}"}isCatalogue(){return!0}isGameSystem(){return this.gameSystemId===this.id||!this.gameSystemId}isIdUnique(){return!0}getCatalogue(){return this}getGameSystem(){return this.isGameSystem()?this:this.gameSystem}getSystemId(){return this.isGameSystem()?this.id:this.gameSystemId}addError(Xn,Qn){this.removeError(Xn,Qn.id),Xn.errors||(Xn.errors=[]),this.errors||(this.errors=[]),Xn.errors.push(Qn),this.errors.push(Qn)}onRemoveError(Xn,Qn=!0){var er,tr;if(this.errors){const nr=this.errors.indexOf(Xn);nr>=0&&this.errors.splice(nr,1)}if(Xn.other&&Qn){const nr=Xn.other;(er=nr.getCatalogue())==null||er.removeError(nr,"duplicate-id-1",!1),(tr=nr.getCatalogue())==null||tr.removeError(nr,"duplicate-id-2",!1)}}removeErrors(Xn){var Qn;(Qn=Xn.errors)==null||Qn.forEach(er=>this.onRemoveError(er)),Xn instanceof Constraint&&Xn.catalogue.updateConstraint(Xn,!0),delete Xn.errors}removeError(Xn,Qn,er=!0){var tr;(tr=Xn.errors)!=null&&tr.length&&(Xn.errors=Xn.errors.filter(nr=>(nr.id===Qn&&this.onRemoveError(nr,er),nr.id!==Qn)))}*iterateCategoryEntries(){for(const Xn of this.imports)for(const Qn of Xn.categoryEntries||[])yield Qn;this.categoryEntries&&(yield*this.categoryEntries)}*iterateCostTypes(){for(const Xn of this.imports)for(const Qn of Xn.costTypes||[])yield Qn;this.costTypes&&(yield*this.costTypes)}*forcesIterator(){for(const Xn of this.imports)for(const Qn of Xn.forceEntries||[])yield Qn;this.forceEntries&&(yield*this.forceEntries)}*forcesIteratorRecursive(){if(this.forces)for(const Xn of this.forces)yield Xn,yield*Xn.forcesIteratorRecursive()}*iterateProfileTypes(){for(const Xn of this.imports)Xn.profileTypes&&(yield*Xn.profileTypes);this.profileTypes&&(yield*this.profileTypes)}*iteratePublications(){for(const Xn of this.imports)for(const Qn of Xn.publications||[])yield Qn;for(const Xn of this.publications||[])yield Xn}*iterateSelectionEntries(){for(const Xn of this.importsWithEntries){for(const Qn of Xn.sharedSelectionEntries||[])yield Qn;for(const Qn of Xn.sharedSelectionEntryGroups||[])yield Qn}this.sharedSelectionEntries&&(yield*this.sharedSelectionEntries),this.sharedSelectionEntryGroups&&(yield*this.sharedSelectionEntryGroups)}*iterateAllImported(){const Xn=["sharedSelectionEntries","sharedSelectionEntryGroups","sharedProfiles","sharedRules","sharedInfoGroups","categoryEntries"],Qn=["rules","entryLinks","profiles","infoGroups","selectionEntries","selectionEntryGroups"];for(const er of this.importsWithEntries)for(const tr of Qn)for(const nr of er[tr]||[])nr.import!==!1&&(yield nr);for(const er of this.imports)for(const tr of Xn)for(const nr of er[tr]||[])yield nr;for(const er of Qn)for(const tr of this[er]||[])yield tr;for(const er of Xn)for(const tr of this[er]||[])yield tr}*iterateSelectionEntriesWithRoot(){for(const Xn of this.importsWithEntries){for(const Qn of Xn.selectionEntries||[])Qn.import!==!1&&(yield Qn);for(const Qn of Xn.entryLinks||[])Qn.import!==!1&&(yield Qn);for(const Qn of Xn.sharedSelectionEntries||[])yield Qn;for(const Qn of Xn.sharedSelectionEntryGroups||[])yield Qn}this.selectionEntries&&(yield*this.selectionEntries),this.entryLinks&&(yield*this.entryLinks),this.sharedSelectionEntries&&(yield*this.sharedSelectionEntries),this.sharedSelectionEntryGroups&&(yield*this.sharedSelectionEntryGroups)}*iterateAllRootEntries(){for(const Xn of this.importsWithEntries){for(const Qn of Xn.selectionEntries||[])Qn.import!==!1&&(yield Qn);for(const Qn of Xn.entryLinks||[])Qn.import!==!1&&(yield Qn)}this.selectionEntries&&(yield*this.selectionEntries),this.entryLinks&&(yield*this.entryLinks)}*entriesIterator(){this.sharedSelectionEntries&&(yield*this.sharedSelectionEntries),this.selectionEntries&&(yield*this.selectionEntries),this.sharedSelectionEntryGroups&&(yield*this.sharedSelectionEntryGroups),this.selectionEntryGroups&&(yield*this.selectionEntryGroups),this.entryLinks&&(yield*this.entryLinks)}forEachNode(Xn){if(Xn(this),this.childs)for(const Qn of this.childs)Qn.forEachNode(Xn)}*selectionsIterator(){yield*this.forces}findOptionById(Xn){var tr;const Qn=this.index[Xn];if(Qn)return Qn;const er=(tr=this.imports.find(nr=>Xn in nr.index))==null?void 0:tr.index[Xn];if(er)return er;if(this.manager&&Xn)return this.manager.getLoadedCatalogue(Xn)??this.manager.getCatalogueInfo({targetId:Xn})}findOptionByIdGlobal(Xn){var tr;const Qn=this.index[Xn];if(Qn)return Qn;const er=(tr=this.imports.find(nr=>Xn in nr.index))==null?void 0:tr.index[Xn];if(er)return er;if(this.manager){const nr=this.manager.findOptionById(Xn);return nr||this.manager.getCatalogueInfo({targetId:Xn})}}findOptionsById(Xn){const Qn=[];for(const er of[this,...this.imports])for(const tr of Object.values(er.index))tr.id&&tr.id===Xn&&Qn.push(tr);return Qn}findOptionsByText(Xn){var tr,nr,rr;if(!Xn||!Xn.trim()){const sr=[];for(const ir of[this,...this.imports])for(const or of Object.values(ir.index))if(or.getName){if(or.isLink()&&or.target&&or.isCategory()&&!((tr=or.parent)!=null&&tr.isForce()))continue;sr.push(or)}else console.log(or);return sr}const Qn=[],er=textSearchRegex(Xn);for(const sr of[this,...this.imports])for(const ir of Object.values(sr.index)){const or=(nr=ir.getName)==null?void 0:nr.call(ir),ar=ir.id;if(or&&String(or).match(er)||ar===Xn){if(ir.isLink()&&ir.target&&ir.isCategory()&&!((rr=ir.parent)!=null&&rr.isForce()))continue;Qn.push(ir)}}return Qn}generateNonConflictingId(Xn){if(Xn&&this.findOptionByIdGlobal(Xn)===void 0)return Xn;for(;;){const Qn=generateBattlescribeId();if(this.findOptionById(Qn)===void 0)return Qn}}generateCostIndex(){const Xn={};for(const Qn of this.imports)for(const er of Qn.costTypes||[])Xn[er.id]=er,this.index[er.id]=er;for(const Qn of this.costTypes||[])Xn[Qn.id]=Qn,this.index[Qn.id]=Qn;return this.costIndex=Xn,Xn}getSystem(){return this.gameSystem??this}indexInfo(){const Xn=this.gameSystem??this;Xn===this&&(Xn.infoIndex=new InfoIndex);const Qn=Xn.infoIndex;if(!Qn)throw new Error("Couldn't index info: system isn't initialized");performance.now(),this.forEachObjectWhitelist((er,tr)=>{if(!er.isLink()&&(er.isProfile()||er.isRule())&&(Qn.add(er.getName(),er),er.alias))for(const nr of er.alias){const rr=clone(er);rr.name=nr,Qn.add(nr,rr)}})}generateImports(Xn=!0){const Qn={},er={};this.gameSystem&&(this.gameSystem.init(Xn),Qn[this.gameSystem.id]=this.gameSystem,er[this.gameSystem.id]=this.gameSystem,this.gameSystem.import||(this.gameSystem.imports=[]));for(const tr of this.catalogueLinks||[]){const nr=tr.target;if(nr){nr.init(Xn);for(const rr of nr.imports)er[rr.id]=rr;for(const rr of nr.importsWithEntries)Qn[rr.id]=rr;tr.importRootEntries&&(Qn[nr.id]=nr),er[nr.id]=nr}}return this.imports=Object.values(er),this.importsWithEntries=Object.values(Qn),this.imports}generateForces(Xn,Qn,er){var nr,rr;er||(er=this);const tr=[];for(const sr of Qn){const ir=clone(sr);ir.main_catalogue=this;const or=[];(rr=(nr=Xn[UNCATEGORIZED_ID])==null?void 0:nr.units)!=null&&rr.length&&or.push(Xn[UNCATEGORIZED_ID]);const ar=new Set;for(const cr of sr.categoryLinks||[])if(cr.targetId in Xn){const pr=clone(cr);pr.main_catalogue=this;const ur=Xn[pr.targetId];pr.target=ur,pr.childs=ur.childs;for(const gr of pr.childs)ar.add(gr.id);or.push(pr)}for(const cr of sr.categoryEntries||[])if(cr.id in Xn){const pr=Xn[cr.id],ur=clone(pr);ur.main_catalogue=this;for(const gr of ur.childs)ar.add(gr.id);or.push(ur)}const lr=this.units.filter(cr=>!ar.has(cr.id));if(lr.length){const cr=clone(Xn[ILLEGAL_ID]);cr.childs=lr,cr.units=lr,or.push(cr)}ir.childs=or,ir.categories=or,this.index[ir.id]=ir,ir.forceEntries&&ir.generateForces(Xn),this.generateForces(Xn,ir.forcesIterator(),ir),tr.push(ir)}return er.forces=tr,er.childs=tr,tr}generateCategories(Xn){const Qn={},er=new Set;for(const sr of this.iterateCategoryEntries()){const ir=clone(sr);ir.main_catalogue=this;const or=Xn[ir.id]||[];ir.units=or,ir.childs=or,this.index[sr.id]=sr,Qn[ir.id]=ir,er.add(ir.id)}for(const sr in Xn)if(!er.has(sr)){const ir=this.findOptionById(sr);if(ir){const or=clone(ir);or.main_catalogue=this;const ar=Xn[or.id]||[];or.units=ar,or.childs=ar,this.index[ir.id]=ir,Qn[or.id]=or}}const tr=Xn[UNCATEGORIZED_ID]||[],nr={name:"Uncategorized",id:UNCATEGORIZED_ID,hidden:!1,units:tr,childs:tr,catalogue:this};Qn[UNCATEGORIZED_ID]=Object.setPrototypeOf(nr,Category.prototype);const rr={name:"Illegal Units",id:ILLEGAL_ID,hidden:!0,units:[],childs:[],catalogue:this};return Qn[ILLEGAL_ID]=Object.setPrototypeOf(rr,Category.prototype),Qn}generateUnits(){const Xn=[];for(const tr of this.importsWithEntries){const nr=tr.isGameSystem();for(const rr of tr.selectionEntries||[])(nr||rr.import!==!1)&&Xn.push(rr);for(const rr of tr.entryLinks||[])(nr||rr.import!==!1)&&Xn.push(rr)}for(const tr of this.selectionEntries||[])Xn.push(tr);for(const tr of this.entryLinks||[])Xn.push(tr);const Qn=sortBy(Xn,tr=>tr.getName());return this.units=Qn,groupBy(Qn,tr=>tr.getPrimaryCategory())}generateExtraConstraints(){const Xn={},Qn=[],er={},tr=new Set,nr={};function rr(sr,ir,or){const ar=ir.target||ir;for(const lr of or){const cr=`${lr.id}::${ir.id}`;switch(lr.scope){case"parent":break;case"roster":Xn[cr]=ir.getBoundConstraint(lr);break;case"force":Qn.push(ir.getBoundConstraint(lr));break;case"primary-category":case"primary-catalogue":break;default:if(tr.has(lr.scope)){addObj(er,lr.scope,ar.getBoundConstraint(lr));break}const pr=sr.index[lr.scope];if(pr){const ur=pr.extra_constraints||[];ur.push(ir.getBoundConstraint(lr)),pr.extra_constraints=ur;break}break}}}for(const sr of this.forcesIteratorRecursive())tr.add(sr.id);for(const sr of this.categories)tr.add(sr.id);for(const sr of this.categories){rr(this,sr,sr.constraintsIterator());const ir={};sr.forEachNodeCb(or=>{var ar;if(or&&!or.isForce()&&(!or.isGroup()&&!or.extra_constraints&&(or.extra_constraints=or.getChildBoundConstraints(!0)),!(or.isCategory()&&or.isLink())&&!(!or.constraints&&!((ar=or.target)!=null&&ar.constraints)))){for(const lr of or.constraintsIterator())if(lr.type==="min"||lr.type==="exactly"){const cr=`${lr.id}::${or.id}`;switch(lr.scope){case"parent":break;case"roster":Xn[cr]=or.getBoundConstraint(lr);break;case"force":ir[cr]=or.getBoundConstraint(lr);break;case"primary-category":case"primary-catalogue":break;default:if(tr.has(lr.scope)){addObj(er,lr.scope,or.getBoundConstraint(lr));break}const pr=this.index[lr.scope];if(pr){const ur=pr.extra_constraints||[];ur.push(or.getBoundConstraint(lr)),pr.extra_constraints=ur;break}break}}}}),nr[sr.getId()]=Object.values(ir)}for(const sr of this.forcesIteratorRecursive()){const ir=sr.extra_constraints||[];ir.push(...Qn),sr.id in er&&ir.push(...er[sr.id]),ir.length&&(sr.extra_constraints=ir);for(const or of sr.categories)or.getId()in nr&&ir.push(...nr[or.getId()]);ir.length&&(sr.extra_constraints=ir)}for(const sr of this.categories){const ir=sr.extra_constraints||[];sr.id in er&&ir.push(...er[sr.id]),ir.length&&(sr.extra_constraints=ir)}this.roster_constraints=Object.values(Xn)}async reload(Xn=this.manager){delete this.initialized,delete this.loaded,delete this.loaded_editor,delete this.index;const Qn=this.isGameSystem()?"gameSystem":"catalogue",er=await Xn.loadData({[Qn]:this});return this.processForEditor(),er}refreshErrors(Xn,Qn=!1){var er,tr;Xn.isLink()?Xn.target?(this.removeError(Xn,"no-target"),popObj(this.unresolvedLinks,Xn.targetId,$toRaw(Xn)),popObj(this.manager.unresolvedLinks,Xn.targetId,$toRaw(Xn))):(this.addError(Xn,{source:Xn,severity:"error",msg:`(${Xn.editorTypeName}) ${Xn.name} has no target`,id:"no-target"}),!((er=this.unresolvedLinks[Xn.targetId])!=null&&er.includes($toRaw(Xn)))&&!Qn&&addObj(this.unresolvedLinks,Xn.targetId,$toRaw(Xn)),(tr=this.manager.unresolvedLinks[Xn.targetId])!=null&&tr.includes($toRaw(Xn))||addObj(this.manager.unresolvedLinks,Xn.targetId,$toRaw(Xn))):Xn.isProfile()?Xn.typeId?this.removeError(Xn,"no-profile-type"):this.addError(Xn,{source:Xn,severity:"error",msg:"Profile has no type",id:"no-profile-type"}):Xn instanceof Condition&&this.updateCondition(Xn)}addToIndex(Xn){var Qn,er,tr,nr,rr,sr;if(Xn.id){if(Xn.catalogue=this,(er=(Qn=this.manager)==null?void 0:Qn.settings)!=null&&er.globalDuplicateIdError){const ir=this.manager.index;if(ir[Xn.id]&&ir[Xn.id]!==Xn&&(Xn.isIdUnique()||ir[Xn.id].isIdUnique())){const or=ir[Xn.id],ar=or.getCatalogue(),lr=this!==ar;ar&&lr&&(ar.addError(or,{source:or,severity:"error",msg:`Duplicate id ${Xn.id} ${Xn.getName()}`,id:"duplicate-id-1",other:Xn,extra:ar.name}),ar.addError(Xn,{source:Xn,severity:"error",msg:`Duplicate id ${Xn.id} ${or.getName()}`,id:"duplicate-id-2",other:or,extra:this.name})),this.addError(or,{source:or,severity:"error",msg:`Duplicate id ${Xn.id}  ${Xn.getName()}`,id:"duplicate-id-1",other:Xn,extra:lr?ar.name:void 0}),this.addError(Xn,{source:Xn,severity:"error",msg:`Duplicate id ${Xn.id} ${or.getName()}`,id:"duplicate-id-2",other:or,extra:lr?this.name:void 0})}ir[Xn.id]=Xn}else if(this.index[Xn.id]&&this.index[Xn.id]!==Xn){const ir=this.index[Xn.id];(Xn.isIdUnique()||ir.isIdUnique()||Xn.getName()!==ir.getName())&&(this.addError(ir,{source:ir,severity:"error",msg:`Duplicate id ${Xn.id} ${Xn.getName()}`,id:"duplicate-id-1",other:Xn}),this.addError(Xn,{source:Xn,severity:"error",msg:`Duplicate id ${Xn.id} ${ir.getName()}`,id:"duplicate-id-2",other:ir}))}if(this.index[Xn.id]=Xn,this.unresolvedLinks&&this.unresolvedLinks[Xn.id])for(const ir of[...this.unresolvedLinks[Xn.id]])ir.isLink()&&ir.catalogue?this.updateLink(ir):this.refreshErrors(ir);if((tr=this.manager)!=null&&tr.unresolvedLinks&&((nr=this.manager.unresolvedLinks[Xn.id])!=null&&nr.length))for(const ir of[...this.manager.unresolvedLinks[Xn.id]])ir.isLink()?(rr=ir.catalogue)==null||rr.updateLink(ir):(sr=ir.catalogue)==null||sr.refreshErrors(ir)}}removeFromIndex(Xn){Xn.id&&$toRaw(this.index[Xn.id])===$toRaw(Xn)&&delete this.index[Xn.id],this.removeErrors(Xn);for(const Qn of Xn.refs||[])delete Qn.target,Qn.catalogue.refreshErrors(Qn);for(const Qn of Xn.other_refs||[])Qn.catalogue.refreshErrors(Qn,!0)}getIndexes(){const Xn=[];Xn.push(this.index);for(const Qn of this.imports)Xn.push(Qn.index);return Xn}resolveAllLinks(Xn=!0){const Qn=[],er=[],tr=[];this.index=noObserve$1(),forEachObjectWhitelist2(this,(sr,ir)=>{this.addToIndex(sr),sr.publicationId&&(delete sr.publication,er.push(sr)),sr.isLink()&&(delete sr.target,Qn.push(sr),tr.push(ir)),hasSharedChildId(sr)},goodKeys);const nr=this.getIndexes(),rr=resolveLinks(Qn,nr,tr,Xn);if(resolvePublications(er,nr),!Xn){this.unresolvedLinks={};for(const sr of rr)addObj(this.unresolvedLinks,sr.targetId,$toRaw(sr)),delete sr.target}}removeRef(Xn,Qn){Qn.refs||(Qn.refs=[]);const er=Qn.refs.indexOf(Xn);er>=0&&Qn.refs.splice(er,1)}addRef(Xn,Qn){Qn.refs||(Qn.refs=[]),Qn.refs.indexOf(Xn)===-1&&Qn.refs.push(Xn)}hasOtherRef(Xn,Qn){return Qn.other_refs&&Qn.other_refs.includes(Xn)}removeOtherRef(Xn,Qn){Qn.other_refs||(Qn.other_refs=[]);const er=Qn.other_refs.indexOf(Xn);er>=0&&Qn.other_refs.splice(er,1)}addOtherRef(Xn,Qn){Qn.other_refs||(Qn.other_refs=[]),Qn.other_refs.indexOf(Xn)===-1&&Qn.other_refs.push(Xn)}updateLink(Xn){Xn.target&&this.removeRef(Xn,Xn.target);const Qn=resolveLink(Xn.targetId,this.getIndexes());if(Qn!=null&&Qn.isLink()){console.warn(`Failed to resolve link (target is a link): ${Xn.getName()}(${Xn.id})`),Xn.catalogue.addError(Xn,{id:"bad-link-target",msg:"Link target Cannot be a Link",source:Xn});return}else{if(Xn.catalogue.removeError(Xn,"bad-link-target"),Xn.target=Qn,Xn.target){Xn.name=Qn.name,this.addRef(Xn,Xn.target);const er=Xn.target.editorTypeName;er=="category"?delete Xn.type:Xn.type=er}return this.refreshErrors(Xn),Xn.target!==void 0}}updateConstraint(Xn,Qn=!1){var nr,rr,sr,ir;const er=new Set,tr=new Set;for(const or of((nr=Xn.parent)==null?void 0:nr.constraintsIterator())||[])Qn&&Xn===or||(er.has(or.id)?tr.add(or.id):er.add(or.id));for(const or of((rr=Xn.parent)==null?void 0:rr.constraintsIterator())||[])Qn&&Xn===or||(tr.has(or.id)?(sr=or.catalogue)==null||sr.addError(or,{id:"duplicate-constraint-id",msg:"Duplicate constraints id",source:Xn}):(ir=or.catalogue)==null||ir.removeError(or,"duplicate-constraint-id"))}updateCondition(Xn,Qn){if(Xn.scope){const tr=getModifierOrConditionParent(Xn);if(tr&&!isScopeValid(tr,Xn.scope)?this.addError(Xn,{source:Xn,id:"invalid-scope",msg:`Invalid scope ${Xn.scope}`}):this.removeError(Xn,"invalid-scope"),Xn.scope&&!validScopes.has(Xn.scope)){const nr=this.findOptionById(Xn.scope);nr&&nr.getCatalogue().addOtherRef(Xn,nr)}}if(Xn instanceof Constraint)return this.updateConstraint(Xn);const er=["instanceOf","notInstanceOf"].includes(Xn.type);if(Qn&&!basicQueryFields.has(Qn)){const tr=er?this.findOptionByIdGlobal(Qn):this.findOptionById(Qn);tr&&this.removeOtherRef(Xn,tr)}if(Xn.childId){if(basicQueryFields.has(Xn.childId)){this.removeError(Xn,"id-not-exist");return}const tr=er?this.findOptionByIdGlobal(Xn.childId):this.findOptionById(Xn.childId);if(tr){this.hasOtherRef(Xn,tr)||this.addOtherRef(Xn,tr),this.removeError(Xn,"id-not-exist"),popObj(this.manager.unresolvedLinks,Xn.childId,$toRaw(Xn));return}}this.addError(Xn,{source:Xn,severity:"warning",msg:"child id does not exist",id:"id-not-exist"}),addObjIfMissing(this.manager.unresolvedLinks,Xn.childId,$toRaw(Xn))}unlinkLink(Xn){Xn.target&&this.removeRef(Xn,Xn.target)}}function resolveLink(Zn,Jn){for(const Xn of Jn)if(Zn in Xn)return Xn[Zn]}function resolveLinks(Zn=[],Jn,Xn,Qn=!0){Zn.length;let er=0;for(;Zn.length!==er;){const tr=Zn,nr=Xn;er=tr.length,Zn=[],Xn=[];for(let rr=0;rr<tr.length;rr++){const sr=tr[rr],ir=nr[rr],or=sr.targetId,ar=resolveLink(or,Jn);if(ar){ar.isLink()?console.warn(`Failed to resolve link (target is a link): ${sr.getName()}(${sr.id})`):sr.target=ar;continue}Zn.push(sr),Xn.push(ir)}}if(Zn.length&&Qn)for(let tr=0;tr<Zn.length;tr++){const nr=Zn[tr],rr=Xn[tr];for(const[sr,ir]of Object.entries(rr))if(ir===nr&&delete rr[sr],Array.isArray(ir))for(const or in ir)ir[or]===nr&&ir.splice(or,1)}return Zn}function resolvePublications(Zn=[],Jn){for(const Xn of Zn)for(const Qn of Jn)if(Xn.publicationId in Qn){Xn.publication=Qn[Xn.publicationId];break}}function hasSharedChildId(Zn){return Zn.shared!==!1&&Zn.childId!==void 0}let NoObserve$1=class{get[Symbol.toStringTag](){return"ObjectNoObserve"}};function noObserve$1(){return new NoObserve$1}function readBlobAsArrayBuffer(Zn){return Zn.arrayBuffer?Zn.arrayBuffer():new Promise((Jn,Xn)=>{const Qn=new FileReader;Qn.addEventListener("loadend",()=>{Jn(Qn.result)}),Qn.addEventListener("error",Xn),Qn.readAsArrayBuffer(Zn)})}async function readBlobAsUint8Array(Zn){const Jn=await readBlobAsArrayBuffer(Zn);return new Uint8Array(Jn)}function isBlob(Zn){return typeof Blob<"u"&&Zn instanceof Blob}function isSharedArrayBuffer(Zn){return typeof SharedArrayBuffer<"u"&&Zn instanceof SharedArrayBuffer}const isNode=typeof process<"u"&&process.versions&&typeof process.versions.node<"u"&&typeof process.versions.electron>"u";function isTypedArraySameAsArrayBuffer(Zn){return Zn.byteOffset===0&&Zn.byteLength===Zn.buffer.byteLength}class ArrayBufferReader{constructor(Jn){this.typedArray=Jn instanceof ArrayBuffer||isSharedArrayBuffer(Jn)?new Uint8Array(Jn):new Uint8Array(Jn.buffer,Jn.byteOffset,Jn.byteLength)}async getLength(){return this.typedArray.byteLength}async read(Jn,Xn){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+Jn,Xn)}}class BlobReader{constructor(Jn){this.blob=Jn}async getLength(){return this.blob.size}async read(Jn,Xn){const Qn=this.blob.slice(Jn,Jn+Xn),er=await readBlobAsArrayBuffer(Qn);return new Uint8Array(er)}async sliceAsBlob(Jn,Xn,Qn=""){return this.blob.slice(Jn,Jn+Xn,Qn)}}function inflate(Zn,Jn){var Xn=Uint8Array;if(Zn[0]==3&&Zn[1]==0)return Jn||new Xn(0);var Qn=_bitsF,er=_bitsE,tr=_decodeTiny,nr=_get17,rr=Jn==null;rr&&(Jn=new Xn(Zn.length>>>2<<3));for(var sr=0,ir=0,or=0,ar=0,lr=0,cr=0,pr=0,ur=0,gr=0,dr,fr;sr==0;){if(sr=Qn(Zn,gr,1),ir=Qn(Zn,gr+1,2),gr+=3,ir==0){gr&7&&(gr+=8-(gr&7));var yr=(gr>>>3)+4,_r=Zn[yr-4]|Zn[yr-3]<<8;rr&&(Jn=_check(Jn,ur+_r)),Jn.set(new Xn(Zn.buffer,Zn.byteOffset+yr,_r),ur),gr=yr+_r<<3,ur+=_r;continue}if(rr&&(Jn=_check(Jn,ur+(1<<17))),ir==1&&(dr=U$1.flmap,fr=U$1.fdmap,cr=512-1,pr=32-1),ir==2){or=er(Zn,gr,5)+257,ar=er(Zn,gr+5,5)+1,lr=er(Zn,gr+10,4)+4,gr+=14;for(var vr=0;vr<38;vr+=2)U$1.itree[vr]=0,U$1.itree[vr+1]=0;for(var Er=1,vr=0;vr<lr;vr++){var kr=er(Zn,gr+vr*3,3);U$1.itree[(U$1.ordr[vr]<<1)+1]=kr,kr>Er&&(Er=kr)}gr+=3*lr,makeCodes(U$1.itree,Er),codes2map(U$1.itree,Er,U$1.imap),dr=U$1.lmap,fr=U$1.dmap,gr=tr(U$1.imap,(1<<Er)-1,or+ar,Zn,gr,U$1.ttree);var xr=_copyOut(U$1.ttree,0,or,U$1.ltree);cr=(1<<xr)-1;var Cr=_copyOut(U$1.ttree,or,ar,U$1.dtree);pr=(1<<Cr)-1,makeCodes(U$1.ltree,xr),codes2map(U$1.ltree,xr,dr),makeCodes(U$1.dtree,Cr),codes2map(U$1.dtree,Cr,fr)}for(;;){var Lr=dr[nr(Zn,gr)&cr];gr+=Lr&15;var Vr=Lr>>>4;if(!(Vr>>>8))Jn[ur++]=Vr;else{if(Vr==256)break;var wr=ur+Vr-254;if(Vr>264){var $r=U$1.ldef[Vr-257];wr=ur+($r>>>3)+er(Zn,gr,$r&7),gr+=$r&7}var mr=fr[nr(Zn,gr)&pr];gr+=mr&15;var jr=mr>>>4,Qr=U$1.ddef[jr],Hr=(Qr>>>4)+Qn(Zn,gr,Qr&15);for(gr+=Qr&15,rr&&(Jn=_check(Jn,ur+(1<<17)));ur<wr;)Jn[ur]=Jn[ur++-Hr],Jn[ur]=Jn[ur++-Hr],Jn[ur]=Jn[ur++-Hr],Jn[ur]=Jn[ur++-Hr];ur=wr}}}return Jn.length==ur?Jn:Jn.slice(0,ur)}function _check(Zn,Jn){var Xn=Zn.length;if(Jn<=Xn)return Zn;var Qn=new Uint8Array(Math.max(Xn<<1,Jn));return Qn.set(Zn,0),Qn}function _decodeTiny(Zn,Jn,Xn,Qn,er,tr){for(var nr=_bitsE,rr=_get17,sr=0;sr<Xn;){var ir=Zn[rr(Qn,er)&Jn];er+=ir&15;var or=ir>>>4;if(or<=15)tr[sr]=or,sr++;else{var ar=0,lr=0;or==16?(lr=3+nr(Qn,er,2),er+=2,ar=tr[sr-1]):or==17?(lr=3+nr(Qn,er,3),er+=3):or==18&&(lr=11+nr(Qn,er,7),er+=7);for(var cr=sr+lr;sr<cr;)tr[sr]=ar,sr++}}return er}function _copyOut(Zn,Jn,Xn,Qn){for(var er=0,tr=0,nr=Qn.length>>>1;tr<Xn;){var rr=Zn[tr+Jn];Qn[tr<<1]=0,Qn[(tr<<1)+1]=rr,rr>er&&(er=rr),tr++}for(;tr<nr;)Qn[tr<<1]=0,Qn[(tr<<1)+1]=0,tr++;return er}function makeCodes(Zn,Jn){for(var Xn=Zn.length,Qn,er,tr,nr,rr,sr=U$1.bl_count,nr=0;nr<=Jn;nr++)sr[nr]=0;for(nr=1;nr<Xn;nr+=2)sr[Zn[nr]]++;var ir=U$1.next_code;for(Qn=0,sr[0]=0,er=1;er<=Jn;er++)Qn=Qn+sr[er-1]<<1,ir[er]=Qn;for(tr=0;tr<Xn;tr+=2)rr=Zn[tr+1],rr!=0&&(Zn[tr]=ir[rr],ir[rr]++)}function codes2map(Zn,Jn,Xn){for(var Qn=Zn.length,er=U$1.rev15,tr=0;tr<Qn;tr+=2)if(Zn[tr+1]!=0)for(var nr=tr>>1,rr=Zn[tr+1],sr=nr<<4|rr,ir=Jn-rr,or=Zn[tr]<<ir,ar=or+(1<<ir);or!=ar;){var lr=er[or]>>>15-Jn;Xn[lr]=sr,or++}}function revCodes(Zn,Jn){for(var Xn=U$1.rev15,Qn=15-Jn,er=0;er<Zn.length;er+=2){var tr=Zn[er]<<Jn-Zn[er+1];Zn[er]=Xn[tr]>>>Qn}}function _bitsE(Zn,Jn,Xn){return(Zn[Jn>>>3]|Zn[(Jn>>>3)+1]<<8)>>>(Jn&7)&(1<<Xn)-1}function _bitsF(Zn,Jn,Xn){return(Zn[Jn>>>3]|Zn[(Jn>>>3)+1]<<8|Zn[(Jn>>>3)+2]<<16)>>>(Jn&7)&(1<<Xn)-1}function _get17(Zn,Jn){return(Zn[Jn>>>3]|Zn[(Jn>>>3)+1]<<8|Zn[(Jn>>>3)+2]<<16)>>>(Jn&7)}const U$1=function(){var Zn=Uint16Array,Jn=Uint32Array;return{next_code:new Zn(16),bl_count:new Zn(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new Zn(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new Jn(32),flmap:new Zn(512),fltree:[],fdmap:new Zn(32),fdtree:[],lmap:new Zn(32768),ltree:[],ttree:[],dmap:new Zn(32768),dtree:[],imap:new Zn(512),itree:[],rev15:new Zn(32768),lhst:new Jn(286),dhst:new Jn(30),ihst:new Jn(19),lits:new Jn(15e3),strt:new Zn(65536),prev:new Zn(32768)}}();(function(){for(var Zn=32768,Jn=0;Jn<Zn;Jn++){var Xn=Jn;Xn=(Xn&2863311530)>>>1|(Xn&1431655765)<<1,Xn=(Xn&3435973836)>>>2|(Xn&858993459)<<2,Xn=(Xn&4042322160)>>>4|(Xn&252645135)<<4,Xn=(Xn&4278255360)>>>8|(Xn&16711935)<<8,U$1.rev15[Jn]=(Xn>>>16|Xn<<16)>>>17}function Qn(er,tr,nr){for(;tr--!=0;)er.push(0,nr)}for(var Jn=0;Jn<32;Jn++)U$1.ldef[Jn]=U$1.of0[Jn]<<3|U$1.exb[Jn],U$1.ddef[Jn]=U$1.df0[Jn]<<4|U$1.dxb[Jn];Qn(U$1.fltree,144,8),Qn(U$1.fltree,255-143,9),Qn(U$1.fltree,279-255,7),Qn(U$1.fltree,287-279,8),makeCodes(U$1.fltree,9),codes2map(U$1.fltree,9,U$1.flmap),revCodes(U$1.fltree,9),Qn(U$1.fdtree,32,5),makeCodes(U$1.fdtree,5),codes2map(U$1.fdtree,5,U$1.fdmap),revCodes(U$1.fdtree,5),Qn(U$1.itree,19,0),Qn(U$1.ltree,286,0),Qn(U$1.dtree,30,0),Qn(U$1.ttree,320,0)})();const crc={table:function(){for(var Zn=new Uint32Array(256),Jn=0;Jn<256;Jn++){for(var Xn=Jn,Qn=0;Qn<8;Qn++)Xn&1?Xn=3988292384^Xn>>>1:Xn=Xn>>>1;Zn[Jn]=Xn}return Zn}(),update:function(Zn,Jn,Xn,Qn){for(var er=0;er<Qn;er++)Zn=crc.table[(Zn^Jn[Xn+er])&255]^Zn>>>8;return Zn},crc:function(Zn,Jn,Xn){return crc.update(4294967295,Zn,Jn,Xn)^4294967295}};function inflateRaw(Zn,Jn){return inflate(Zn,Jn)}const config={numWorkers:1,workerURL:"",useWorkers:!1};let nextId=0;const waitingForWorkerQueue=[];function startWorker(Zn){return new Promise((Jn,Xn)=>{const Qn=new Worker(Zn);Qn.onmessage=er=>{er.data==="start"?(Qn.onerror=void 0,Qn.onmessage=void 0,Jn(Qn)):Xn(new Error(`unexpected message: ${er.data}`))},Qn.onerror=Xn})}function dynamicRequire(Zn,Jn){return Zn.require?Zn.require(Jn):{}}(function(){if(isNode){const{Worker:Zn}=dynamicRequire(module,"worker_threads");return{async createWorker(Jn){return new Zn(Jn)},addEventListener(Jn,Xn){Jn.on("message",Qn=>{Xn({target:Jn,data:Qn})})},async terminate(Jn){await Jn.terminate()}}}else return{async createWorker(Zn){try{return await startWorker(Zn)}catch{console.warn("could not load worker:",Zn)}let Jn;try{const Xn=await fetch(Zn,{mode:"cors"});if(!Xn.ok)throw new Error(`could not load: ${Zn}`);Jn=await Xn.text(),Zn=URL.createObjectURL(new Blob([Jn],{type:"application/javascript"}));const Qn=await startWorker(Zn);return config.workerURL=Zn,Qn}catch{console.warn("could not load worker via fetch:",Zn)}if(Jn!==void 0)try{Zn=`data:application/javascript;base64,${btoa(Jn)}`;const Xn=await startWorker(Zn);return config.workerURL=Zn,Xn}catch{console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")},addEventListener(Zn,Jn){Zn.addEventListener("message",Jn)},async terminate(Zn){Zn.terminate()}}})();function inflateRawLocal(Zn,Jn,Xn,Qn){const er=new Uint8Array(Jn);inflateRaw(Zn,er),Qn(Xn?new Blob([er],{type:Xn}):er.buffer)}async function processWaitingForWorkerQueue(){if(waitingForWorkerQueue.length!==0)for(;waitingForWorkerQueue.length;){const{src:Zn,uncompressedSize:Jn,type:Xn,resolve:Qn}=waitingForWorkerQueue.shift();let er=Zn;isBlob(Zn)&&(er=await readBlobAsUint8Array(Zn)),inflateRawLocal(er,Jn,Xn,Qn)}}function inflateRawAsync(Zn,Jn,Xn){return new Promise((Qn,er)=>{waitingForWorkerQueue.push({src:Zn,uncompressedSize:Jn,type:Xn,resolve:Qn,reject:er,id:nextId++}),processWaitingForWorkerQueue()})}function dosDateTimeToDate(Zn,Jn){const Xn=Zn&31,Qn=(Zn>>5&15)-1,er=(Zn>>9&127)+1980,tr=0,nr=(Jn&31)*2,rr=Jn>>5&63,sr=Jn>>11&31;return new Date(er,Qn,Xn,sr,rr,nr,tr)}class ZipEntry{constructor(Jn,Xn){this._reader=Jn,this._rawEntry=Xn,this.name=Xn.name,this.nameBytes=Xn.nameBytes,this.size=Xn.uncompressedSize,this.compressedSize=Xn.compressedSize,this.comment=Xn.comment,this.commentBytes=Xn.commentBytes,this.compressionMethod=Xn.compressionMethod,this.lastModDate=dosDateTimeToDate(Xn.lastModFileDate,Xn.lastModFileTime),this.isDirectory=Xn.uncompressedSize===0&&Xn.name.endsWith("/"),this.encrypted=!!(Xn.generalPurposeBitFlag&1),this.externalFileAttributes=Xn.externalFileAttributes,this.versionMadeBy=Xn.versionMadeBy}async blob(Jn="application/octet-stream"){return await readEntryDataAsBlob(this._reader,this._rawEntry,Jn)}async arrayBuffer(){return await readEntryDataAsArrayBuffer(this._reader,this._rawEntry)}async text(){const Jn=await this.arrayBuffer();return decodeBuffer(new Uint8Array(Jn))}async json(){const Jn=await this.text();return JSON.parse(Jn)}}const EOCDR_WITHOUT_COMMENT_SIZE=22,MAX_COMMENT_SIZE=65535,EOCDR_SIGNATURE=101010256,ZIP64_EOCDR_SIGNATURE=101075792;async function readAs(Zn,Jn,Xn){return await Zn.read(Jn,Xn)}async function readAsBlobOrTypedArray(Zn,Jn,Xn,Qn){return Zn.sliceAsBlob?await Zn.sliceAsBlob(Jn,Xn,Qn):await Zn.read(Jn,Xn)}const crc$1={unsigned(){return 0}};function getUint16LE(Zn,Jn){return Zn[Jn]+Zn[Jn+1]*256}function getUint32LE(Zn,Jn){return Zn[Jn]+Zn[Jn+1]*256+Zn[Jn+2]*65536+Zn[Jn+3]*16777216}function getUint64LE(Zn,Jn){return getUint32LE(Zn,Jn)+getUint32LE(Zn,Jn+4)*4294967296}const utf8Decoder=new TextDecoder;function decodeBuffer(Zn,Jn){return isSharedArrayBuffer(Zn.buffer)&&(Zn=new Uint8Array(Zn)),utf8Decoder.decode(Zn)}async function findEndOfCentralDirector(Zn,Jn){const Xn=Math.min(EOCDR_WITHOUT_COMMENT_SIZE+MAX_COMMENT_SIZE,Jn),Qn=Jn-Xn,er=await readAs(Zn,Qn,Xn);for(let tr=Xn-EOCDR_WITHOUT_COMMENT_SIZE;tr>=0;--tr){if(getUint32LE(er,tr)!==EOCDR_SIGNATURE)continue;const nr=new Uint8Array(er.buffer,er.byteOffset+tr,er.byteLength-tr),rr=getUint16LE(nr,4);if(rr!==0)throw new Error(`multi-volume zip files are not supported. This is volume: ${rr}`);const sr=getUint16LE(nr,10),ir=getUint32LE(nr,12),or=getUint32LE(nr,16),ar=getUint16LE(nr,20),lr=nr.length-EOCDR_WITHOUT_COMMENT_SIZE;if(ar!==lr)throw new Error(`invalid comment length. expected: ${lr}, actual: ${ar}`);const cr=new Uint8Array(nr.buffer,nr.byteOffset+22,ar),pr=decodeBuffer(cr);return sr===65535||or===4294967295?await readZip64CentralDirectory(Zn,Qn+tr,pr,cr):await readEntries(Zn,or,ir,sr,pr,cr)}throw new Error("could not find end of central directory. maybe not zip file")}const END_OF_CENTRAL_DIRECTORY_LOCATOR_SIGNATURE=117853008;async function readZip64CentralDirectory(Zn,Jn,Xn,Qn){const er=Jn-20,tr=await readAs(Zn,er,20);if(getUint32LE(tr,0)!==END_OF_CENTRAL_DIRECTORY_LOCATOR_SIGNATURE)throw new Error("invalid zip64 end of central directory locator signature");const nr=getUint64LE(tr,8),rr=await readAs(Zn,nr,56);if(getUint32LE(rr,0)!==ZIP64_EOCDR_SIGNATURE)throw new Error("invalid zip64 end of central directory record signature");const sr=getUint64LE(rr,32),ir=getUint64LE(rr,40),or=getUint64LE(rr,48);return readEntries(Zn,or,ir,sr,Xn,Qn)}const CENTRAL_DIRECTORY_FILE_HEADER_SIGNATURE=33639248;async function readEntries(Zn,Jn,Xn,Qn,er,tr){let nr=0;const rr=await readAs(Zn,Jn,Xn),sr=[];for(let or=0;or<Qn;++or){const ar=rr.subarray(nr,nr+46),lr=getUint32LE(ar,0);if(lr!==CENTRAL_DIRECTORY_FILE_HEADER_SIGNATURE)throw new Error(`invalid central directory file header signature: 0x${lr.toString(16)}`);const cr={versionMadeBy:getUint16LE(ar,4),versionNeededToExtract:getUint16LE(ar,6),generalPurposeBitFlag:getUint16LE(ar,8),compressionMethod:getUint16LE(ar,10),lastModFileTime:getUint16LE(ar,12),lastModFileDate:getUint16LE(ar,14),crc32:getUint32LE(ar,16),compressedSize:getUint32LE(ar,20),uncompressedSize:getUint32LE(ar,24),fileNameLength:getUint16LE(ar,28),extraFieldLength:getUint16LE(ar,30),fileCommentLength:getUint16LE(ar,32),internalFileAttributes:getUint16LE(ar,36),externalFileAttributes:getUint32LE(ar,38),relativeOffsetOfLocalHeader:getUint32LE(ar,42)};if(cr.generalPurposeBitFlag&64)throw new Error("strong encryption is not supported");nr+=46;const pr=rr.subarray(nr,nr+cr.fileNameLength+cr.extraFieldLength+cr.fileCommentLength);cr.nameBytes=pr.slice(0,cr.fileNameLength),cr.name=decodeBuffer(cr.nameBytes);const ur=cr.fileNameLength+cr.extraFieldLength,gr=pr.slice(cr.fileNameLength,ur);cr.extraFields=[];let dr=0;for(;dr<gr.length-3;){const yr=getUint16LE(gr,dr+0),_r=getUint16LE(gr,dr+2),vr=dr+4,Er=vr+_r;if(Er>gr.length)throw new Error("extra field length exceeds extra field buffer size");cr.extraFields.push({id:yr,data:gr.slice(vr,Er)}),dr=Er}if(cr.commentBytes=pr.slice(ur,ur+cr.fileCommentLength),cr.comment=decodeBuffer(cr.commentBytes),nr+=pr.length,cr.uncompressedSize===4294967295||cr.compressedSize===4294967295||cr.relativeOffsetOfLocalHeader===4294967295){const yr=cr.extraFields.find(Er=>Er.id===1);if(!yr)throw new Error("expected zip64 extended information extra field");const _r=yr.data;let vr=0;if(cr.uncompressedSize===4294967295){if(vr+8>_r.length)throw new Error("zip64 extended information extra field does not include uncompressed size");cr.uncompressedSize=getUint64LE(_r,vr),vr+=8}if(cr.compressedSize===4294967295){if(vr+8>_r.length)throw new Error("zip64 extended information extra field does not include compressed size");cr.compressedSize=getUint64LE(_r,vr),vr+=8}if(cr.relativeOffsetOfLocalHeader===4294967295){if(vr+8>_r.length)throw new Error("zip64 extended information extra field does not include relative header offset");cr.relativeOffsetOfLocalHeader=getUint64LE(_r,vr),vr+=8}}const fr=cr.extraFields.find(yr=>yr.id===28789&&yr.data.length>=6&&yr.data[0]===1&&getUint32LE(yr.data,1),crc$1.unsigned(cr.nameBytes));if(fr&&(cr.fileName=decodeBuffer(fr.data.slice(5))),cr.compressionMethod===0){let yr=cr.uncompressedSize;if(cr.generalPurposeBitFlag&1&&(yr+=12),cr.compressedSize!==yr)throw new Error(`compressed size mismatch for stored file: ${cr.compressedSize} != ${yr}`)}sr.push(cr)}return{zip:{comment:er,commentBytes:tr},entries:sr.map(or=>new ZipEntry(Zn,or))}}async function readEntryDataHeader(Zn,Jn){if(Jn.generalPurposeBitFlag&1)throw new Error("encrypted entries not supported");const Xn=await readAs(Zn,Jn.relativeOffsetOfLocalHeader,30),Qn=await Zn.getLength(),er=getUint32LE(Xn,0);if(er!==67324752)throw new Error(`invalid local file header signature: 0x${er.toString(16)}`);const tr=getUint16LE(Xn,26),nr=getUint16LE(Xn,28),rr=Jn.relativeOffsetOfLocalHeader+Xn.length+tr+nr;let sr;if(Jn.compressionMethod===0)sr=!1;else if(Jn.compressionMethod===8)sr=!0;else throw new Error(`unsupported compression method: ${Jn.compressionMethod}`);const ir=rr,or=ir+Jn.compressedSize;if(Jn.compressedSize!==0&&or>Qn)throw new Error(`file data overflows file bounds: ${ir} +  ${Jn.compressedSize}  > ${Qn}`);return{decompress:sr,fileDataStart:ir}}async function readEntryDataAsArrayBuffer(Zn,Jn){const{decompress:Xn,fileDataStart:Qn}=await readEntryDataHeader(Zn,Jn);if(!Xn){const nr=await readAs(Zn,Qn,Jn.compressedSize);return isTypedArraySameAsArrayBuffer(nr)?nr.buffer:nr.slice().buffer}const er=await readAsBlobOrTypedArray(Zn,Qn,Jn.compressedSize);return await inflateRawAsync(er,Jn.uncompressedSize)}async function readEntryDataAsBlob(Zn,Jn,Xn){const{decompress:Qn,fileDataStart:er}=await readEntryDataHeader(Zn,Jn);if(!Qn){const rr=await readAsBlobOrTypedArray(Zn,er,Jn.compressedSize,Xn);return isBlob(rr)?rr:new Blob([isSharedArrayBuffer(rr.buffer)?new Uint8Array(rr):rr],{type:Xn})}const tr=await readAsBlobOrTypedArray(Zn,er,Jn.compressedSize);return await inflateRawAsync(tr,Jn.uncompressedSize,Xn)}async function unzipRaw(Zn){let Jn;if(typeof Blob<"u"&&Zn instanceof Blob)Jn=new BlobReader(Zn);else if(Zn instanceof ArrayBuffer||Zn&&Zn.buffer&&Zn.buffer instanceof ArrayBuffer)Jn=new ArrayBufferReader(Zn);else if(isSharedArrayBuffer(Zn)||isSharedArrayBuffer(Zn.buffer))Jn=new ArrayBufferReader(Zn);else if(typeof Zn=="string"){const Qn=await fetch(Zn);if(!Qn.ok)throw new Error(`failed http request ${Zn}, status: ${Qn.status}: ${Qn.statusText}`);const er=await Qn.blob();Jn=new BlobReader(er)}else if(typeof Zn.getLength=="function"&&typeof Zn.read=="function")Jn=Zn;else throw new Error("unsupported source type");const Xn=await Jn.getLength();if(Xn>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${Xn}. Only file sizes up 4503599627370496 bytes are supported`);return await findEndOfCentralDirector(Jn,Xn)}async function unzip(Zn){const{zip:Jn,entries:Xn}=await unzipRaw(Zn);return{zip:Jn,entries:Object.fromEntries(Xn.map(Qn=>[Qn.name,Qn]))}}var validator$2={},util$2={};(function(Zn){const Jn=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Xn=Jn+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Qn="["+Jn+"]["+Xn+"]*",er=new RegExp("^"+Qn+"$"),tr=function(rr,sr){const ir=[];let or=sr.exec(rr);for(;or;){const ar=[];ar.startIndex=sr.lastIndex-or[0].length;const lr=or.length;for(let cr=0;cr<lr;cr++)ar.push(or[cr]);ir.push(ar),or=sr.exec(rr)}return ir},nr=function(rr){const sr=er.exec(rr);return!(sr===null||typeof sr>"u")};Zn.isExist=function(rr){return typeof rr<"u"},Zn.isEmptyObject=function(rr){return Object.keys(rr).length===0},Zn.merge=function(rr,sr,ir){if(sr){const or=Object.keys(sr),ar=or.length;for(let lr=0;lr<ar;lr++)ir==="strict"?rr[or[lr]]=[sr[or[lr]]]:rr[or[lr]]=sr[or[lr]]}},Zn.getValue=function(rr){return Zn.isExist(rr)?rr:""},Zn.isName=nr,Zn.getAllMatches=tr,Zn.nameRegexp=Qn})(util$2);const util$1=util$2,defaultOptions$2={allowBooleanAttributes:!1,unpairedTags:[]};validator$2.validate=function(Zn,Jn){Jn=Object.assign({},defaultOptions$2,Jn);const Xn=[];let Qn=!1,er=!1;Zn[0]==="\uFEFF"&&(Zn=Zn.substr(1));for(let tr=0;tr<Zn.length;tr++)if(Zn[tr]==="<"&&Zn[tr+1]==="?"){if(tr+=2,tr=readPI(Zn,tr),tr.err)return tr}else if(Zn[tr]==="<"){let nr=tr;if(tr++,Zn[tr]==="!"){tr=readCommentAndCDATA(Zn,tr);continue}else{let rr=!1;Zn[tr]==="/"&&(rr=!0,tr++);let sr="";for(;tr<Zn.length&&Zn[tr]!==">"&&Zn[tr]!==" "&&Zn[tr]!=="	"&&Zn[tr]!==`
`&&Zn[tr]!=="\r";tr++)sr+=Zn[tr];if(sr=sr.trim(),sr[sr.length-1]==="/"&&(sr=sr.substring(0,sr.length-1),tr--),!validateTagName(sr)){let ar;return sr.trim().length===0?ar="Invalid space after '<'.":ar="Tag '"+sr+"' is an invalid name.",getErrorObject("InvalidTag",ar,getLineNumberForPosition(Zn,tr))}const ir=readAttributeStr(Zn,tr);if(ir===!1)return getErrorObject("InvalidAttr","Attributes for '"+sr+"' have open quote.",getLineNumberForPosition(Zn,tr));let or=ir.value;if(tr=ir.index,or[or.length-1]==="/"){const ar=tr-or.length;or=or.substring(0,or.length-1);const lr=validateAttributeString(or,Jn);if(lr===!0)Qn=!0;else return getErrorObject(lr.err.code,lr.err.msg,getLineNumberForPosition(Zn,ar+lr.err.line))}else if(rr)if(ir.tagClosed){if(or.trim().length>0)return getErrorObject("InvalidTag","Closing tag '"+sr+"' can't have attributes or invalid starting.",getLineNumberForPosition(Zn,nr));{const ar=Xn.pop();if(sr!==ar.tagName){let lr=getLineNumberForPosition(Zn,ar.tagStartPos);return getErrorObject("InvalidTag","Expected closing tag '"+ar.tagName+"' (opened in line "+lr.line+", col "+lr.col+") instead of closing tag '"+sr+"'.",getLineNumberForPosition(Zn,nr))}Xn.length==0&&(er=!0)}}else return getErrorObject("InvalidTag","Closing tag '"+sr+"' doesn't have proper closing.",getLineNumberForPosition(Zn,tr));else{const ar=validateAttributeString(or,Jn);if(ar!==!0)return getErrorObject(ar.err.code,ar.err.msg,getLineNumberForPosition(Zn,tr-or.length+ar.err.line));if(er===!0)return getErrorObject("InvalidXml","Multiple possible root nodes found.",getLineNumberForPosition(Zn,tr));Jn.unpairedTags.indexOf(sr)!==-1||Xn.push({tagName:sr,tagStartPos:nr}),Qn=!0}for(tr++;tr<Zn.length;tr++)if(Zn[tr]==="<")if(Zn[tr+1]==="!"){tr++,tr=readCommentAndCDATA(Zn,tr);continue}else if(Zn[tr+1]==="?"){if(tr=readPI(Zn,++tr),tr.err)return tr}else break;else if(Zn[tr]==="&"){const ar=validateAmpersand(Zn,tr);if(ar==-1)return getErrorObject("InvalidChar","char '&' is not expected.",getLineNumberForPosition(Zn,tr));tr=ar}else if(er===!0&&!isWhiteSpace(Zn[tr]))return getErrorObject("InvalidXml","Extra text at the end",getLineNumberForPosition(Zn,tr));Zn[tr]==="<"&&tr--}}else{if(isWhiteSpace(Zn[tr]))continue;return getErrorObject("InvalidChar","char '"+Zn[tr]+"' is not expected.",getLineNumberForPosition(Zn,tr))}if(Qn){if(Xn.length==1)return getErrorObject("InvalidTag","Unclosed tag '"+Xn[0].tagName+"'.",getLineNumberForPosition(Zn,Xn[0].tagStartPos));if(Xn.length>0)return getErrorObject("InvalidXml","Invalid '"+JSON.stringify(Xn.map(tr=>tr.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return getErrorObject("InvalidXml","Start tag expected.",1);return!0};function isWhiteSpace(Zn){return Zn===" "||Zn==="	"||Zn===`
`||Zn==="\r"}function readPI(Zn,Jn){const Xn=Jn;for(;Jn<Zn.length;Jn++)if(Zn[Jn]=="?"||Zn[Jn]==" "){const Qn=Zn.substr(Xn,Jn-Xn);if(Jn>5&&Qn==="xml")return getErrorObject("InvalidXml","XML declaration allowed only at the start of the document.",getLineNumberForPosition(Zn,Jn));if(Zn[Jn]=="?"&&Zn[Jn+1]==">"){Jn++;break}else continue}return Jn}function readCommentAndCDATA(Zn,Jn){if(Zn.length>Jn+5&&Zn[Jn+1]==="-"&&Zn[Jn+2]==="-"){for(Jn+=3;Jn<Zn.length;Jn++)if(Zn[Jn]==="-"&&Zn[Jn+1]==="-"&&Zn[Jn+2]===">"){Jn+=2;break}}else if(Zn.length>Jn+8&&Zn[Jn+1]==="D"&&Zn[Jn+2]==="O"&&Zn[Jn+3]==="C"&&Zn[Jn+4]==="T"&&Zn[Jn+5]==="Y"&&Zn[Jn+6]==="P"&&Zn[Jn+7]==="E"){let Xn=1;for(Jn+=8;Jn<Zn.length;Jn++)if(Zn[Jn]==="<")Xn++;else if(Zn[Jn]===">"&&(Xn--,Xn===0))break}else if(Zn.length>Jn+9&&Zn[Jn+1]==="["&&Zn[Jn+2]==="C"&&Zn[Jn+3]==="D"&&Zn[Jn+4]==="A"&&Zn[Jn+5]==="T"&&Zn[Jn+6]==="A"&&Zn[Jn+7]==="["){for(Jn+=8;Jn<Zn.length;Jn++)if(Zn[Jn]==="]"&&Zn[Jn+1]==="]"&&Zn[Jn+2]===">"){Jn+=2;break}}return Jn}const doubleQuote='"',singleQuote="'";function readAttributeStr(Zn,Jn){let Xn="",Qn="",er=!1;for(;Jn<Zn.length;Jn++){if(Zn[Jn]===doubleQuote||Zn[Jn]===singleQuote)Qn===""?Qn=Zn[Jn]:Qn!==Zn[Jn]||(Qn="");else if(Zn[Jn]===">"&&Qn===""){er=!0;break}Xn+=Zn[Jn]}return Qn!==""?!1:{value:Xn,index:Jn,tagClosed:er}}const validAttrStrRegxp=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function validateAttributeString(Zn,Jn){const Xn=util$1.getAllMatches(Zn,validAttrStrRegxp),Qn={};for(let er=0;er<Xn.length;er++){if(Xn[er][1].length===0)return getErrorObject("InvalidAttr","Attribute '"+Xn[er][2]+"' has no space in starting.",getPositionFromMatch(Xn[er]));if(Xn[er][3]!==void 0&&Xn[er][4]===void 0)return getErrorObject("InvalidAttr","Attribute '"+Xn[er][2]+"' is without value.",getPositionFromMatch(Xn[er]));if(Xn[er][3]===void 0&&!Jn.allowBooleanAttributes)return getErrorObject("InvalidAttr","boolean attribute '"+Xn[er][2]+"' is not allowed.",getPositionFromMatch(Xn[er]));const tr=Xn[er][2];if(!validateAttrName(tr))return getErrorObject("InvalidAttr","Attribute '"+tr+"' is an invalid name.",getPositionFromMatch(Xn[er]));if(!Qn.hasOwnProperty(tr))Qn[tr]=1;else return getErrorObject("InvalidAttr","Attribute '"+tr+"' is repeated.",getPositionFromMatch(Xn[er]))}return!0}function validateNumberAmpersand(Zn,Jn){let Xn=/\d/;for(Zn[Jn]==="x"&&(Jn++,Xn=/[\da-fA-F]/);Jn<Zn.length;Jn++){if(Zn[Jn]===";")return Jn;if(!Zn[Jn].match(Xn))break}return-1}function validateAmpersand(Zn,Jn){if(Jn++,Zn[Jn]===";")return-1;if(Zn[Jn]==="#")return Jn++,validateNumberAmpersand(Zn,Jn);let Xn=0;for(;Jn<Zn.length;Jn++,Xn++)if(!(Zn[Jn].match(/\w/)&&Xn<20)){if(Zn[Jn]===";")break;return-1}return Jn}function getErrorObject(Zn,Jn,Xn){return{err:{code:Zn,msg:Jn,line:Xn.line||Xn,col:Xn.col}}}function validateAttrName(Zn){return util$1.isName(Zn)}function validateTagName(Zn){return util$1.isName(Zn)}function getLineNumberForPosition(Zn,Jn){const Xn=Zn.substring(0,Jn).split(/\r?\n/);return{line:Xn.length,col:Xn[Xn.length-1].length+1}}function getPositionFromMatch(Zn){return Zn.startIndex+Zn[1].length}var OptionsBuilder={};const defaultOptions$1={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(Zn,Jn){return Jn},attributeValueProcessor:function(Zn,Jn){return Jn},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(Zn,Jn,Xn){return Zn}},buildOptions$1=function(Zn){return Object.assign({},defaultOptions$1,Zn)};OptionsBuilder.buildOptions=buildOptions$1;OptionsBuilder.defaultOptions=defaultOptions$1;class XmlNode{constructor(Jn){this.tagname=Jn,this.child=[],this[":@"]={}}add(Jn,Xn){Jn==="__proto__"&&(Jn="#__proto__"),this.child.push({[Jn]:Xn})}addChild(Jn){Jn.tagname==="__proto__"&&(Jn.tagname="#__proto__"),Jn[":@"]&&Object.keys(Jn[":@"]).length>0?this.child.push({[Jn.tagname]:Jn.child,[":@"]:Jn[":@"]}):this.child.push({[Jn.tagname]:Jn.child})}}var xmlNode$1=XmlNode;function readDocType$1(Zn,Jn){const Xn={};if(Zn[Jn+3]==="O"&&Zn[Jn+4]==="C"&&Zn[Jn+5]==="T"&&Zn[Jn+6]==="Y"&&Zn[Jn+7]==="P"&&Zn[Jn+8]==="E"){Jn=Jn+9;let Qn=1,er=!1,tr=!1,nr="";for(;Jn<Zn.length;Jn++)if(Zn[Jn]==="<"&&!tr){if(er&&isEntity(Zn,Jn))Jn+=7,[entityName,val,Jn]=readEntityExp(Zn,Jn+1),val.indexOf("&")===-1&&(Xn[entityName]={regx:RegExp(`&${entityName};`,"g"),val});else if(er&&isElement(Zn,Jn))Jn+=8;else if(er&&isAttlist(Zn,Jn))Jn+=8;else if(er&&isNotation(Zn,Jn))Jn+=9;else if(isComment)tr=!0;else throw new Error("Invalid DOCTYPE");Qn++,nr=""}else if(Zn[Jn]===">"){if(tr?Zn[Jn-1]==="-"&&Zn[Jn-2]==="-"&&(tr=!1,Qn--):Qn--,Qn===0)break}else Zn[Jn]==="["?er=!0:nr+=Zn[Jn];if(Qn!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:Xn,i:Jn}}function readEntityExp(Zn,Jn){let Xn="";for(;Jn<Zn.length&&Zn[Jn]!=="'"&&Zn[Jn]!=='"';Jn++)Xn+=Zn[Jn];if(Xn=Xn.trim(),Xn.indexOf(" ")!==-1)throw new Error("External entites are not supported");const Qn=Zn[Jn++];let er="";for(;Jn<Zn.length&&Zn[Jn]!==Qn;Jn++)er+=Zn[Jn];return[Xn,er,Jn]}function isComment(Zn,Jn){return Zn[Jn+1]==="!"&&Zn[Jn+2]==="-"&&Zn[Jn+3]==="-"}function isEntity(Zn,Jn){return Zn[Jn+1]==="!"&&Zn[Jn+2]==="E"&&Zn[Jn+3]==="N"&&Zn[Jn+4]==="T"&&Zn[Jn+5]==="I"&&Zn[Jn+6]==="T"&&Zn[Jn+7]==="Y"}function isElement(Zn,Jn){return Zn[Jn+1]==="!"&&Zn[Jn+2]==="E"&&Zn[Jn+3]==="L"&&Zn[Jn+4]==="E"&&Zn[Jn+5]==="M"&&Zn[Jn+6]==="E"&&Zn[Jn+7]==="N"&&Zn[Jn+8]==="T"}function isAttlist(Zn,Jn){return Zn[Jn+1]==="!"&&Zn[Jn+2]==="A"&&Zn[Jn+3]==="T"&&Zn[Jn+4]==="T"&&Zn[Jn+5]==="L"&&Zn[Jn+6]==="I"&&Zn[Jn+7]==="S"&&Zn[Jn+8]==="T"}function isNotation(Zn,Jn){return Zn[Jn+1]==="!"&&Zn[Jn+2]==="N"&&Zn[Jn+3]==="O"&&Zn[Jn+4]==="T"&&Zn[Jn+5]==="A"&&Zn[Jn+6]==="T"&&Zn[Jn+7]==="I"&&Zn[Jn+8]==="O"&&Zn[Jn+9]==="N"}var DocTypeReader=readDocType$1;const hexRegex=/^[-+]?0x[a-fA-F0-9]+$/,numRegex=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const consider={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function toNumber$1(Zn,Jn={}){if(Jn=Object.assign({},consider,Jn),!Zn||typeof Zn!="string")return Zn;let Xn=Zn.trim();if(Jn.skipLike!==void 0&&Jn.skipLike.test(Xn))return Zn;if(Jn.hex&&hexRegex.test(Xn))return Number.parseInt(Xn,16);{const Qn=numRegex.exec(Xn);if(Qn){const er=Qn[1],tr=Qn[2];let nr=trimZeros(Qn[3]);const rr=Qn[4]||Qn[6];if(!Jn.leadingZeros&&tr.length>0&&er&&Xn[2]!==".")return Zn;if(!Jn.leadingZeros&&tr.length>0&&!er&&Xn[1]!==".")return Zn;{const sr=Number(Xn),ir=""+sr;return ir.search(/[eE]/)!==-1||rr?Jn.eNotation?sr:Zn:Xn.indexOf(".")!==-1?ir==="0"&&nr===""||ir===nr||er&&ir==="-"+nr?sr:Zn:tr?nr===ir||er+nr===ir?sr:Zn:Xn===ir||Xn===er+ir?sr:Zn}}else return Zn}}function trimZeros(Zn){return Zn&&Zn.indexOf(".")!==-1&&(Zn=Zn.replace(/0+$/,""),Zn==="."?Zn="0":Zn[0]==="."?Zn="0"+Zn:Zn[Zn.length-1]==="."&&(Zn=Zn.substr(0,Zn.length-1))),Zn}var strnum=toNumber$1;const util=util$2,xmlNode=xmlNode$1,readDocType=DocTypeReader,toNumber=strnum;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,util.nameRegexp);let OrderedObjParser$1=class{constructor(Jn){this.options=Jn,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""}},this.addExternalEntities=addExternalEntities,this.parseXml=parseXml,this.parseTextData=parseTextData,this.resolveNameSpace=resolveNameSpace,this.buildAttributesMap=buildAttributesMap,this.isItStopNode=isItStopNode,this.replaceEntitiesValue=replaceEntitiesValue$1,this.readStopNodeData=readStopNodeData,this.saveTextToParentTag=saveTextToParentTag,this.addChild=addChild}};function addExternalEntities(Zn){const Jn=Object.keys(Zn);for(let Xn=0;Xn<Jn.length;Xn++){const Qn=Jn[Xn];this.lastEntities[Qn]={regex:new RegExp("&"+Qn+";","g"),val:Zn[Qn]}}}function parseTextData(Zn,Jn,Xn,Qn,er,tr,nr){if(Zn!==void 0&&(this.options.trimValues&&!Qn&&(Zn=Zn.trim()),Zn.length>0)){nr||(Zn=this.replaceEntitiesValue(Zn));const rr=this.options.tagValueProcessor(Jn,Zn,Xn,er,tr);return rr==null?Zn:typeof rr!=typeof Zn||rr!==Zn?rr:this.options.trimValues?parseValue$1(Zn,this.options.parseTagValue,this.options.numberParseOptions):Zn.trim()===Zn?parseValue$1(Zn,this.options.parseTagValue,this.options.numberParseOptions):Zn}}function resolveNameSpace(Zn){if(this.options.removeNSPrefix){const Jn=Zn.split(":"),Xn=Zn.charAt(0)==="/"?"/":"";if(Jn[0]==="xmlns")return"";Jn.length===2&&(Zn=Xn+Jn[1])}return Zn}const attrsRegx=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function buildAttributesMap(Zn,Jn,Xn){if(!this.options.ignoreAttributes&&typeof Zn=="string"){const Qn=util.getAllMatches(Zn,attrsRegx),er=Qn.length,tr={};for(let nr=0;nr<er;nr++){const rr=this.resolveNameSpace(Qn[nr][1]);let sr=Qn[nr][4],ir=this.options.attributeNamePrefix+rr;if(rr.length)if(this.options.transformAttributeName&&(ir=this.options.transformAttributeName(ir)),ir==="__proto__"&&(ir="#__proto__"),sr!==void 0){this.options.trimValues&&(sr=sr.trim()),sr=this.replaceEntitiesValue(sr);const or=this.options.attributeValueProcessor(rr,sr,Jn);or==null?tr[ir]=sr:typeof or!=typeof sr||or!==sr?tr[ir]=or:tr[ir]=parseValue$1(sr,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(tr[ir]=!0)}if(!Object.keys(tr).length)return;if(this.options.attributesGroupName){const nr={};return nr[this.options.attributesGroupName]=tr,nr}return tr}}const parseXml=function(Zn){Zn=Zn.replace(/\r\n?/g,`
`);const Jn=new xmlNode("!xml");let Xn=Jn,Qn="",er="";for(let tr=0;tr<Zn.length;tr++)if(Zn[tr]==="<")if(Zn[tr+1]==="/"){const rr=findClosingIndex(Zn,">",tr,"Closing Tag is not closed.");let sr=Zn.substring(tr+2,rr).trim();if(this.options.removeNSPrefix){const ar=sr.indexOf(":");ar!==-1&&(sr=sr.substr(ar+1))}this.options.transformTagName&&(sr=this.options.transformTagName(sr)),Xn&&(Qn=this.saveTextToParentTag(Qn,Xn,er));const ir=er.substring(er.lastIndexOf(".")+1);if(sr&&this.options.unpairedTags.indexOf(sr)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${sr}>`);let or=0;ir&&this.options.unpairedTags.indexOf(ir)!==-1?(or=er.lastIndexOf(".",er.lastIndexOf(".")-1),this.tagsNodeStack.pop()):or=er.lastIndexOf("."),er=er.substring(0,or),Xn=this.tagsNodeStack.pop(),Qn="",tr=rr}else if(Zn[tr+1]==="?"){let rr=readTagExp(Zn,tr,!1,"?>");if(!rr)throw new Error("Pi Tag is not closed.");if(Qn=this.saveTextToParentTag(Qn,Xn,er),!(this.options.ignoreDeclaration&&rr.tagName==="?xml"||this.options.ignorePiTags)){const sr=new xmlNode(rr.tagName);sr.add(this.options.textNodeName,""),rr.tagName!==rr.tagExp&&rr.attrExpPresent&&(sr[":@"]=this.buildAttributesMap(rr.tagExp,er,rr.tagName)),this.addChild(Xn,sr,er)}tr=rr.closeIndex+1}else if(Zn.substr(tr+1,3)==="!--"){const rr=findClosingIndex(Zn,"-->",tr+4,"Comment is not closed.");if(this.options.commentPropName){const sr=Zn.substring(tr+4,rr-2);Qn=this.saveTextToParentTag(Qn,Xn,er),Xn.add(this.options.commentPropName,[{[this.options.textNodeName]:sr}])}tr=rr}else if(Zn.substr(tr+1,2)==="!D"){const rr=readDocType(Zn,tr);this.docTypeEntities=rr.entities,tr=rr.i}else if(Zn.substr(tr+1,2)==="!["){const rr=findClosingIndex(Zn,"]]>",tr,"CDATA is not closed.")-2,sr=Zn.substring(tr+9,rr);if(Qn=this.saveTextToParentTag(Qn,Xn,er),this.options.cdataPropName)Xn.add(this.options.cdataPropName,[{[this.options.textNodeName]:sr}]);else{let ir=this.parseTextData(sr,Xn.tagname,er,!0,!1,!0);ir==null&&(ir=""),Xn.add(this.options.textNodeName,ir)}tr=rr+2}else{let rr=readTagExp(Zn,tr,this.options.removeNSPrefix),sr=rr.tagName,ir=rr.tagExp,or=rr.attrExpPresent,ar=rr.closeIndex;this.options.transformTagName&&(sr=this.options.transformTagName(sr)),Xn&&Qn&&Xn.tagname!=="!xml"&&(Qn=this.saveTextToParentTag(Qn,Xn,er,!1));const lr=Xn;if(lr&&this.options.unpairedTags.indexOf(lr.tagname)!==-1&&(Xn=this.tagsNodeStack.pop(),er=er.substring(0,er.lastIndexOf("."))),sr!==Jn.tagname&&(er+=er?"."+sr:sr),this.isItStopNode(this.options.stopNodes,er,sr)){let cr="";if(ir.length>0&&ir.lastIndexOf("/")===ir.length-1)tr=rr.closeIndex;else if(this.options.unpairedTags.indexOf(sr)!==-1)tr=rr.closeIndex;else{const ur=this.readStopNodeData(Zn,sr,ar+1);if(!ur)throw new Error(`Unexpected end of ${sr}`);tr=ur.i,cr=ur.tagContent}const pr=new xmlNode(sr);sr!==ir&&or&&(pr[":@"]=this.buildAttributesMap(ir,er,sr)),cr&&(cr=this.parseTextData(cr,sr,er,!0,or,!0,!0)),er=er.substr(0,er.lastIndexOf(".")),pr.add(this.options.textNodeName,cr),this.addChild(Xn,pr,er)}else{if(ir.length>0&&ir.lastIndexOf("/")===ir.length-1){sr[sr.length-1]==="/"?(sr=sr.substr(0,sr.length-1),ir=sr):ir=ir.substr(0,ir.length-1),this.options.transformTagName&&(sr=this.options.transformTagName(sr));const cr=new xmlNode(sr);sr!==ir&&or&&(cr[":@"]=this.buildAttributesMap(ir,er,sr)),this.addChild(Xn,cr,er),er=er.substr(0,er.lastIndexOf("."))}else{const cr=new xmlNode(sr);this.tagsNodeStack.push(Xn),sr!==ir&&or&&(cr[":@"]=this.buildAttributesMap(ir,er,sr)),this.addChild(Xn,cr,er),Xn=cr}Qn="",tr=ar}}else Qn+=Zn[tr];return Jn.child};function addChild(Zn,Jn,Xn){const Qn=this.options.updateTag(Jn.tagname,Xn,Jn[":@"]);Qn===!1||(typeof Qn=="string"&&(Jn.tagname=Qn),Zn.addChild(Jn))}const replaceEntitiesValue$1=function(Zn){if(this.options.processEntities){for(let Jn in this.docTypeEntities){const Xn=this.docTypeEntities[Jn];Zn=Zn.replace(Xn.regx,Xn.val)}for(let Jn in this.lastEntities){const Xn=this.lastEntities[Jn];Zn=Zn.replace(Xn.regex,Xn.val)}if(this.options.htmlEntities)for(let Jn in this.htmlEntities){const Xn=this.htmlEntities[Jn];Zn=Zn.replace(Xn.regex,Xn.val)}Zn=Zn.replace(this.ampEntity.regex,this.ampEntity.val)}return Zn};function saveTextToParentTag(Zn,Jn,Xn,Qn){return Zn&&(Qn===void 0&&(Qn=Object.keys(Jn.child).length===0),Zn=this.parseTextData(Zn,Jn.tagname,Xn,!1,Jn[":@"]?Object.keys(Jn[":@"]).length!==0:!1,Qn),Zn!==void 0&&Zn!==""&&Jn.add(this.options.textNodeName,Zn),Zn=""),Zn}function isItStopNode(Zn,Jn,Xn){const Qn="*."+Xn;for(const er in Zn){const tr=Zn[er];if(Qn===tr||Jn===tr)return!0}return!1}function tagExpWithClosingIndex(Zn,Jn,Xn=">"){let Qn,er="";for(let tr=Jn;tr<Zn.length;tr++){let nr=Zn[tr];if(Qn)nr===Qn&&(Qn="");else if(nr==='"'||nr==="'")Qn=nr;else if(nr===Xn[0])if(Xn[1]){if(Zn[tr+1]===Xn[1])return{data:er,index:tr}}else return{data:er,index:tr};else nr==="	"&&(nr=" ");er+=nr}}function findClosingIndex(Zn,Jn,Xn,Qn){const er=Zn.indexOf(Jn,Xn);if(er===-1)throw new Error(Qn);return er+Jn.length-1}function readTagExp(Zn,Jn,Xn,Qn=">"){const er=tagExpWithClosingIndex(Zn,Jn+1,Qn);if(!er)return;let tr=er.data;const nr=er.index,rr=tr.search(/\s/);let sr=tr,ir=!0;if(rr!==-1&&(sr=tr.substr(0,rr).replace(/\s\s*$/,""),tr=tr.substr(rr+1)),Xn){const or=sr.indexOf(":");or!==-1&&(sr=sr.substr(or+1),ir=sr!==er.data.substr(or+1))}return{tagName:sr,tagExp:tr,closeIndex:nr,attrExpPresent:ir}}function readStopNodeData(Zn,Jn,Xn){const Qn=Xn;let er=1;for(;Xn<Zn.length;Xn++)if(Zn[Xn]==="<")if(Zn[Xn+1]==="/"){const tr=findClosingIndex(Zn,">",Xn,`${Jn} is not closed`);if(Zn.substring(Xn+2,tr).trim()===Jn&&(er--,er===0))return{tagContent:Zn.substring(Qn,Xn),i:tr};Xn=tr}else if(Zn[Xn+1]==="?")Xn=findClosingIndex(Zn,"?>",Xn+1,"StopNode is not closed.");else if(Zn.substr(Xn+1,3)==="!--")Xn=findClosingIndex(Zn,"-->",Xn+3,"StopNode is not closed.");else if(Zn.substr(Xn+1,2)==="![")Xn=findClosingIndex(Zn,"]]>",Xn,"StopNode is not closed.")-2;else{const tr=readTagExp(Zn,Xn,">");tr&&((tr&&tr.tagName)===Jn&&tr.tagExp[tr.tagExp.length-1]!=="/"&&er++,Xn=tr.closeIndex)}}function parseValue$1(Zn,Jn,Xn){if(Jn&&typeof Zn=="string"){const Qn=Zn.trim();return Qn==="true"?!0:Qn==="false"?!1:toNumber(Zn,Xn)}else return util.isExist(Zn)?Zn:""}var OrderedObjParser_1=OrderedObjParser$1,node2json={};function prettify$1(Zn,Jn){return compress(Zn,Jn)}function compress(Zn,Jn,Xn){let Qn;const er={};for(let tr=0;tr<Zn.length;tr++){const nr=Zn[tr],rr=propName$1(nr);let sr="";if(Xn===void 0?sr=rr:sr=Xn+"."+rr,rr===Jn.textNodeName)Qn===void 0?Qn=nr[rr]:Qn+=""+nr[rr];else{if(rr===void 0)continue;if(nr[rr]){let ir=compress(nr[rr],Jn,sr);const or=isLeafTag(ir,Jn);nr[":@"]?assignAttributes(ir,nr[":@"],sr,Jn):Object.keys(ir).length===1&&ir[Jn.textNodeName]!==void 0&&!Jn.alwaysCreateTextNode?ir=ir[Jn.textNodeName]:Object.keys(ir).length===0&&(Jn.alwaysCreateTextNode?ir[Jn.textNodeName]="":ir=""),er[rr]!==void 0&&er.hasOwnProperty(rr)?(Array.isArray(er[rr])||(er[rr]=[er[rr]]),er[rr].push(ir)):Jn.isArray(rr,sr,or)?er[rr]=[ir]:er[rr]=ir}}}return typeof Qn=="string"?Qn.length>0&&(er[Jn.textNodeName]=Qn):Qn!==void 0&&(er[Jn.textNodeName]=Qn),er}function propName$1(Zn){const Jn=Object.keys(Zn);for(let Xn=0;Xn<Jn.length;Xn++){const Qn=Jn[Xn];if(Qn!==":@")return Qn}}function assignAttributes(Zn,Jn,Xn,Qn){if(Jn){const er=Object.keys(Jn),tr=er.length;for(let nr=0;nr<tr;nr++){const rr=er[nr];Qn.isArray(rr,Xn+"."+rr,!0,!0)?Zn[rr]=[Jn[rr]]:Zn[rr]=Jn[rr]}}}function isLeafTag(Zn,Jn){const{textNodeName:Xn}=Jn,Qn=Object.keys(Zn).length;return!!(Qn===0||Qn===1&&(Zn[Xn]||typeof Zn[Xn]=="boolean"||Zn[Xn]===0))}node2json.prettify=prettify$1;const{buildOptions}=OptionsBuilder,OrderedObjParser=OrderedObjParser_1,{prettify}=node2json,validator$1=validator$2;let XMLParser$1=class{constructor(Jn){this.externalEntities={},this.options=buildOptions(Jn)}parse(Jn,Xn){if(typeof Jn!="string")if(Jn.toString)Jn=Jn.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(Xn){Xn===!0&&(Xn={});const tr=validator$1.validate(Jn,Xn);if(tr!==!0)throw Error(`${tr.err.msg}:${tr.err.line}:${tr.err.col}`)}const Qn=new OrderedObjParser(this.options);Qn.addExternalEntities(this.externalEntities);const er=Qn.parseXml(Jn);return this.options.preserveOrder||er===void 0?er:prettify(er,this.options)}addEntity(Jn,Xn){if(Xn.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(Jn.indexOf("&")!==-1||Jn.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(Xn==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[Jn]=Xn}};var XMLParser_1=XMLParser$1;const EOL=`
`;function toXml(Zn,Jn){let Xn="";return Jn.format&&Jn.indentBy.length>0&&(Xn=EOL),arrToStr(Zn,Jn,"",Xn)}function arrToStr(Zn,Jn,Xn,Qn){let er="",tr=!1;for(let nr=0;nr<Zn.length;nr++){const rr=Zn[nr],sr=propName(rr);let ir="";if(Xn.length===0?ir=sr:ir=`${Xn}.${sr}`,sr===Jn.textNodeName){let pr=rr[sr];isStopNode(ir,Jn)||(pr=Jn.tagValueProcessor(sr,pr),pr=replaceEntitiesValue(pr,Jn)),tr&&(er+=Qn),er+=pr,tr=!1;continue}else if(sr===Jn.cdataPropName){tr&&(er+=Qn),er+=`<![CDATA[${rr[sr][0][Jn.textNodeName]}]]>`,tr=!1;continue}else if(sr===Jn.commentPropName){er+=Qn+`<!--${rr[sr][0][Jn.textNodeName]}-->`,tr=!0;continue}else if(sr[0]==="?"){const pr=attr_to_str(rr[":@"],Jn),ur=sr==="?xml"?"":Qn;let gr=rr[sr][0][Jn.textNodeName];gr=gr.length!==0?" "+gr:"",er+=ur+`<${sr}${gr}${pr}?>`,tr=!0;continue}let or=Qn;or!==""&&(or+=Jn.indentBy);const ar=attr_to_str(rr[":@"],Jn),lr=Qn+`<${sr}${ar}`,cr=arrToStr(rr[sr],Jn,ir,or);Jn.unpairedTags.indexOf(sr)!==-1?Jn.suppressUnpairedNode?er+=lr+">":er+=lr+"/>":(!cr||cr.length===0)&&Jn.suppressEmptyNode?er+=lr+"/>":cr&&cr.endsWith(">")?er+=lr+`>${cr}${Qn}</${sr}>`:(er+=lr+">",cr&&Qn!==""&&(cr.includes("/>")||cr.includes("</"))?er+=Qn+Jn.indentBy+cr+Qn:er+=cr,er+=`</${sr}>`),tr=!0}return er}function propName(Zn){const Jn=Object.keys(Zn);for(let Xn=0;Xn<Jn.length;Xn++){const Qn=Jn[Xn];if(Qn!==":@")return Qn}}function attr_to_str(Zn,Jn){let Xn="";if(Zn&&!Jn.ignoreAttributes)for(let Qn in Zn){let er=Jn.attributeValueProcessor(Qn,Zn[Qn]);er=replaceEntitiesValue(er,Jn),er===!0&&Jn.suppressBooleanAttributes?Xn+=` ${Qn.substr(Jn.attributeNamePrefix.length)}`:Xn+=` ${Qn.substr(Jn.attributeNamePrefix.length)}="${er}"`}return Xn}function isStopNode(Zn,Jn){Zn=Zn.substr(0,Zn.length-Jn.textNodeName.length-1);let Xn=Zn.substr(Zn.lastIndexOf(".")+1);for(let Qn in Jn.stopNodes)if(Jn.stopNodes[Qn]===Zn||Jn.stopNodes[Qn]==="*."+Xn)return!0;return!1}function replaceEntitiesValue(Zn,Jn){if(Zn&&Zn.length>0&&Jn.processEntities)for(let Xn=0;Xn<Jn.entities.length;Xn++){const Qn=Jn.entities[Xn];Zn=Zn.replace(Qn.regex,Qn.val)}return Zn}var orderedJs2Xml=toXml;const buildFromOrderedJs=orderedJs2Xml,defaultOptions={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(Zn,Jn){return Jn},attributeValueProcessor:function(Zn,Jn){return Jn},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Builder(Zn){this.options=Object.assign({},defaultOptions,Zn),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=isAttribute),this.processTextOrObjNode=processTextOrObjNode,this.options.format?(this.indentate=indentate,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Builder.prototype.build=function(Zn){return this.options.preserveOrder?buildFromOrderedJs(Zn,this.options):(Array.isArray(Zn)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(Zn={[this.options.arrayNodeName]:Zn}),this.j2x(Zn,0).val)};Builder.prototype.j2x=function(Zn,Jn){let Xn="",Qn="";for(let er in Zn)if(!(typeof Zn[er]>"u"))if(Zn[er]===null)er[0]==="?"?Qn+=this.indentate(Jn)+"<"+er+"?"+this.tagEndChar:Qn+=this.indentate(Jn)+"<"+er+"/"+this.tagEndChar;else if(Zn[er]instanceof Date)Qn+=this.buildTextValNode(Zn[er],er,"",Jn);else if(typeof Zn[er]!="object"){const tr=this.isAttribute(er);if(tr)Xn+=this.buildAttrPairStr(tr,""+Zn[er]);else if(er===this.options.textNodeName){let nr=this.options.tagValueProcessor(er,""+Zn[er]);Qn+=this.replaceEntitiesValue(nr)}else Qn+=this.buildTextValNode(Zn[er],er,"",Jn)}else if(Array.isArray(Zn[er])){const tr=Zn[er].length;let nr="";for(let rr=0;rr<tr;rr++){const sr=Zn[er][rr];typeof sr>"u"||(sr===null?er[0]==="?"?Qn+=this.indentate(Jn)+"<"+er+"?"+this.tagEndChar:Qn+=this.indentate(Jn)+"<"+er+"/"+this.tagEndChar:typeof sr=="object"?this.options.oneListGroup?nr+=this.j2x(sr,Jn+1).val:nr+=this.processTextOrObjNode(sr,er,Jn):nr+=this.buildTextValNode(sr,er,"",Jn))}this.options.oneListGroup&&(nr=this.buildObjectNode(nr,er,"",Jn)),Qn+=nr}else if(this.options.attributesGroupName&&er===this.options.attributesGroupName){const tr=Object.keys(Zn[er]),nr=tr.length;for(let rr=0;rr<nr;rr++)Xn+=this.buildAttrPairStr(tr[rr],""+Zn[er][tr[rr]])}else Qn+=this.processTextOrObjNode(Zn[er],er,Jn);return{attrStr:Xn,val:Qn}};Builder.prototype.buildAttrPairStr=function(Zn,Jn){return Jn=this.options.attributeValueProcessor(Zn,""+Jn),Jn=this.replaceEntitiesValue(Jn),this.options.suppressBooleanAttributes&&Jn==="true"?" "+Zn:" "+Zn+'="'+Jn+'"'};function processTextOrObjNode(Zn,Jn,Xn){const Qn=this.j2x(Zn,Xn+1);return Zn[this.options.textNodeName]!==void 0&&Object.keys(Zn).length===1?this.buildTextValNode(Zn[this.options.textNodeName],Jn,Qn.attrStr,Xn):this.buildObjectNode(Qn.val,Jn,Qn.attrStr,Xn)}Builder.prototype.buildObjectNode=function(Zn,Jn,Xn,Qn){if(Zn==="")return Jn[0]==="?"?this.indentate(Qn)+"<"+Jn+Xn+"?"+this.tagEndChar:this.indentate(Qn)+"<"+Jn+Xn+this.closeTag(Jn)+this.tagEndChar;{let er="</"+Jn+this.tagEndChar,tr="";return Jn[0]==="?"&&(tr="?",er=""),Xn&&Zn.indexOf("<")===-1?this.indentate(Qn)+"<"+Jn+Xn+tr+">"+Zn+er:this.options.commentPropName!==!1&&Jn===this.options.commentPropName&&tr.length===0?this.indentate(Qn)+`<!--${Zn}-->`+this.newLine:this.indentate(Qn)+"<"+Jn+Xn+tr+this.tagEndChar+Zn+this.indentate(Qn)+er}};Builder.prototype.closeTag=function(Zn){let Jn="";return this.options.unpairedTags.indexOf(Zn)!==-1?this.options.suppressUnpairedNode||(Jn="/"):this.options.suppressEmptyNode?Jn="/":Jn=`></${Zn}`,Jn};Builder.prototype.buildTextValNode=function(Zn,Jn,Xn,Qn){if(this.options.cdataPropName!==!1&&Jn===this.options.cdataPropName)return this.indentate(Qn)+`<![CDATA[${Zn}]]>`+this.newLine;if(this.options.commentPropName!==!1&&Jn===this.options.commentPropName)return this.indentate(Qn)+`<!--${Zn}-->`+this.newLine;if(Jn[0]==="?")return this.indentate(Qn)+"<"+Jn+Xn+"?"+this.tagEndChar;{let er=this.options.tagValueProcessor(Jn,Zn);return er=this.replaceEntitiesValue(er),er===""?this.indentate(Qn)+"<"+Jn+Xn+this.closeTag(Jn)+this.tagEndChar:this.indentate(Qn)+"<"+Jn+Xn+">"+er+"</"+Jn+this.tagEndChar}};Builder.prototype.replaceEntitiesValue=function(Zn){if(Zn&&Zn.length>0&&this.options.processEntities)for(let Jn=0;Jn<this.options.entities.length;Jn++){const Xn=this.options.entities[Jn];Zn=Zn.replace(Xn.regex,Xn.val)}return Zn};function indentate(Zn){return this.options.indentBy.repeat(Zn)}function isAttribute(Zn){return Zn.startsWith(this.options.attributeNamePrefix)?Zn.substr(this.attrPrefixLen):!1}var json2xml=Builder;const validator=validator$2,XMLParser=XMLParser_1,XMLBuilder=json2xml;var fxp={XMLParser,XMLValidator:validator,XMLBuilder};const entries={catalogueLinks:{allowedChildrens:[]},publications:{allowedChildrens:[]},costTypes:{allowedChildrens:[]},profileTypes:{allowedChildrens:["characteristicTypes"]},categoryEntries:{allowedChildrens:["profiles","rules","infoGroups","infoLinks","constraints","modifiers","modifierGroups"]},categoryLinks:{allowedChildrens:["profiles","rules","infoGroups","infoLinks","constraints","modifiers","modifierGroups"]},forceEntries:{allowedChildrens:["forceEntries","categoryLinks","profiles","rules","infoGroups","infoLinks","constraints","modifiers","modifierGroups","costs"]},entryLinks:{allowedChildrens:"type"},selectionEntryGroups:{allowedChildrens:["selectionEntries","selectionEntryGroups","entryLinks","profiles","rules","infoGroups","infoLinks","constraints","modifiers","modifierGroups","categoryLinks","costs"]},sharedSelectionEntryGroups:{allowedChildrens:["selectionEntries","selectionEntryGroups","entryLinks","profiles","rules","infoGroups","infoLinks","constraints","modifiers","modifierGroups","categoryLinks","costs"]},selectionEntries:{allowedChildrens:["selectionEntries","selectionEntryGroups","entryLinks","profiles","rules","infoGroups","infoLinks","associations","constraints","modifiers","modifierGroups","categoryLinks","costs"]},sharedSelectionEntries:{allowedChildrens:["selectionEntries","selectionEntryGroups","entryLinks","profiles","rules","infoGroups","infoLinks","associations","constraints","modifiers","modifierGroups","categoryLinks","costs"]},associations:{allowedChildrens:[]},sharedRules:{allowedChildrens:["modifiers","modifierGroups"]},rule:{allowedChildrens:["modifiers","modifierGroups"]},rules:{allowedChildrens:["modifiers","modifierGroups"]},profile:{allowedChildrens:["modifiers","modifierGroups","characteristics"]},profiles:{allowedChildrens:["modifiers","modifierGroups","characteristics"]},sharedProfiles:{allowedChildrens:["modifiers","modifierGroups","characteristics"]},infoGroup:{allowedChildrens:["profiles","rules","infoGroups","infoLinks","modifiers","modifierGroups"]},infoGroups:{allowedChildrens:["profiles","rules","infoGroups","infoLinks","modifiers","modifierGroups"]},sharedInfoGroups:{allowedChildrens:["profiles","rules","infoGroups","infoLinks","modifiers","modifierGroups"]},infoLinks:{allowedChildrens:"type"},modifiers:{allowedChildrens:["conditions","conditionGroups","repeats"]},modifierGroups:{allowedChildrens:["modifiers","modifierGroups","conditions","conditionGroups","repeats"]},conditions:{allowedChildrens:[]},conditionGroups:{allowedChildrens:["conditions","conditionGroups"]},catalogue:{allowedChildrens:["catalogueLinks","publications","costTypes","profileTypes","categoryEntries","forceEntries","sharedSelectionEntries","sharedSelectionEntryGroups","sharedProfiles","sharedRules","sharedInfoGroups","selectionEntries","entryLinks","infoLinks","infoGroups","rules"]},gameSystem:{allowedChildrens:["publications","costTypes","profileTypes","categoryEntries","forceEntries","sharedSelectionEntries","sharedSelectionEntryGroups","sharedProfiles","sharedRules","sharedInfoGroups","selectionEntries","entryLinks","infoLinks","infoGroups","rules"]}},containerTags={categories:"category",catalogueLinks:"catalogueLink",categoryEntries:"categoryEntry",categoryLinks:"categoryLink",characteristics:"characteristic",characteristicTypes:"characteristicType",conditions:"condition",conditionGroups:"conditionGroup",constraints:"constraint",costs:"cost",costLimits:"costLimit",costTypes:"costType",entryLinks:"entryLink",forceEntries:"forceEntry",infoGroups:"infoGroup",infoLinks:"infoLink",forces:"force",modifiers:"modifier",modifierGroups:"modifierGroup",profiles:"profile",profileTypes:"profileType",publications:"publication",repeats:"repeat",rules:"rule",selections:"selection",selectionEntries:"selectionEntry",selectionEntryGroups:"selectionEntryGroup",sharedInfoGroups:"infoGroup",sharedProfiles:"profile",sharedRules:"rule",sharedSelectionEntries:"selectionEntry",sharedSelectionEntryGroups:"selectionEntryGroup",associations:"association"},textNodeTags=new Set(["description","readme","comment"]),textArrayTags=new Set(["alias"]),escapedHtml=/&(?:amp|lt|gt|quot|#39|apos);/g,htmlUnescapes={"&amp;":"&","&apos;":"'","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},unescape=Zn=>escapedHtml.test(Zn)?Zn.replace(escapedHtml,Jn=>htmlUnescapes[Jn]):Zn,containers={};for(const Zn in containerTags)containers[containerTags[Zn]]=Zn;const allowed={};for(const[Zn,Jn]of Object.entries(entries))typeof Jn.allowedChildrens=="string"?allowed[Zn]=Jn.allowedChildrens:allowed[Zn]=new Set(Jn.allowedChildrens);function parseValue(Zn){switch(Zn){case"true":return!0;case"false":return!1;default:if(isNaN(Zn))return Zn;const Jn=parseFloat(Zn);return isFinite(Jn)&&Zn.includes("+")==!1?Jn:Zn}}function xmlToJson(Zn){const Jn={allowBooleanAttributes:!0,ignoreAttributes:!1,attributeNamePrefix:"",textNodeName:"$text",processEntities:!1,parseTagValue:!1,ignoreDeclaration:!0,alwaysCreateTextNode:!1,isArray:(Xn,Qn,er,tr)=>!tr&&(Xn in containers||textArrayTags.has(Xn)),attributeValueProcessor:(Xn,Qn)=>parseValue(unescape(Qn)),tagValueProcessor:(Xn,Qn)=>unescape(Qn)};return new fxp.XMLParser(Jn).parse(Zn)}async function unzipFolder(Zn,Jn){const Xn=await unzip(Zn),Qn={};console.log("unzipping folder",Xn,"path",Jn);for(const er in Xn.entries){const tr=Xn.entries[er];if(tr.isDirectory)continue;const nr=removePrefix(removePrefix(er,Jn),"/");if(nr.startsWith("."))continue;const rr=isZipExtension(nr)?await tr.arrayBuffer():await tr.text();Qn[nr]=rr}return Qn}async function unzipFile(Zn){if(typeof Zn=="string"){var Jn=new TextEncoder;Zn=Jn.encode(Zn)}const Xn=await unzip(Zn);for(const Qn of Object.values(Xn.entries))return await Qn.text();throw"unzipFile failed: No Entries"}const zipExtensions=["gstz","zip","catz"],allowedExtensions=["gst","gstz","xml","zip","cat","catz","json"];function removeExtension(Zn){const Jn=Zn.lastIndexOf(".");return Jn===-1?Zn:Zn.substring(0,Jn)}function getExtension(Zn){return Zn.split(".").pop().toLowerCase()}function isZipExtension(Zn){const Jn=getExtension(Zn);return zipExtensions.includes(Jn)}function isAllowedExtension(Zn){const Jn=getExtension(Zn);return!!allowedExtensions.includes(Jn)}const oldBuggedTypes={sharedRules:"shareRule",sharedProfiles:"sharedProfile",sharedInfoGroups:"sharedInfoGroup",sharedSelectionEntries:"sharedSelectionEntry",sharedSelectionEntryGroups:"sharedSelectionEntryGroup"};function normalize(Zn){var Jn,Xn;for(let Qn in Zn)if(Zn[Qn]==="")delete Zn[Qn];else if(containerTags[Qn]&&Zn[Qn])if(Qn in oldBuggedTypes){const er=Zn[Qn][containerTags[Qn]],tr=Zn[Qn][oldBuggedTypes[Qn]];Zn[Qn]=[...Array.isArray(er)?er:[],...Array.isArray(tr)?tr:[]],(Jn=Zn[Qn])==null||Jn.forEach(normalize)}else{const er=Zn[Qn][containerTags[Qn]];Array.isArray(er)?(Zn[Qn]=er,(Xn=Zn[Qn])==null||Xn.forEach(normalize)):isObject(Zn[Qn])&&delete Zn[Qn]}else textNodeTags.has(Qn)&&typeof Zn[Qn]=="object"&&!Array.isArray(Zn[Qn])&&(Zn[Qn]=Zn[Qn].$text??"");return Zn}function clean(Zn,Jn){const Xn=allowed[Jn],Qn=typeof Xn=="string"?allowed[Zn[Xn]]:Xn;for(let er in Zn)er in containerTags&&Array.isArray(Zn[er])&&(Qn&&!Qn.has(er)?delete Zn[er]:Zn[er].forEach(tr=>clean(tr,er)))}const empty=new Set;function allowed_children(Zn,Jn){let Xn=allowed[Jn];if(typeof Xn=="string"){const Qn=Zn[Xn];if(Qn){const er=toPlural(Qn);if(typeof er!="string"||er===Xn)return empty;Xn=allowed[er]}}return Xn||empty}function BSXmlToJson(Zn){const Jn=xmlToJson(Zn);normalize(getDataObject(Jn));const Xn=Jn.catalogue?"catalogue":"gameSystem";Jn.catalogue?(Jn.playable=1,Jn.id=hashFnv32a(Jn.catalogue.id),Jn.include=[1e3]):(Jn.playable=0,Jn.id=1e3);const Qn=Jn[Xn];return Jn.name=Qn.name,Jn.short=to_snake_case(Qn.name),Jn.playable=!Qn.library,Jn.version=Qn.battleScribeVersion,Jn.nrversion=Qn.revision,Jn}async function convertToJson(Zn,Jn){switch(Jn=getExtension(Jn),Jn){case"xml":case"cat":case"gst":return BSXmlToJson(Zn);case"zip":case"catz":case"gstz":return BSXmlToJson(await unzipFile(Zn));case"json":return JSON.parse(Zn);default:throw new Error("Extension not supported "+Jn)}}function toSingle(Zn){return containerTags[Zn]}function toPlural(Zn){return containers[Zn]}const skipKeys=new Set(["?xml","$text","_"]);function renestChilds(Zn){for(const[Jn,Xn]of Object.entries(Zn))textNodeTags.has(Jn)?Zn[Jn]=Array.isArray(Xn)?Xn:[Xn]:Array.isArray(Xn)&&!skipKeys.has(Jn)&&(Zn[Jn]=[{[toSingle(Jn)]:Xn}])}function putAttributesIn$(Zn){return forEachValueRecursive(Zn,Jn=>{typeof Jn=="object"&&renestChilds(Jn)}),forEachValueRecursive(Zn,Jn=>{if(typeof Jn=="object")for(const[Xn,Qn]of Object.entries(Jn))Array.isArray(Qn)||skipKeys.has(Xn)||textNodeTags.has(Xn)||isObject(Qn)||(Jn[`_${Xn}`]=Qn,delete Jn[Xn])}),Zn}function convertToXml(Zn){const Jn=JSON.parse(rootToJson(Zn));putAttributesIn$(Jn);const Xn={textNodeName:"$text",format:!0,attributeNamePrefix:"_",ignoreAttributes:!1,suppressBooleanAttributes:!1,suppressEmptyNode:!0};return Jn.gameSystem&&(Jn.gameSystem._xmlns="http://www.battlescribe.net/schema/gameSystemSchema"),Jn.catalogue&&(Jn.catalogue._xmlns="http://www.battlescribe.net/schema/catalogueSchema"),`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
`+new fxp.XMLBuilder(Xn).build(Jn)}const systemCategories=[{type:"publications",name:"Publications",icon:"publication.png"},{type:"costTypes",name:"Cost Types",icon:"cost.png"},{type:"profileTypes",name:"Profile Types",icon:"profileType.png"},{type:"categoryEntries",name:"Category Entries",icon:"category.png"},{type:"forceEntries",name:"Force Entries",icon:"force.png"},{type:"sharedSelectionEntries",name:"Shared Selection Entries",icon:"selectionEntryLink.png"},{type:"sharedSelectionEntryGroups",name:"Shared Selection Entry Groups",icon:"shared_groups.png"},{type:"sharedProfiles",name:"Shared Profiles",icon:"shared_profiles.png"},{type:"sharedRules",name:"Shared Rules",icon:"shared_rules.png"},{type:"sharedInfoGroups",name:"Shared Info Groups",icon:"infoGroup.png"},{type:"rules",links:"infoLinks",name:"Root Rules",icon:"rule.png"},{type:"selectionEntries",links:"entryLinks",name:"Root Selection Entries",icon:"selectionEntry.png"}],catalogueCategories=[{type:"catalogueLinks",name:"Catalogue Links",icon:"catalogueLink.png"},...systemCategories];function getTypeLabel(Zn,Jn){switch(Zn){case"selectionEntry":return"Entry";case"selectionEntryGroup":return"Group";case"selectionEntryLink":return"Entry (link)";case"selectionEntryGroupLink":return"Group (link)";case"force":return"Force";case"category":return"Category";case"categoryLink":return"Category (link)";case"catalogueLink":return"Catalogue (link)";case"publication":return"Publication";case"costType":return"Cost Type";case"costs":return"Cost";case"link":return"Link";case"profileType":return"Profile Type";case"profile":return"Profile";case"rule":return"Rule";case"infoLink":return"Info (link)";case"infoGroup":return"Info Group";case"profileLink":return"Profile";case"ruleLink":return"Rule (link)";case"infoGroupLink":return"Info Group (link)";case"characteristic":return"Characteristic";case"characteristicType":return"Characteristic Type";case"constraint":return"Constraint";case"condition":return"Condition";case"modifier":return"Modifier";case"modifierGroup":return"Modifier Group";case"repeat":return"Repeat";case"conditionGroup":return"Condition Group";case"catalogue":return"Catalogue";case"gameSystem":return"Game System";default:return console.warn("unknown getTypeLabel key",Zn),Zn}}function getTypeName(Zn,Jn){switch(Zn){case"selectionEntries":return"selectionEntry";case"selectionEntryGroups":return"selectionEntryGroup";case"sharedSelectionEntries":return Jn!=null&&Jn.targetId?"selectionEntryLink":"selectionEntry";case"sharedSelectionEntryGroups":return Jn!=null&&Jn.targetId?"selectionEntryLink":"selectionEntryGroup";case"entryLinks":return Jn!=null&&Jn.target?Jn.target.editorTypeName+"Link":"link";case"forceEntries":return"force";case"categoryEntries":return"category";case"categoryLinks":return"categoryLink";case"catalogueLinks":return"catalogueLink";case"publications":return"publication";case"costTypes":return"costType";case"costs":return"cost";case"profileTypes":return"profileType";case"profiles":return"profile";case"rules":return"rule";case"characteristics":return"characteristic";case"characteristicTypes":return"characteristicType";case"sharedProfiles":return"profile";case"sharedRules":return"rule";case"sharedInfoGroups":return"infoGroup";case"infoLinks":return Jn?`${Jn.type||"info"}Link`:"infoLink";case"infoGroups":return"infoGroup";case"associations":return"association";case"constraints":return"constraint";case"conditions":return"condition";case"modifiers":return"modifier";case"modifierGroups":return"modifierGroup";case"repeats":return"repeat";case"conditionGroups":return"conditionGroup";case"catalogue":case"gameSystem":return Zn;default:return console.warn("unknown getTypeName key",Zn),Zn}}function getNameExtra(Zn,Jn=!0,Xn=!0){var nr,rr,sr,ir,or;const Qn=Zn.parentKey,er=[];switch(Qn){case"infoLinks":["profiles","sharedProfiles"].includes((nr=Zn.target)==null?void 0:nr.parentKey)&&Xn&&er.push(Zn.target.typeName);break;case"sharedProfiles":case"profiles":Xn&&er.push(Zn.typeName);break;case"selectionEntries":case"sharedSelectionEntries":Zn.isEntry()&&Zn.getType()!=="upgrade"&&Xn&&er.push(Zn.getType());break;case"entryLinks":Zn.target&&Zn.isEntry()&&Zn.getType()!=="upgrade"&&Xn&&er.push(Zn.getType());break;case"modifierGroups":er.push(`(${(((rr=Zn.modifiers)==null?void 0:rr.length)||0)+(((sr=Zn.modifierGroups)==null?void 0:sr.length)||0)})`);break}const tr=(((ir=Zn.refs)==null?void 0:ir.length)??0)+(((or=Zn.other_refs)==null?void 0:or.length)??0);if(tr&&Jn){const ar=tr===1?"":"s";er.push(`(${tr||0} ref${ar})`)}return Zn.comment&&Zn.comment[0]&&er.push("# "+Zn.comment),Zn.isCollective&&Zn.isCollective()&&er.push("(collective)"),er.join(" ")}function getName(Zn){const Jn=Zn.parentKey;switch(Jn){case"selectionEntries":case"sharedSelectionEntries":case"selectionEntryGroups":case"sharedSelectionEntryGroups":case"entryLinks":case"forceEntries":case"categoryLinks":case"categoryEntries":case"sharedInfoGroups":case"infoGroups":case"catalogueLinks":case"publications":case"profileTypes":case"catalogue":case"gameSystem":case"rules":case"sharedRules":case"costs":case"costTypes":case"sharedProfiles":case"profiles":case"characteristics":case"characteristicTypes":return Zn.getName();case"modifiers":return modifierToString(getModifierOrConditionParent(Zn),Zn);case"repeats":{const Xn=Zn,Qn=getModifierOrConditionParent(Zn);return Qn||console.error("no parent for repeat",Zn),`Repeat ${Xn.repeats} times for every ${Xn.value} ${fieldToText(Qn,Xn.field)} in ${fieldToText(Qn,Xn.scope)} of ${Xn.childId?fieldToText(Qn,Xn.childId):" any"}`}case"conditions":return conditionToString(getModifierOrConditionParent(Zn),Zn);case"constraints":return conditionToString(getModifierOrConditionParent(Zn),Zn);case"modifierGroups":return"Modify...";case"conditionGroups":return`${Zn.type.toUpperCase()}`;case"infoLinks":return Zn.target?getName(Zn.target):Zn.getName();case"associations":return Zn.name;default:return console.log(Jn,Zn),Jn}}function forEachEntryRecursive(Zn,Jn){Jn(Zn);const Xn=[Zn];for(;Xn.length;){const Qn=Xn.pop();for(const er of Object.keys(Qn)){if(!goodJsonKeys.has(er)||textNodeTags.has(er))continue;const tr=Qn[er];if(tr&&Array.isArray(tr))for(const nr of tr)Xn.push(nr),Jn(nr,er,Qn)}}}function removeEntry(Zn){const Jn=Zn.parent;if(Jn){const Xn=Jn[Zn.parentKey],Qn=Xn.indexOf(Zn);Qn!==-1&&Xn.splice(Qn,1)}}function onRemoveEntry(Zn,Jn){const Xn=Zn.catalogue;forEachEntryRecursive(Zn,(Qn,er,tr)=>{if(Xn.removeFromIndex(Qn),Qn.isLink&&Qn.isLink()&&(Xn.unlinkLink(Qn),delete Qn.target),Qn instanceof Profile&&Qn.typeId){const nr=Qn.catalogue.findOptionById(Qn.typeId);nr&&Qn.catalogue.removeRef(Qn,nr)}if(Qn instanceof Condition){const nr=Qn.scope,rr=Qn.childId;if(!validScopes.has(nr)){const sr=Qn.catalogue.findOptionById(Qn.scope);sr&&Qn.catalogue.removeOtherRef(Qn,sr)}if(!validChildIds.has(rr)){const sr=Qn.catalogue.findOptionById(Qn.childId);sr&&Qn.catalogue.removeOtherRef(Qn,sr)}}delete Qn.parent,delete Qn.catalogue}),Jn&&Zn instanceof CatalogueLink&&Xn.reload(Jn)}function onAddEntry(Zn,Jn,Xn,Qn){let er=!1;for(const tr of Array.isArray(Zn)?Zn:[Zn])forEachEntryRecursive(tr,(nr,rr,sr)=>{if(isObject(nr)){if(nr.parent=sr||Xn,nr.catalogue=Jn,Jn.addToIndex(nr),nr instanceof Link&&Jn.updateLink(nr),nr instanceof Profile&&nr.typeId){const ir=nr.catalogue.findOptionById(nr.typeId);ir&&nr.catalogue.addRef(nr,ir)}nr instanceof CatalogueLink&&nr.targetId&&(er=!0),Jn.refreshErrors(nr)}});er&&Xn&&(Xn.catalogue||Xn).reload(Qn)}function getEntryPath(Zn){if(!Zn.parent&&!Zn.isCatalogue())return[{id:Zn.id,key:Zn.parentKey,index:0}];const Jn=[];for(;Zn.parent;){const Xn=Zn.parent||Zn.catalogue;Jn.push({key:Zn.parentKey,index:Xn[Zn.parentKey].indexOf(Zn),id:Zn.id}),Zn=Zn.parent}return Jn.reverse(),Jn}function getEntryPathInfo(Zn){if(!Zn.parent&&!Zn.isCatalogue())return[{id:Zn.id,key:Zn.parentKey,index:0}];const Jn=[];do{const Xn=Zn.parent||Zn.catalogue;Xn?Jn.push({name:Zn.getName(),type:Zn.editorTypeName,label:Zn.getTypeName(),display:getName(Zn),key:Zn.parentKey,index:Xn[Zn.parentKey].indexOf(Zn),id:Zn.id}):Jn.push({name:Zn.getName(),display:getName(Zn),type:"catalogue",key:"catalogue",id:Zn.id,index:0}),Zn=Zn.parent}while(Zn);return Jn.reverse(),Jn}function addAtEntryPath(Zn,Jn,Xn){let Qn=Zn;for(let nr=0;nr<Jn.length-1;nr++){const rr=Jn[nr];Qn=Qn[rr.key][rr.index]}const er=Jn[Jn.length-1];return Qn[er.key]||(Qn[er.key]=[]),Qn[er.key].splice(er.index,0,Xn),Qn}function getAtEntryPath(Zn,Jn){let Xn=Zn;for(const Qn of Jn){if(Xn=Xn[Qn.key],!Xn)return;Xn=Xn[Qn.index]}return Xn}function popAtEntryPath(Zn,Jn){let Xn=Zn;const Qn=Jn[Jn.length-1];for(const nr of Jn)nr!==Qn&&(Xn=Xn[nr.key][nr.index]);const tr=Xn[Qn.key].splice(Qn.index,1)[0];if(!tr)throw new Error("popAtEntryPath failed");return tr}function scrambleIds(Zn,Jn){const Xn={},Qn=Array.isArray(Jn)?Jn:[Jn];for(const er of Qn)forEachEntryRecursive(er,(tr,nr,rr)=>{if(tr.id){const sr=tr.id,ir=Zn.generateNonConflictingId(sr);tr.id=ir,Xn[sr]=ir}});for(const er of Qn)forEachEntryRecursive(er,(tr,nr,rr)=>{tr instanceof Condition&&(tr.scope in Xn&&(tr.scope=Xn[tr.scope]),tr.childId in Xn&&(tr.childId=Xn[tr.childId])),tr instanceof Modifier&&tr.field in Xn&&(tr.field=Xn[tr.field])})}function fixKey(Zn,Jn,Xn){if(Zn.isCatalogue()){if(Xn)switch(Jn){case"sharedRules":case"rules":return["sharedRules","rules"].includes(Xn)?Xn:"";case"sharedProfiles":case"profiles":return["sharedProfiles","profiles"].includes(Xn)?Xn:"";case"sharedInfoGroups":case"infoGroups":return["sharedInfoGroups","infoGroups"].includes(Xn)?Xn:"";case"sharedSelectionEntries":case"selectionEntries":return["sharedSelectionEntries","selectionEntries"].includes(Xn)?Xn:"";case"sharedSelectionEntryGroups":case"selectionEntryGroups":return["sharedSelectionEntryGroups","selectionEntryGroups"].includes(Xn)?Xn:"";default:return Jn}}else switch(Jn){case"sharedRules":return"rules";case"sharedProfiles":return"profiles";case"sharedInfoGroups":return"infoGroups";case"sharedSelectionEntries":return"selectionEntries";case"sharedSelectionEntryGroups":return"selectionEntryGroups";default:return Jn}return Jn}class NoObserve{get[Symbol.toStringTag](){return"ObjectNoObserve"}}function noObserve(){return new NoObserve}const keyInfoCache={};function getKeyInfoClass(Zn,Jn,Xn){if(Jn in Zn)return Zn[Jn];class Qn extends Base{constructor(){super(...arguments);Zr(this,"parent")}get parentKey(){return Jn}get editorTypeName(){return getTypeName(Jn,this)}toString(){return`${this.editorTypeName} - ${getName(this)}`}}return Qn.prototype.parentKey,Object.setPrototypeOf(Qn.prototype,Object.getPrototypeOf(Xn)),Zn[Jn]=Qn.prototype,Qn.prototype}function setKeyInfo(Zn,Jn,Xn){Object.setPrototypeOf(Xn,getKeyInfoClass(Zn,Jn,Xn))}const protoMap={"*":Base.prototype,catalogue:Catalogue.prototype,catalogueLinks:CatalogueLink.prototype,gameSystem:Catalogue.prototype,forceEntries:Force.prototype,forces:Force.prototype,force:Force.prototype,categoryEntries:Category.prototype,category:Category.prototype,categories:Category.prototype,link:Link.prototype,infoLinks:InfoLink.prototype,categoryLinks:CategoryLink.prototype,entry:Entry.prototype,selectionEntries:Entry.prototype,entryLinks:Link.prototype,sharedSelectionEntries:Entry.prototype,group:Group.prototype,selectionEntryGroups:Group.prototype,sharedSelectionEntryGroups:Group.prototype,sharedRules:Rule.prototype,rules:Rule.prototype,rule:Rule.prototype,profileTypes:ProfileType.prototype,sharedProfiles:Profile.prototype,profiles:Profile.prototype,profile:Profile.prototype,characteristics:Characteristic.prototype,characteristic:Characteristic.prototype,characteristicTypes:Base.prototype,characteristicType:Base.prototype,sharedInfoGroups:InfoGroup.prototype,infoGroups:InfoGroup.prototype,infoGroup:InfoGroup.prototype,publications:Publication.prototype,publication:Publication.prototype,repeats:Condition.prototype,conditions:Condition.prototype,constraints:Constraint.prototype,modifiers:Modifier.prototype,modifierGroups:ModifierGroup.prototype};Object.values(protoMap);function getPrototypeFromKey(Zn){return Zn in protoMap?protoMap[Zn]:protoMap["*"]}function setPrototype(Zn,Jn){const Xn=getPrototypeFromKey(Jn);return Xn&&(Object.setPrototypeOf(Zn,Xn),Zn.post_init&&Zn.post_init(),globalThis.isEditor&&setKeyInfo(Zn.keyInfoCache||keyInfoCache,Jn,Zn)),Zn}function setPrototypeRecursive(Zn){const Jn=[Zn];for(;Jn.length;){const Xn=Jn.pop();for(const Qn of Object.keys(Xn)){const er=Xn[Qn];if(isObject(er))if(Array.isArray(er)){if(er.length&&isObject(er[0]))for(let tr=er.length;tr--;){const nr=er[tr];isDefaultObject(nr)&&(setPrototype(nr,Qn),Jn.push(nr))}}else isDefaultObject(er)&&(setPrototype(er,Qn),Jn.push(er))}}}const useCataloguesStore=defineStore("catalogues",{state:()=>({dict:{},version:1}),persist:{storage:globalThis.localStorage},actions:{get(Zn){return Zn in this.dict||(this.dict[Zn]={}),this.dict[Zn]},setEdited(Zn,Jn){this.get(Zn).edited=Jn},getEdited(Zn){return this.get(Zn).edited},setErrors(Zn,Jn){this.get(Zn).errors=Jn},getErrors(Zn){return this.get(Zn).errors},getDependents(Zn){return this.get(Zn).dependents},updateCatalogue(Zn){var er;const Jn=Zn.id,Xn=Zn.gameSystemId||Zn.id,Qn=(er=Zn.catalogueLinks)==null?void 0:er.map(tr=>({targetId:tr.targetId===Xn?Xn:`${Xn}-${tr.targetId}`,sourceId:Jn===Xn?Xn:`${Xn}-${Jn}`,importRootEntries:tr.importRootEntries,sourceName:Zn.name}));Zn.gameSystemId&&(Qn==null||Qn.push({targetId:Zn.gameSystemId,sourceId:Jn,importRootEntries:!0,sourceName:Zn.name})),this.setDependencies(Jn,Qn)},setDependencies(Zn,Jn){var Qn;const Xn=(Qn=this.get(Zn))==null?void 0:Qn.dependencies;if(Xn)for(const er of Xn)this.removeDependent(er.targetId,er);if(Jn)for(const er of Jn)this.addDependent(er.targetId,er);this.get(Zn).dependencies=Jn||[]},setDependents(Zn,Jn){this.get(Zn).dependents=Jn},addDependent(Zn,Jn){const Xn=this.get(Zn);Xn.dependents||(Xn.dependents=[]),Xn.dependents.push(Jn)},removeDependent(Zn,Jn){var Qn;const Xn=(Qn=this.get(Zn))==null?void 0:Qn.dependents;if(Xn){const er=Xn.findIndex(tr=>tr.sourceId===Jn.sourceId);er>=0&&Xn.splice(er,1)}}}}),LeftPanelDefaults={showImported:!1,ignoreProfilesRules:!1,filter:"",scroll:0,selection:void 0,mode:"edit"},useEditorUIState=defineStore("editor-ui",{state:()=>({catalogues:{}}),persist:{storage:globalThis.localStorage},actions:{collapse_level(Zn){var Xn;if(Zn>=0){const Qn=`depth-${Zn} collapsible-box opened`,er=document.documentElement.getElementsByClassName(Qn);if(er!=null&&er.length)for(var Jn=0;Jn<er.length;Jn++){const tr=er[Jn];(Xn=get_ctx(tr))==null||Xn.close()}}},collapse_all(){this.collapse_level(1),this.collapse_level(0)},collapse_deepest(){const Zn="collapsible-box opened",Jn=document.documentElement.getElementsByClassName(Zn);let Xn=-1;if(Jn!=null&&Jn.length)for(var Qn=0;Qn<Jn.length;Qn++)Jn[Qn].classList.forEach(tr=>{tr.startsWith("depth-")&&(Xn=Math.max(Xn,parseInt(tr.split("-")[1])))});this.collapse_level(Xn)},set_state(Zn,Jn){function Xn(tr,nr,rr=0){const sr=`depth-${rr} collapsible-box opened`,ir=tr.getElementsByClassName(sr);if(ir!=null&&ir.length)for(var or=0;or<ir.length;or++){const ar=ir[or],lr=get_base_from_vue_el(get_ctx(ar)),cr=lr.parentKey,pr=lr.parent;let ur=nr;if(pr){const gr=pr[cr];if(!gr||!Array.isArray(gr))continue;const dr=gr.indexOf(lr);cr in nr||(nr[cr]={});const fr=nr[cr];dr in fr||(fr[dr]={}),ur=fr[dr]}else{const gr=[];for(let fr=0;fr<ar.classList.length;fr++)gr.push(ar.classList[fr]);const dr=gr.filter(fr=>goodJsonKeys.has(fr));for(const fr of dr)nr[fr]={},nr[fr][0]={},ur=nr[fr][0]}Xn(ar,ur,rr+1)}}const Qn={};Xn(document.documentElement,Qn);const er={...Jn,open:Qn};return this.$state.catalogues[Zn]=er,Qn},get_data(Zn){const Jn=this.$state.catalogues[Zn];return Jn||{}},get_root(Zn,Jn){let Xn=this.$state.catalogues[Zn];return!(!Xn||(Xn=Xn.open[Jn],!Xn))},get(Zn,Jn){if(!Jn.length)return!1;let Xn=this.$state.catalogues[Zn];if(!Xn)return!1;let Qn=Xn.open[Jn[0].key];if(!Qn||(Qn=Qn[0],!Qn))return!1;for(const er of Jn){const tr=Qn[er.key];if(!tr)return!1;const nr=tr[er.index];if(!nr)return!1;Qn=nr}return!0}}}),e=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,t=Object.keys,n=Array.isArray;function r(Zn,Jn){return typeof Jn!="object"||t(Jn).forEach(function(Xn){Zn[Xn]=Jn[Xn]}),Zn}typeof Promise>"u"||e.Promise||(e.Promise=Promise);const s=Object.getPrototypeOf,i={}.hasOwnProperty;function o(Zn,Jn){return i.call(Zn,Jn)}function a(Zn,Jn){typeof Jn=="function"&&(Jn=Jn(s(Zn))),(typeof Reflect>"u"?t:Reflect.ownKeys)(Jn).forEach(Xn=>{l(Zn,Xn,Jn[Xn])})}const u=Object.defineProperty;function l(Zn,Jn,Xn,Qn){u(Zn,Jn,r(Xn&&o(Xn,"get")&&typeof Xn.get=="function"?{get:Xn.get,set:Xn.set,configurable:!0}:{value:Xn,configurable:!0,writable:!0},Qn))}function c(Zn){return{from:function(Jn){return Zn.prototype=Object.create(Jn.prototype),l(Zn.prototype,"constructor",Zn),{extend:a.bind(null,Zn.prototype)}}}}const h=Object.getOwnPropertyDescriptor;function d(Zn,Jn){let Xn;return h(Zn,Jn)||(Xn=s(Zn))&&d(Xn,Jn)}const f=[].slice;function p(Zn,Jn,Xn){return f.call(Zn,Jn,Xn)}function y(Zn,Jn){return Jn(Zn)}function m(Zn){if(!Zn)throw new Error("Assertion Failed")}function v(Zn){e.setImmediate?setImmediate(Zn):setTimeout(Zn,0)}function g(Zn,Jn){return Zn.reduce((Xn,Qn,er)=>{var tr=Jn(Qn,er);return tr&&(Xn[tr[0]]=tr[1]),Xn},{})}function b(Zn,Jn){if(o(Zn,Jn))return Zn[Jn];if(!Jn)return Zn;if(typeof Jn!="string"){for(var Xn=[],Qn=0,er=Jn.length;Qn<er;++Qn){var tr=b(Zn,Jn[Qn]);Xn.push(tr)}return Xn}var nr=Jn.indexOf(".");if(nr!==-1){var rr=Zn[Jn.substr(0,nr)];return rr===void 0?void 0:b(rr,Jn.substr(nr+1))}}function _(Zn,Jn,Xn){if(Zn&&Jn!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(Zn)))if(typeof Jn!="string"&&"length"in Jn){m(typeof Xn!="string"&&"length"in Xn);for(var Qn=0,er=Jn.length;Qn<er;++Qn)_(Zn,Jn[Qn],Xn[Qn])}else{var tr=Jn.indexOf(".");if(tr!==-1){var nr=Jn.substr(0,tr),rr=Jn.substr(tr+1);if(rr==="")Xn===void 0?n(Zn)&&!isNaN(parseInt(nr))?Zn.splice(nr,1):delete Zn[nr]:Zn[nr]=Xn;else{var sr=Zn[nr];sr&&o(Zn,nr)||(sr=Zn[nr]={}),_(sr,rr,Xn)}}else Xn===void 0?n(Zn)&&!isNaN(parseInt(Jn))?Zn.splice(Jn,1):delete Zn[Jn]:Zn[Jn]=Xn}}function w(Zn){var Jn={};for(var Xn in Zn)o(Zn,Xn)&&(Jn[Xn]=Zn[Xn]);return Jn}const x=[].concat;function k(Zn){return x.apply([],Zn)}const E="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(k([8,16,32,64].map(Zn=>["Int","Uint","Float"].map(Jn=>Jn+Zn+"Array")))).filter(Zn=>e[Zn]),P=E.map(Zn=>e[Zn]);g(E,Zn=>[Zn,!0]);let K=null;function O(Zn){K=typeof WeakMap<"u"&&new WeakMap;const Jn=S(Zn);return K=null,Jn}function S(Zn){if(!Zn||typeof Zn!="object")return Zn;let Jn=K&&K.get(Zn);if(Jn)return Jn;if(n(Zn)){Jn=[],K&&K.set(Zn,Jn);for(var Xn=0,Qn=Zn.length;Xn<Qn;++Xn)Jn.push(S(Zn[Xn]))}else if(P.indexOf(Zn.constructor)>=0)Jn=Zn;else{const tr=s(Zn);for(var er in Jn=tr===Object.prototype?{}:Object.create(tr),K&&K.set(Zn,Jn),Zn)o(Zn,er)&&(Jn[er]=S(Zn[er]))}return Jn}const{toString:A}={};function C(Zn){return A.call(Zn).slice(8,-1)}const j=typeof Symbol<"u"?Symbol.iterator:"@@iterator",D=typeof j=="symbol"?function(Zn){var Jn;return Zn!=null&&(Jn=Zn[j])&&Jn.apply(Zn)}:function(){return null},I={};function B(Zn){var Jn,Xn,Qn,er;if(arguments.length===1){if(n(Zn))return Zn.slice();if(this===I&&typeof Zn=="string")return[Zn];if(er=D(Zn)){for(Xn=[];!(Qn=er.next()).done;)Xn.push(Qn.value);return Xn}if(Zn==null)return[Zn];if(typeof(Jn=Zn.length)=="number"){for(Xn=new Array(Jn);Jn--;)Xn[Jn]=Zn[Jn];return Xn}return[Zn]}for(Jn=arguments.length,Xn=new Array(Jn);Jn--;)Xn[Jn]=arguments[Jn];return Xn}const T=typeof Symbol<"u"?Zn=>Zn[Symbol.toStringTag]==="AsyncFunction":()=>!1;var R=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function F(Zn,Jn){R=Zn,M=Jn}var M=()=>!0;const N=!new Error("").stack;function q(){if(N)try{throw q.arguments,new Error}catch(Zn){return Zn}return new Error}function $(Zn,Jn){var Xn=Zn.stack;return Xn?(Jn=Jn||0,Xn.indexOf(Zn.name)===0&&(Jn+=(Zn.name+Zn.message).split(`
`).length),Xn.split(`
`).slice(Jn).filter(M).map(Qn=>`
`+Qn).join("")):""}var U=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],L=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(U),V={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function W(Zn,Jn){this._e=q(),this.name=Zn,this.message=Jn}function Y(Zn,Jn){return Zn+". Errors: "+Object.keys(Jn).map(Xn=>Jn[Xn].toString()).filter((Xn,Qn,er)=>er.indexOf(Xn)===Qn).join(`
`)}function z(Zn,Jn,Xn,Qn){this._e=q(),this.failures=Jn,this.failedKeys=Qn,this.successCount=Xn,this.message=Y(Zn,Jn)}function G(Zn,Jn){this._e=q(),this.name="BulkError",this.failures=Object.keys(Jn).map(Xn=>Jn[Xn]),this.failuresByPos=Jn,this.message=Y(Zn,Jn)}c(W).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+$(this._e,2))}},toString:function(){return this.name+": "+this.message}}),c(z).from(W),c(G).from(W);var H=L.reduce((Zn,Jn)=>(Zn[Jn]=Jn+"Error",Zn),{});const Q=W;var X=L.reduce((Zn,Jn)=>{var Xn=Jn+"Error";function Qn(er,tr){this._e=q(),this.name=Xn,er?typeof er=="string"?(this.message=`${er}${tr?`
 `+tr:""}`,this.inner=tr||null):typeof er=="object"&&(this.message=`${er.name} ${er.message}`,this.inner=er):(this.message=V[Jn]||Xn,this.inner=null)}return c(Qn).from(Q),Zn[Jn]=Qn,Zn},{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var J=U.reduce((Zn,Jn)=>(Zn[Jn+"Error"]=X[Jn],Zn),{}),Z=L.reduce((Zn,Jn)=>(["Syntax","Type","Range"].indexOf(Jn)===-1&&(Zn[Jn+"Error"]=X[Jn]),Zn),{});function ee(){}function te(Zn){return Zn}function ne(Zn,Jn){return Zn==null||Zn===te?Jn:function(Xn){return Jn(Zn(Xn))}}function re(Zn,Jn){return function(){Zn.apply(this,arguments),Jn.apply(this,arguments)}}function se(Zn,Jn){return Zn===ee?Jn:function(){var Xn=Zn.apply(this,arguments);Xn!==void 0&&(arguments[0]=Xn);var Qn=this.onsuccess,er=this.onerror;this.onsuccess=null,this.onerror=null;var tr=Jn.apply(this,arguments);return Qn&&(this.onsuccess=this.onsuccess?re(Qn,this.onsuccess):Qn),er&&(this.onerror=this.onerror?re(er,this.onerror):er),tr!==void 0?tr:Xn}}function ie(Zn,Jn){return Zn===ee?Jn:function(){Zn.apply(this,arguments);var Xn=this.onsuccess,Qn=this.onerror;this.onsuccess=this.onerror=null,Jn.apply(this,arguments),Xn&&(this.onsuccess=this.onsuccess?re(Xn,this.onsuccess):Xn),Qn&&(this.onerror=this.onerror?re(Qn,this.onerror):Qn)}}function oe(Zn,Jn){return Zn===ee?Jn:function(Xn){var Qn=Zn.apply(this,arguments);r(Xn,Qn);var er=this.onsuccess,tr=this.onerror;this.onsuccess=null,this.onerror=null;var nr=Jn.apply(this,arguments);return er&&(this.onsuccess=this.onsuccess?re(er,this.onsuccess):er),tr&&(this.onerror=this.onerror?re(tr,this.onerror):tr),Qn===void 0?nr===void 0?void 0:nr:r(Qn,nr)}}function ae(Zn,Jn){return Zn===ee?Jn:function(){return Jn.apply(this,arguments)!==!1&&Zn.apply(this,arguments)}}function ue(Zn,Jn){return Zn===ee?Jn:function(){var Xn=Zn.apply(this,arguments);if(Xn&&typeof Xn.then=="function"){for(var Qn=this,er=arguments.length,tr=new Array(er);er--;)tr[er]=arguments[er];return Xn.then(function(){return Jn.apply(Qn,tr)})}return Jn.apply(this,arguments)}}Z.ModifyError=z,Z.DexieError=W,Z.BulkError=G;var le={};const[ce,he,de]=typeof Promise>"u"?[]:(()=>{let Zn=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[Zn,s(Zn),Zn];const Jn=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[Jn,s(Jn),Zn]})(),fe=he&&he.then,pe=ce&&ce.constructor,ye=!!de;var me=!1,ve=de?()=>{de.then(qe)}:e.setImmediate?setImmediate.bind(null,qe):e.MutationObserver?()=>{var Zn=document.createElement("div");new MutationObserver(()=>{qe(),Zn=null}).observe(Zn,{attributes:!0}),Zn.setAttribute("i","1")}:()=>{setTimeout(qe,0)},ge=function(Zn,Jn){Oe.push([Zn,Jn]),_e&&(ve(),_e=!1)},be=!0,_e=!0,we=[],xe=[],ke=null,Ee=te,Pe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ct,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(Zn=>{try{ct(Zn[0],Zn[1])}catch{}})}},Ke=Pe,Oe=[],Se=0,Ae=[];function Ce(Zn){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ee,this._lib=!1;var Jn=this._PSD=Ke;if(R&&(this._stackHolder=q(),this._prev=null,this._numPrev=0),typeof Zn!="function"){if(Zn!==le)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Be(this,this._value))}this._state=null,this._value=null,++Jn.ref,Ie(this,Zn)}const je={get:function(){var Zn=Ke,Jn=Qe;function Xn(Qn,er){var tr=!Zn.global&&(Zn!==Ke||Jn!==Qe);const nr=tr&&!et();var rr=new Ce((sr,ir)=>{Re(this,new De(ut(Qn,Zn,tr,nr),ut(er,Zn,tr,nr),sr,ir,Zn))});return R&&Ne(rr,this),rr}return Xn.prototype=le,Xn},set:function(Zn){l(this,"then",Zn&&Zn.prototype===le?je:{get:function(){return Zn},set:je.set})}};function De(Zn,Jn,Xn,Qn,er){this.onFulfilled=typeof Zn=="function"?Zn:null,this.onRejected=typeof Jn=="function"?Jn:null,this.resolve=Xn,this.reject=Qn,this.psd=er}function Ie(Zn,Jn){try{Jn(Xn=>{if(Zn._state===null){if(Xn===Zn)throw new TypeError("A promise cannot be resolved with itself.");var Qn=Zn._lib&&$e();Xn&&typeof Xn.then=="function"?Ie(Zn,(er,tr)=>{Xn instanceof Ce?Xn._then(er,tr):Xn.then(er,tr)}):(Zn._state=!0,Zn._value=Xn,Te(Zn)),Qn&&Ue()}},Be.bind(null,Zn))}catch(Xn){Be(Zn,Xn)}}function Be(Zn,Jn){if(xe.push(Jn),Zn._state===null){var Xn=Zn._lib&&$e();Jn=Ee(Jn),Zn._state=!1,Zn._value=Jn,R&&Jn!==null&&typeof Jn=="object"&&!Jn._promise&&function(Qn,er,tr){try{Qn.apply(null,tr)}catch(nr){er&&er(nr)}}(()=>{var Qn=d(Jn,"stack");Jn._promise=Zn,l(Jn,"stack",{get:()=>me?Qn&&(Qn.get?Qn.get.apply(Jn):Qn.value):Zn.stack})}),function(Qn){we.some(er=>er._value===Qn._value)||we.push(Qn)}(Zn),Te(Zn),Xn&&Ue()}}function Te(Zn){var Jn=Zn._listeners;Zn._listeners=[];for(var Xn=0,Qn=Jn.length;Xn<Qn;++Xn)Re(Zn,Jn[Xn]);var er=Zn._PSD;--er.ref||er.finalize(),Se===0&&(++Se,ge(()=>{--Se==0&&Le()},[]))}function Re(Zn,Jn){if(Zn._state!==null){var Xn=Zn._state?Jn.onFulfilled:Jn.onRejected;if(Xn===null)return(Zn._state?Jn.resolve:Jn.reject)(Zn._value);++Jn.psd.ref,++Se,ge(Fe,[Xn,Zn,Jn])}else Zn._listeners.push(Jn)}function Fe(Zn,Jn,Xn){try{ke=Jn;var Qn,er=Jn._value;Jn._state?Qn=Zn(er):(xe.length&&(xe=[]),Qn=Zn(er),xe.indexOf(er)===-1&&function(tr){for(var nr=we.length;nr;)if(we[--nr]._value===tr._value)return void we.splice(nr,1)}(Jn)),Xn.resolve(Qn)}catch(tr){Xn.reject(tr)}finally{ke=null,--Se==0&&Le(),--Xn.psd.ref||Xn.psd.finalize()}}function Me(Zn,Jn,Xn){if(Jn.length===Xn)return Jn;var Qn="";if(Zn._state===!1){var er,tr,nr=Zn._value;nr!=null?(er=nr.name||"Error",tr=nr.message||nr,Qn=$(nr,0)):(er=nr,tr=""),Jn.push(er+(tr?": "+tr:"")+Qn)}return R&&((Qn=$(Zn._stackHolder,2))&&Jn.indexOf(Qn)===-1&&Jn.push(Qn),Zn._prev&&Me(Zn._prev,Jn,Xn)),Jn}function Ne(Zn,Jn){var Xn=Jn?Jn._numPrev+1:0;Xn<100&&(Zn._prev=Jn,Zn._numPrev=Xn)}function qe(){$e()&&Ue()}function $e(){var Zn=be;return be=!1,_e=!1,Zn}function Ue(){var Zn,Jn,Xn;do for(;Oe.length>0;)for(Zn=Oe,Oe=[],Xn=Zn.length,Jn=0;Jn<Xn;++Jn){var Qn=Zn[Jn];Qn[0].apply(null,Qn[1])}while(Oe.length>0);be=!0,_e=!0}function Le(){var Zn=we;we=[],Zn.forEach(Qn=>{Qn._PSD.onunhandled.call(null,Qn._value,Qn)});for(var Jn=Ae.slice(0),Xn=Jn.length;Xn;)Jn[--Xn]()}function Ve(Zn){return new Ce(le,!1,Zn)}function We(Zn,Jn){var Xn=Ke;return function(){var Qn=$e(),er=Ke;try{return st(Xn,!0),Zn.apply(this,arguments)}catch(tr){Jn&&Jn(tr)}finally{st(er,!1),Qn&&Ue()}}}a(Ce.prototype,{then:je,_then:function(Zn,Jn){Re(this,new De(null,null,Zn,Jn,Ke))},catch:function(Zn){if(arguments.length===1)return this.then(null,Zn);var Jn=arguments[0],Xn=arguments[1];return typeof Jn=="function"?this.then(null,Qn=>Qn instanceof Jn?Xn(Qn):Ve(Qn)):this.then(null,Qn=>Qn&&Qn.name===Jn?Xn(Qn):Ve(Qn))},finally:function(Zn){return this.then(Jn=>(Zn(),Jn),Jn=>(Zn(),Ve(Jn)))},stack:{get:function(){if(this._stack)return this._stack;try{me=!0;var Zn=Me(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=Zn),Zn}finally{me=!1}}},timeout:function(Zn,Jn){return Zn<1/0?new Ce((Xn,Qn)=>{var er=setTimeout(()=>Qn(new X.Timeout(Jn)),Zn);this.then(Xn,Qn).finally(clearTimeout.bind(null,er))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&l(Ce.prototype,Symbol.toStringTag,"Dexie.Promise"),Pe.env=it(),a(Ce,{all:function(){var Zn=B.apply(null,arguments).map(tt);return new Ce(function(Jn,Xn){Zn.length===0&&Jn([]);var Qn=Zn.length;Zn.forEach((er,tr)=>Ce.resolve(er).then(nr=>{Zn[tr]=nr,--Qn||Jn(Zn)},Xn))})},resolve:Zn=>{if(Zn instanceof Ce)return Zn;if(Zn&&typeof Zn.then=="function")return new Ce((Xn,Qn)=>{Zn.then(Xn,Qn)});var Jn=new Ce(le,!0,Zn);return Ne(Jn,ke),Jn},reject:Ve,race:function(){var Zn=B.apply(null,arguments).map(tt);return new Ce((Jn,Xn)=>{Zn.map(Qn=>Ce.resolve(Qn).then(Jn,Xn))})},PSD:{get:()=>Ke,set:Zn=>Ke=Zn},totalEchoes:{get:()=>Qe},newPSD:Je,usePSD:ot,scheduler:{get:()=>ge,set:Zn=>{ge=Zn}},rejectionMapper:{get:()=>Ee,set:Zn=>{Ee=Zn}},follow:(Zn,Jn)=>new Ce((Xn,Qn)=>Je((er,tr)=>{var nr=Ke;nr.unhandleds=[],nr.onunhandled=tr,nr.finalize=re(function(){(function(rr){function sr(){rr(),Ae.splice(Ae.indexOf(sr),1)}Ae.push(sr),++Se,ge(()=>{--Se==0&&Le()},[])})(()=>{this.unhandleds.length===0?er():tr(this.unhandleds[0])})},nr.finalize),Zn()},Jn,Xn,Qn))}),pe&&(pe.allSettled&&l(Ce,"allSettled",function(){const Zn=B.apply(null,arguments).map(tt);return new Ce(Jn=>{Zn.length===0&&Jn([]);let Xn=Zn.length;const Qn=new Array(Xn);Zn.forEach((er,tr)=>Ce.resolve(er).then(nr=>Qn[tr]={status:"fulfilled",value:nr},nr=>Qn[tr]={status:"rejected",reason:nr}).then(()=>--Xn||Jn(Qn)))})}),pe.any&&typeof AggregateError<"u"&&l(Ce,"any",function(){const Zn=B.apply(null,arguments).map(tt);return new Ce((Jn,Xn)=>{Zn.length===0&&Xn(new AggregateError([]));let Qn=Zn.length;const er=new Array(Qn);Zn.forEach((tr,nr)=>Ce.resolve(tr).then(rr=>Jn(rr),rr=>{er[nr]=rr,--Qn||Xn(new AggregateError(er))}))})}));const Ye={awaits:0,echoes:0,id:0};var ze=0,Ge=[],He=0,Qe=0,Xe=0;function Je(Zn,Jn,Xn,Qn){var er=Ke,tr=Object.create(er);tr.parent=er,tr.ref=0,tr.global=!1,tr.id=++Xe;var nr=Pe.env;tr.env=ye?{Promise:Ce,PromiseProp:{value:Ce,configurable:!0,writable:!0},all:Ce.all,race:Ce.race,allSettled:Ce.allSettled,any:Ce.any,resolve:Ce.resolve,reject:Ce.reject,nthen:lt(nr.nthen,tr),gthen:lt(nr.gthen,tr)}:{},Jn&&r(tr,Jn),++er.ref,tr.finalize=function(){--this.parent.ref||this.parent.finalize()};var rr=ot(tr,Zn,Xn,Qn);return tr.ref===0&&tr.finalize(),rr}function Ze(){return Ye.id||(Ye.id=++ze),++Ye.awaits,Ye.echoes+=100,Ye.id}function et(){return!!Ye.awaits&&(--Ye.awaits==0&&(Ye.id=0),Ye.echoes=100*Ye.awaits,!0)}function tt(Zn){return Ye.echoes&&Zn&&Zn.constructor===pe?(Ze(),Zn.then(Jn=>(et(),Jn),Jn=>(et(),ht(Jn)))):Zn}function nt(Zn){++Qe,Ye.echoes&&--Ye.echoes!=0||(Ye.echoes=Ye.id=0),Ge.push(Ke),st(Zn,!0)}function rt(){var Zn=Ge[Ge.length-1];Ge.pop(),st(Zn,!1)}function st(Zn,Jn){var Xn=Ke;if((Jn?!Ye.echoes||He++&&Zn===Ke:!He||--He&&Zn===Ke)||at(Jn?nt.bind(null,Zn):rt),Zn!==Ke&&(Ke=Zn,Xn===Pe&&(Pe.env=it()),ye)){var Qn=Pe.env.Promise,er=Zn.env;he.then=er.nthen,Qn.prototype.then=er.gthen,(Xn.global||Zn.global)&&(Object.defineProperty(e,"Promise",er.PromiseProp),Qn.all=er.all,Qn.race=er.race,Qn.resolve=er.resolve,Qn.reject=er.reject,er.allSettled&&(Qn.allSettled=er.allSettled),er.any&&(Qn.any=er.any))}}function it(){var Zn=e.Promise;return ye?{Promise:Zn,PromiseProp:Object.getOwnPropertyDescriptor(e,"Promise"),all:Zn.all,race:Zn.race,allSettled:Zn.allSettled,any:Zn.any,resolve:Zn.resolve,reject:Zn.reject,nthen:he.then,gthen:Zn.prototype.then}:{}}function ot(Zn,Jn,Xn,Qn,er){var tr=Ke;try{return st(Zn,!0),Jn(Xn,Qn,er)}finally{st(tr,!1)}}function at(Zn){fe.call(ce,Zn)}function ut(Zn,Jn,Xn,Qn){return typeof Zn!="function"?Zn:function(){var er=Ke;Xn&&Ze(),st(Jn,!0);try{return Zn.apply(this,arguments)}finally{st(er,!1),Qn&&at(et)}}}function lt(Zn,Jn){return function(Xn,Qn){return Zn.call(this,ut(Xn,Jn),ut(Qn,Jn))}}(""+fe).indexOf("[native code]")===-1&&(Ze=et=ee);function ct(Zn,Jn){var Xn;try{Xn=Jn.onuncatched(Zn)}catch{}if(Xn!==!1)try{var Qn,er={promise:Jn,reason:Zn};if(e.document&&document.createEvent?((Qn=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),r(Qn,er)):e.CustomEvent&&r(Qn=new CustomEvent("unhandledrejection",{detail:er}),er),Qn&&e.dispatchEvent&&(dispatchEvent(Qn),!e.PromiseRejectionEvent&&e.onunhandledrejection))try{e.onunhandledrejection(Qn)}catch{}R&&Qn&&!Qn.defaultPrevented&&console.warn(`Unhandled rejection: ${Zn.stack||Zn}`)}catch{}}var ht=Ce.reject;function dt(Zn,Jn,Xn,Qn){if(Zn.idbdb&&(Zn._state.openComplete||Ke.letThrough||Zn._vip)){var er=Zn._createTransaction(Jn,Xn,Zn._dbSchema);try{er.create(),Zn._state.PR1398_maxLoop=3}catch(tr){return tr.name===H.InvalidState&&Zn.isOpen()&&--Zn._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),Zn._close(),Zn.open().then(()=>dt(Zn,Jn,Xn,Qn))):ht(tr)}return er._promise(Jn,(tr,nr)=>Je(()=>(Ke.trans=er,Qn(tr,nr,er)))).then(tr=>er._completion.then(()=>tr))}if(Zn._state.openComplete)return ht(new X.DatabaseClosed(Zn._state.dbOpenError));if(!Zn._state.isBeingOpened){if(!Zn._options.autoOpen)return ht(new X.DatabaseClosed);Zn.open().catch(ee)}return Zn._state.dbReadyPromise.then(()=>dt(Zn,Jn,Xn,Qn))}const ft=String.fromCharCode(65535),pt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",yt=[],mt=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),vt=mt,gt=mt,bt=Zn=>!/(dexie\.js|dexie\.min\.js)/.test(Zn);function _t(Zn,Jn){return Zn?Jn?function(){return Zn.apply(this,arguments)&&Jn.apply(this,arguments)}:Zn:Jn}const wt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function xt(Zn){return typeof Zn!="string"||/\./.test(Zn)?Jn=>Jn:Jn=>(Jn[Zn]===void 0&&Zn in Jn&&delete(Jn=O(Jn))[Zn],Jn)}class kt{_trans(Jn,Xn,Qn){const er=this._tx||Ke.trans,tr=this.name;function nr(sr,ir,or){if(!or.schema[tr])throw new X.NotFound("Table "+tr+" not part of transaction");return Xn(or.idbtrans,or)}const rr=$e();try{return er&&er.db===this.db?er===Ke.trans?er._promise(Jn,nr,Qn):Je(()=>er._promise(Jn,nr,Qn),{trans:er,transless:Ke.transless||Ke}):dt(this.db,Jn,[this.name],nr)}finally{rr&&Ue()}}get(Jn,Xn){return Jn&&Jn.constructor===Object?this.where(Jn).first(Xn):this._trans("readonly",Qn=>this.core.get({trans:Qn,key:Jn}).then(er=>this.hook.reading.fire(er))).then(Xn)}where(Jn){if(typeof Jn=="string")return new this.db.WhereClause(this,Jn);if(n(Jn))return new this.db.WhereClause(this,`[${Jn.join("+")}]`);const Xn=t(Jn);if(Xn.length===1)return this.where(Xn[0]).equals(Jn[Xn[0]]);const Qn=this.schema.indexes.concat(this.schema.primKey).filter(ir=>ir.compound&&Xn.every(or=>ir.keyPath.indexOf(or)>=0)&&ir.keyPath.every(or=>Xn.indexOf(or)>=0))[0];if(Qn&&this.db._maxKey!==ft)return this.where(Qn.name).equals(Qn.keyPath.map(ir=>Jn[ir]));!Qn&&R&&console.warn(`The query ${JSON.stringify(Jn)} on ${this.name} would benefit of a compound index [${Xn.join("+")}]`);const{idxByName:er}=this.schema,tr=this.db._deps.indexedDB;function nr(ir,or){try{return tr.cmp(ir,or)===0}catch{return!1}}const[rr,sr]=Xn.reduce(([ir,or],ar)=>{const lr=er[ar],cr=Jn[ar];return[ir||lr,ir||!lr?_t(or,lr&&lr.multi?pr=>{const ur=b(pr,ar);return n(ur)&&ur.some(gr=>nr(cr,gr))}:pr=>nr(cr,b(pr,ar))):or]},[null,null]);return rr?this.where(rr.name).equals(Jn[rr.keyPath]).filter(sr):Qn?this.filter(sr):this.where(Xn).equals("")}filter(Jn){return this.toCollection().and(Jn)}count(Jn){return this.toCollection().count(Jn)}offset(Jn){return this.toCollection().offset(Jn)}limit(Jn){return this.toCollection().limit(Jn)}each(Jn){return this.toCollection().each(Jn)}toArray(Jn){return this.toCollection().toArray(Jn)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(Jn){return new this.db.Collection(new this.db.WhereClause(this,n(Jn)?`[${Jn.join("+")}]`:Jn))}reverse(){return this.toCollection().reverse()}mapToClass(Jn){this.schema.mappedClass=Jn;const Xn=Qn=>{if(!Qn)return Qn;const er=Object.create(Jn.prototype);for(var tr in Qn)if(o(Qn,tr))try{er[tr]=Qn[tr]}catch{}return er};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Xn,this.hook("reading",Xn),Jn}defineClass(){return this.mapToClass(function(Jn){r(this,Jn)})}add(Jn,Xn){const{auto:Qn,keyPath:er}=this.schema.primKey;let tr=Jn;return er&&Qn&&(tr=xt(er)(Jn)),this._trans("readwrite",nr=>this.core.mutate({trans:nr,type:"add",keys:Xn!=null?[Xn]:null,values:[tr]})).then(nr=>nr.numFailures?Ce.reject(nr.failures[0]):nr.lastResult).then(nr=>{if(er)try{_(Jn,er,nr)}catch{}return nr})}update(Jn,Xn){if(typeof Jn!="object"||n(Jn))return this.where(":id").equals(Jn).modify(Xn);{const Qn=b(Jn,this.schema.primKey.keyPath);if(Qn===void 0)return ht(new X.InvalidArgument("Given object does not contain its primary key"));try{typeof Xn!="function"?t(Xn).forEach(er=>{_(Jn,er,Xn[er])}):Xn(Jn,{value:Jn,primKey:Qn})}catch{}return this.where(":id").equals(Qn).modify(Xn)}}put(Jn,Xn){const{auto:Qn,keyPath:er}=this.schema.primKey;let tr=Jn;return er&&Qn&&(tr=xt(er)(Jn)),this._trans("readwrite",nr=>this.core.mutate({trans:nr,type:"put",values:[tr],keys:Xn!=null?[Xn]:null})).then(nr=>nr.numFailures?Ce.reject(nr.failures[0]):nr.lastResult).then(nr=>{if(er)try{_(Jn,er,nr)}catch{}return nr})}delete(Jn){return this._trans("readwrite",Xn=>this.core.mutate({trans:Xn,type:"delete",keys:[Jn]})).then(Xn=>Xn.numFailures?Ce.reject(Xn.failures[0]):void 0)}clear(){return this._trans("readwrite",Jn=>this.core.mutate({trans:Jn,type:"deleteRange",range:wt})).then(Jn=>Jn.numFailures?Ce.reject(Jn.failures[0]):void 0)}bulkGet(Jn){return this._trans("readonly",Xn=>this.core.getMany({keys:Jn,trans:Xn}).then(Qn=>Qn.map(er=>this.hook.reading.fire(er))))}bulkAdd(Jn,Xn,Qn){const er=Array.isArray(Xn)?Xn:void 0,tr=(Qn=Qn||(er?void 0:Xn))?Qn.allKeys:void 0;return this._trans("readwrite",nr=>{const{auto:rr,keyPath:sr}=this.schema.primKey;if(sr&&er)throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(er&&er.length!==Jn.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");const ir=Jn.length;let or=sr&&rr?Jn.map(xt(sr)):Jn;return this.core.mutate({trans:nr,type:"add",keys:er,values:or,wantResults:tr}).then(({numFailures:ar,results:lr,lastResult:cr,failures:pr})=>{if(ar===0)return tr?lr:cr;throw new G(`${this.name}.bulkAdd(): ${ar} of ${ir} operations failed`,pr)})})}bulkPut(Jn,Xn,Qn){const er=Array.isArray(Xn)?Xn:void 0,tr=(Qn=Qn||(er?void 0:Xn))?Qn.allKeys:void 0;return this._trans("readwrite",nr=>{const{auto:rr,keyPath:sr}=this.schema.primKey;if(sr&&er)throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(er&&er.length!==Jn.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");const ir=Jn.length;let or=sr&&rr?Jn.map(xt(sr)):Jn;return this.core.mutate({trans:nr,type:"put",keys:er,values:or,wantResults:tr}).then(({numFailures:ar,results:lr,lastResult:cr,failures:pr})=>{if(ar===0)return tr?lr:cr;throw new G(`${this.name}.bulkPut(): ${ar} of ${ir} operations failed`,pr)})})}bulkDelete(Jn){const Xn=Jn.length;return this._trans("readwrite",Qn=>this.core.mutate({trans:Qn,type:"delete",keys:Jn})).then(({numFailures:Qn,lastResult:er,failures:tr})=>{if(Qn===0)return er;throw new G(`${this.name}.bulkDelete(): ${Qn} of ${Xn} operations failed`,tr)})}}function Et(Zn){var Jn={},Xn=function(rr,sr){if(sr){for(var ir=arguments.length,or=new Array(ir-1);--ir;)or[ir-1]=arguments[ir];return Jn[rr].subscribe.apply(null,or),Zn}if(typeof rr=="string")return Jn[rr]};Xn.addEventType=tr;for(var Qn=1,er=arguments.length;Qn<er;++Qn)tr(arguments[Qn]);return Xn;function tr(rr,sr,ir){if(typeof rr=="object")return nr(rr);sr||(sr=ae),ir||(ir=ee);var or={subscribers:[],fire:ir,subscribe:function(ar){or.subscribers.indexOf(ar)===-1&&(or.subscribers.push(ar),or.fire=sr(or.fire,ar))},unsubscribe:function(ar){or.subscribers=or.subscribers.filter(function(lr){return lr!==ar}),or.fire=or.subscribers.reduce(sr,ir)}};return Jn[rr]=Xn[rr]=or,or}function nr(rr){t(rr).forEach(function(sr){var ir=rr[sr];if(n(ir))tr(sr,rr[sr][0],rr[sr][1]);else{if(ir!=="asap")throw new X.InvalidArgument("Invalid event config");var or=tr(sr,te,function(){for(var ar=arguments.length,lr=new Array(ar);ar--;)lr[ar]=arguments[ar];or.subscribers.forEach(function(cr){v(function(){cr.apply(null,lr)})})})}})}}function Pt(Zn,Jn){return c(Jn).from({prototype:Zn}),Jn}function Kt(Zn,Jn){return!(Zn.filter||Zn.algorithm||Zn.or)&&(Jn?Zn.justLimit:!Zn.replayFilter)}function Ot(Zn,Jn){Zn.filter=_t(Zn.filter,Jn)}function St(Zn,Jn,Xn){var Qn=Zn.replayFilter;Zn.replayFilter=Qn?()=>_t(Qn(),Jn()):Jn,Zn.justLimit=Xn&&!Qn}function At(Zn,Jn){if(Zn.isPrimKey)return Jn.primaryKey;const Xn=Jn.getIndexByKeyPath(Zn.index);if(!Xn)throw new X.Schema("KeyPath "+Zn.index+" on object store "+Jn.name+" is not indexed");return Xn}function Ct(Zn,Jn,Xn){const Qn=At(Zn,Jn.schema);return Jn.openCursor({trans:Xn,values:!Zn.keysOnly,reverse:Zn.dir==="prev",unique:!!Zn.unique,query:{index:Qn,range:Zn.range}})}function jt(Zn,Jn,Xn,Qn){const er=Zn.replayFilter?_t(Zn.filter,Zn.replayFilter()):Zn.filter;if(Zn.or){const tr={},nr=(rr,sr,ir)=>{if(!er||er(sr,ir,lr=>sr.stop(lr),lr=>sr.fail(lr))){var or=sr.primaryKey,ar=""+or;ar==="[object ArrayBuffer]"&&(ar=""+new Uint8Array(or)),o(tr,ar)||(tr[ar]=!0,Jn(rr,sr,ir))}};return Promise.all([Zn.or._iterate(nr,Xn),Dt(Ct(Zn,Qn,Xn),Zn.algorithm,nr,!Zn.keysOnly&&Zn.valueMapper)])}return Dt(Ct(Zn,Qn,Xn),_t(Zn.algorithm,er),Jn,!Zn.keysOnly&&Zn.valueMapper)}function Dt(Zn,Jn,Xn,Qn){var er=We(Qn?(tr,nr,rr)=>Xn(Qn(tr),nr,rr):Xn);return Zn.then(tr=>{if(tr)return tr.start(()=>{var nr=()=>tr.continue();Jn&&!Jn(tr,rr=>nr=rr,rr=>{tr.stop(rr),nr=ee},rr=>{tr.fail(rr),nr=ee})||er(tr.value,tr,rr=>nr=rr),nr()})})}function It(Zn,Jn){try{const Xn=Bt(Zn),Qn=Bt(Jn);if(Xn!==Qn)return Xn==="Array"?1:Qn==="Array"?-1:Xn==="binary"?1:Qn==="binary"?-1:Xn==="string"?1:Qn==="string"?-1:Xn==="Date"?1:Qn!=="Date"?NaN:-1;switch(Xn){case"number":case"Date":case"string":return Zn>Jn?1:Zn<Jn?-1:0;case"binary":return function(er,tr){const nr=er.length,rr=tr.length,sr=nr<rr?nr:rr;for(let ir=0;ir<sr;++ir)if(er[ir]!==tr[ir])return er[ir]<tr[ir]?-1:1;return nr===rr?0:nr<rr?-1:1}(Tt(Zn),Tt(Jn));case"Array":return function(er,tr){const nr=er.length,rr=tr.length,sr=nr<rr?nr:rr;for(let ir=0;ir<sr;++ir){const or=It(er[ir],tr[ir]);if(or!==0)return or}return nr===rr?0:nr<rr?-1:1}(Zn,Jn)}}catch{}return NaN}function Bt(Zn){const Jn=typeof Zn;if(Jn!=="object")return Jn;if(ArrayBuffer.isView(Zn))return"binary";const Xn=C(Zn);return Xn==="ArrayBuffer"?"binary":Xn}function Tt(Zn){return Zn instanceof Uint8Array?Zn:ArrayBuffer.isView(Zn)?new Uint8Array(Zn.buffer,Zn.byteOffset,Zn.byteLength):new Uint8Array(Zn)}class Rt{_read(Jn,Xn){var Qn=this._ctx;return Qn.error?Qn.table._trans(null,ht.bind(null,Qn.error)):Qn.table._trans("readonly",Jn).then(Xn)}_write(Jn){var Xn=this._ctx;return Xn.error?Xn.table._trans(null,ht.bind(null,Xn.error)):Xn.table._trans("readwrite",Jn,"locked")}_addAlgorithm(Jn){var Xn=this._ctx;Xn.algorithm=_t(Xn.algorithm,Jn)}_iterate(Jn,Xn){return jt(this._ctx,Jn,Xn,this._ctx.table.core)}clone(Jn){var Xn=Object.create(this.constructor.prototype),Qn=Object.create(this._ctx);return Jn&&r(Qn,Jn),Xn._ctx=Qn,Xn}raw(){return this._ctx.valueMapper=null,this}each(Jn){var Xn=this._ctx;return this._read(Qn=>jt(Xn,Jn,Qn,Xn.table.core))}count(Jn){return this._read(Xn=>{const Qn=this._ctx,er=Qn.table.core;if(Kt(Qn,!0))return er.count({trans:Xn,query:{index:At(Qn,er.schema),range:Qn.range}}).then(nr=>Math.min(nr,Qn.limit));var tr=0;return jt(Qn,()=>(++tr,!1),Xn,er).then(()=>tr)}).then(Jn)}sortBy(Jn,Xn){const Qn=Jn.split(".").reverse(),er=Qn[0],tr=Qn.length-1;function nr(ir,or){return or?nr(ir[Qn[or]],or-1):ir[er]}var rr=this._ctx.dir==="next"?1:-1;function sr(ir,or){var ar=nr(ir,tr),lr=nr(or,tr);return ar<lr?-rr:ar>lr?rr:0}return this.toArray(function(ir){return ir.sort(sr)}).then(Xn)}toArray(Jn){return this._read(Xn=>{var Qn=this._ctx;if(Qn.dir==="next"&&Kt(Qn,!0)&&Qn.limit>0){const{valueMapper:er}=Qn,tr=At(Qn,Qn.table.core.schema);return Qn.table.core.query({trans:Xn,limit:Qn.limit,values:!0,query:{index:tr,range:Qn.range}}).then(({result:nr})=>er?nr.map(er):nr)}{const er=[];return jt(Qn,tr=>er.push(tr),Xn,Qn.table.core).then(()=>er)}},Jn)}offset(Jn){var Xn=this._ctx;return Jn<=0||(Xn.offset+=Jn,Kt(Xn)?St(Xn,()=>{var Qn=Jn;return(er,tr)=>Qn===0||(Qn===1?(--Qn,!1):(tr(()=>{er.advance(Qn),Qn=0}),!1))}):St(Xn,()=>{var Qn=Jn;return()=>--Qn<0})),this}limit(Jn){return this._ctx.limit=Math.min(this._ctx.limit,Jn),St(this._ctx,()=>{var Xn=Jn;return function(Qn,er,tr){return--Xn<=0&&er(tr),Xn>=0}},!0),this}until(Jn,Xn){return Ot(this._ctx,function(Qn,er,tr){return!Jn(Qn.value)||(er(tr),Xn)}),this}first(Jn){return this.limit(1).toArray(function(Xn){return Xn[0]}).then(Jn)}last(Jn){return this.reverse().first(Jn)}filter(Jn){var Xn,Qn;return Ot(this._ctx,function(er){return Jn(er.value)}),Xn=this._ctx,Qn=Jn,Xn.isMatch=_t(Xn.isMatch,Qn),this}and(Jn){return this.filter(Jn)}or(Jn){return new this.db.WhereClause(this._ctx.table,Jn,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(Jn){var Xn=this._ctx;return Xn.keysOnly=!Xn.isMatch,this.each(function(Qn,er){Jn(er.key,er)})}eachUniqueKey(Jn){return this._ctx.unique="unique",this.eachKey(Jn)}eachPrimaryKey(Jn){var Xn=this._ctx;return Xn.keysOnly=!Xn.isMatch,this.each(function(Qn,er){Jn(er.primaryKey,er)})}keys(Jn){var Xn=this._ctx;Xn.keysOnly=!Xn.isMatch;var Qn=[];return this.each(function(er,tr){Qn.push(tr.key)}).then(function(){return Qn}).then(Jn)}primaryKeys(Jn){var Xn=this._ctx;if(Xn.dir==="next"&&Kt(Xn,!0)&&Xn.limit>0)return this._read(er=>{var tr=At(Xn,Xn.table.core.schema);return Xn.table.core.query({trans:er,values:!1,limit:Xn.limit,query:{index:tr,range:Xn.range}})}).then(({result:er})=>er).then(Jn);Xn.keysOnly=!Xn.isMatch;var Qn=[];return this.each(function(er,tr){Qn.push(tr.primaryKey)}).then(function(){return Qn}).then(Jn)}uniqueKeys(Jn){return this._ctx.unique="unique",this.keys(Jn)}firstKey(Jn){return this.limit(1).keys(function(Xn){return Xn[0]}).then(Jn)}lastKey(Jn){return this.reverse().firstKey(Jn)}distinct(){var Jn=this._ctx,Xn=Jn.index&&Jn.table.schema.idxByName[Jn.index];if(!Xn||!Xn.multi)return this;var Qn={};return Ot(this._ctx,function(er){var tr=er.primaryKey.toString(),nr=o(Qn,tr);return Qn[tr]=!0,!nr}),this}modify(Jn){var Xn=this._ctx;return this._write(Qn=>{var er;if(typeof Jn=="function")er=Jn;else{var tr=t(Jn),nr=tr.length;er=function(ur){for(var gr=!1,dr=0;dr<nr;++dr){var fr=tr[dr],yr=Jn[fr];b(ur,fr)!==yr&&(_(ur,fr,yr),gr=!0)}return gr}}const rr=Xn.table.core,{outbound:sr,extractKey:ir}=rr.schema.primaryKey,or=this.db._options.modifyChunkSize||200,ar=[];let lr=0;const cr=[],pr=(ur,gr)=>{const{failures:dr,numFailures:fr}=gr;lr+=ur-fr;for(let yr of t(dr))ar.push(dr[yr])};return this.clone().primaryKeys().then(ur=>{const gr=dr=>{const fr=Math.min(or,ur.length-dr);return rr.getMany({trans:Qn,keys:ur.slice(dr,dr+fr),cache:"immutable"}).then(yr=>{const _r=[],vr=[],Er=sr?[]:null,kr=[];for(let Cr=0;Cr<fr;++Cr){const Lr=yr[Cr],Vr={value:O(Lr),primKey:ur[dr+Cr]};er.call(Vr,Vr.value,Vr)!==!1&&(Vr.value==null?kr.push(ur[dr+Cr]):sr||It(ir(Lr),ir(Vr.value))===0?(vr.push(Vr.value),sr&&Er.push(ur[dr+Cr])):(kr.push(ur[dr+Cr]),_r.push(Vr.value)))}const xr=Kt(Xn)&&Xn.limit===1/0&&(typeof Jn!="function"||Jn===Ft)&&{index:Xn.index,range:Xn.range};return Promise.resolve(_r.length>0&&rr.mutate({trans:Qn,type:"add",values:_r}).then(Cr=>{for(let Lr in Cr.failures)kr.splice(parseInt(Lr),1);pr(_r.length,Cr)})).then(()=>(vr.length>0||xr&&typeof Jn=="object")&&rr.mutate({trans:Qn,type:"put",keys:Er,values:vr,criteria:xr,changeSpec:typeof Jn!="function"&&Jn}).then(Cr=>pr(vr.length,Cr))).then(()=>(kr.length>0||xr&&Jn===Ft)&&rr.mutate({trans:Qn,type:"delete",keys:kr,criteria:xr}).then(Cr=>pr(kr.length,Cr))).then(()=>ur.length>dr+fr&&gr(dr+or))})};return gr(0).then(()=>{if(ar.length>0)throw new z("Error modifying one or more objects",ar,lr,cr);return ur.length})})})}delete(){var Jn=this._ctx,Xn=Jn.range;return Kt(Jn)&&(Jn.isPrimKey&&!gt||Xn.type===3)?this._write(Qn=>{const{primaryKey:er}=Jn.table.core.schema,tr=Xn;return Jn.table.core.count({trans:Qn,query:{index:er,range:tr}}).then(nr=>Jn.table.core.mutate({trans:Qn,type:"deleteRange",range:tr}).then(({failures:rr,lastResult:sr,results:ir,numFailures:or})=>{if(or)throw new z("Could not delete some values",Object.keys(rr).map(ar=>rr[ar]),nr-or);return nr-or}))}):this.modify(Ft)}}const Ft=(Zn,Jn)=>Jn.value=null;function Mt(Zn,Jn){return Zn<Jn?-1:Zn===Jn?0:1}function Nt(Zn,Jn){return Zn>Jn?-1:Zn===Jn?0:1}function qt(Zn,Jn,Xn){var Qn=Zn instanceof Yt?new Zn.Collection(Zn):Zn;return Qn._ctx.error=Xn?new Xn(Jn):new TypeError(Jn),Qn}function $t(Zn){return new Zn.Collection(Zn,()=>Wt("")).limit(0)}function Ut(Zn,Jn,Xn,Qn,er,tr){for(var nr=Math.min(Zn.length,Qn.length),rr=-1,sr=0;sr<nr;++sr){var ir=Jn[sr];if(ir!==Qn[sr])return er(Zn[sr],Xn[sr])<0?Zn.substr(0,sr)+Xn[sr]+Xn.substr(sr+1):er(Zn[sr],Qn[sr])<0?Zn.substr(0,sr)+Qn[sr]+Xn.substr(sr+1):rr>=0?Zn.substr(0,rr)+Jn[rr]+Xn.substr(rr+1):null;er(Zn[sr],ir)<0&&(rr=sr)}return nr<Qn.length&&tr==="next"?Zn+Xn.substr(Zn.length):nr<Zn.length&&tr==="prev"?Zn.substr(0,Xn.length):rr<0?null:Zn.substr(0,rr)+Qn[rr]+Xn.substr(rr+1)}function Lt(Zn,Jn,Xn,Qn){var er,tr,nr,rr,sr,ir,or,ar=Xn.length;if(!Xn.every(ur=>typeof ur=="string"))return qt(Zn,"String expected.");function lr(ur){er=function(dr){return dr==="next"?fr=>fr.toUpperCase():fr=>fr.toLowerCase()}(ur),tr=function(dr){return dr==="next"?fr=>fr.toLowerCase():fr=>fr.toUpperCase()}(ur),nr=ur==="next"?Mt:Nt;var gr=Xn.map(function(dr){return{lower:tr(dr),upper:er(dr)}}).sort(function(dr,fr){return nr(dr.lower,fr.lower)});rr=gr.map(function(dr){return dr.upper}),sr=gr.map(function(dr){return dr.lower}),ir=ur,or=ur==="next"?"":Qn}lr("next");var cr=new Zn.Collection(Zn,()=>Vt(rr[0],sr[ar-1]+Qn));cr._ondirectionchange=function(ur){lr(ur)};var pr=0;return cr._addAlgorithm(function(ur,gr,dr){var fr=ur.key;if(typeof fr!="string")return!1;var yr=tr(fr);if(Jn(yr,sr,pr))return!0;for(var _r=null,vr=pr;vr<ar;++vr){var Er=Ut(fr,yr,rr[vr],sr[vr],nr,ir);Er===null&&_r===null?pr=vr+1:(_r===null||nr(_r,Er)>0)&&(_r=Er)}return gr(_r!==null?function(){ur.continue(_r+or)}:dr),!1}),cr}function Vt(Zn,Jn,Xn,Qn){return{type:2,lower:Zn,upper:Jn,lowerOpen:Xn,upperOpen:Qn}}function Wt(Zn){return{type:1,lower:Zn,upper:Zn}}class Yt{get Collection(){return this._ctx.table.db.Collection}between(Jn,Xn,Qn,er){Qn=Qn!==!1,er=er===!0;try{return this._cmp(Jn,Xn)>0||this._cmp(Jn,Xn)===0&&(Qn||er)&&(!Qn||!er)?$t(this):new this.Collection(this,()=>Vt(Jn,Xn,!Qn,!er))}catch{return qt(this,pt)}}equals(Jn){return Jn==null?qt(this,pt):new this.Collection(this,()=>Wt(Jn))}above(Jn){return Jn==null?qt(this,pt):new this.Collection(this,()=>Vt(Jn,void 0,!0))}aboveOrEqual(Jn){return Jn==null?qt(this,pt):new this.Collection(this,()=>Vt(Jn,void 0,!1))}below(Jn){return Jn==null?qt(this,pt):new this.Collection(this,()=>Vt(void 0,Jn,!1,!0))}belowOrEqual(Jn){return Jn==null?qt(this,pt):new this.Collection(this,()=>Vt(void 0,Jn))}startsWith(Jn){return typeof Jn!="string"?qt(this,"String expected."):this.between(Jn,Jn+ft,!0,!0)}startsWithIgnoreCase(Jn){return Jn===""?this.startsWith(Jn):Lt(this,(Xn,Qn)=>Xn.indexOf(Qn[0])===0,[Jn],ft)}equalsIgnoreCase(Jn){return Lt(this,(Xn,Qn)=>Xn===Qn[0],[Jn],"")}anyOfIgnoreCase(){var Jn=B.apply(I,arguments);return Jn.length===0?$t(this):Lt(this,(Xn,Qn)=>Qn.indexOf(Xn)!==-1,Jn,"")}startsWithAnyOfIgnoreCase(){var Jn=B.apply(I,arguments);return Jn.length===0?$t(this):Lt(this,(Xn,Qn)=>Qn.some(er=>Xn.indexOf(er)===0),Jn,ft)}anyOf(){const Jn=B.apply(I,arguments);let Xn=this._cmp;try{Jn.sort(Xn)}catch{return qt(this,pt)}if(Jn.length===0)return $t(this);const Qn=new this.Collection(this,()=>Vt(Jn[0],Jn[Jn.length-1]));Qn._ondirectionchange=tr=>{Xn=tr==="next"?this._ascending:this._descending,Jn.sort(Xn)};let er=0;return Qn._addAlgorithm((tr,nr,rr)=>{const sr=tr.key;for(;Xn(sr,Jn[er])>0;)if(++er,er===Jn.length)return nr(rr),!1;return Xn(sr,Jn[er])===0||(nr(()=>{tr.continue(Jn[er])}),!1)}),Qn}notEqual(Jn){return this.inAnyRange([[-(1/0),Jn],[Jn,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const Jn=B.apply(I,arguments);if(Jn.length===0)return new this.Collection(this);try{Jn.sort(this._ascending)}catch{return qt(this,pt)}const Xn=Jn.reduce((Qn,er)=>Qn?Qn.concat([[Qn[Qn.length-1][1],er]]):[[-(1/0),er]],null);return Xn.push([Jn[Jn.length-1],this.db._maxKey]),this.inAnyRange(Xn,{includeLowers:!1,includeUppers:!1})}inAnyRange(Jn,Xn){const Qn=this._cmp,er=this._ascending,tr=this._descending,nr=this._min,rr=this._max;if(Jn.length===0)return $t(this);if(!Jn.every(fr=>fr[0]!==void 0&&fr[1]!==void 0&&er(fr[0],fr[1])<=0))return qt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X.InvalidArgument);const sr=!Xn||Xn.includeLowers!==!1,ir=Xn&&Xn.includeUppers===!0;let or,ar=er;function lr(fr,yr){return ar(fr[0],yr[0])}try{or=Jn.reduce(function(fr,yr){let _r=0,vr=fr.length;for(;_r<vr;++_r){const Er=fr[_r];if(Qn(yr[0],Er[1])<0&&Qn(yr[1],Er[0])>0){Er[0]=nr(Er[0],yr[0]),Er[1]=rr(Er[1],yr[1]);break}}return _r===vr&&fr.push(yr),fr},[]),or.sort(lr)}catch{return qt(this,pt)}let cr=0;const pr=ir?fr=>er(fr,or[cr][1])>0:fr=>er(fr,or[cr][1])>=0,ur=sr?fr=>tr(fr,or[cr][0])>0:fr=>tr(fr,or[cr][0])>=0;let gr=pr;const dr=new this.Collection(this,()=>Vt(or[0][0],or[or.length-1][1],!sr,!ir));return dr._ondirectionchange=fr=>{fr==="next"?(gr=pr,ar=er):(gr=ur,ar=tr),or.sort(lr)},dr._addAlgorithm((fr,yr,_r)=>{for(var vr=fr.key;gr(vr);)if(++cr,cr===or.length)return yr(_r),!1;return!!function(Er){return!pr(Er)&&!ur(Er)}(vr)||(this._cmp(vr,or[cr][1])===0||this._cmp(vr,or[cr][0])===0||yr(()=>{ar===er?fr.continue(or[cr][0]):fr.continue(or[cr][1])}),!1)}),dr}startsWithAnyOf(){const Jn=B.apply(I,arguments);return Jn.every(Xn=>typeof Xn=="string")?Jn.length===0?$t(this):this.inAnyRange(Jn.map(Xn=>[Xn,Xn+ft])):qt(this,"startsWithAnyOf() only works with strings")}}function zt(Zn){return We(function(Jn){return Gt(Jn),Zn(Jn.target.error),!1})}function Gt(Zn){Zn.stopPropagation&&Zn.stopPropagation(),Zn.preventDefault&&Zn.preventDefault()}const Ht=Et(null,"storagemutated");class Qt{_lock(){return m(!Ke.global),++this._reculock,this._reculock!==1||Ke.global||(Ke.lockOwnerFor=this),this}_unlock(){if(m(!Ke.global),--this._reculock==0)for(Ke.global||(Ke.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var Jn=this._blockedFuncs.shift();try{ot(Jn[1],Jn[0])}catch{}}return this}_locked(){return this._reculock&&Ke.lockOwnerFor!==this}create(Jn){if(!this.mode)return this;const Xn=this.db.idbdb,Qn=this.db._state.dbOpenError;if(m(!this.idbtrans),!Jn&&!Xn)switch(Qn&&Qn.name){case"DatabaseClosedError":throw new X.DatabaseClosed(Qn);case"MissingAPIError":throw new X.MissingAPI(Qn.message,Qn);default:throw new X.OpenFailed(Qn)}if(!this.active)throw new X.TransactionInactive;return m(this._completion._state===null),(Jn=this.idbtrans=Jn||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):Xn.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=We(er=>{Gt(er),this._reject(Jn.error)}),Jn.onabort=We(er=>{Gt(er),this.active&&this._reject(new X.Abort(Jn.error)),this.active=!1,this.on("abort").fire(er)}),Jn.oncomplete=We(()=>{this.active=!1,this._resolve(),"mutatedParts"in Jn&&Ht.storagemutated.fire(Jn.mutatedParts)}),this}_promise(Jn,Xn,Qn){if(Jn==="readwrite"&&this.mode!=="readwrite")return ht(new X.ReadOnly("Transaction is readonly"));if(!this.active)return ht(new X.TransactionInactive);if(this._locked())return new Ce((tr,nr)=>{this._blockedFuncs.push([()=>{this._promise(Jn,Xn,Qn).then(tr,nr)},Ke])});if(Qn)return Je(()=>{var tr=new Ce((nr,rr)=>{this._lock();const sr=Xn(nr,rr,this);sr&&sr.then&&sr.then(nr,rr)});return tr.finally(()=>this._unlock()),tr._lib=!0,tr});var er=new Ce((tr,nr)=>{var rr=Xn(tr,nr,this);rr&&rr.then&&rr.then(tr,nr)});return er._lib=!0,er}_root(){return this.parent?this.parent._root():this}waitFor(Jn){var Xn=this._root();const Qn=Ce.resolve(Jn);if(Xn._waitingFor)Xn._waitingFor=Xn._waitingFor.then(()=>Qn);else{Xn._waitingFor=Qn,Xn._waitingQueue=[];var er=Xn.idbtrans.objectStore(Xn.storeNames[0]);(function nr(){for(++Xn._spinCount;Xn._waitingQueue.length;)Xn._waitingQueue.shift()();Xn._waitingFor&&(er.get(-1/0).onsuccess=nr)})()}var tr=Xn._waitingFor;return new Ce((nr,rr)=>{Qn.then(sr=>Xn._waitingQueue.push(We(nr.bind(null,sr))),sr=>Xn._waitingQueue.push(We(rr.bind(null,sr)))).finally(()=>{Xn._waitingFor===tr&&(Xn._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))}table(Jn){const Xn=this._memoizedTables||(this._memoizedTables={});if(o(Xn,Jn))return Xn[Jn];const Qn=this.schema[Jn];if(!Qn)throw new X.NotFound("Table "+Jn+" not part of transaction");const er=new this.db.Table(Jn,Qn,this);return er.core=this.db.core.table(Jn),Xn[Jn]=er,er}}function Xt(Zn,Jn,Xn,Qn,er,tr,nr){return{name:Zn,keyPath:Jn,unique:Xn,multi:Qn,auto:er,compound:tr,src:(Xn&&!nr?"&":"")+(Qn?"*":"")+(er?"++":"")+Jt(Jn)}}function Jt(Zn){return typeof Zn=="string"?Zn:Zn?"["+[].join.call(Zn,"+")+"]":""}function Zt(Zn,Jn,Xn){return{name:Zn,primKey:Jn,indexes:Xn,mappedClass:null,idxByName:g(Xn,Qn=>[Qn.name,Qn])}}let en=Zn=>{try{return Zn.only([[]]),en=()=>[[]],[[]]}catch{return en=()=>ft,ft}};function tn(Zn){return Zn==null?()=>{}:typeof Zn=="string"?function(Jn){return Jn.split(".").length===1?Xn=>Xn[Jn]:Xn=>b(Xn,Jn)}(Zn):Jn=>b(Jn,Zn)}function nn(Zn){return[].slice.call(Zn)}let rn=0;function sn(Zn){return Zn==null?":id":typeof Zn=="string"?Zn:`[${Zn.join("+")}]`}function on(Zn,Jn,Xn){function Qn(sr){if(sr.type===3)return null;if(sr.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:ir,upper:or,lowerOpen:ar,upperOpen:lr}=sr;return ir===void 0?or===void 0?null:Jn.upperBound(or,!!lr):or===void 0?Jn.lowerBound(ir,!!ar):Jn.bound(ir,or,!!ar,!!lr)}const{schema:er,hasGetAll:tr}=function(sr,ir){const or=nn(sr.objectStoreNames);return{schema:{name:sr.name,tables:or.map(ar=>ir.objectStore(ar)).map(ar=>{const{keyPath:lr,autoIncrement:cr}=ar,pr=n(lr),ur=lr==null,gr={},dr={name:ar.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:ur,compound:pr,keyPath:lr,autoIncrement:cr,unique:!0,extractKey:tn(lr)},indexes:nn(ar.indexNames).map(fr=>ar.index(fr)).map(fr=>{const{name:yr,unique:_r,multiEntry:vr,keyPath:Er}=fr,kr={name:yr,compound:n(Er),keyPath:Er,unique:_r,multiEntry:vr,extractKey:tn(Er)};return gr[sn(Er)]=kr,kr}),getIndexByKeyPath:fr=>gr[sn(fr)]};return gr[":id"]=dr.primaryKey,lr!=null&&(gr[sn(lr)]=dr.primaryKey),dr})},hasGetAll:or.length>0&&"getAll"in ir.objectStore(or[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(Zn,Xn),nr=er.tables.map(sr=>function(ir){const or=ir.name;return{name:or,schema:ir,mutate:function({trans:ar,type:lr,keys:cr,values:pr,range:ur}){return new Promise((gr,dr)=>{gr=We(gr);const fr=ar.objectStore(or),yr=fr.keyPath==null,_r=lr==="put"||lr==="add";if(!_r&&lr!=="delete"&&lr!=="deleteRange")throw new Error("Invalid operation type: "+lr);const{length:vr}=cr||pr||{length:1};if(cr&&pr&&cr.length!==pr.length)throw new Error("Given keys array must have same length as given values array.");if(vr===0)return gr({numFailures:0,failures:{},results:[],lastResult:void 0});let Er;const kr=[],xr=[];let Cr=0;const Lr=wr=>{++Cr,Gt(wr)};if(lr==="deleteRange"){if(ur.type===4)return gr({numFailures:Cr,failures:xr,results:[],lastResult:void 0});ur.type===3?kr.push(Er=fr.clear()):kr.push(Er=fr.delete(Qn(ur)))}else{const[wr,$r]=_r?yr?[pr,cr]:[pr,null]:[cr,null];if(_r)for(let mr=0;mr<vr;++mr)kr.push(Er=$r&&$r[mr]!==void 0?fr[lr](wr[mr],$r[mr]):fr[lr](wr[mr])),Er.onerror=Lr;else for(let mr=0;mr<vr;++mr)kr.push(Er=fr[lr](wr[mr])),Er.onerror=Lr}const Vr=wr=>{const $r=wr.target.result;kr.forEach((mr,jr)=>mr.error!=null&&(xr[jr]=mr.error)),gr({numFailures:Cr,failures:xr,results:lr==="delete"?cr:kr.map(mr=>mr.result),lastResult:$r})};Er.onerror=wr=>{Lr(wr),Vr(wr)},Er.onsuccess=Vr})},getMany:({trans:ar,keys:lr})=>new Promise((cr,pr)=>{cr=We(cr);const ur=ar.objectStore(or),gr=lr.length,dr=new Array(gr);let fr,yr=0,_r=0;const vr=kr=>{const xr=kr.target;dr[xr._pos]=xr.result,++_r===yr&&cr(dr)},Er=zt(pr);for(let kr=0;kr<gr;++kr)lr[kr]!=null&&(fr=ur.get(lr[kr]),fr._pos=kr,fr.onsuccess=vr,fr.onerror=Er,++yr);yr===0&&cr(dr)}),get:({trans:ar,key:lr})=>new Promise((cr,pr)=>{cr=We(cr);const ur=ar.objectStore(or).get(lr);ur.onsuccess=gr=>cr(gr.target.result),ur.onerror=zt(pr)}),query:function(ar){return lr=>new Promise((cr,pr)=>{cr=We(cr);const{trans:ur,values:gr,limit:dr,query:fr}=lr,yr=dr===1/0?void 0:dr,{index:_r,range:vr}=fr,Er=ur.objectStore(or),kr=_r.isPrimaryKey?Er:Er.index(_r.name),xr=Qn(vr);if(dr===0)return cr({result:[]});if(ar){const Cr=gr?kr.getAll(xr,yr):kr.getAllKeys(xr,yr);Cr.onsuccess=Lr=>cr({result:Lr.target.result}),Cr.onerror=zt(pr)}else{let Cr=0;const Lr=gr||!("openKeyCursor"in kr)?kr.openCursor(xr):kr.openKeyCursor(xr),Vr=[];Lr.onsuccess=wr=>{const $r=Lr.result;return $r?(Vr.push(gr?$r.value:$r.primaryKey),++Cr===dr?cr({result:Vr}):void $r.continue()):cr({result:Vr})},Lr.onerror=zt(pr)}})}(tr),openCursor:function({trans:ar,values:lr,query:cr,reverse:pr,unique:ur}){return new Promise((gr,dr)=>{gr=We(gr);const{index:fr,range:yr}=cr,_r=ar.objectStore(or),vr=fr.isPrimaryKey?_r:_r.index(fr.name),Er=pr?ur?"prevunique":"prev":ur?"nextunique":"next",kr=lr||!("openKeyCursor"in vr)?vr.openCursor(Qn(yr),Er):vr.openKeyCursor(Qn(yr),Er);kr.onerror=zt(dr),kr.onsuccess=We(xr=>{const Cr=kr.result;if(!Cr)return void gr(null);Cr.___id=++rn,Cr.done=!1;const Lr=Cr.continue.bind(Cr);let Vr=Cr.continuePrimaryKey;Vr&&(Vr=Vr.bind(Cr));const wr=Cr.advance.bind(Cr),$r=()=>{throw new Error("Cursor not stopped")};Cr.trans=ar,Cr.stop=Cr.continue=Cr.continuePrimaryKey=Cr.advance=()=>{throw new Error("Cursor not started")},Cr.fail=We(dr),Cr.next=function(){let mr=1;return this.start(()=>mr--?this.continue():this.stop()).then(()=>this)},Cr.start=mr=>{const jr=new Promise((Hr,rs)=>{Hr=We(Hr),kr.onerror=zt(rs),Cr.fail=rs,Cr.stop=Xr=>{Cr.stop=Cr.continue=Cr.continuePrimaryKey=Cr.advance=$r,Hr(Xr)}}),Qr=()=>{if(kr.result)try{mr()}catch(Hr){Cr.fail(Hr)}else Cr.done=!0,Cr.start=()=>{throw new Error("Cursor behind last entry")},Cr.stop()};return kr.onsuccess=We(Hr=>{kr.onsuccess=Qr,Qr()}),Cr.continue=Lr,Cr.continuePrimaryKey=Vr,Cr.advance=wr,Qr(),jr},gr(Cr)},dr)})},count({query:ar,trans:lr}){const{index:cr,range:pr}=ar;return new Promise((ur,gr)=>{const dr=lr.objectStore(or),fr=cr.isPrimaryKey?dr:dr.index(cr.name),yr=Qn(pr),_r=yr?fr.count(yr):fr.count();_r.onsuccess=We(vr=>ur(vr.target.result)),_r.onerror=zt(gr)})}}}(sr)),rr={};return nr.forEach(sr=>rr[sr.name]=sr),{stack:"dbcore",transaction:Zn.transaction.bind(Zn),table(sr){if(!rr[sr])throw new Error(`Table '${sr}' not found`);return rr[sr]},MIN_KEY:-1/0,MAX_KEY:en(Jn),schema:er}}function an({_novip:Zn},Jn){const Xn=Jn.db,Qn=function(er,tr,{IDBKeyRange:nr,indexedDB:rr},sr){return{dbcore:function(or,ar){return ar.reduce((lr,{create:cr})=>({...lr,...cr(lr)}),or)}(on(tr,nr,sr),er.dbcore)}}(Zn._middlewares,Xn,Zn._deps,Jn);Zn.core=Qn.dbcore,Zn.tables.forEach(er=>{const tr=er.name;Zn.core.schema.tables.some(nr=>nr.name===tr)&&(er.core=Zn.core.table(tr),Zn[tr]instanceof Zn.Table&&(Zn[tr].core=er.core))})}function un({_novip:Zn},Jn,Xn,Qn){Xn.forEach(er=>{const tr=Qn[er];Jn.forEach(nr=>{const rr=d(nr,er);(!rr||"value"in rr&&rr.value===void 0)&&(nr===Zn.Transaction.prototype||nr instanceof Zn.Transaction?l(nr,er,{get(){return this.table(er)},set(sr){u(this,er,{value:sr,writable:!0,configurable:!0,enumerable:!0})}}):nr[er]=new Zn.Table(er,tr))})})}function ln({_novip:Zn},Jn){Jn.forEach(Xn=>{for(let Qn in Xn)Xn[Qn]instanceof Zn.Table&&delete Xn[Qn]})}function cn(Zn,Jn){return Zn._cfg.version-Jn._cfg.version}function hn(Zn,Jn,Xn,Qn){const er=Zn._dbSchema,tr=Zn._createTransaction("readwrite",Zn._storeNames,er);tr.create(Xn),tr._completion.catch(Qn);const nr=tr._reject.bind(tr),rr=Ke.transless||Ke;Je(()=>{Ke.trans=tr,Ke.transless=rr,Jn===0?(t(er).forEach(sr=>{fn(Xn,sr,er[sr].primKey,er[sr].indexes)}),an(Zn,Xn),Ce.follow(()=>Zn.on.populate.fire(tr)).catch(nr)):function({_novip:sr},ir,or,ar){const lr=[],cr=sr._versions;let pr=sr._dbSchema=yn(sr,sr.idbdb,ar),ur=!1;function gr(){return lr.length?Ce.resolve(lr.shift()(or.idbtrans)).then(gr):Ce.resolve()}return cr.filter(dr=>dr._cfg.version>=ir).forEach(dr=>{lr.push(()=>{const fr=pr,yr=dr._cfg.dbschema;mn(sr,fr,ar),mn(sr,yr,ar),pr=sr._dbSchema=yr;const _r=dn(fr,yr);_r.add.forEach(Er=>{fn(ar,Er[0],Er[1].primKey,Er[1].indexes)}),_r.change.forEach(Er=>{if(Er.recreate)throw new X.Upgrade("Not yet support for changing primary key");{const kr=ar.objectStore(Er.name);Er.add.forEach(xr=>pn(kr,xr)),Er.change.forEach(xr=>{kr.deleteIndex(xr.name),pn(kr,xr)}),Er.del.forEach(xr=>kr.deleteIndex(xr))}});const vr=dr._cfg.contentUpgrade;if(vr&&dr._cfg.version>ir){an(sr,ar),or._memoizedTables={},ur=!0;let Er=w(yr);_r.del.forEach(Lr=>{Er[Lr]=fr[Lr]}),ln(sr,[sr.Transaction.prototype]),un(sr,[sr.Transaction.prototype],t(Er),Er),or.schema=Er;const kr=T(vr);let xr;kr&&Ze();const Cr=Ce.follow(()=>{if(xr=vr(or),xr&&kr){var Lr=et.bind(null,null);xr.then(Lr,Lr)}});return xr&&typeof xr.then=="function"?Ce.resolve(xr):Cr.then(()=>xr)}}),lr.push(fr=>{(!ur||!vt)&&function(yr,_r){[].slice.call(_r.db.objectStoreNames).forEach(vr=>yr[vr]==null&&_r.db.deleteObjectStore(vr))}(dr._cfg.dbschema,fr),ln(sr,[sr.Transaction.prototype]),un(sr,[sr.Transaction.prototype],sr._storeNames,sr._dbSchema),or.schema=sr._dbSchema})}),gr().then(()=>{var dr,fr;fr=ar,t(dr=pr).forEach(yr=>{fr.db.objectStoreNames.contains(yr)||fn(fr,yr,dr[yr].primKey,dr[yr].indexes)})})}(Zn,Jn,tr,Xn).catch(nr)})}function dn(Zn,Jn){const Xn={del:[],add:[],change:[]};let Qn;for(Qn in Zn)Jn[Qn]||Xn.del.push(Qn);for(Qn in Jn){const er=Zn[Qn],tr=Jn[Qn];if(er){const nr={name:Qn,def:tr,recreate:!1,del:[],add:[],change:[]};if(""+(er.primKey.keyPath||"")!=""+(tr.primKey.keyPath||"")||er.primKey.auto!==tr.primKey.auto&&!mt)nr.recreate=!0,Xn.change.push(nr);else{const rr=er.idxByName,sr=tr.idxByName;let ir;for(ir in rr)sr[ir]||nr.del.push(ir);for(ir in sr){const or=rr[ir],ar=sr[ir];or?or.src!==ar.src&&nr.change.push(ar):nr.add.push(ar)}(nr.del.length>0||nr.add.length>0||nr.change.length>0)&&Xn.change.push(nr)}}else Xn.add.push([Qn,tr])}return Xn}function fn(Zn,Jn,Xn,Qn){const er=Zn.db.createObjectStore(Jn,Xn.keyPath?{keyPath:Xn.keyPath,autoIncrement:Xn.auto}:{autoIncrement:Xn.auto});return Qn.forEach(tr=>pn(er,tr)),er}function pn(Zn,Jn){Zn.createIndex(Jn.name,Jn.keyPath,{unique:Jn.unique,multiEntry:Jn.multi})}function yn(Zn,Jn,Xn){const Qn={};return p(Jn.objectStoreNames,0).forEach(er=>{const tr=Xn.objectStore(er);let nr=tr.keyPath;const rr=Xt(Jt(nr),nr||"",!1,!1,!!tr.autoIncrement,nr&&typeof nr!="string",!0),sr=[];for(let or=0;or<tr.indexNames.length;++or){const ar=tr.index(tr.indexNames[or]);nr=ar.keyPath;var ir=Xt(ar.name,nr,!!ar.unique,!!ar.multiEntry,!1,nr&&typeof nr!="string",!1);sr.push(ir)}Qn[er]=Zt(er,rr,sr)}),Qn}function mn({_novip:Zn},Jn,Xn){const Qn=Xn.db.objectStoreNames;for(let er=0;er<Qn.length;++er){const tr=Qn[er],nr=Xn.objectStore(tr);Zn._hasGetAll="getAll"in nr;for(let rr=0;rr<nr.indexNames.length;++rr){const sr=nr.indexNames[rr],ir=nr.index(sr).keyPath,or=typeof ir=="string"?ir:"["+p(ir).join("+")+"]";if(Jn[tr]){const ar=Jn[tr].idxByName[or];ar&&(ar.name=sr,delete Jn[tr].idxByName[or],Jn[tr].idxByName[sr]=ar)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&e.WorkerGlobalScope&&e instanceof e.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(Zn._hasGetAll=!1)}class vn{_parseStoresSpec(Jn,Xn){t(Jn).forEach(Qn=>{if(Jn[Qn]!==null){var er=Jn[Qn].split(",").map((nr,rr)=>{const sr=(nr=nr.trim()).replace(/([&*]|\+\+)/g,""),ir=/^\[/.test(sr)?sr.match(/^\[(.*)\]$/)[1].split("+"):sr;return Xt(sr,ir||null,/\&/.test(nr),/\*/.test(nr),/\+\+/.test(nr),n(ir),rr===0)}),tr=er.shift();if(tr.multi)throw new X.Schema("Primary key cannot be multi-valued");er.forEach(nr=>{if(nr.auto)throw new X.Schema("Only primary key can be marked as autoIncrement (++)");if(!nr.keyPath)throw new X.Schema("Index must have a name and cannot be an empty string")}),Xn[Qn]=Zt(Qn,tr,er)}})}stores(Jn){const Xn=this.db;this._cfg.storesSource=this._cfg.storesSource?r(this._cfg.storesSource,Jn):Jn;const Qn=Xn._versions,er={};let tr={};return Qn.forEach(nr=>{r(er,nr._cfg.storesSource),tr=nr._cfg.dbschema={},nr._parseStoresSpec(er,tr)}),Xn._dbSchema=tr,ln(Xn,[Xn._allTables,Xn,Xn.Transaction.prototype]),un(Xn,[Xn._allTables,Xn,Xn.Transaction.prototype,this._cfg.tables],t(tr),tr),Xn._storeNames=t(tr),this}upgrade(Jn){return this._cfg.contentUpgrade=ue(this._cfg.contentUpgrade||ee,Jn),this}}function gn(Zn,Jn){let Xn=Zn._dbNamesDB;return Xn||(Xn=Zn._dbNamesDB=new $n("__dbnames",{addons:[],indexedDB:Zn,IDBKeyRange:Jn}),Xn.version(1).stores({dbnames:"name"})),Xn.table("dbnames")}function bn(Zn){return Zn&&typeof Zn.databases=="function"}function _n(Zn){return Je(function(){return Ke.letThrough=!0,Zn()})}function wn(){var Zn;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Jn){var Xn=function(){return indexedDB.databases().finally(Jn)};Zn=setInterval(Xn,100),Xn()}).finally(function(){return clearInterval(Zn)}):Promise.resolve()}function xn(Zn){const Jn=Zn._state,{indexedDB:Xn}=Zn._deps;if(Jn.isBeingOpened||Zn.idbdb)return Jn.dbReadyPromise.then(()=>Jn.dbOpenError?ht(Jn.dbOpenError):Zn);R&&(Jn.openCanceller._stackHolder=q()),Jn.isBeingOpened=!0,Jn.dbOpenError=null,Jn.openComplete=!1;const Qn=Jn.openCanceller;function er(){if(Jn.openCanceller!==Qn)throw new X.DatabaseClosed("db.open() was cancelled")}let tr=Jn.dbReadyResolve,nr=null,rr=!1;return Ce.race([Qn,(typeof navigator>"u"?Ce.resolve():wn()).then(()=>new Ce((sr,ir)=>{if(er(),!Xn)throw new X.MissingAPI;const or=Zn.name,ar=Jn.autoSchema?Xn.open(or):Xn.open(or,Math.round(10*Zn.verno));if(!ar)throw new X.MissingAPI;ar.onerror=zt(ir),ar.onblocked=We(Zn._fireOnBlocked),ar.onupgradeneeded=We(lr=>{if(nr=ar.transaction,Jn.autoSchema&&!Zn._options.allowEmptyDB){ar.onerror=Gt,nr.abort(),ar.result.close();const pr=Xn.deleteDatabase(or);pr.onsuccess=pr.onerror=We(()=>{ir(new X.NoSuchDatabase(`Database ${or} doesnt exist`))})}else{nr.onerror=zt(ir);var cr=lr.oldVersion>Math.pow(2,62)?0:lr.oldVersion;rr=cr<1,Zn._novip.idbdb=ar.result,hn(Zn,cr/10,nr,ir)}},ir),ar.onsuccess=We(()=>{nr=null;const lr=Zn._novip.idbdb=ar.result,cr=p(lr.objectStoreNames);if(cr.length>0)try{const ur=lr.transaction((pr=cr).length===1?pr[0]:pr,"readonly");Jn.autoSchema?function({_novip:gr},dr,fr){gr.verno=dr.version/10;const yr=gr._dbSchema=yn(0,dr,fr);gr._storeNames=p(dr.objectStoreNames,0),un(gr,[gr._allTables],t(yr),yr)}(Zn,lr,ur):(mn(Zn,Zn._dbSchema,ur),function(gr,dr){const fr=dn(yn(0,gr.idbdb,dr),gr._dbSchema);return!(fr.add.length||fr.change.some(yr=>yr.add.length||yr.change.length))}(Zn,ur)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),an(Zn,ur)}catch{}var pr;yt.push(Zn),lr.onversionchange=We(ur=>{Jn.vcFired=!0,Zn.on("versionchange").fire(ur)}),lr.onclose=We(ur=>{Zn.on("close").fire(ur)}),rr&&function({indexedDB:ur,IDBKeyRange:gr},dr){!bn(ur)&&dr!=="__dbnames"&&gn(ur,gr).put({name:dr}).catch(ee)}(Zn._deps,or),sr()},ir)}))]).then(()=>(er(),Jn.onReadyBeingFired=[],Ce.resolve(_n(()=>Zn.on.ready.fire(Zn.vip))).then(function sr(){if(Jn.onReadyBeingFired.length>0){let ir=Jn.onReadyBeingFired.reduce(ue,ee);return Jn.onReadyBeingFired=[],Ce.resolve(_n(()=>ir(Zn.vip))).then(sr)}}))).finally(()=>{Jn.onReadyBeingFired=null,Jn.isBeingOpened=!1}).then(()=>Zn).catch(sr=>{Jn.dbOpenError=sr;try{nr&&nr.abort()}catch{}return Qn===Jn.openCanceller&&Zn._close(),ht(sr)}).finally(()=>{Jn.openComplete=!0,tr()})}function kn(Zn){var Jn=tr=>Zn.next(tr),Xn=er(Jn),Qn=er(tr=>Zn.throw(tr));function er(tr){return nr=>{var rr=tr(nr),sr=rr.value;return rr.done?sr:sr&&typeof sr.then=="function"?sr.then(Xn,Qn):n(sr)?Promise.all(sr).then(Xn,Qn):Xn(sr)}}return er(Jn)()}function En(Zn,Jn,Xn){var Qn=arguments.length;if(Qn<2)throw new X.InvalidArgument("Too few arguments");for(var er=new Array(Qn-1);--Qn;)er[Qn-1]=arguments[Qn];Xn=er.pop();var tr=k(er);return[Zn,tr,Xn]}function Pn(Zn,Jn,Xn,Qn,er){return Ce.resolve().then(()=>{const tr=Ke.transless||Ke,nr=Zn._createTransaction(Jn,Xn,Zn._dbSchema,Qn),rr={trans:nr,transless:tr};if(Qn)nr.idbtrans=Qn.idbtrans;else try{nr.create(),Zn._state.PR1398_maxLoop=3}catch(ar){return ar.name===H.InvalidState&&Zn.isOpen()&&--Zn._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),Zn._close(),Zn.open().then(()=>Pn(Zn,Jn,Xn,null,er))):ht(ar)}const sr=T(er);let ir;sr&&Ze();const or=Ce.follow(()=>{if(ir=er.call(nr,nr),ir)if(sr){var ar=et.bind(null,null);ir.then(ar,ar)}else typeof ir.next=="function"&&typeof ir.throw=="function"&&(ir=kn(ir))},rr);return(ir&&typeof ir.then=="function"?Ce.resolve(ir).then(ar=>nr.active?ar:ht(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):or.then(()=>ir)).then(ar=>(Qn&&nr._resolve(),nr._completion.then(()=>ar))).catch(ar=>(nr._reject(ar),ht(ar)))})}function Kn(Zn,Jn,Xn){const Qn=n(Zn)?Zn.slice():[Zn];for(let er=0;er<Xn;++er)Qn.push(Jn);return Qn}const On={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(Zn){return{...Zn,table(Jn){const Xn=Zn.table(Jn),{schema:Qn}=Xn,er={},tr=[];function nr(or,ar,lr){const cr=sn(or),pr=er[cr]=er[cr]||[],ur=or==null?0:typeof or=="string"?1:or.length,gr=ar>0,dr={...lr,isVirtual:gr,keyTail:ar,keyLength:ur,extractKey:tn(or),unique:!gr&&lr.unique};return pr.push(dr),dr.isPrimaryKey||tr.push(dr),ur>1&&nr(ur===2?or[0]:or.slice(0,ur-1),ar+1,lr),pr.sort((fr,yr)=>fr.keyTail-yr.keyTail),dr}const rr=nr(Qn.primaryKey.keyPath,0,Qn.primaryKey);er[":id"]=[rr];for(const or of Qn.indexes)nr(or.keyPath,0,or);function sr(or){const ar=or.query.index;return ar.isVirtual?{...or,query:{index:ar,range:(lr=or.query.range,cr=ar.keyTail,{type:lr.type===1?2:lr.type,lower:Kn(lr.lower,lr.lowerOpen?Zn.MAX_KEY:Zn.MIN_KEY,cr),lowerOpen:!0,upper:Kn(lr.upper,lr.upperOpen?Zn.MIN_KEY:Zn.MAX_KEY,cr),upperOpen:!0})}}:or;var lr,cr}return{...Xn,schema:{...Qn,primaryKey:rr,indexes:tr,getIndexByKeyPath:function(or){const ar=er[sn(or)];return ar&&ar[0]}},count:or=>Xn.count(sr(or)),query:or=>Xn.query(sr(or)),openCursor(or){const{keyTail:ar,isVirtual:lr,keyLength:cr}=or.query.index;return lr?Xn.openCursor(sr(or)).then(pr=>pr&&function(ur){return Object.create(ur,{continue:{value:function(dr){dr!=null?ur.continue(Kn(dr,or.reverse?Zn.MAX_KEY:Zn.MIN_KEY,ar)):or.unique?ur.continue(ur.key.slice(0,cr).concat(or.reverse?Zn.MIN_KEY:Zn.MAX_KEY,ar)):ur.continue()}},continuePrimaryKey:{value(dr,fr){ur.continuePrimaryKey(Kn(dr,Zn.MAX_KEY,ar),fr)}},primaryKey:{get:()=>ur.primaryKey},key:{get(){const dr=ur.key;return cr===1?dr[0]:dr.slice(0,cr)}},value:{get:()=>ur.value}})}(pr)):Xn.openCursor(or)}}}}}};function Sn(Zn,Jn,Xn,Qn){return Xn=Xn||{},Qn=Qn||"",t(Zn).forEach(er=>{if(o(Jn,er)){var tr=Zn[er],nr=Jn[er];if(typeof tr=="object"&&typeof nr=="object"&&tr&&nr){const rr=C(tr);rr!==C(nr)?Xn[Qn+er]=Jn[er]:rr==="Object"?Sn(tr,nr,Xn,Qn+er+"."):tr!==nr&&(Xn[Qn+er]=Jn[er])}else tr!==nr&&(Xn[Qn+er]=Jn[er])}else Xn[Qn+er]=void 0}),t(Jn).forEach(er=>{o(Zn,er)||(Xn[Qn+er]=Jn[er])}),Xn}const An={stack:"dbcore",name:"HooksMiddleware",level:2,create:Zn=>({...Zn,table(Jn){const Xn=Zn.table(Jn),{primaryKey:Qn}=Xn.schema;return{...Xn,mutate(tr){const nr=Ke.trans,{deleting:rr,creating:sr,updating:ir}=nr.table(Jn).hook;switch(tr.type){case"add":if(sr.fire===ee)break;return nr._promise("readwrite",()=>or(tr),!0);case"put":if(sr.fire===ee&&ir.fire===ee)break;return nr._promise("readwrite",()=>or(tr),!0);case"delete":if(rr.fire===ee)break;return nr._promise("readwrite",()=>or(tr),!0);case"deleteRange":if(rr.fire===ee)break;return nr._promise("readwrite",()=>function(lr){return ar(lr.trans,lr.range,1e4)}(tr),!0)}return Xn.mutate(tr);function or(lr){const cr=Ke.trans,pr=lr.keys||function(ur,gr){return gr.type==="delete"?gr.keys:gr.keys||gr.values.map(ur.extractKey)}(Qn,lr);if(!pr)throw new Error("Keys missing");return(lr=lr.type==="add"||lr.type==="put"?{...lr,keys:pr}:{...lr}).type!=="delete"&&(lr.values=[...lr.values]),lr.keys&&(lr.keys=[...lr.keys]),function(ur,gr,dr){return gr.type==="add"?Promise.resolve([]):ur.getMany({trans:gr.trans,keys:dr,cache:"immutable"})}(Xn,lr,pr).then(ur=>{const gr=pr.map((dr,fr)=>{const yr=ur[fr],_r={onerror:null,onsuccess:null};if(lr.type==="delete")rr.fire.call(_r,dr,yr,cr);else if(lr.type==="add"||yr===void 0){const vr=sr.fire.call(_r,dr,lr.values[fr],cr);dr==null&&vr!=null&&(dr=vr,lr.keys[fr]=dr,Qn.outbound||_(lr.values[fr],Qn.keyPath,dr))}else{const vr=Sn(yr,lr.values[fr]),Er=ir.fire.call(_r,vr,dr,yr,cr);if(Er){const kr=lr.values[fr];Object.keys(Er).forEach(xr=>{o(kr,xr)?kr[xr]=Er[xr]:_(kr,xr,Er[xr])})}}return _r});return Xn.mutate(lr).then(({failures:dr,results:fr,numFailures:yr,lastResult:_r})=>{for(let vr=0;vr<pr.length;++vr){const Er=fr?fr[vr]:pr[vr],kr=gr[vr];Er==null?kr.onerror&&kr.onerror(dr[vr]):kr.onsuccess&&kr.onsuccess(lr.type==="put"&&ur[vr]?lr.values[vr]:Er)}return{failures:dr,results:fr,numFailures:yr,lastResult:_r}}).catch(dr=>(gr.forEach(fr=>fr.onerror&&fr.onerror(dr)),Promise.reject(dr)))})}function ar(lr,cr,pr){return Xn.query({trans:lr,values:!1,query:{index:Qn,range:cr},limit:pr}).then(({result:ur})=>or({type:"delete",keys:ur,trans:lr}).then(gr=>gr.numFailures>0?Promise.reject(gr.failures[0]):ur.length<pr?{failures:[],numFailures:0,lastResult:void 0}:ar(lr,{...cr,lower:ur[ur.length-1],lowerOpen:!0},pr)))}}}}})};function Cn(Zn,Jn,Xn){try{if(!Jn||Jn.keys.length<Zn.length)return null;const Qn=[];for(let er=0,tr=0;er<Jn.keys.length&&tr<Zn.length;++er)It(Jn.keys[er],Zn[tr])===0&&(Qn.push(Xn?O(Jn.values[er]):Jn.values[er]),++tr);return Qn.length===Zn.length?Qn:null}catch{return null}}const jn={stack:"dbcore",level:-1,create:Zn=>({table:Jn=>{const Xn=Zn.table(Jn);return{...Xn,getMany:Qn=>{if(!Qn.cache)return Xn.getMany(Qn);const er=Cn(Qn.keys,Qn.trans._cache,Qn.cache==="clone");return er?Ce.resolve(er):Xn.getMany(Qn).then(tr=>(Qn.trans._cache={keys:Qn.keys,values:Qn.cache==="clone"?O(tr):tr},tr))},mutate:Qn=>(Qn.type!=="add"&&(Qn.trans._cache=null),Xn.mutate(Qn))}}})};function Dn(Zn){return!("from"in Zn)}const In=function(Zn,Jn){if(!this){const Xn=new In;return Zn&&"d"in Zn&&r(Xn,Zn),Xn}r(this,arguments.length?{d:1,from:Zn,to:arguments.length>1?Jn:Zn}:{d:0})};function Bn(Zn,Jn,Xn){const Qn=It(Jn,Xn);if(isNaN(Qn))return;if(Qn>0)throw RangeError();if(Dn(Zn))return r(Zn,{from:Jn,to:Xn,d:1});const er=Zn.l,tr=Zn.r;if(It(Xn,Zn.from)<0)return er?Bn(er,Jn,Xn):Zn.l={from:Jn,to:Xn,d:1,l:null,r:null},Mn(Zn);if(It(Jn,Zn.to)>0)return tr?Bn(tr,Jn,Xn):Zn.r={from:Jn,to:Xn,d:1,l:null,r:null},Mn(Zn);It(Jn,Zn.from)<0&&(Zn.from=Jn,Zn.l=null,Zn.d=tr?tr.d+1:1),It(Xn,Zn.to)>0&&(Zn.to=Xn,Zn.r=null,Zn.d=Zn.l?Zn.l.d+1:1);const nr=!Zn.r;er&&!Zn.l&&Tn(Zn,er),tr&&nr&&Tn(Zn,tr)}function Tn(Zn,Jn){Dn(Jn)||function Xn(Qn,{from:er,to:tr,l:nr,r:rr}){Bn(Qn,er,tr),nr&&Xn(Qn,nr),rr&&Xn(Qn,rr)}(Zn,Jn)}function Rn(Zn,Jn){const Xn=Fn(Jn);let Qn=Xn.next();if(Qn.done)return!1;let er=Qn.value;const tr=Fn(Zn);let nr=tr.next(er.from),rr=nr.value;for(;!Qn.done&&!nr.done;){if(It(rr.from,er.to)<=0&&It(rr.to,er.from)>=0)return!0;It(er.from,rr.from)<0?er=(Qn=Xn.next(rr.from)).value:rr=(nr=tr.next(er.from)).value}return!1}function Fn(Zn){let Jn=Dn(Zn)?null:{s:0,n:Zn};return{next(Xn){const Qn=arguments.length>0;for(;Jn;)switch(Jn.s){case 0:if(Jn.s=1,Qn)for(;Jn.n.l&&It(Xn,Jn.n.from)<0;)Jn={up:Jn,n:Jn.n.l,s:1};else for(;Jn.n.l;)Jn={up:Jn,n:Jn.n.l,s:1};case 1:if(Jn.s=2,!Qn||It(Xn,Jn.n.to)<=0)return{value:Jn.n,done:!1};case 2:if(Jn.n.r){Jn.s=3,Jn={up:Jn,n:Jn.n.r,s:0};continue}case 3:Jn=Jn.up}return{done:!0}}}}function Mn(Zn){var Jn,Xn;const Qn=(((Jn=Zn.r)===null||Jn===void 0?void 0:Jn.d)||0)-(((Xn=Zn.l)===null||Xn===void 0?void 0:Xn.d)||0),er=Qn>1?"r":Qn<-1?"l":"";if(er){const tr=er==="r"?"l":"r",nr={...Zn},rr=Zn[er];Zn.from=rr.from,Zn.to=rr.to,Zn[er]=rr[er],nr[er]=rr[tr],Zn[tr]=nr,nr.d=Nn(nr)}Zn.d=Nn(Zn)}function Nn({r:Zn,l:Jn}){return(Zn?Jn?Math.max(Zn.d,Jn.d):Zn.d:Jn?Jn.d:0)+1}a(In.prototype,{add(Zn){return Tn(this,Zn),this},addKey(Zn){return Bn(this,Zn,Zn),this},addKeys(Zn){return Zn.forEach(Jn=>Bn(this,Jn,Jn)),this},[j](){return Fn(this)}});const qn={stack:"dbcore",level:0,create:Zn=>{const Jn=Zn.schema.name,Xn=new In(Zn.MIN_KEY,Zn.MAX_KEY);return{...Zn,table:Qn=>{const er=Zn.table(Qn),{schema:tr}=er,{primaryKey:nr}=tr,{extractKey:rr,outbound:sr}=nr,ir={...er,mutate:lr=>{const cr=lr.trans,pr=cr.mutatedParts||(cr.mutatedParts={}),ur=Er=>{const kr=`idb://${Jn}/${Qn}/${Er}`;return pr[kr]||(pr[kr]=new In)},gr=ur(""),dr=ur(":dels"),{type:fr}=lr;let[yr,_r]=lr.type==="deleteRange"?[lr.range]:lr.type==="delete"?[lr.keys]:lr.values.length<50?[[],lr.values]:[];const vr=lr.trans._cache;return er.mutate(lr).then(Er=>{if(n(yr)){fr!=="delete"&&(yr=Er.results),gr.addKeys(yr);const kr=Cn(yr,vr);kr||fr==="add"||dr.addKeys(yr),(kr||_r)&&function(xr,Cr,Lr,Vr){function wr($r){const mr=xr($r.name||"");function jr(Hr){return Hr!=null?$r.extractKey(Hr):null}const Qr=Hr=>$r.multiEntry&&n(Hr)?Hr.forEach(rs=>mr.addKey(rs)):mr.addKey(Hr);(Lr||Vr).forEach((Hr,rs)=>{const Xr=Lr&&jr(Lr[rs]),ls=Vr&&jr(Vr[rs]);It(Xr,ls)!==0&&(Xr!=null&&Qr(Xr),ls!=null&&Qr(ls))})}Cr.indexes.forEach(wr)}(ur,tr,kr,_r)}else if(yr){const kr={from:yr.lower,to:yr.upper};dr.add(kr),gr.add(kr)}else gr.add(Xn),dr.add(Xn),tr.indexes.forEach(kr=>ur(kr.name).add(Xn));return Er})}},or=({query:{index:lr,range:cr}})=>{var pr,ur;return[lr,new In((pr=cr.lower)!==null&&pr!==void 0?pr:Zn.MIN_KEY,(ur=cr.upper)!==null&&ur!==void 0?ur:Zn.MAX_KEY)]},ar={get:lr=>[nr,new In(lr.key)],getMany:lr=>[nr,new In().addKeys(lr.keys)],count:or,query:or,openCursor:or};return t(ar).forEach(lr=>{ir[lr]=function(cr){const{subscr:pr}=Ke;if(pr){const ur=_r=>{const vr=`idb://${Jn}/${Qn}/${_r}`;return pr[vr]||(pr[vr]=new In)},gr=ur(""),dr=ur(":dels"),[fr,yr]=ar[lr](cr);if(ur(fr.name||"").add(yr),!fr.isPrimaryKey){if(lr!=="count"){const _r=lr==="query"&&sr&&cr.values&&er.query({...cr,values:!1});return er[lr].apply(this,arguments).then(vr=>{if(lr==="query"){if(sr&&cr.values)return _r.then(({result:kr})=>(gr.addKeys(kr),vr));const Er=cr.values?vr.result.map(rr):vr.result;cr.values?gr.addKeys(Er):dr.addKeys(Er)}else if(lr==="openCursor"){const Er=vr,kr=cr.values;return Er&&Object.create(Er,{key:{get:()=>(dr.addKey(Er.primaryKey),Er.key)},primaryKey:{get(){const xr=Er.primaryKey;return dr.addKey(xr),xr}},value:{get:()=>(kr&&gr.addKey(Er.primaryKey),Er.value)}})}return vr})}dr.add(Xn)}}return er[lr].apply(this,arguments)}}),ir}}}};class $n{constructor(Jn,Xn){this._middlewares={},this.verno=0;const Qn=$n.dependencies;this._options=Xn={addons:$n.addons,autoOpen:!0,indexedDB:Qn.indexedDB,IDBKeyRange:Qn.IDBKeyRange,...Xn},this._deps={indexedDB:Xn.indexedDB,IDBKeyRange:Xn.IDBKeyRange};const{addons:er}=Xn;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const tr={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ee,dbReadyPromise:null,cancelOpen:ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var nr;tr.dbReadyPromise=new Ce(rr=>{tr.dbReadyResolve=rr}),tr.openCanceller=new Ce((rr,sr)=>{tr.cancelOpen=sr}),this._state=tr,this.name=Jn,this.on=Et(this,"populate","blocked","versionchange","close",{ready:[ue,ee]}),this.on.ready.subscribe=y(this.on.ready.subscribe,rr=>(sr,ir)=>{$n.vip(()=>{const or=this._state;if(or.openComplete)or.dbOpenError||Ce.resolve().then(sr),ir&&rr(sr);else if(or.onReadyBeingFired)or.onReadyBeingFired.push(sr),ir&&rr(sr);else{rr(sr);const ar=this;ir||rr(function lr(){ar.on.ready.unsubscribe(sr),ar.on.ready.unsubscribe(lr)})}})}),this.Collection=(nr=this,Pt(Rt.prototype,function(rr,sr){this.db=nr;let ir=wt,or=null;if(sr)try{ir=sr()}catch(pr){or=pr}const ar=rr._ctx,lr=ar.table,cr=lr.hook.reading.fire;this._ctx={table:lr,index:ar.index,isPrimKey:!ar.index||lr.schema.primKey.keyPath&&ar.index===lr.schema.primKey.name,range:ir,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:or,or:ar.or,valueMapper:cr!==te?cr:null}})),this.Table=function(rr){return Pt(kt.prototype,function(sr,ir,or){this.db=rr,this._tx=or,this.name=sr,this.schema=ir,this.hook=rr._allTables[sr]?rr._allTables[sr].hook:Et(null,{creating:[se,ee],reading:[ne,te],updating:[oe,ee],deleting:[ie,ee]})})}(this),this.Transaction=function(rr){return Pt(Qt.prototype,function(sr,ir,or,ar,lr){this.db=rr,this.mode=sr,this.storeNames=ir,this.schema=or,this.chromeTransactionDurability=ar,this.idbtrans=null,this.on=Et(this,"complete","error","abort"),this.parent=lr||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ce((cr,pr)=>{this._resolve=cr,this._reject=pr}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},cr=>{var pr=this.active;return this.active=!1,this.on.error.fire(cr),this.parent?this.parent._reject(cr):pr&&this.idbtrans&&this.idbtrans.abort(),ht(cr)})})}(this),this.Version=function(rr){return Pt(vn.prototype,function(sr){this.db=rr,this._cfg={version:sr,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(rr){return Pt(Yt.prototype,function(sr,ir,or){this.db=rr,this._ctx={table:sr,index:ir===":id"?null:ir,or};const ar=rr._deps.indexedDB;if(!ar)throw new X.MissingAPI;this._cmp=this._ascending=ar.cmp.bind(ar),this._descending=(lr,cr)=>ar.cmp(cr,lr),this._max=(lr,cr)=>ar.cmp(lr,cr)>0?lr:cr,this._min=(lr,cr)=>ar.cmp(lr,cr)<0?lr:cr,this._IDBKeyRange=rr._deps.IDBKeyRange})}(this),this.on("versionchange",rr=>{rr.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",rr=>{!rr.newVersion||rr.newVersion<rr.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${rr.oldVersion/10}`)}),this._maxKey=en(Xn.IDBKeyRange),this._createTransaction=(rr,sr,ir,or)=>new this.Transaction(rr,sr,ir,this._options.chromeTransactionDurability,or),this._fireOnBlocked=rr=>{this.on("blocked").fire(rr),yt.filter(sr=>sr.name===this.name&&sr!==this&&!sr._state.vcFired).map(sr=>sr.on("versionchange").fire(rr))},this.use(On),this.use(An),this.use(qn),this.use(jn),this.vip=Object.create(this,{_vip:{value:!0}}),er.forEach(rr=>rr(this))}version(Jn){if(isNaN(Jn)||Jn<.1)throw new X.Type("Given version is not a positive number");if(Jn=Math.round(10*Jn)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,Jn);const Xn=this._versions;var Qn=Xn.filter(er=>er._cfg.version===Jn)[0];return Qn||(Qn=new this.Version(Jn),Xn.push(Qn),Xn.sort(cn),Qn.stores({}),this._state.autoSchema=!1,Qn)}_whenReady(Jn){return this.idbdb&&(this._state.openComplete||Ke.letThrough||this._vip)?Jn():new Ce((Xn,Qn)=>{if(this._state.openComplete)return Qn(new X.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void Qn(new X.DatabaseClosed);this.open().catch(ee)}this._state.dbReadyPromise.then(Xn,Qn)}).then(Jn)}use({stack:Jn,create:Xn,level:Qn,name:er}){er&&this.unuse({stack:Jn,name:er});const tr=this._middlewares[Jn]||(this._middlewares[Jn]=[]);return tr.push({stack:Jn,create:Xn,level:Qn??10,name:er}),tr.sort((nr,rr)=>nr.level-rr.level),this}unuse({stack:Jn,name:Xn,create:Qn}){return Jn&&this._middlewares[Jn]&&(this._middlewares[Jn]=this._middlewares[Jn].filter(er=>Qn?er.create!==Qn:!!Xn&&er.name!==Xn)),this}open(){return xn(this)}_close(){const Jn=this._state,Xn=yt.indexOf(this);if(Xn>=0&&yt.splice(Xn,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}Jn.dbReadyPromise=new Ce(Qn=>{Jn.dbReadyResolve=Qn}),Jn.openCanceller=new Ce((Qn,er)=>{Jn.cancelOpen=er})}close(){this._close();const Jn=this._state;this._options.autoOpen=!1,Jn.dbOpenError=new X.DatabaseClosed,Jn.isBeingOpened&&Jn.cancelOpen(Jn.dbOpenError)}delete(){const Jn=arguments.length>0,Xn=this._state;return new Ce((Qn,er)=>{const tr=()=>{this.close();var nr=this._deps.indexedDB.deleteDatabase(this.name);nr.onsuccess=We(()=>{(function({indexedDB:rr,IDBKeyRange:sr},ir){!bn(rr)&&ir!=="__dbnames"&&gn(rr,sr).delete(ir).catch(ee)})(this._deps,this.name),Qn()}),nr.onerror=zt(er),nr.onblocked=this._fireOnBlocked};if(Jn)throw new X.InvalidArgument("Arguments not allowed in db.delete()");Xn.isBeingOpened?Xn.dbReadyPromise.then(tr):tr()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const Jn=this._state.dbOpenError;return Jn&&Jn.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return t(this._allTables).map(Jn=>this._allTables[Jn])}transaction(){const Jn=En.apply(this,arguments);return this._transaction.apply(this,Jn)}_transaction(Jn,Xn,Qn){let er=Ke.trans;er&&er.db===this&&Jn.indexOf("!")===-1||(er=null);const tr=Jn.indexOf("?")!==-1;let nr,rr;Jn=Jn.replace("!","").replace("?","");try{if(rr=Xn.map(ir=>{var or=ir instanceof this.Table?ir.name:ir;if(typeof or!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return or}),Jn=="r"||Jn==="readonly")nr="readonly";else{if(Jn!="rw"&&Jn!="readwrite")throw new X.InvalidArgument("Invalid transaction mode: "+Jn);nr="readwrite"}if(er){if(er.mode==="readonly"&&nr==="readwrite"){if(!tr)throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");er=null}er&&rr.forEach(ir=>{if(er&&er.storeNames.indexOf(ir)===-1){if(!tr)throw new X.SubTransaction("Table "+ir+" not included in parent transaction.");er=null}}),tr&&er&&!er.active&&(er=null)}}catch(ir){return er?er._promise(null,(or,ar)=>{ar(ir)}):ht(ir)}const sr=Pn.bind(null,this,nr,rr,er,Qn);return er?er._promise(nr,sr,"lock"):Ke.trans?ot(Ke.transless,()=>this._whenReady(sr)):this._whenReady(sr)}table(Jn){if(!o(this._allTables,Jn))throw new X.InvalidTable(`Table ${Jn} does not exist`);return this._allTables[Jn]}}const Un=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Ln{constructor(Jn){this._subscribe=Jn}subscribe(Jn,Xn,Qn){return this._subscribe(Jn&&typeof Jn!="function"?Jn:{next:Jn,error:Xn,complete:Qn})}[Un](){return this}}function Vn(Zn,Jn){return t(Jn).forEach(Xn=>{Tn(Zn[Xn]||(Zn[Xn]=new In),Jn[Xn])}),Zn}function Wn(Zn){return new Ln(Jn=>{const Xn=T(Zn);let Qn=!1,er={},tr={};const nr={get closed(){return Qn},unsubscribe:()=>{Qn=!0,Ht.storagemutated.unsubscribe(or)}};Jn.start&&Jn.start(nr);let rr=!1,sr=!1;function ir(){return t(tr).some(lr=>er[lr]&&Rn(er[lr],tr[lr]))}const or=lr=>{Vn(er,lr),ir()&&ar()},ar=()=>{if(rr||Qn)return;er={};const lr={},cr=function(pr){Xn&&Ze();const ur=()=>Je(Zn,{subscr:pr,trans:null}),gr=Ke.trans?ot(Ke.transless,ur):ur();return Xn&&gr.then(et,et),gr}(lr);sr||(Ht("storagemutated",or),sr=!0),rr=!0,Promise.resolve(cr).then(pr=>{rr=!1,Qn||(ir()?ar():(er={},tr=lr,Jn.next&&Jn.next(pr)))},pr=>{rr=!1,Jn.error&&Jn.error(pr),nr.unsubscribe()})};return ar(),nr})}let Yn;try{Yn={indexedDB:e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,IDBKeyRange:e.IDBKeyRange||e.webkitIDBKeyRange}}catch{Yn={indexedDB:null,IDBKeyRange:null}}const zn=$n;function Gn(Zn){let Jn=Hn;try{Hn=!0,Ht.storagemutated.fire(Zn)}finally{Hn=Jn}}a(zn,{...Z,delete:Zn=>new zn(Zn,{addons:[]}).delete(),exists:Zn=>new zn(Zn,{addons:[]}).open().then(Jn=>(Jn.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(Zn){try{return function({indexedDB:Jn,IDBKeyRange:Xn}){return bn(Jn)?Promise.resolve(Jn.databases()).then(Qn=>Qn.map(er=>er.name).filter(er=>er!=="__dbnames")):gn(Jn,Xn).toCollection().primaryKeys()}(zn.dependencies).then(Zn)}catch{return ht(new X.MissingAPI)}},defineClass:()=>function(Zn){r(this,Zn)},ignoreTransaction:Zn=>Ke.trans?ot(Ke.transless,Zn):Zn(),vip:_n,async:function(Zn){return function(){try{var Jn=kn(Zn.apply(this,arguments));return Jn&&typeof Jn.then=="function"?Jn:Ce.resolve(Jn)}catch(Xn){return ht(Xn)}}},spawn:function(Zn,Jn,Xn){try{var Qn=kn(Zn.apply(Xn,Jn||[]));return Qn&&typeof Qn.then=="function"?Qn:Ce.resolve(Qn)}catch(er){return ht(er)}},currentTransaction:{get:()=>Ke.trans||null},waitFor:function(Zn,Jn){const Xn=Ce.resolve(typeof Zn=="function"?zn.ignoreTransaction(Zn):Zn).timeout(Jn||6e4);return Ke.trans?Ke.trans.waitFor(Xn):Xn},Promise:Ce,debug:{get:()=>R,set:Zn=>{F(Zn,Zn==="dexie"?()=>!0:bt)}},derive:c,extend:r,props:a,override:y,Events:Et,on:Ht,liveQuery:Wn,extendObservabilitySet:Vn,getByKeyPath:b,setByKeyPath:_,delByKeyPath:function(Zn,Jn){typeof Jn=="string"?_(Zn,Jn,void 0):"length"in Jn&&[].map.call(Jn,function(Xn){_(Zn,Xn,void 0)})},shallowClone:w,deepClone:O,getObjectDiff:Sn,cmp:It,asap:v,minKey:-(1/0),addons:[],connections:yt,errnames:H,dependencies:Yn,semVer:"3.2.3",version:"3.2.3".split(".").map(Zn=>parseInt(Zn)).reduce((Zn,Jn,Xn)=>Zn+Jn/Math.pow(10,2*Xn))}),zn.maxKey=en(zn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ht("storagemutated",Zn=>{if(!Hn){let Jn;mt?(Jn=document.createEvent("CustomEvent"),Jn.initCustomEvent("x-storagemutated-1",!0,!0,Zn)):Jn=new CustomEvent("x-storagemutated-1",{detail:Zn}),Hn=!0,dispatchEvent(Jn),Hn=!1}}),addEventListener("x-storagemutated-1",({detail:Zn})=>{Hn||Gn(Zn)}));let Hn=!1;if(typeof BroadcastChannel<"u"){const Zn=new BroadcastChannel("x-storagemutated-1");typeof Zn.unref=="function"&&Zn.unref(),Ht("storagemutated",Jn=>{Hn||Zn.postMessage(Jn)}),Zn.onmessage=Jn=>{Jn.data&&Gn(Jn.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Ht("storagemutated",Jn=>{try{Hn||(typeof localStorage<"u"&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:Jn})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(Xn=>Xn.postMessage({type:"x-storagemutated-1",changedParts:Jn})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",Jn=>{if(Jn.key==="x-storagemutated-1"){const Xn=JSON.parse(Jn.newValue);Xn&&Gn(Xn.changedParts)}});const Zn=self.document&&navigator.serviceWorker;Zn&&Zn.addEventListener("message",function({data:Jn}){Jn&&Jn.type==="x-storagemutated-1"&&Gn(Jn.changedParts)})}Ce.rejectionMapper=function(Zn,Jn){if(!Zn||Zn instanceof W||Zn instanceof TypeError||Zn instanceof SyntaxError||!Zn.name||!J[Zn.name])return Zn;var Xn=new J[Zn.name](Jn||Zn.message,Zn);return"stack"in Zn&&l(Xn,"stack",{get:function(){return this.inner.stack}}),Xn},F(R,bt);class MySubClassedDexie extends $n{constructor(){super("nr-editor");Zr(this,"catalogues");Zr(this,"systems");Zr(this,"systemrows");this.version(6).stores({catalogues:"id, content.catalogue.id, content.catalogue.gameSystemId",systems:"id",systemrows:"id"})}}const db=new MySubClassedDexie;function normalizeGithubRepoUrl(Zn){const Jn=/^(?:(http(s?)?:\/\/)?github.com\/)?([^\/]+)\/([^\/]+)$/,Xn=Zn.match(Jn);if(!Xn)return null;const[,Qn="https://",er,tr,nr]=Xn;return!tr||!nr?null:`https://github.com/${tr}/${nr}`}function parseGitHubUrl(Zn){const Jn=/^(?:https?:\/\/)?(?:www\.)?github\.com\/([^/]+)\/([^/]+)(?:\/)?$/,Xn=Zn.match(Jn);if(!Xn)throw new Error("Invalid GitHub URL format: "+Zn);const[,Qn,er]=Xn;return{githubUrl:Zn,githubRepo:`${Qn}/${er}`,githubOwner:Qn,githubName:er}}async function getFileContentFromRepo(Zn,Jn){try{const Xn=Zn.split("/"),Qn=Xn[Xn.length-2],er=Xn[Xn.length-1].replace(".git",""),tr=`https://api.github.com/repos/${Qn}/${er}/contents/${encodeURIComponent(Jn)}`;console.log(`Querying github api at ${tr}`);const nr=await $fetch(tr,{headers:{"User-Agent":"New Recruit Data Editor (Electron)",Accept:"application/vnd.github.v3+json"}});if(!nr||!(nr!=null&&nr.download_url))throw new Error("No download_url found");console.log(`Downloading file at ${nr==null?void 0:nr.download_url}`);const rr=await $fetch(nr.download_url,{headers:{"User-Agent":"New Recruit Data Editor (Electron)",Accept:"application/vnd.github.v3+json"}});return console.log(`Downloaded file, length: ${rr.length}`),rr}catch(Xn){throw Xn}}async function getFileContentFromRepoWithFallback(Zn,Jn,Xn){try{return await getFileContentFromRepo(Zn,Jn)}catch(Qn){if(!Xn)throw Qn;return await getFileContentFromRepo(Zn,Xn)}}async function getNextRevision(Zn,Jn){if(Jn.fullFilePath)try{const Xn=filename(Jn.fullFilePath),Qn=Xn.endsWith("z")?removeSuffix(Xn,"z"):void 0,er=await getFileContentFromRepoWithFallback(Zn.githubUrl,Xn,Qn),tr=/revision="(\d+)"/,nr=er.match(tr);if(nr){const rr=(Number(nr[1])||0)+1;return console.log(`Revision of ${Jn.name}: ${Jn.revision} -> ${rr}`),rr}}catch(Xn){console.error(Xn)}return Jn.revision||1}function getBookDate(Zn,Jn){if(Zn)return Zn[Jn]||Zn["*"]}async function loadData(Zn,Jn,Xn,Qn){if(!Jn.catalogue&&!Jn.gameSystem)throw Error("invalid loadBsData argument: no .catalogue or .gameSystem in data");const er=Jn.catalogue?"catalogue":"gameSystem",tr=er==="gameSystem",nr=er==="catalogue",rr=Jn[er],sr=rr;if(sr.loaded||sr.loaded_editor)return sr;setPrototypeRecursive(rr);const ir=setPrototype(rr,er);if(ir.manager=Zn,nr){const ar={targetId:ir.gameSystemId},lr=Zn.getLoadedCatalogue(ar,Xn);if(lr)ir.gameSystem=lr;else{const cr=await Zn.getData(ar,Xn),pr=Zn.getLoadedCatalogue(ar,Xn);pr?ir.gameSystem=pr:ir.gameSystem=await loadData(Zn,cr,Xn)}}const or=[];for(const ar of(ir==null?void 0:ir.catalogueLinks)||[]){if(!ar.targetId){console.warn(`invalid link: no targetId in link: ${ar}, found in ${rr.name}`);continue}if(ar.targetId===ir.id){ar.target=ir;continue}const lr=Zn.getLoadedCatalogue(ar,Xn);if(lr){ar.target=lr;continue}const cr=Zn.getData(ar,Xn).then(pr=>{const ur=Zn.getLoadedCatalogue(ar,Xn);if(ur){ar.target=ur;return}return loadData(Zn,pr,Xn).then(gr=>ar.target=gr)});or.push(cr)}return await Promise.all(or),tr&&Zn.addLoadedSystem(ir),nr&&Zn.addLoadedCatalogue(ir),ir}class BSCatalogueManager{constructor(){Zr(this,"catalogues",{});Zr(this,"unresolvedLinks");Zr(this,"settings")}async getData(Jn,Xn){throw new Error("Method not implemented.")}async loadAll(){throw new Error("Method not implemented.")}getCatalogueInfo(Jn){}findOptionById(Jn){}getLoadedCatalogue(Jn,Xn){const Qn=typeof Jn=="string"?Jn:Jn.targetId||Jn.name,er=getBookDate(Xn,Qn)||"default",tr=this.catalogues[Qn];return tr?tr[er]:void 0}addLoadedCatalogue(Jn,Xn){const Qn=getBookDate(Xn,Jn.id)||"default";this.catalogues[Jn.name]||(this.catalogues[Jn.name]={}),this.catalogues[Jn.id]||(this.catalogues[Jn.id]={}),this.catalogues[Jn.name][Qn]=Jn,this.catalogues[Jn.id][Qn]=Jn}addLoadedSystem(Jn,Xn){return this.addLoadedCatalogue(Jn,Xn)}unloadAll(){this.catalogues={}}async loadData(Jn,Xn){const Qn=await loadData(this,Jn,Xn);return Qn.process(),Qn}async loadCatalogue(Jn,Xn,Qn){const er=this.getLoadedCatalogue(Jn,Xn);if(er&&!Qn)return er;const tr=await this.getData(Jn,Xn);if(tr)return await this.loadData(tr,Xn);throw Error(`Couldn't load catalogue: couldn't getData ${Jn}`)}}class GameSystemFiles extends BSCatalogueManager{constructor(){super(...arguments);Zr(this,"gameSystem",null);Zr(this,"catalogueFiles",noObserve());Zr(this,"allLoaded");Zr(this,"loadedCatalogues",{});Zr(this,"github");Zr(this,"unresolvedLinks",{});Zr(this,"index",{});Zr(this,"update")}async loadData(Xn,Qn){return await loadData(this,Xn,Qn)}findOptionById(Xn){for(const Qn of Object.values(this.loadedCatalogues))if(Qn.index&&Qn.index[Xn])return Qn.index[Xn]}unloadAll(){super.unloadAll();for(const Xn of Object.values(this.loadedCatalogues))Xn.reset();this.loadedCatalogues={},delete this.allLoaded}async loadAll(Xn){var tr,nr;let Qn=Object.values(this.catalogueFiles).length+1,er=0;if(this.allLoaded||console.log("Loading all catalogues in",(nr=(tr=this.gameSystem)==null?void 0:tr.gameSystem)==null?void 0:nr.name),this.gameSystem){Xn&&await Xn(er,Qn,`Loading ${this.gameSystem.gameSystem.name}`),(await this.loadCatalogue({targetId:this.gameSystem.gameSystem.id})).processForEditor(),er++;for(const sr of Object.values(this.catalogueFiles))Xn&&await Xn(er,Qn,`Loading ${sr.catalogue.name}`),(await this.loadCatalogue({targetId:sr.catalogue.id})).processForEditor(),er++,Xn&&await Xn(er,Qn,`Loading ${sr.catalogue.name}`)}this.allLoaded=!0}getLoadedCatalogue(Xn,Qn){const er=Xn.targetId||Xn.name;return this.loadedCatalogues[er]}addLoadedCatalogue(Xn,Qn){this.loadedCatalogues[Xn.id]=Xn}getAllLoadedCatalogues(){var Qn;return((Qn=this.gameSystem)==null?void 0:Qn.gameSystem.id)?Object.values(this.loadedCatalogues):[]}getId(){var Xn;return(Xn=this.gameSystem)==null?void 0:Xn.gameSystem.id}getCatalogueInfo(Xn){var Qn,er;if(((Qn=this.gameSystem)==null?void 0:Qn.gameSystem.id)===Xn.targetId)return(er=this.gameSystem)==null?void 0:er.gameSystem;for(const tr of Object.values(this.catalogueFiles))if(tr.catalogue.id===Xn.targetId)return tr.catalogue}getAllCatalogueFiles(){return[...this.gameSystem?[this.gameSystem]:[],...Object.values(this.catalogueFiles)]}setSystem(Xn){this.gameSystem=Xn,db.systems.put({id:Xn.gameSystem.id,content:Xn}),this.update&&this.update(Xn)}setCatalogue(Xn){const Qn=Xn.catalogue.id;this.catalogueFiles[Qn]=Xn,db.catalogues.put({id:Xn.catalogue.id,content:Xn}),this.update&&this.update(Xn)}removeCatalogue(Xn){for(const[Qn,er]of Object.entries(this.catalogueFiles))er.catalogue.id===Xn.catalogue.id&&delete this.catalogueFiles[Qn]}async getData(Xn,Qn){var rr;if(Xn.targetId==((rr=this.gameSystem)==null?void 0:rr.gameSystem.id))return this.gameSystem;if(Xn.targetId in this.catalogueFiles)return this.catalogueFiles[Xn.targetId];const er=await db.catalogues.get({"content.catalogue.id":Xn.targetId});if(er)return er.content;const tr=await db.systems.get(Xn.targetId);if(tr)return tr.content;const nr=Xn.name?`name ${Xn.name}`:`id ${Xn.targetId}`;throw Error(`Couldn't import catalogue with ${nr}, perhaps it wasnt uploaded?`)}}const fixlinknames={name:"Fix link names",arguments:[{name:"catalogues",type:"catalogue[]"}],run:Zn=>{const Jn=[];for(const Xn of Zn)Xn.forEachObjectWhitelist(Qn=>{Qn.target&&Qn.name!==Qn.target.name&&(Jn.push([Qn,`${Qn.name} -> ${Qn.target.name}`]),$store.edit_node(Qn,{name:Qn.target.name}))});return Jn}},fixprofiles={name:"Fix profiles & characteristics",arguments:[{name:"catalogues",type:"catalogue[]"}],run:Zn=>{const Jn=[],Xn=[];Zn.map(Qn=>Qn.processForEditor());for(const Qn of Zn)Qn.forEachObjectWhitelist(er=>{var tr;if(er.isProfile()&&!er.isLink()&&er.typeId){const nr=er.catalogue.findOptionById(er.typeId);if(!nr)return;nr.name!==er.typeName&&(Jn.push([er,`fixed typeName: ${er.typeName} -> ${nr.name}`]),$store.edit_node(er,{typeName:nr.name}));for(const ir of er.characteristics){const or=nr.characteristicTypes.find(ar=>ar.name===ir.name);or&&ir.typeId!==or.id&&(Jn.push([er,`fixed typeId: ${ir.name}`]),$store.edit_node(ir,{typeId:or.id}))}for(const ir of er.characteristics){const or=nr.characteristicTypes.find(ar=>ar.id===ir.typeId);or&&ir.name!==or.name&&(Jn.push([er,`fixed characteristic name: ${ir.name} -> ${or.name}`]),$store.edit_node(ir,{name:or.name}))}const rr=(tr=nr.characteristicTypes)==null?void 0:tr.filter(ir=>!er.characteristics.find(or=>or.typeId===ir.id)),sr=er.characteristics.find((ir,or)=>or!==nr.characteristicTypes.findIndex(ar=>ar.id===ir.typeId));if(rr.length||sr){const ir=[],or=[...er.characteristics];for(const ar of rr)or.push({name:ar.name,typeId:ar.id,$text:""}),Jn.push([er,`added missing characteristic: ${ar.name}`]);for(const ar of or){const lr=nr.characteristicTypes.findIndex(cr=>cr.id===ar.typeId);lr>=0?ir[lr]=ar:(Xn.push([[er,`removed extra characteristic: ${ar.name}`]]),Xn.push(`<pre style="background-color: rgba(0,0,0,0.1); border: 1px solid rgba(0.5,0.5,0.5,0.15)">${ar.$text}</pre><hr class="gray" style="border-bottom: none;"/>`))}$store.edit_node(er,{characteristics:ir})}}});return[...Xn,Jn]}},listrefs={name:"List all used",description:"Find out what a catalogue uses from an imported catalogue, used to find out if an import is not necesarry",arguments:[{name:"catalogue (importing)",type:"catalogue"},{name:"catalogue (imported)",type:"catalogue"}],run(Zn,Jn){const Xn=[];if(!Zn.imports.find(Qn=>Qn.name===Jn.name))throw new Error(`${Zn.name} doesn't import ${Jn.name}`);if(Jn.forEachObjectWhitelist(Qn=>{for(const er of Qn.refs||[])if(er.catalogue.name===Zn.name){Xn.push(Qn);break}for(const er of Qn.other_refs||[])if(er.catalogue.name===Zn.name){Xn.push(Qn);break}}),Zn.importsWithEntries.find(Qn=>Qn.name===Jn.name)){for(const Qn of Jn.selectionEntries||[])Qn.import!==!1&&Xn.push([Qn,"root"]);for(const Qn of Jn.entryLinks||[])Qn.import!==!1&&Xn.push([Qn,"root"])}return Xn}};function getParents(Zn){const Jn=[];let Xn=Zn;for(;Xn.parent;)Jn.push(Xn.parent),Xn=Xn.parent;return Jn}function getParentsAndSelf(Zn){const Jn=[Zn];let Xn=Zn;for(;Xn.parent;)Jn.push(Xn.parent),Xn=Xn.parent;return Jn}class NodeView{constructor(Jn){Zr(this,"iter");Zr(this,"followTargets",!1);this.iter=Jn}self(Jn){const Xn=[];for(const Qn of this.iter)Jn(Qn)&&Xn.push(Qn);return this.return(Xn)}map(Jn){const Xn=[];for(const Qn of this.iter)Xn.push(Jn(Qn));return Xn}descendant(Jn){const Xn=[];for(const Qn of this.iter)Qn.forEachObjectWhitelist(er=>{const tr=Jn(er);return tr&&Xn.push(er),tr});return this.return(Xn)}child(Jn){const Xn=[];for(const Qn of this.iter)Qn.forEachObjectWhitelist(er=>{const tr=Jn(er);return tr&&Xn.push(er),tr},void 0,2);return this.return(Xn)}parent(Jn){const Xn=[];for(const Qn of this.iter)Qn.parent&&Jn(Qn.parent)&&Xn.push(Qn.parent);return this.return(Xn)}ancestor(Jn){const Xn=[];for(const Qn of this.iter)for(const er of getParents(Qn)){const tr=Jn(er);if(tr){Xn.push(tr);break}if(tr===!1)break}return this.return(Xn)}has_descendant(Jn){const Xn=[];for(const Qn of this.iter)Qn.find_recursive(Jn,this.followTargets)&&Xn.push(Qn);return this.return(Xn)}has_descendant_or_self(Jn){const Xn=[];for(const Qn of this.iter)(Jn(Qn)||Qn.find_recursive(Jn,this.followTargets))&&Xn.push(Qn);return this.return(Xn)}has_child(Jn){const Xn=[];for(const Qn of this.iter)Qn.find(Jn,this.followTargets)&&Xn.push(Qn);return this.return(Xn)}has_child_or_self(Jn){const Xn=[];for(const Qn of this.iter)(Jn(Qn)||Qn.find(Jn,this.followTargets))&&Xn.push(Qn);return this.return(Xn)}has_parent(Jn){const Xn=[];for(const Qn of this.iter)Qn.parent&&Jn(Qn.parent)&&Xn.push(Qn);return this.return(Xn)}has_parent_or_self(Jn){const Xn=[];for(const Qn of this.iter)(Jn(Qn)||Qn.parent&&Jn(Qn.parent))&&Xn.push(Qn);return this.return(Xn)}has_ancestor(Jn){const Xn=[];for(const Qn of this.iter)for(const er of getParents(Qn))if(Jn(er)){Xn.push(Qn);break}return this.return(Xn)}has_ancestor_or_self(Jn){const Xn=[];for(const Qn of this.iter)for(const er of getParentsAndSelf(Qn))if(Jn(er)){Xn.push(Qn);break}return this.return(Xn)}hasnot_descendant(Jn){const Xn=[];for(const Qn of this.iter)Qn.find_recursive(Jn,this.followTargets)||Xn.push(Qn);return this.return(Xn)}hasnot_descendant_or_self(Jn){const Xn=[];for(const Qn of this.iter)!Jn(Qn)&&!Qn.find_recursive(Jn,this.followTargets)&&Xn.push(Qn);return this.return(Xn)}hasnot_child(Jn){const Xn=[];for(const Qn of this.iter)Qn.find(Jn,this.followTargets)||Xn.push(Qn);return this.return(Xn)}hasnot_child_or_self(Jn){const Xn=[];for(const Qn of this.iter)!Jn(Qn)&&!Qn.find(Jn,this.followTargets)&&Xn.push(Qn);return this.return(Xn)}hasnot_parent(Jn){const Xn=[];for(const Qn of this.iter)(!Qn.parent||!Jn(Qn.parent))&&Xn.push(Qn);return this.return(Xn)}hasnot_parent_or_self(Jn){const Xn=[];for(const Qn of this.iter)!Jn(Qn)&&!(Qn.parent&&Jn(Qn.parent))&&Xn.push(Qn);return this.return(Xn)}hasnot_ancestor(Jn){const Xn=[];for(const Qn of this.iter){for(const er of getParents(Qn))if(Jn(er))break;Xn.push(Qn)}return this.return(Xn)}hasnot_ancestor_or_self(Jn){const Xn=[];for(const Qn of this.iter){for(const er of getParentsAndSelf(Qn))if(Jn(er))break;Xn.push(Qn)}return this.return(Xn)}return(Jn){const Xn=new NodeView(Jn);return Xn.followTargets=this.followTargets,Xn}}const select={name:"Select nodes",arguments:[{name:"catalogues",type:"catalogue[]"},{name:"query (js)",type:"string"}],run(from,query){const all=[];from.forEach(Zn=>Zn.forEachObjectWhitelist(Jn=>all.push(Jn))),globalThis.$view=new NodeView(all);const evaled=eval(`$view.${query}`).iter,result=Array.isArray(evaled)?evaled:evaled.iter||evaled;return $store.set_selections(result),[`Selected ${result.length} nodes: <code>$store.get_selections())</code>`,result]}},listautomaticrefs={name:"List all automatic rule/profile text refs",arguments:[{name:"catalogues",type:"catalogue[]"},{name:"filter",type:"string",optional:!0,description:"preview refs to (exact match)"}],run(Zn,Jn){const Xn=[],Qn=Zn[0].getSystem(),er=new(Object.getPrototypeOf(Qn.infoIndex)).constructor;for(const ar of Zn)ar.forEachObjectWhitelist(lr=>{if(!lr.isLink()&&(lr.isProfile()||lr.isRule())&&((!Jn||lr.getName()===Jn)&&er.add(lr.getName(),lr),lr.alias))for(const cr of lr.alias){const pr=clone(lr);pr.name=cr,(!Jn||cr===Jn)&&er.add(cr,pr)}});const tr={},nr={},rr=[];for(const ar of Zn)ar.forEachObjectWhitelist(lr=>{var cr;if(!lr.isLink()){let pr=!1;lr.isProfile()?(cr=lr.characteristics)==null||cr.forEach(ur=>{er.match(ur.$text).forEach(gr=>{var dr;(dr=gr.match)!=null&&dr.length&&gr.match[0].getName()!==lr.getName()&&(tr[gr.match[0].getName()]=(tr[gr.match[0].getName()]||0)+1,nr[gr.match[0].getName()]=gr.match,Jn&&!pr&&rr.push(ur))})}):lr.isRule()&&er.match(lr.description).forEach(ur=>{var gr;(gr=ur.match)!=null&&gr.length&&ur.match[0].getName()!==lr.getName()&&(tr[ur.match[0].getName()]=(tr[ur.match[0].getName()]||0)+1,nr[ur.match[0].getName()]=ur.match,Jn&&!pr&&rr.push(lr))})}});const sr=sortByDescendingInplace(Object.entries(tr),ar=>ar[1]),ir=[];Xn.push(ir);function or(ar){var lr,cr;return(((lr=ar.refs)==null?void 0:lr.length)||0)+(((cr=ar.other_refs)==null?void 0:cr.length)||0)}for(const[ar,lr]of sr)for(const cr of nr[ar])ir.push([cr,`${lr} text refs, ${or(cr)} actual refs`]);if(rr.length){Xn.push('<div class="bold">References:</div>');for(const ar of rr){Xn.push([ar]);const lr=ar.$text??ar.description??"",cr=er.match(lr).map(pr=>pr.match?`<b>${pr.text}</b>`:pr.text).join("");Xn.push(`<div class="gray" style="padding-left: 18px; white-space: pre-wrap;">${cr}</div>`)}}return Xn}};let count=0;const useScriptsStore=defineStore("scripts",{state:()=>({}),actions:{async get_scripts(Zn){if(!(Zn!=null&&Zn.gameSystem))return[];try{const Jn=getDataObject(Zn.gameSystem).fullFilePath;if(!Jn)return[];const Xn=[],Qn=`${dirname(Jn)}/scripts`;for(const er of await getFolderFiles(Qn))try{if(!er.path.endsWith(".js"))continue;const tr=reactive({path:er.path}),nr=async rr=>{try{if(!await readFile(rr))return;const ir=await __vitePreload(()=>import(er.path+`?v=${count++}`),[],import.meta.url);for(const or in ir.default)tr[or]=ir.default[or];delete tr.error}catch(sr){console.error(sr),tr.error=sr}};nr(er.path),watchFile(er.path,nr),Xn.push(tr)}catch(tr){console.error(tr);continue}return Xn}catch{return[]}},get_default_scripts(){return[fixlinknames,fixprofiles,listrefs,select,listautomaticrefs]}}}),enableGithubIntegrationWithGitFolder=!1;function get_ctx(Zn){return Zn.vnode}function get_base_from_vue_el(Zn){if(Zn instanceof Base)return Zn;const Jn=Zn.$parent;if(Jn.item)return Jn.item;const Xn=Jn.$parent;return Xn.item?Xn.item:Xn.$parent.item}function markSaving(Zn){Zn.isSaving=!0}function markChangedOnDisk(Zn){if(Zn.isSaving){Zn.isSaving=!1;return}Zn.isChangedOnDisk=!0}function unmarkChangedOnDisk(Zn){Zn.isChangedOnDisk&&(Zn.isChangedOnDisk=!1),Zn.isSaving===void 0&&(Zn.isSaving=!1)}const editorFields=new Set(["select","showInEditor","showChildsInEditor"]),useEditorStore=defineStore("editor",{state:()=>({selections:[],selectedEntries:[],selectedElementGroup:null,selectedElement:null,selectedItem:null,filter:"",filterRegex:RegExp(""),filtered:[],undoStack:[],undoStackPos:-1,historyStack:[],historyStackPos:0,clipboard:[],mode:"edit",clipboardmode:"json",gameSystems:{},gameSystemsLoaded:!1,unsavedChanges:{},unsavedCount:0,scripts:useScriptsStore()}),actions:{async create_system(Zn,Jn,Xn){console.log("Creating system with name:",Zn);const Qn=`sys-${generateBattlescribeId()}`,er=this.get_system(Qn),tr=Jn?`${removeSuffix(Jn.replaceAll("\\","/"),"/")}/${Zn}`:"";if(electron){if(!tr)throw new Error("No folder specified");createFolder(tr)}const nr={gameSystem:{id:Qn,name:Zn,battleScribeVersion:"2.03",revision:1,categoryEntries:[{name:"Default Category",id:"default-category"}],forceEntries:[{name:"Default Force",hidden:!1,id:"default-force",categoryLinks:[{name:"Default Category",hidden:!1,id:"default-force-category-link",targetId:"default-category"}]}],selectionEntries:[{type:"upgrade",import:!0,name:"Default Root Entry",hidden:!1,id:"default-entry",categoryLinks:[{targetId:"default-category",id:"default-category-link",primary:!0,name:"Default Category",hidden:!1}]}]}};return tr&&(nr.gameSystem.fullFilePath=`${tr}/${Zn}.${Xn||"gst"}`),er.setSystem(nr),this.get_catalogue_state(nr).incremented=!0,this.saveCatalogue(nr),er},saveCatalogueInDb(Zn){const Jn=rootToJson(Zn);!!!Zn.gameSystemId?db.systems.put({content:JSON.parse(Jn),path:Zn.fullFilePath,id:Zn.id}):db.catalogues.put({content:JSON.parse(Jn),path:Zn.fullFilePath,id:`${Zn.gameSystemId}-${Zn.id}`})},async saveCatalogueInFiles(Zn){const Jn=Zn.fullFilePath;if(!Jn){console.error(`No path included in the catalogue ${Zn.name} to save at`);return}const Xn=getExtension(Jn);if(Jn.endsWith(".json")){const Qn=rootToJson(Zn);await writeFile(Jn,Qn)}else{const Qn=convertToXml(Zn),er=isZipExtension(Xn),nr=filename(Jn).replace(".gstz",".gst").replace(".catz",".cat"),rr=er?await zipCompress(nr,Qn,"uint8array"):Qn;await writeFile(Jn,rr)}},saveCatalogue(Zn){const Jn=this.get_catalogue_state(Zn),Xn=getDataObject(Zn);markSaving(Jn),electron?this.saveCatalogueInFiles(Xn):this.saveCatalogueInDb(Xn),unmarkChangedOnDisk(Jn)},async load_systems_from_folder(Zn,Jn){var rr,sr;if(!globalThis.electron)throw new Error("Not running in electron");const Xn=await getFolderFiles(Zn);if(!(Xn!=null&&Xn.length))return;console.log("Loading",Xn.length,"files");const Qn=[],er=[],tr=[],nr=Xn.filter(ir=>isAllowedExtension(ir.name));for(const ir of nr)try{Jn&&await Jn(er.length,nr.length,ir.path);const or=await convertToJson(ir.data,ir.name.endsWith("json")?"json":"xml");if(!or.catalogue&&!or.gameSystem)continue;const ar=getDataObject(or);ar.fullFilePath=ir.path.replaceAll("\\","/");const lr=(rr=or==null?void 0:or.gameSystem)==null?void 0:rr.id,cr=(sr=or==null?void 0:or.catalogue)==null?void 0:sr.id;if(lr){const pr=this.get_system(lr);pr.setSystem(globalThis.$markRaw?globalThis.$markRaw(or):or),tr.push(pr),Qn.push(lr)}if(cr){const pr=this.get_system(or.catalogue.gameSystemId);pr.catalogueFiles[cr]=globalThis.$markRaw?globalThis.$markRaw(or):or}er.push(or)}catch(or){console.error(`Error loading ${ir.name}`,or)}Jn&&await Jn(er.length,nr.length);for(const ir of tr)Jn&&await Jn(0,0,"Checking for github integration"),await this.load_system(ir);return Qn},async load_systems_from_db(Zn=!1){if(!this.gameSystemsLoaded&&!Zn){this.gameSystemsLoaded=!0;let Jn=await db.systems.offset(0).keys();for(let Xn of Jn)Xn in this.gameSystems||this.load_system_from_db(Xn)}},async load_system_from_db(Zn){const Jn=await db.systems.get(Zn),Xn=Jn==null?void 0:Jn.content;if(!Xn)throw new Error("System not found "+Zn);Xn.gameSystem.fullFilePath||(Xn.gameSystem.fullFilePath=Jn.path);const Qn=await db.catalogues.where({"content.catalogue.gameSystemId":Zn}),er=this.get_system(Xn.gameSystem.id);er.setSystem(Xn);for(let{content:tr,path:nr}of await Qn.toArray()){const rr=tr.catalogue.id;tr.catalogue.fullFilePath||(tr.catalogue.fullFilePath=nr),er.catalogueFiles[rr]=shallowReactive(tr)}this.load_system(er,!0)},async load_system(Zn,Jn=!1){var Xn,Qn;if(Zn.gameSystem){const er=useCataloguesStore();if(await Zn.unloadAll(),!Jn)for(const sr of Zn.getAllCatalogueFiles()){const ir=this.get_catalogue_state(sr);ir&&(ir.changed=!1,ir.unsaved=!1,ir.isChangedOnDisk=!1),er.updateCatalogue(getDataObject(sr)),er.setEdited(getDataObject(sr).id,!1)}const tr=Zn.gameSystem.gameSystem.publications,nr=tr==null?void 0:tr.find(sr=>{var ir;return((ir=sr.name)==null?void 0:ir.trim().toLowerCase())==="github"}),rr=Zn.gameSystem.gameSystem.fullFilePath;if(rr&&enableGithubIntegrationWithGitFolder)try{const sr=await getFolderRemote(dirname(rr));sr&&sr!=="origin"&&(console.log("remote:",sr),Zn.github={...parseGitHubUrl(sr),discovered:!0})}catch(sr){console.error(sr)}nr&&nr.publisherUrl&&(Zn.github={githubUrl:nr.publisherUrl},nr.shortName&&nr.shortName.includes("/")&&(Zn.github.githubRepo=nr.shortName,Zn.github.githubOwner=(Xn=nr.shortName)==null?void 0:Xn.split("/")[0],Zn.github.githubName=(Qn=nr.shortName)==null?void 0:Qn.split("/")[1]))}for(const er of Zn.getAllCatalogueFiles()){const tr=getDataObject(er);tr.fullFilePath&&watchFile(tr.fullFilePath,()=>{this.on_file_changed(er)})}},on_file_changed(Zn){console.log(getDataObject(Zn).name,"changed"),markChangedOnDisk(this.get_catalogue_state(Zn))},async get_or_load_system(Zn){return Zn in this.gameSystems||(this.gameSystems[Zn]=new GameSystemFiles,await this.load_system_from_db(Zn)),this.gameSystems[Zn]},get_system(Zn){if(!(Zn in this.gameSystems)){const Jn=new GameSystemFiles;Jn.settings=useSettingsStore(),this.gameSystems[Zn]=Jn}return this.gameSystems[Zn]},delete_system(Zn){delete this.gameSystems[Zn]},get_catalogue_state(Zn){const Jn=getDataDbId(Zn);return this.unsavedChanges[Jn]||(this.unsavedChanges[Jn]={changed:!1,unsaved:!1}),this.unsavedChanges[Jn]},set_catalogue_changed(Zn,Jn=!0){const Xn=this.get_catalogue_state(Zn);Jn?(Xn.changed=!0,Xn.unsaved||(this.unsavedCount+=1,Xn.unsaved=Jn)):Xn.unsaved=Jn},changed(Zn){const Jn=Zn.getCatalogue();Jn&&this.set_catalogue_changed(Jn)},removed(Zn){const Jn=Zn.getCatalogue();Jn&&this.set_catalogue_changed(Jn)},async save_catalogue(Zn,Jn,Xn){const Qn=this.get_catalogue_state(Jn),er=Jn.revision;Xn==="github"&&Zn.github&&(Jn.revision=await getNextRevision(Zn.github,Jn)),Xn==="yes"&&!(Qn!=null&&Qn.incremented)&&(Jn.revision=Jn.revision?Jn.revision+1:1,Qn.incremented=!0),Xn==="no"&&(Qn.incremented=!0),this.saveCatalogue(Jn);const tr=useCataloguesStore(),nr=getDataDbId(Jn);return tr.updateCatalogue(Jn),tr.setEdited(nr,!0),Qn!=null&&Qn.unsaved&&(this.unsavedCount--,Qn.unsaved=!1),Jn.revision!==er},async prompt_revision(Zn){const Jn=useSettingsStore(),Xn=Zn instanceof Catalogue?Zn.manager:Zn;for(const Qn of Zn instanceof Catalogue?[Zn]:Xn.getAllLoadedCatalogues()){const er=this.get_catalogue_state(Qn);if(er!=null&&er.unsaved&&!er.incremented)return Xn.github?Jn.githubAutoIncrement&&!navigator.onLine?await(globalThis.customPrompt&&globalThis.customPrompt({html:`<span>Would you like to increase the revision of this catalogue?<span><br/>
  <span class="gray">Note: This is shown because Github cannot be accessed as your are offline</span>`,cancel:"No",accept:"Yes",id:"revision"}))?"yes":"no":Jn.githubAutoIncrement?"github":await(globalThis.customPrompt&&globalThis.customPrompt({html:"<span>Would you like to increase the revision of this catalogue?<span><br/>",cancel:"No",accept:"Yes",id:"revision"}))?"yes":"no":await(globalThis.customPrompt&&globalThis.customPrompt({html:`<span>Would you like to increase the revision of this catalogue?<span><br/>
  <span class="gray">Note: You can enable automatic revision increments by integrating with GitHub.<br/>This can be achieved by adding a publication in the GameSystem named "GitHub" with the repository's GitHub URL as the Publication URL.`,cancel:"No",accept:"Yes",id:"revision"}))?"yes":"no"}},async save_all(Zn){var Qn,er,tr;let Jn=!1,Xn=0;useSettingsStore();try{for(const nr of Object.values(this.gameSystems)){if(Zn&&((er=(Qn=nr.gameSystem)==null?void 0:Qn.gameSystem)==null?void 0:er.id)!==Zn)continue;const rr=await this.prompt_revision(nr);for(const sr of nr.getAllLoadedCatalogues())(tr=this.get_catalogue_state(sr))!=null&&tr.unsaved&&await this.save_catalogue(nr,sr,rr)&&(Xn+=1)}}catch(nr){notify({text:`Failed to save: ${nr.name}: ${nr.message}`,type:"error"}),Jn=!0}return Xn&&notify(`Incremented ${Xn} catalogue's revision`),Jn},set_filter(Zn){this.$state.filter=Zn,this.filterRegex=textSearchRegex(Zn)},init(Zn){this.catalogueComponent=Zn,globalThis.$store=this},rerender_catalogue(){this.catalogueComponent&&(this.catalogueComponent.key+=1)},unselect(Zn){const Jn=[],Xn=[];for(const Qn of this.selections)Zn===void 0||toRaw(Qn.obj)===toRaw(Zn)?Xn.push(Qn):Jn.push(Qn);for(const Qn of this.selectedEntries)Zn===void 0||toRaw(Qn.obj)===toRaw(Zn)?Xn.push(Qn):Jn.push(Qn);this.selections=Jn;for(const Qn of Xn)Qn.onunselected&&Qn.onunselected(),Qn.obj===this.selectedItem&&(this.selectedItem=null)},is_selected(Zn){return Zn instanceof Base?this.selectedEntries.find(Jn=>Jn.obj===Zn)!==void 0:this.selections.find(Jn=>Jn.obj===Zn)!==void 0},select(Zn,Jn,Xn){this.is_selected(Zn)||(Zn instanceof Base?this.selectedEntries.push({obj:Zn,onunselected:Jn,payload:Xn}):this.selections.push({obj:Zn,onunselected:Jn,payload:Xn}))},do_select(Zn,Jn,Xn){const Qn=Array.isArray(Xn)?Xn:[Xn],er=this.selectedElementGroup,tr=this.selectedElement;if(this.selectedElement=Jn,this.selectedElementGroup=Xn,Zn!=null&&Zn.shiftKey&&toRaw(Xn)===toRaw(er)){const nr=Qn.findIndex(or=>or===toRaw(tr)),rr=Qn.findIndex(or=>or===toRaw(this.selectedElement)),sr=Math.min(nr,rr),ir=Math.max(nr,rr);for(let or=sr;or<=ir;or++)Qn[or].select();return}!(Zn!=null&&Zn.ctrlKey)&&!(Zn!=null&&Zn.metaKey)&&this.unselect(),Zn!=null&&Zn.ctrlKey&&this.is_selected(Jn)?this.unselect(Jn):(Jn.select(),this.selectedItem=Jn,this.mode="edit")},do_rightclick_select(Zn,Jn,Xn){this.is_selected(Jn)||this.do_select(Zn,Jn,Xn)},clear_selections(){this.unselect()},get_selections(){const Zn=this.selections.map(Jn=>get_base_from_vue_el(Jn.obj));return this.selectedEntries.forEach(Jn=>Zn.push(Jn.obj)),Zn},get_selections_with_payload(){const Zn=this.selections.map(Jn=>({obj:get_base_from_vue_el(Jn.obj),payload:Jn.payload}));return this.selectedEntries.forEach(Jn=>Zn.push({obj:Jn.obj,payload:Jn.payload})),Zn},get_selected(){return this.selectedItem&&get_base_from_vue_el(this.selectedItem)},set_selections(Zn){this.clear_selections();const Jn=Array.isArray(Zn)?Zn:[Zn];this.selectedEntries=Jn.map(Xn=>({obj:Xn,onunselected:()=>null}))},toggle_selections(){const Zn=this.get_selections();if(this.filter&&Zn.find(Jn=>!Jn.showChildsInEditor))Zn.forEach(Jn=>this.show(Jn,!1));else{const Jn=this.selections.map(Xn=>Xn.obj);Jn.find(Xn=>Xn.collapsed===!0)?Jn.filter(Xn=>Xn.collapsed===!0).forEach(Xn=>Xn.open()):Jn.filter(Xn=>Xn.collapsed===!1).forEach(Xn=>Xn.close())}},async do_action(Zn,Jn,Xn){let Qn;try{Qn=await Xn()}catch(er){console.error(er);return}if(this.undoStackPos<this.undoStack.length){const er=this.undoStack.length-this.undoStackPos-1;this.undoStack.splice(this.undoStackPos+1,er,{type:Zn,undo:Jn,redo:Xn})}else this.undoStack.push({type:Zn,undo:Jn,redo:Xn});return this.undoStackPos+=1,Qn},async set_clipboard(Zn,Jn){if(this.clipboardmode==="json"){const Xn=Zn.map(er=>({parentKey:er.parentKey,...er,sortIndex:void 0})),Qn=entriesToJson(Xn,new Set(["parentKey"]),{forceArray:!1,formatted:!0});Jn!=null&&Jn.clipboardData?Jn.clipboardData.setData("text/plain",Qn):await navigator.clipboard.writeText(Qn)}else this.clipboard=Zn},async get_clipboard(Zn){if(this.clipboardmode==="json")if(Zn!=null&&Zn.clipboardData){const Jn=Zn.clipboardData.getData("text/plain");return Jn?JSON.parse(Jn):[]}else{const Jn=await navigator.clipboard.readText();return JSON.parse(Jn)}return this.clipboard},can_undo(){return!!this.undoStack[this.undoStackPos]},async undo(){if(!this.can_undo())return;const Zn=this.undoStack[this.undoStackPos];Zn&&(await Zn.undo(),this.undoStackPos--)},can_redo(){return!!this.undoStack[this.undoStackPos+1]},async redo(){if(!this.can_redo())return;const Zn=this.undoStack[this.undoStackPos+1];Zn&&(await Zn.redo(),this.undoStackPos++)},async cut(Zn){await this.set_clipboard(this.get_selections(),Zn),this.remove()},async copy(Zn,Jn){const Xn=Jn?Array.isArray(Jn)?Jn:[Jn]:this.get_selections();await this.set_clipboard(Xn,Zn)},async paste(Zn){this.add(await this.get_clipboard(Zn))},async pasteLink(){const Zn=await this.get_clipboard();if(!Zn||!Zn.parentKey||Array.isArray(Zn))return;const Xn=this.get_selections()[0];if(!Xn)return;const Qn=Xn.getCatalogue().findOptionById(Zn.id);if(Qn){const er={parentKey:Qn.isGroup()||Qn.isEntry()?"entryLinks":"infoLinks",targetId:Qn.id,id:generateBattlescribeId(),type:Qn.editorTypeName,name:Qn.getName(),hidden:Qn.hidden,select:!0};this.add(er)}},async duplicate(){const Zn=this.get_selections();if(!Zn.length)return;const Jn=Zn[0].getCatalogue(),Xn=Jn.getSystemId();let Qn=[];const er=()=>{Qn=[];for(const nr of Zn){const rr=JSON.parse(entryToJson(nr,editorFields));if(!nr.parent)continue;const sr=nr.parent[nr.parentKey];if(!Array.isArray(sr))throw new Error(`Couldn't duplicate: parent[${nr.parentKey}] is not an array`);setPrototypeRecursive({[nr.parentKey]:rr}),scrambleIds(Jn,rr),sr.push(rr),onAddEntry(rr,Jn,nr.parent,this.get_system(Xn)),Qn.push(rr),this.changed(rr)}},tr=()=>{for(const nr of Qn)popAtEntryPath(Jn,getEntryPath(nr)),this.removed(nr),onRemoveEntry(nr)};await this.do_action("dupe",tr,er)},remove(Zn){let Jn=[];if(Zn)for(const sr of Array.isArray(Zn)?Zn:[Zn])Jn.push(sr);else{const sr=this.get_selections();if(!sr.length)return;for(const ir of sr)Jn.push(ir)}const Xn=Jn[0].getCatalogue(),Qn=Xn.getSystemId();let er=[],tr=[];const nr=async()=>{const sr=Jn,ir=this.get_system(Qn);tr=[],er=[];for(const or of sr){const ar=getEntryPath(or),lr=popAtEntryPath(Xn,ar);tr.push(lr),er.push(ar),this.removed(lr),onRemoveEntry(lr,ir)}tr.reverse(),er.reverse()},rr=async()=>{for(const[sr,ir]of enumerate_zip(er,tr)){const or=addAtEntryPath(Xn,sr,ir);onAddEntry(ir,Xn,or,this.get_system(Qn)),this.changed(ir)}};this.do_action("remove",rr,nr),this.unselect()},async add(Zn,Jn,Xn){let Qn=[];if(Xn?(Xn=Array.isArray(Xn)?Xn:[Xn],Qn=Xn.map(lr=>({obj:lr}))):Qn=this.get_selections_with_payload(),!Qn.length){console.error("Couldn't add: no selection or parent(s) provided");return}const er=Array.isArray(Zn)?Zn:[Zn];if(!er.length){console.error("Couldn't add: no data provided");return}const tr=er.map(lr=>this.fix_object(Jn||lr.parentKey,lr)),nr=Qn[0].obj.getCatalogue(),rr=nr.getSystemId();let sr=[];const ir=async()=>{var lr;sr=[];for(const cr of Qn){const pr=cr.obj,ur=cr.payload;await this.open(pr,!0);const gr=[];for(const dr of tr){const fr=fixKey(pr,Jn||dr.parentKey,ur);if(!fr){const Er=`Couldn't create ${Jn||dr.parentKey} in ${ur}`;notify({type:"error",text:Er}),console.warn(Er);continue}pr[fr]||(pr[fr]=[]);const yr=pr[fr];if(!Array.isArray(yr))continue;if(!((lr=allowed_children(pr,pr.parentKey))!=null&&lr.has(fr))){const Er=`Couldn't add ${fr} to a ${pr.parentKey}`;notify({type:"error",text:Er}),console.warn(Er);continue}const _r=dr instanceof Base?entryToJson(dr,editorFields):JSON.stringify(dr),vr=JSON.parse(_r);clean(vr,fr),delete vr.parentKey,setPrototypeRecursive({[fr]:vr}),gr.push({key:fr,entry:vr})}scrambleIds(nr,gr.map(dr=>dr.entry));for(const{key:dr,entry:fr}of gr){pr[dr]||(pr[dr]=[]);const yr=pr[dr];if(!Array.isArray(yr))continue;this.filtered.push(fr),fr.showChildsInEditor=!0;let _r=fr;for(;_r;)_r.showInEditor=!0,_r=_r.parent;yr.push(fr),onAddEntry(fr,nr,pr,this.get_system(rr)),this.changed(fr),sr.push(fr)}}return sr[0]},or=()=>{for(const lr of sr)popAtEntryPath(nr,getEntryPath(lr)),this.removed(lr),onRemoveEntry(lr)};return await this.do_action("add",or,ir)},open_selected(){for(const Zn of this.selections)Zn.obj.open()},get_initial_object(Zn,Jn){switch(Zn){case"costTypes":return{name:`New ${getTypeLabel(getTypeName(Zn))}`,id:generateBattlescribeId(),defaultCostLimit:-1};case"repeats":return{value:1,repeats:1,field:"selections",scope:"parent",childId:"any",shared:!0,roundUp:!1};case"constraints":{const er=(Jn==null?void 0:Jn.parentKey)==="associations",tr={type:"min",value:1,field:Jn!=null&&Jn.isForce()?"forces":"selections",scope:"parent",shared:!0,id:generateBattlescribeId()};return er&&(tr.childId="any"),tr}case"conditions":return{type:"atLeast",value:1,field:"selections",scope:"parent",childId:"any",shared:!0};case"modifiers":return{type:"set",value:!0,field:"hidden"};case"modifierGroups":case"conditionGroups":return{type:"and"};case"sharedSelectionEntries":case"selectionEntries":return{type:"upgrade",import:!0,name:`New ${getTypeLabel(getTypeName(Zn))}`,hidden:!1,id:generateBattlescribeId()};case"entryLinks":return{import:!0,name:`New ${getTypeLabel(getTypeName(Zn))}`,hidden:!1,id:generateBattlescribeId()};case"associations":return{min:1,max:1,scope:"parent",childId:"any",ids:[],name:"New Association",id:generateBattlescribeId()};case"sharedProfiles":case"profiles":const Xn=Jn==null?void 0:Jn.getCatalogue().iterateProfileTypes().next().value;return{name:(!Jn||Jn!=null&&Jn.isCatalogue()||Jn==null?void 0:Jn.getName())||"New Profile",typeId:Xn==null?void 0:Xn.id,typeName:Xn==null?void 0:Xn.name,hidden:!1,id:generateBattlescribeId(),characteristics:[]};case"catalogueLinks":return{type:"catalogue",name:`New ${getTypeLabel(getTypeName(Zn))}`,id:generateBattlescribeId()};case"categoryLinks":return{type:"category",name:`New ${getTypeLabel(getTypeName(Zn))}`,hidden:!1,id:generateBattlescribeId()};case"characteristic":case"cost":return{};default:return{name:`New ${getTypeLabel(getTypeName(Zn))}`,id:generateBattlescribeId(),hidden:!1}}},fix_object(Zn,Jn){if(Array.isArray(Jn))return Jn.map(Qn=>this.fix_object(Zn,Qn));const Xn={...this.get_initial_object(Zn),...Jn};for(const Qn in Xn){const er=Xn[Qn];goodJsonArrayKeys.has(Qn)&&isObject(er)&&(Array.isArray(er)?Xn[Qn]=Xn[Qn].map(tr=>this.fix_object(Qn,tr)):Xn[Qn]=[this.fix_object(Qn,er)])}return Xn},async create(Zn,Jn){const Xn=this.fix_object(Zn,Jn);Xn.select=!0;const Qn=await this.add(Xn,Zn);return this.open_selected(),Qn},async create_child(Zn,Jn,Xn){const Qn=this.fix_object(Zn,Xn);Qn.select=!0;const er=await this.add(Qn,Zn,Jn);return this.open_selected(),er},add_node(Zn,Jn,Xn){var sr;const Qn=fixKey(Jn,Zn);if(!Qn)throw new Error(`Invalid key: ${Zn} in ${Jn.editorTypeName}`);const er=Jn.getCatalogue(),tr=er.getSystemId(),nr={...this.fix_object(Qn,Xn),...Xn};if(!((sr=allowed_children(Jn,Jn.parentKey))!=null&&sr.has(Qn))){console.warn("Couldn't add",Qn,"to a",Jn.parentKey,"because it is not allowed");return}Jn[Qn]||(Jn[Qn]=[]);const rr=Jn[Qn];if(Array.isArray(rr))return clean(nr,Qn),delete nr.parentKey,setPrototypeRecursive({[Qn]:nr}),rr.push(nr),onAddEntry(nr,er,Jn,this.get_system(tr)),this.changed(nr),nr},del_node(Zn){try{const Jn=Zn.catalogue,Xn=Jn.manager,Qn=getEntryPath(Zn),er=popAtEntryPath(Jn,Qn);this.removed(er),onRemoveEntry(er,Xn)}catch{console.error("Failed to delete",Zn)}},can_move(Zn){return!Zn.isLink()},edit_node(Zn,Jn){const Xn=JSON.parse(Zn.toJson());let Qn=!1;for(const tr in Jn)Xn[tr]!==Jn[tr]&&(Xn[tr]=Jn[tr],Qn=!0);const er=this.fix_object(Zn.parentKey,Xn);return setPrototypeRecursive({[Zn.parentKey]:er}),Object.assign(Zn,er),Qn&&this.changed(Zn),Qn},get_move_targets(Zn){const Jn=Zn.catalogue;if(!Jn||Zn.isLink())return;const Xn=[];if(!Zn.parentKey.startsWith("shared")&&this.move_to_key(Zn,"shared")?Xn.push({target:Jn,type:"shared"}):Zn.parentKey.startsWith("shared")&&this.move_to_key(Zn,"root")&&Xn.push({target:Jn,type:"root"}),this.move_to_key(Zn,"shared"))for(const Qn of Jn.imports)Xn.push({target:Qn,type:"shared"});if(this.move_to_key(Zn,"root"))for(const Qn of Jn.imports)Xn.push({target:Qn,type:"root"});return Xn},move_to_key(Zn,Jn){if(Jn==="shared")switch(Zn.editorTypeName){case"infoGroup":return"sharedInfoGroups";case"rule":return"sharedRules";case"profile":return"sharedProfiles";case"selectionEntry":return"sharedSelectionEntries";case"selectionEntryGroup":return"sharedSelectionEntryGroups";default:return""}switch(Zn.editorTypeName){case"infoGroup":return"infoGroups";case"rule":return"rules";case"profile":return"";case"category":return"categoryEntries";case"profileType":return"profileTypes";case"costType":return"costTypes";case"selectionEntry":return"selectionEntries";case"selectionEntryGroup":return"";default:return Zn.parentKey}},move(Zn,Jn,Xn,Qn){(()=>{const tr=this.move_to_key(Zn,Qn);if(!tr){console.error("Could not find key for move",Zn.editorTypeName,Qn);return}const nr=Zn.parent,rr=getEntryPath(Zn);removeEntry(Zn),this.removed(Zn),onRemoveEntry(Zn);const sr=JSON.parse(entryToJson(Zn,editorFields));setPrototypeRecursive({[tr]:sr}),Xn[tr]||(Xn[tr]=[]),Xn[tr].push(sr),onAddEntry(sr,Xn,Xn,this.get_system(Xn.getSystemId())),this.changed(sr);const or=["rule","infoGroup","profile","selectionEntry","selectionEntryGroup"].includes(Zn.editorTypeName),ar=!Zn.parentKey.startsWith("shared");if(or&&ar){const lr={targetId:sr.id,id:Jn.generateNonConflictingId(),type:Zn.editorTypeName,name:Zn.getName(),hidden:Zn.hidden,select:!0};Zn.isEntry()&&(lr.collective=Zn.collective);const cr=Zn.isGroup()||Zn.isEntry()?"entryLinks":"infoLinks";setPrototypeRecursive({[cr]:lr}),rr[rr.length-1].key=cr,addAtEntryPath(Jn,rr,lr),onAddEntry(lr,Jn,nr,this.get_system(Jn.getSystemId())),this.changed(lr)}})()},async open(Zn,Jn,Xn){var ir;let Qn=document.getElementById("editor-entries");if(!Qn)return;async function er(or){const ar=get_ctx(or);get_base_from_vue_el(ar).showInEditor=!0,ar.open(),await ar.$nextTick()}async function tr(or){const ar=get_ctx(or);ar.close(),await ar.$nextTick()}const nr=getEntryPath(Zn);if(!(nr!=null&&nr.length))return;if(Qn=Qn.getElementsByClassName(`depth-0 ${nr[0].key}`)[0],!Qn){Xn!==!0&&console.error("Couldn't find root element for",nr[0].key,"in",Zn.catalogue.getName());return}await this.show(Zn,!1),await er(Qn);const rr=[];forEachParent(Zn,or=>{rr.push(or)}),rr.pop(),rr.reverse(),rr.push(Zn),rr[0].parentKey==="sharedProfiles"&&rr.unshift({parentKey:`label-${rr[0].typeName??"Untyped"}`});const sr=rr[rr.length-1];for(let or=0;or<rr.length;or++){const ar=rr[or],lr=Qn.getElementsByClassName(`depth-${or+1} ${ar.parentKey}`);let cr;if(ar.parentKey.startsWith("label-"))cr=lr[0];else{const pr=[];for(let ur=0;ur<lr.length;ur++)pr.push(lr[ur]);cr=pr.find(ur=>$toRaw(get_base_from_vue_el(get_ctx(ur)))===$toRaw(ar))}cr||Xn!==!0&&console.error("Couldn't find path to",Zn.getName(),Zn,"parent:",(ir=Zn.parent)==null?void 0:ir.getName()),cr&&(Qn=cr),ar!==sr&&await er(Qn),ar===sr&&(Jn===!1?await tr(Qn):Jn===!0&&await er(Qn))}return Qn},async goto_catalogue(Zn,Jn){var nr,rr,sr;const Xn=this.$router;if(!Xn)throw new Error("Cannot follow link to another catalogue without $router set");const er=((nr=Xn.currentRoute)==null?void 0:nr.query)??((sr=(rr=Xn.currentRoute)==null?void 0:rr.value)==null?void 0:sr.query),tr=(er==null?void 0:er.id)||(er==null?void 0:er.systemId);return Zn!==tr?(Xn.push({name:"catalogue",query:{systemId:Jn||Zn,id:Zn}}),this.$nextTick=new Promise((ir,or)=>{this.$nextTickResolve=ir}),await this.$nextTick,!0):!1},async show(Zn,Jn=!0){this.filtered.includes(Zn)||this.filtered.push(Zn),Zn.showInEditor=!0,Zn.showChildsInEditor=!0,Jn&&(Zn.highlight=!0),forEachParent(Zn,Xn=>{Xn.showInEditor=!0})},async goto(Zn){const Jn=Zn.getCatalogue();this.put_current_state_in_history();const Xn=useEditorUIState();Xn.get_data(Jn.id).selection=getEntryPath(Zn),await this.goto_catalogue(Jn.id,Jn.gameSystemId),this.show(Zn,!1),await this.scrollto(Zn)},async scroll_to_el(Zn){Zn.scrollIntoView({block:"nearest",inline:"start",behavior:"instant"})},async scrollto(Zn){const Jn=await this.open(Zn);if(Jn){const Xn=get_ctx(Jn);this.do_select(null,Xn,Xn),this.scroll_to_el(Jn)}else setTimeout(async()=>{const Xn=await this.open(Zn);if(Xn){const Qn=get_ctx(Xn);this.do_select(null,Qn,Qn),this.scroll_to_el(Xn)}},50)},can_goto(Zn){return Zn?typeof Zn=="object"&&Zn instanceof Base:!1},can_follow(Zn){return!!(Zn!=null&&Zn.target)},async follow(Zn){Zn!=null&&Zn.target&&await this.goto(Zn.target)},async move_up(Zn){if(Zn.parent){const Jn=Zn.parent[Zn.parentKey],Xn=Jn.indexOf(Zn);if(Xn>0){const Qn=Jn.splice(Xn,1)[0];Jn.splice(Xn-1,0,Qn)}}},async move_down(Zn){if(Zn.parent){const Jn=Zn.parent[Zn.parentKey],Xn=Jn.indexOf(Zn);if(Xn>=0&&Xn<Jn.length-1){const Qn=Jn.splice(Xn,1)[0];Jn.splice(Xn+1,0,Qn)}}},get_leftpanel_open_collapsible_boxes(){function Zn(Xn,Qn,er=0){const tr=`depth-${er} collapsible-box opened`,nr=Xn.getElementsByClassName(tr);if(nr!=null&&nr.length)for(var rr=0;rr<nr.length;rr++){const sr=nr[rr],ir=get_base_from_vue_el(get_ctx(sr)),or=ir.parentKey,ar=ir.parent;if(ar){const lr=ar[or];if(!lr||!Array.isArray(lr))continue;const cr=lr.indexOf(ir);or in Qn||(Qn[or]={}),cr in Qn[or]||(Qn[or][cr]={}),Zn(sr,Qn[or][cr],er+1)}else{const lr=[];for(var rr=0;rr<sr.classList.length;rr++){const ur=sr.classList[rr];lr.push(ur)}const cr=lr.filter(pr=>goodJsonKeys.has(pr)||pr.startsWith("label-"));for(const pr of cr)Qn[pr]={},Qn[pr][0]={};Zn(sr,Qn[cr[0]][0],er+1)}}}const Jn={};return Zn(document.documentElement,Jn),Jn},get_leftpanel_state(){if(!this.catalogueComponent)return{};const Zn={},Jn=this.catalogueComponent.$refs.leftpanel;for(const Xn of Object.keys(LeftPanelDefaults))Zn[Xn]=Jn[Xn];return Zn},get_current_state(){var Xn;const Zn=this.get_selected(),Jn=(Xn=this.catalogueComponent)==null?void 0:Xn.cat;return{...this.get_leftpanel_state(),mode:this.mode,open:this.get_leftpanel_open_collapsible_boxes(),selection:Zn?getEntryPath(Zn):void 0,catalogueId:Jn==null?void 0:Jn.id,systemId:Jn==null?void 0:Jn.gameSystemId}},save_state(){if(this.catalogueComponent&&this.catalogueComponent.cat){const Zn=this.catalogueComponent.cat.id,Jn=useEditorUIState(),Xn=this.get_current_state();Jn.set_state(Zn,Xn)}},async load_state(Zn){this.catalogueComponent&&(useEditorUIState().set_state(Zn.catalogueId,Zn),this.mode=Zn.mode||"edit",await this.goto_catalogue(Zn.catalogueId,Zn.systemId)||(this.catalogueComponent.load_state(Zn),this.rerender_catalogue()))},put_state_in_history(Zn){if(this.historyStackPos<this.historyStack.length){const Jn=this.historyStack.length-this.historyStackPos;this.historyStack.splice(this.historyStackPos,Jn,Zn)}else this.historyStack.push(Zn);this.historyStackPos=this.historyStack.length},put_current_state_in_history(){this.catalogueComponent&&this.catalogueComponent.cat&&this.put_state_in_history(this.get_current_state())},can_back(){return this.historyStackPos>0},async back(){this.can_back()&&(this.historyStack[this.historyStackPos]=this.get_current_state(),this.historyStackPos-=1,this.load_state(this.historyStack[this.historyStackPos]))},can_forward(){if(this.historyStack[this.historyStack.length-1])return this.historyStackPos<this.historyStack.length-1},async forward(){this.can_forward()&&(this.historyStackPos+=1,this.load_state(this.historyStack[this.historyStackPos]))},async update_catalogue_search(Zn,Jn){const{filter:Xn,ignoreProfilesRules:Qn}=Jn,er=this.filtered;for(const tr of er)delete tr.showInEditor,delete tr.showChildsInEditor,delete tr.highlight,forEachParent(tr,nr=>{delete nr.showInEditor,delete tr.showChildsInEditor});if(Xn.length>1){this.set_filter(Xn),this.filtered=Zn.findOptionsByText(Xn),Qn&&(this.filtered=this.filtered.filter(tr=>!tr.isProfile()&&!tr.isRule()&&!tr.isInfoGroup()));for(const tr of this.filtered)this.show(tr);if(await(globalThis.$nextTick&&globalThis.$nextTick()),this.filtered.length<300){for(const tr of this.filtered)if(tr.parent)try{await this.open(tr,!1,!0)}catch{continue}}}else this.set_filter(""),this.filtered=[];return this.filtered},async system_search(Zn,Jn,Xn=1e3){const Qn=[],{filter:er}=Jn;if(!er)return null;const tr=textSearchRegex(er);let nr=!1;await Zn.loadAll();for(const sr of Zn.getAllLoadedCatalogues())if(sr.forEachObjectWhitelist((ir,or)=>{var ar;try{if(Qn.length>=Xn||ir.targetId&&ir.target&&ir.target.isCategory()&&!(or!=null&&or.isForce()))return;const lr=(ar=ir.getName)==null?void 0:ar.call(ir),cr=ir.$text,pr=ir.description,ur=ir.id;(ur===er||lr&&String(lr).match(tr)||ur===er||cr&&String(cr).match(tr)||pr&&String(pr).match(tr))&&Qn.push(ir)}catch(lr){console.error("Error while searching:",lr)}}),Qn.length>=Xn){nr=!0;break}console.log("Search for",`"${er}"`,"found",Qn.length,"results");const rr={};for(const sr of Qn)addObj(rr,sr.catalogue.name,sr);return{grouped:rr,all:Qn,more:nr}},async open_catalogue(Zn,Jn){const Xn=await this.get_or_load_system(Zn);let Qn=Xn.getLoadedCatalogue({targetId:Jn||Zn});Qn||(Qn=await Xn.loadCatalogue({targetId:Jn||Zn})),globalThis.$catalogue=Qn,Qn.processForEditor();for(const er of Qn.imports)er.processForEditor();return{system:Xn,catalogue:Qn}},add_child(...Zn){return this.add_node(...Zn)},del_child(...Zn){return this.del_node(...Zn)},edit_child(...Zn){return this.edit_node(...Zn)}}}),_sfc_main$1=defineComponent({data(){return{val:"",titleSize:50}},methods:{update(){this.titleSize=this.$refs.title.clientHeight}},setup(){const Zn=useEditorStore();return Zn.init(this),{settings:useSettingsStore(),store:Zn}},mounted(){addEventListener("resize",this.update)},unmounted(){removeEventListener("resize",this.update)},async created(){this.settings.refreshAppearance()},watch:{"settings.theme"(){this.settings.refreshAppearance()}},components:{TitleBar:__nuxt_component_0}}),app_vue_vue_type_style_index_0_lang="",_hoisted_1=createBaseVNode("div",{id:"popups"},null,-1),_hoisted_2=createBaseVNode("div",{id:"dialogs"},null,-1),_hoisted_3={id:"app"};function _sfc_render(Zn,Jn,Xn,Qn,er,tr){const nr=resolveComponent("Notifications"),rr=__nuxt_component_0,sr=__nuxt_component_1,ir=__nuxt_component_2;return openBlock(),createElementBlock(Fragment,null,[_hoisted_1,_hoisted_2,createBaseVNode("div",_hoisted_3,[createVNode(nr,{style:normalizeStyle({"margin-top":`${Zn.titleSize+5}px`}),position:"top center"},null,8,["style"]),createVNode(ir,null,{default:withCtx(()=>[createBaseVNode("div",{class:"title",ref:"title",onResize:Jn[0]||(Jn[0]=(...or)=>Zn.update&&Zn.update(...or))},[createVNode(rr)],544),createBaseVNode("div",{class:"content",style:normalizeStyle({height:`calc(100vh - ${Zn.titleSize}px)`})},[createVNode(sr,{keepalive:!0})],4)]),_:1})])],64)}const AppComponent=_export_sfc(_sfc_main$1,[["render",_sfc_render]]),_sfc_main={__name:"nuxt-root",setup(Zn){const Jn=defineAsyncComponent(()=>__vitePreload(()=>import("./error-component.67377d16.js"),[],import.meta.url).then(sr=>sr.default||sr)),Xn=()=>null,Qn=useNuxtApp(),er=Qn.deferHydration(),tr=!1;provide("_route",useRoute()),Qn.hooks.callHookWith(sr=>sr.map(ir=>ir()),"vue:setup");const nr=useError();onErrorCaptured((sr,ir,or)=>{if(Qn.hooks.callHook("vue:error",sr,ir,or).catch(ar=>console.error("[nuxt] Error in `vue:error` hook",ar)),isNuxtError(sr)&&(sr.fatal||sr.unhandled))return Qn.runWithContext(()=>showError(sr)),!1});const{islandContext:rr}=!1;return(sr,ir)=>(openBlock(),createBlock(Suspense,{onResolve:unref(er)},{default:withCtx(()=>[unref(nr)?(openBlock(),createBlock(unref(Jn),{key:0,error:unref(nr)},null,8,["error"])):unref(rr)?(openBlock(),createBlock(unref(Xn),{key:1,context:unref(rr)},null,8,["context"])):unref(tr)?(openBlock(),createBlock(resolveDynamicComponent(unref(tr)),{key:2})):(openBlock(),createBlock(unref(AppComponent),{key:3}))]),_:1},8,["onResolve"]))}};globalThis.$fetch||(globalThis.$fetch=$fetch$1.create({baseURL:baseURL()}));let entry;const plugins=normalizePlugins(_plugins);{let Zn;entry=async function(){var tr,nr;if(Zn)return Zn;const Qn=!!((tr=window.__NUXT__)!=null&&tr.serverRendered||((nr=document.getElementById("__NUXT_DATA__"))==null?void 0:nr.dataset.ssr)==="true")?createSSRApp(_sfc_main):createApp(_sfc_main),er=createNuxtApp({vueApp:Qn});try{await applyPlugins(er,plugins)}catch(rr){await er.callHook("app:error",rr),er.payload.error=er.payload.error||rr}try{await er.hooks.callHook("app:created",Qn),await er.hooks.callHook("app:beforeMount",Qn),Qn.mount("#"+appRootId),await er.hooks.callHook("app:mounted",Qn),await nextTick()}catch(rr){await er.callHook("app:error",rr),er.payload.error=er.payload.error||rr}return Qn},Zn=entry().catch(Jn=>{console.error("Error while mounting app:",Jn)})}export{getEntryPathInfo as $,_imports_0 as A,withModifiers as B,vModelSelect as C,renderList as D,normalizeClass as E,Fragment as F,__nuxt_component_0$1 as G,pushScopeId as H,popScopeId as I,useEditorStore as J,getNameExtra as K,getName as L,createStaticVNode as M,inBounds as N,resolveDirective as O,vShow as P,withKeys as Q,normalizeStyle as R,setPrototype as S,Teleport as T,sortByDescending as U,mergeProps as V,first as W,getModifierOrConditionParent as X,getDataObject as Y,findParentWhere as Z,__vitePreload as _,_export_sfc as a,ProfileType as a0,get_base_from_vue_el as a1,get_ctx as a2,useEditorUIState as a3,toRaw as a4,escapeXml as a5,getTypeName as a6,getTypeLabel as a7,getEntryPath as a8,groupBy as a9,getDataDbId as aA,dirname as aB,db as aC,__nuxt_component_0$2 as aD,stripHtml as aE,defineStore as aF,GameSystemFiles as aG,Base as aH,showOpenDialog as aI,getFolderFolders as aJ,getPath as aK,getFolderFiles as aL,removeSuffix as aM,getModifiedField as aa,reactive as ab,allowed_children as ac,systemCategories as ad,catalogueCategories as ae,LeftPanelDefaults as af,getAtEntryPath as ag,useCataloguesStore as ah,getNextRevision as ai,showMessageBox as aj,closeWindow as ak,ref as al,isAllowedExtension as am,isZipExtension as an,convertToJson as ao,getExtension as ap,isRef as aq,normalizeGithubRepoUrl as ar,unzipFolder as as,addOne as at,capitalize as au,convertToXml as av,removeExtension as aw,filename as ax,download as ay,deleteFile as az,createElementBlock as b,createBlock as c,defineAsyncComponent as d,defineComponent as e,useHead as f,guardReactiveProps as g,createVNode as h,createBaseVNode as i,toValue as j,generateBattlescribeId as k,createCommentVNode as l,renderSlot as m,normalizeProps as n,openBlock as o,vModelCheckbox as p,withCtx as q,resolveComponent as r,createTextVNode as s,toDisplayString as t,unref as u,vModelText as v,withDirectives as w,sortByAscending as x,sortByAscendingInplace as y,useSettingsStore as z};
//# sourceMappingURL=entry.bda382ef.js.map
