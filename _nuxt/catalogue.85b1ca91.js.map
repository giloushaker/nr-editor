{"version":3,"file":"catalogue.85b1ca91.js","sources":["../../../../node_modules/nuxt/dist/head/runtime/components.js","../../../../components/util/EditableDiv.vue","../../../../components/catalogue/right_panel/fields/Comment.vue","../../../../components/catalogue/right_panel/fields/Basics.vue","../../../../assets/icons/back.png","../../../../components/catalogue/right_panel/fields/Publication.vue","../../../../components/catalogue/right_panel/PublicationPanel.vue","../../../../components/catalogue/right_panel/fields/Hidden.vue","../../../../components/catalogue/right_panel/CostTypesPanel.vue","../../../../components/catalogue/left_panel/Entry.vue","../../../../components/Separator.vue","../../../../components/dialog/ContextMenu.vue","../../../../components/catalogue/left_panel/components/EditorCollapsibleBox.vue","../../../../components/catalogue/left_panel/components/CatalogueLabel.vue","../../../../assets/bsicons/profileType.png","../../../../assets/bsicons/profile.png","../../../../components/catalogue/left_panel/components/CatalogueEntry.vue","../../../../assets/bsicons/catalogue.png","../../../../assets/bsicons/force.png","../../../../assets/bsicons/categoryLink.png","../../../../assets/bsicons/selectionEntry.png","../../../../assets/bsicons/selectionEntryGroup.png","../../../../assets/bsicons/link.png","../../../../assets/bsicons/rule.png","../../../../assets/bsicons/infoGroup.png","../../../../assets/bsicons/condition.png","../../../../assets/bsicons/conditionGroup.png","../../../../assets/bsicons/repeat.png","../../../../assets/bsicons/constraint.png","../../../../assets/bsicons/modifier.png","../../../../assets/bsicons/modifierGroup.png","../../../../assets/icons/redcross.png","../../../../../../../../../assets/icons/undo.svg","../../../../../../../../../assets/icons/redo.svg","../../../../assets/icons/collapse-all.svg","../../../../components/catalogue/left_panel/LeftPanel.vue","../../../../components/catalogue/right_panel/fields/SortOrder.vue","../../../../components/catalogue/right_panel/fields/ProfileType.vue","../../../../assets/icons/trash.png","../../../../components/catalogue/right_panel/ProfileTypesPanel.vue","../../../../components/util/Autocomplete.vue","../../../../components/catalogue/right_panel/fields/Reference.vue","../../../../assets/bsicons/publication.png","../../../../components/catalogue/right_panel/fields/QuickConstraints.vue","../../../../components/catalogue/right_panel/CategoryEntriesPanel.vue","../../../../components/catalogue/right_panel/ForceEntriesPanel.vue","../../../../components/catalogue/right_panel/fields/Characteristics.vue","../../../../components/catalogue/right_panel/ProfilesPanel.vue","../../../../components/catalogue/right_panel/fields/Description.vue","../../../../components/catalogue/right_panel/RulesPanel.vue","../../../../components/catalogue/right_panel/fields/EntryType.vue","../../../../components/catalogue/right_panel/fields/Creation.vue","../../../../components/util/NumberInput.vue","../../../../components/catalogue/right_panel/fields/Costs.vue","../../../../assets/bsicons/cost.png","../../../../components/catalogue/right_panel/fields/Booleans.vue","../../../../components/catalogue/edit_v2/Tag.vue","../../../../components/util/AutocompleteTags.vue","../../../../components/catalogue/edit_v2/Categories.vue","../../../../components/catalogue/right_panel/fields/Category.vue","../../../../components/catalogue/right_panel/fields/Categories.vue","../../../../components/catalogue/right_panel/fields/SortChilds.vue","../../../../components/catalogue/right_panel/SelectionEntryPanel.vue","../../../../components/catalogue/right_panel/fields/Link.vue","../../../../assets/icons/error_exclamation.png","../../../../components/catalogue/right_panel/LinkPanel.vue","../../../../components/util/IconSelect.vue","../../../../components/catalogue/right_panel/fields/Modifier.vue","../../../../components/catalogue/right_panel/fields/QuickConditions.vue","../../../../components/catalogue/right_panel/ModifierPanel.vue","../../../../components/catalogue/right_panel/fields/Constraint.vue","../../../../assets/ts/catalogue/catalogue_helpers.ts","../../../../components/catalogue/right_panel/fields/Query.vue","../../../../components/catalogue/right_panel/fields/QuickModifiers.vue","../../../../components/catalogue/right_panel/fields/FilterBy.vue","../../../../components/catalogue/right_panel/ConstraintPanel.vue","../../../../components/catalogue/right_panel/fields/ConditionGroup.vue","../../../../components/catalogue/right_panel/ConditionGroupPanel.vue","../../../../components/catalogue/right_panel/fields/Condition.vue","../../../../components/catalogue/right_panel/ConditionPanel.vue","../../../../components/catalogue/right_panel/ModifierGroupPanel.vue","../../../../components/catalogue/right_panel/InfoGroupPanel.vue","../../../../components/catalogue/right_panel/fields/DefaultSelection.vue","../../../../components/catalogue/right_panel/SelectionEntryGroupPanel.vue","../../../../components/catalogue/right_panel/fields/Revision.vue","../../../../components/catalogue/right_panel/fields/Catalogue.vue","../../../../components/catalogue/right_panel/fields/Information.vue","../../../../components/catalogue/right_panel/CataloguePanel.vue","../../../../components/catalogue/right_panel/fields/Repeat.vue","../../../../components/catalogue/right_panel/RepeatPanel.vue","../../../../components/catalogue/right_panel/AssociationPanel.vue","../../../../components/catalogue/right_panel/ReferencesPanel.vue","../../../../components/catalogue/right_panel/RightPanel.vue","../../../../pages/catalogue.vue"],"sourcesContent":["import { defineComponent } from \"vue\";\nimport { useHead } from \"@unhead/vue\";\nconst removeUndefinedProps = (props) => Object.fromEntries(Object.entries(props).filter(([, value]) => value !== void 0));\nconst setupForUseMeta = (metaFactory, renderChild) => (props, ctx) => {\n  useHead(() => metaFactory({ ...removeUndefinedProps(props), ...ctx.attrs }, ctx));\n  return () => renderChild ? ctx.slots.default?.() : null;\n};\nconst globalProps = {\n  accesskey: String,\n  autocapitalize: String,\n  autofocus: {\n    type: Boolean,\n    default: void 0\n  },\n  class: [String, Object, Array],\n  contenteditable: {\n    type: Boolean,\n    default: void 0\n  },\n  contextmenu: String,\n  dir: String,\n  draggable: {\n    type: Boolean,\n    default: void 0\n  },\n  enterkeyhint: String,\n  exportparts: String,\n  hidden: {\n    type: Boolean,\n    default: void 0\n  },\n  id: String,\n  inputmode: String,\n  is: String,\n  itemid: String,\n  itemprop: String,\n  itemref: String,\n  itemscope: String,\n  itemtype: String,\n  lang: String,\n  nonce: String,\n  part: String,\n  slot: String,\n  spellcheck: {\n    type: Boolean,\n    default: void 0\n  },\n  style: String,\n  tabindex: String,\n  title: String,\n  translate: String\n};\nexport const NoScript = defineComponent({\n  name: \"NoScript\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    title: String,\n    body: Boolean,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((props, { slots }) => {\n    const noscript = { ...props };\n    const textContent = (slots.default?.() || []).filter(({ children }) => children).map(({ children }) => children).join(\"\");\n    if (textContent) {\n      noscript.children = textContent;\n    }\n    return {\n      noscript: [noscript]\n    };\n  })\n});\nexport const Link = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Link\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    as: String,\n    crossorigin: String,\n    disabled: Boolean,\n    fetchpriority: String,\n    href: String,\n    hreflang: String,\n    imagesizes: String,\n    imagesrcset: String,\n    integrity: String,\n    media: String,\n    prefetch: {\n      type: Boolean,\n      default: void 0\n    },\n    referrerpolicy: String,\n    rel: String,\n    sizes: String,\n    title: String,\n    type: String,\n    /** @deprecated **/\n    methods: String,\n    /** @deprecated **/\n    target: String,\n    body: Boolean,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((link) => ({\n    link: [link]\n  }))\n});\nexport const Base = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Base\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    href: String,\n    target: String\n  },\n  setup: setupForUseMeta((base) => ({\n    base\n  }))\n});\nexport const Title = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Title\",\n  inheritAttrs: false,\n  setup: setupForUseMeta((_, { slots }) => {\n    const title = slots.default?.()?.[0]?.children || null;\n    if (process.dev && title && typeof title !== \"string\") {\n      console.error(\"<Title> can only take a string in its default slot.\");\n    }\n    return {\n      title\n    };\n  })\n});\nexport const Meta = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Meta\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    charset: String,\n    content: String,\n    httpEquiv: String,\n    name: String,\n    body: Boolean,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((props) => {\n    const meta = { ...props };\n    if (meta.httpEquiv) {\n      meta[\"http-equiv\"] = meta.httpEquiv;\n      delete meta.httpEquiv;\n    }\n    return {\n      meta: [meta]\n    };\n  })\n});\nexport const Style = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Style\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    type: String,\n    media: String,\n    nonce: String,\n    title: String,\n    /** @deprecated **/\n    scoped: {\n      type: Boolean,\n      default: void 0\n    },\n    body: Boolean,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((props, { slots }) => {\n    const style = { ...props };\n    const textContent = slots.default?.()?.[0]?.children;\n    if (textContent) {\n      if (process.dev && typeof textContent !== \"string\") {\n        console.error(\"<Style> can only take a string in its default slot.\");\n      }\n      style.children = textContent;\n    }\n    return {\n      style: [style]\n    };\n  })\n});\nexport const Head = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Head\",\n  inheritAttrs: false,\n  setup: (_props, ctx) => () => ctx.slots.default?.()\n});\nexport const Html = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Html\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    manifest: String,\n    version: String,\n    xmlns: String,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((htmlAttrs) => ({ htmlAttrs }), true)\n});\nexport const Body = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Body\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((bodyAttrs) => ({ bodyAttrs }), true)\n});\n","<template>\n  <div :placeholder=\"placeholder\" class=\"editableDiv\" @input=\"change\" @paste=\"onpaste\" contenteditable=\"true\" ref=\"div\">\n  </div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  emits: [\"change\", \"update:modelValue\"],\n  props: {\n    modelValue: {\n      type: [String, Number, Array],\n    },\n    placeholder: {\n      type: String,\n      default: \"\",\n    },\n  },\n\n  methods: {\n    change(e: any) {\n      if (e.target) {\n        this.$emit(\"update:modelValue\", e.target.outerText);\n        this.$emit(\"change\");\n      }\n    },\n    get() {\n      return this.$refs.div as HTMLDivElement;\n    },\n    toHtml(s: string) {\n      return s.replace(/\\n/g, \"<br />\");\n    },\n    decodeHtml(html: string) {\n      var txt = document.createElement(\"textarea\");\n      txt.innerHTML = html;\n      return txt.value;\n    },\n    onpaste(e: ClipboardEvent) {\n      e.preventDefault();\n      var text = this.decodeHtml(e.clipboardData?.getData(\"text/plain\") ?? \"\");\n      document.execCommand(\"insertText\", false, text);\n      this.$emit(\"update:modelValue\", this.get().innerText);\n      this.$emit(\"change\");\n    },\n  },\n\n  mounted() {\n    this.get().innerText = `${this.modelValue ?? \"\"}`;\n  },\n\n  watch: {\n    modelValue() {\n      if (this.get().innerText != this.modelValue) {\n        this.get().innerText = `${this.modelValue ?? \"\"}`;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.editableDiv {\n  border: 1px $box_border solid;\n  padding: 3px;\n  text-align: left;\n  background-color: $input_background;\n}\n\n[contentEditable=\"true\"]:empty:not(:focus):before {\n  content: attr(data-text);\n  color: $gray;\n  font-style: italic;\n}\n\n.editableDiv[placeholder]:empty:before {\n  content: attr(placeholder);\n  color: #555;\n}\n\n.editableDiv[placeholder]:empty:focus::before {\n  content: \"\";\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>Comment</legend>\n    <UtilEditableDiv v-model=\"comment\" @change=\"changed\"></UtilEditableDiv>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { type BSIOption } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIOption>,\n      required: true,\n    },\n  },\n  computed: {\n    comment: {\n      get(): string {\n        return (Array.isArray(this.item.comment) ? this.item.comment[0] : this.item.comment) || \"\";\n      },\n      set(str: string) {\n        this.item.comment = str ? str : undefined;\n      },\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Basics</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Unique ID:</td>\n        <td class=\"flex gap-2px\">\n          <input type=\"text\" v-model=\"id\" @change=\"idchanged\" class=\"flex flex-shrink\" />\n          <button class=\"btn !w-34px flex items-center mr-8px\" @click=\"refresh\">\n            <span>\n              <img class=\"h-20px w-20px icon\" src=\"/assets/icons/back.png\" title=\"Generate Id\" />\n            </span>\n          </button>\n        </td>\n      </tr>\n      <tr>\n        <td>Name:</td>\n        <td><input type=\"text\" v-model=\"item.name\" @change=\"namechanged\" /></td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { generateBattlescribeId } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIOption, BSINamed } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\", \"namechanged\", \"idchanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIOption & BSINamed>,\n      required: true,\n    },\n  },\n\n  methods: {\n    idchanged() {\n      this.$emit(\"idchanged\");\n      this.$emit(\"catalogueChanged\");\n    },\n    namechanged() {\n      this.$emit(\"namechanged\");\n      this.$emit(\"catalogueChanged\");\n    },\n\n    refresh() {\n      this.id = generateBattlescribeId();\n      this.idchanged();\n    },\n  },\n  computed: {\n    id: {\n      get(): string {\n        return this.item.id;\n      },\n      set(id: string) {\n        const obj = this.item as EditorBase;\n        const catalogue = obj.getCatalogue();\n        catalogue.removeFromIndex(obj);\n        obj.id = id;\n        catalogue.addToIndex(obj);\n      },\n    },\n  },\n};\n</script>\n<style>\n.btn {\n  border: 1px solid var(--box-border, #aaa);\n  background-color: var(--input-background);\n  box-shadow: 2px 2px 5px -2px var(--box-border, #aaa);\n}\n</style>\n","export default \"__VITE_ASSET__b03bf360__\"","<template>\n  <fieldset>\n    <legend>Publication</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Short Name</td>\n        <td>\n          <input type=\"text\" v-model=\"item.shortName\" @change=\"changed\" />\n        </td>\n      </tr>\n      <tr>\n        <td>Publication:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.publisher\" @change=\"changed\" />\n        </td>\n      </tr>\n      <tr>\n        <td>Publication Date:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.publicationDate\" @change=\"changed\" />\n        </td>\n      </tr>\n      <tr>\n        <td>Publication URL:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.publisherUrl\" @change=\"changed\" />\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { BSIPublication } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIPublication>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsPublication class=\"section\" :item=\"item\" @catalogueChanged=\"changed\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Publication>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend><slot /></legend>\n    <input\n      id=\"hidden\"\n      type=\"checkbox\"\n      v-model=\"item.hidden\"\n      @change=\"changed\"\n    />\n    <label for=\"hidden\">Hidden</label>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { BSICostType } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSICostType>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n    <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n    <CatalogueRightPanelFieldsHidden :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n      Cost Types\n    </CatalogueRightPanelFieldsHidden>\n\n    <div class=\"section\">\n      <fieldset>\n        <legend>Limit</legend>\n        <table class=\"editorTable\">\n          <tr>\n            <td>Default Cost Limit: </td>\n            <td>\n              <input type=\"number\" v-model=\"item.defaultCostLimit\" @change=\"changed\" />\n              <span class=\"gray ml-10px\">-1 = No limit</span>\n            </td>\n          </tr>\n        </table>\n      </fieldset>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { BSICostType } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSICostType>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n    <span>\n        <span class=\"typeIcon-wrapper\">\n            <img class=\"typeIcon\" :src=\"`assets/bsicons/${item.editorTypeName}.png`\" />\n        </span>\n        <ErrorIcon :errors=\"item.errors\" />\n        <span v-if=\"item.sortIndex && !noSortIndex\" class=\"gray\">\n            [{{ item.sortIndex }}]\n        </span>\n        <span :class=\"{ imported: imported, filtered: item.highlight }\">{{ getName(item) }}</span>\n        <span v-if=\"getNameExtra(item)\" class=\"gray\">&nbsp;\n            {{ getNameExtra(item) }}\n        </span>\n        <span class=\"ml-10px\" v-if=\"costs\" v-html=\"costs\" />\n    </span>\n</template>\n<script lang=\"ts\">\nimport { getName, getNameExtra } from '~/assets/shared/battlescribe/bs_editor';\nimport { sortByDescending } from '~/assets/shared/battlescribe/bs_helpers';\nimport { EditorBase } from '~/assets/shared/battlescribe/bs_main_catalogue';\nimport { useSettingsStore } from '~/stores/settingsState';\nexport interface ICost {\n    name: string;\n    value: number;\n    typeId: string;\n}\nfunction round(num: number): number {\n    return Math.round(num * 100) / 100;\n}\nexport function formatCosts(costs: ICost[]): string {\n    let res = \"\";\n    costs = sortByDescending(costs, (c) => c.name);\n    for (const cost of costs) {\n        if (cost.value != 0) {\n            let name = \"\";\n            if (cost.name.length != 0) {\n                name = \" \" + cost.name;\n            }\n            res = `${res}<span class='cost'>${round(cost.value)}${name}</span>`;\n        }\n    }\n    if (res.length == 0) {\n        return res;\n    }\n    return `<span class=\"costList\">${res}</span>`;\n}\nexport default defineComponent({\n    props: {\n        item: { type: Object as PropType<EditorBase>, required: true },\n        noSortIndex: Boolean,\n        imported: Boolean,\n    },\n    setup() {\n        return { settings: useSettingsStore() }\n    },\n    methods: {\n        getNameExtra, getName\n    },\n    computed: {\n        costs() {\n            const result = [] as ICost[];\n            const catalogue = this.item.getCatalogue();\n            const costs = this.item.getCosts();\n            for (const cost of costs) {\n                const name = catalogue.findOptionById(cost.typeId)?.name || cost.name || cost.typeId;\n                if (name) {\n                    result.push({\n                        name: name,\n                        value: cost.value,\n                        typeId: cost.typeId,\n                    });\n                }\n            }\n            return formatCosts(result);\n        },\n    }\n})\n</script>\n<style scoped>\n.typeIcon {\n    max-width: 18px;\n    vertical-align: middle;\n}\n\n.typeIcon-wrapper {\n    display: inline-block;\n    min-width: 20px;\n    min-height: 1px;\n}\n\n.imported {\n    color: rgb(128, 145, 183);\n}\n</style>","<template>\n  <hr style=\"width: 100%; height: 0px; text-align: left; margin: 0; padding: 0\" />\n</template>\n<style lang=\"scss\" scoped>\n@import \"@/shared_components/css/vars.scss\";\nhr {\n  border-top: 1px;\n  border-color: $box_border;\n}\n</style>\n","<template>\n  <Teleport to=\"#dialogs\" v-show=\"visible\">\n    <li ref=\"context-menu\" class=\"context-menu\" :style=\"style\" v-show=\"visible\">\n      <slot :payload=\"payload\" />\n    </li>\n  </Teleport>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  name: \"ContextMenu\",\n  data() {\n    return {\n      left: 100,\n      top: 100,\n      bottom: 100,\n      right: 100,\n      width: 200,\n      height: 200,\n      visible: false,\n      isDown: false,\n      isRight: false,\n      payload: undefined,\n    };\n  },\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  methods: {\n    do_update(e: MouseEvent) {\n      this.width = this.el?.clientWidth || this.width;\n      this.height = this.el?.clientHeight || this.height;\n      this.top = e.clientY;\n      this.left = e.clientX;\n\n      if (this.avoid) {\n        const avoid = this.avoid as any;\n        const avoidLeft = avoid.offsetLeft;\n        this.left = avoidLeft + avoid.offsetWidth;\n        const target = e.target as HTMLDivElement;\n        var targetPos = target.getBoundingClientRect();\n        this.top = targetPos.top - 1;\n      }\n\n      this.left = Math.min(this.left, window.innerWidth - this.width) + 2;\n      this.top = Math.min(this.top, window.innerHeight - 7 - this.height);\n      this.bottom = window.innerHeight - this.top;\n      this.right = window.innerWidth - this.left;\n    },\n    update(e: MouseEvent) {\n      e.preventDefault();\n      this.do_update(e);\n      this.$nextTick(() => {\n        this.do_update(e);\n      });\n    },\n    show(e: MouseEvent, payload?: any) {\n      this.payload = payload;\n      this.visible = true;\n      this.update(e);\n      this.$emit(\"update:modelValue\", true);\n    },\n    close() {\n      this.visible = false;\n      this.$emit(\"update:modelValue\", false);\n    },\n  },\n  mounted() {\n    addEventListener(\"click\", this.close, { capture: true });\n    addEventListener(\"contextmenu\", this.close, { capture: true });\n    addEventListener(\"scroll\", this.close, { capture: true });\n  },\n  unmounted() {\n    addEventListener(\"click\", this.close, { capture: true });\n    removeEventListener(\"contextmenu\", this.close, { capture: true });\n    removeEventListener(\"scroll\", this.close, { capture: true });\n  },\n  computed: {\n    el() {\n      return this.$refs[\"context-menu\"] as HTMLDivElement;\n    },\n    style() {\n      const result = {} as Record<string, string>;\n      result.top = `${this.top}px`;\n      result.left = `${this.left}px`;\n      return result;\n    },\n    avoid() {\n      return (this.$el as HTMLDivElement).parentElement?.closest(\".context-menu\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n.fixed {\n  position: fixed;\n}\n.context-menu {\n  z-index: 10000000;\n  display: block;\n  // fle x-direction: column;\n\n  position: absolute;\n  box-sizing: border-box;\n  justify-content: center;\n  background-color: $background_color;\n  color: $fontColor;\n  text-decoration: none;\n  font-size: 14px;\n  border: 1px solid $box_border;\n\n  min-width: 200px;\n  width: fit-content;\n  height: fit-content;\n  right: 0;\n  bottom: 0;\n\n  > div {\n    display: flex;\n    align-items: center;\n    padding: 4px;\n  }\n\n  cursor: pointer;\n\n  > :hover,\n  > :focus {\n    background: $blue;\n  }\n}\n</style>\n","<template>\n  <div :class=\"{ box, nobox, nocollapse, collapsed, opened }\" class=\"collapsible-box\"\n    @contextmenu=\"do_rightcllick_select\">\n    <h3 v-if=\"!notitle\" class=\"title hover-darken\" :class=\"{\n      selected,\n      arrowTitle: collapsible,\n      normalTitle: !collapsible,\n      collapsed: collapsible && collapsed,\n      alt: alt && altclickable,\n    }\" @click.stop=\"do_select\" @click.ctrl.stop=\"$emit('ctrlclick')\" @click.alt.stop=\"$emit('altclick')\"\n      @dblclick=\"collapseSwitch($event.shiftKey)\" @paste=\"paste\" @copy=\"paste\" @cut=\"paste\">\n      <div class=\"arrow-wrap\" @click.stop=\"collapseSwitch($event.shiftKey)\">\n        <img :class=\"{ hide }\" :src=\"dropdownSrc\" class=\"arrow icon\" />\n      </div>\n\n      <slot name=\"title\" />\n    </h3>\n    <div v-if=\"initiated\" v-show=\"!collapsed || !collapsible\" class=\"content\">\n      <slot name=\"content\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { get_ctx, get_base_from_vue_el, useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  name: \"EditorCollapsibleBox\",\n  props: {\n    payload: {},\n\n    collapsible: {\n      type: Boolean,\n      default: true,\n    },\n\n    nobox: {\n      type: Boolean,\n      default: false,\n    },\n    defcollapsed: {\n      type: Boolean,\n      default: true,\n    },\n\n    notitle: {\n      type: Boolean,\n      default: false,\n    },\n\n    title: {\n      type: String,\n      required: false,\n      default: \"titreCategory\",\n    },\n\n    titleCollapse: {\n      type: Boolean,\n      default: true,\n    },\n    group: {\n      type: Array as PropType<any[]>,\n      required: true,\n    },\n    modelValue: {\n      default: true,\n    },\n    altclickable: {\n      default: false,\n    },\n    vshow: {\n      default: false,\n      type: Boolean\n    }\n  },\n\n  data() {\n    return {\n      collapsed: true,\n      initiated: this.vshow,\n      selected: false,\n      alt: false,\n    };\n  },\n\n  created() {\n    if (this.defcollapsed == false) {\n      this.collapseSwitch();\n    }\n  },\n  setup() {\n    return { store: useEditorStore() };\n  },\n  mounted() {\n    addEventListener(\"keydown\", this.handleKeyDown);\n    addEventListener(\"keyup\", this.handleKeyUp);\n    this.$el.vnode = this;\n    this.group?.push(this);\n    this.init(this.payload);\n  },\n\n  updated() {\n    this.$el.vnode = this;\n  },\n  unmounted() {\n    removeEventListener(\"keydown\", this.handleKeyDown);\n    removeEventListener(\"keyup\", this.handleKeyUp);\n    if (this.group && Array.isArray(this.group)) {\n      const idx = this.group.indexOf(this as any);\n      if (idx !== -1) {\n        this.group?.splice(idx, 1);\n      }\n    }\n  },\n  watch: {\n    payload(data) {\n      this.init(data);\n    },\n    collapsed(newVal) {\n      if (newVal !== this.modelValue) {\n        this.$emit(\"update:modelValue\", newVal);\n      }\n    },\n    modelValue(modelValue) {\n      if (modelValue != this.collapsed) {\n        this.collapsed = modelValue;\n      }\n    },\n  },\n  computed: {\n    dropdownSrc() {\n      let n = 2;\n      let images = [`assets/icons/right${n}.png`, `assets/icons/down${n}.png`];\n      let index = this.collapsed ? 0 : 1;\n      return images[index];\n    },\n    hide() {\n      return !this.collapsible;\n    },\n    nocollapse() {\n      return !this.collapsible;\n    },\n    box() {\n      return !this.nobox;\n    },\n    opened() {\n      return this.collapsible && !this.collapsed;\n    },\n  },\n\n  methods: {\n    cut() {\n      console.log(\"cut\");\n    },\n    copy() {\n      console.log(\"copy\");\n    },\n    paste() {\n      console.log(\"paste\");\n    },\n    init(data: any) {\n      if (data?.select !== undefined) {\n        if (data.select) {\n          const parentBox = this.$parent?.$parent as { open?: () => unknown }\n          parentBox.open && parentBox.open()\n          this.store.do_select(null, this as any, this.group);\n          this.store.scrollto(get_base_from_vue_el(this));\n        }\n        delete data?.select;\n      }\n    },\n    select() {\n      this.selected = true;\n      this.store.select(this, () => this.unselect(), this.payload);\n    },\n    unselect() {\n      this.selected = false;\n    },\n    open() {\n      this.initiated = true;\n\n      if (this.collapsed) {\n        this.collapsed = false;\n        this.$emit(\"open\");\n      }\n    },\n    async open_recursive() {\n      this.open();\n      await this.$nextTick();\n      const el = this.$el as HTMLDivElement;\n      if (el) {\n        for (const nested of el.getElementsByClassName(\"collapsible-box\")) {\n          await get_ctx(nested)?.open_recursive();\n        }\n      }\n    },\n    close() {\n      this.initiated = true;\n\n      if (!this.collapsed) {\n        this.collapsed = true;\n        this.$emit(\"close\");\n      }\n    },\n    async close_recursive() {\n      const el = this.$el as HTMLDivElement;\n      if (el) {\n        for (const nested of el.getElementsByClassName(\"collapsible-box\")) {\n          get_ctx(nested)?.close_recursive();\n        }\n      }\n      await this.$nextTick();\n      this.close();\n    },\n    do_select(e: MouseEvent) {\n      this.store.do_select(e, this as any, this.group);\n      this.$el.focus();\n    },\n    do_rightcllick_select(e: MouseEvent) {\n      this.store.do_rightclick_select(e, this as any, this.group);\n    },\n    async collapseSwitch(deep?: boolean) {\n      this.collapsed = !this.collapsed;\n      this.initiated = true;\n      if (this.collapsed == false) {\n        deep ? await this.open_recursive() : this.open();\n      } else {\n        deep ? await this.close_recursive() : this.close();\n      }\n    },\n    handleKeyDown(event: KeyboardEvent) {\n      if (event.key === \"Alt\") {\n        this.alt = true;\n        event.preventDefault();\n      }\n    },\n    handleKeyUp(event: KeyboardEvent) {\n      if (event.key === \"Alt\") {\n        this.alt = false;\n        event.preventDefault();\n      }\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.arrowTitle {\n  cursor: pointer;\n  position: relative;\n\n  img.arrow {\n    margin-left: 4px;\n    margin-right: 4px;\n  }\n}\n\n.title {\n  white-space: nowrap;\n  min-height: 23px;\n  vertical-align: middle;\n  display: flex;\n  align-items: center;\n  // padding-top: 2px;\n}\n\nh3 {\n  font-size: 16px;\n  font-weight: normal;\n}\n\n.arrow {\n  height: 12px;\n}\n\n.arrow-wrap {\n  vertical-align: middle;\n\n  display: inline-block;\n  min-height: 1px;\n  min-width: 22px;\n  margin-left: 2px;\n}\n\n// indent\n.nobox>.content {\n  padding-left: 20px;\n}\n\n.selected {\n  background-color: rgba(125, 125, 125, 0.3);\n}\n\n.hide {\n  display: none;\n}\n\n.alt:hover {\n  text-decoration: underline;\n  cursor: pointer;\n}\n</style>\n","<template>\n  <div class=\"item unselectable\" @contextmenu.stop=\"contextmenu.show\">\n    <EditorCollapsibleBox nobox :group=\"[]\" :collapsible=\"true\" :class=\"[`depth-${depth}`, `label-${label}`]\" vshow>\n      <template #title><img src=\"/assets/bsicons/profileType.png\" />\n        <span class=\"gray\"> {{ label }}</span>\n      </template>\n      <template #content>\n        <slot />\n      </template>\n    </EditorCollapsibleBox>\n    <ContextMenu v-if=\"contextmenuopen\" v-model=\"contextmenuopen\" ref=\"contextmenu\">\n      <template #default=\"{ payload }\">\n        <template v-if=\"item\">\n          <div v-if=\"item\" @click=\"store.goto(item)\">\n            Goto ({{ item.getName() }}\n          </div>\n          <Separator />\n          <div\n            @click=\"store.create_child('sharedProfiles', catalogue as EditorBase, { typeName: item?.getName(), typeId: item?.getId() })\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/profile.png\" />\n            Profile <span class=\"gray\">&nbsp;({{ item?.getName() }})</span>\n          </div>\n        </template>\n        <template v-else>\n          <div>\n            Nothing\n          </div>\n        </template>\n      </template>\n    </ContextMenu>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport ContextMenu from \"~/components/dialog/ContextMenu.vue\";\nimport EditorCollapsibleBox from \"~/components/catalogue/left_panel/components/EditorCollapsibleBox.vue\";\nimport { useEditorUIState } from \"~/stores/editorUIState\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\nimport { EntryPathEntry } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  name: \"CatalogueEntry\",\n  components: {\n    ContextMenu,\n    EditorCollapsibleBox,\n  },\n  setup() {\n    return { store: useEditorStore(), state: useEditorUIState(), settings: useSettingsStore() };\n  },\n  props: {\n    depth: {\n      type: Number,\n      default: 0,\n    },\n    label: {\n      type: String,\n      required: true\n    },\n    catalogue: {\n      type: Object,\n      required: true\n    },\n    path: {\n      type: Array\n    },\n    item: {\n      type: Object as PropType<EditorBase>\n    }\n  },\n  data() {\n    return {\n      groups: {} as Record<string, any>,\n      contextmenuopen: false,\n      open: false,\n      open_categories: undefined as Set<string> | undefined,\n      name: \"\",\n    };\n  },\n  mounted() {\n    if (this.catalogue) {\n      this.catalogue.processForEditor();\n      const fullPath = [...(this.path || []), {\n        key: `label-${this.label}`,\n        index: 0,\n      }] as EntryPathEntry[];\n      this.open = this.state.get(this.catalogue.id, fullPath);\n    }\n  },\n  methods: {\n    menu(ref: string) {\n      return {\n        show: (event: MouseEvent, e: any) => {\n          this.contextmenuopen = true;\n          this.$nextTick(() => {\n            (this.$refs[ref] as any)?.show(event, e);\n          });\n        },\n        close: (event: MouseEvent, e: any) => {\n          (this.$refs[ref] as any)?.close(event, e);\n          this.contextmenuopen = false;\n        },\n      };\n    },\n\n  },\n\n  computed: {\n    contextmenu() {\n      return this.menu(\"contextmenu\");\n    },\n    nestedcontextmenu() {\n      return this.menu(\"nestedcontextmenu\");\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.imported {\n  color: rgb(128, 145, 183);\n  // font-style: italic;\n}\n\n.filtered {\n  background-color: rgba(10, 80, 255, 0.15);\n}\n\n.typeIcon {\n  max-width: 18px;\n}\n\n.typeIcon-wrapper {\n  display: inline-block;\n  min-width: 20px;\n  min-height: 1px;\n}\n\n.head {\n  margin-left: -20px;\n}\n\n.text-orange {\n  color: rgb(153 31 31);\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkTlIA0EYhT8TRRFFJClELLZQGw2IilhqFESIEKKCV+HuxsRAdg27ERtLwVaw8Gi8ChtrbS1sBUHwALG1sVK0kbD+sxEShAgODPPxZt5j5g0EDrOm5Vb3gGXnncRYVJuZndNqX6ihnma6COmmmxuOx2NUHJ93VKn1NqKy+N9oTC65JlRpwkNmzskLLwoPrOVzineFw+aynhQ+E+525ILCD0o3ivyqOO1zQGWGnanEiHBYWEuXsVHG5rJjCfcLtyctW/IDM0VOKl5XbGVXzZ97qhc2LNnTk0qX2cYY40wQR8NglQxZ8kRktUVxSch+tIK/1ffHxWWIK4MpjlFWsNB9P+oPfnfrpvp6i0kNUah59rz3DqjdhsKW530deV7hGIJPcGmX/CuHMPgh+lZJaz+Apg04vyppxg5cbELLY053dF8KygykUvB2Kt80C6EbqJ8v9vazz8k9TElXsWvY24fOtGQvVHh3XXlvf57x+yP6DVyYcp4hKAl2AAAA5FBMVEVVWVszNTY1NzdKSktaWlpJTE5HSEhTU1NVVVVUVFRSUlIpKitRUVFNTU1PT08kJSY9PT1HR0fu7u7ExMRGRkZNUFI8PD1JSUlzc3N0dHSurq7q6uptbW02OTpMTEygoKDS0tJcXFw0NDV5eXnf399wcHAzMzQcHh5WVlbc3Ny3t7caGxxHS0wdHh/n5+fFxcUjJCUsLS1KSkrDw8OxsbE7OztBQUFQUFBDQ0M8PDzH0NMKCgpeXl5dXV1ZWVlCQkKnrrJSVlcBAQEICAkSExMcHR0bHBwREhLL1Nizu7+vt7oAAABxoPDUAAAATHRSTlP///////////////////////////////////////////////////////////////////////////////////////////////////8Ano3kzAAAAAlwSFlzAAAuIgAALiIBquLdkgAAALlJREFUKFNNyGkXgUAAheGhiJqpRLLvlCXGUJItspT+//9xmuS4H+55zwMiOpDJpEU/y7Ask6VJIZfnCkU+n/uBAJEoIiikIMklRVHKFVn6glrVavVGs1VVvxC1OxB2e/123BSiARyOxhOaCejGdFbQaSYwNzrImNOMYWFyaLlCvLlIAK8JQZst0sgax4AtyyY7xxE1e2/hCLgH2yEcezydeeJcDi7wrjf//pAEAT9f/u3qgSB8/y0MPiLnM6aRQB6+AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkUsoRFEcxn8ziBhJZiFZ3AVKUUKyZCgpahqjxmPh3jtmqLl3pntHNpbKVll4bLwWNtZsLWyVUh4lWxsrYiNd/3NHzaRGOXU6v75zvq9zvgPBg4xpuZU9YNl5JzYW0RIzs1r1M1XU0Ugtnbrp5oaj0QnKjo9bAmq96VZZ/G/UJxddEwKa8JCZc/LCC8IDq/mc4h3hsLmkJ4VPhbscuaDwvdKNAr8oTvscVJlhJx4bEQ4La+kSNkrYXHIs4X7htqRlS34wUeCk4jXFVmbF/LmnemFo0Z6eUrrMVsYYZ5IoGgYrLJMhT7estiguMdmPlPG3+P6ouAxxLWOKY5QsFrrvR/3B727dVF9vISkUgaonz3trh+ot+Nr0vM9Dz/s6gopHuLCL/uwBDL6LvlnU2vahYR3OLouasQ3nG9D8kNMd3ZcqZAZTKXg9kW+agaZrqJ0r9Pazz/EdxKWriSvY3YOOtGTPl3l3TWlvf57x+yPyDUN6cpTX8RfMAAAAmVBMVEVAQUE9PT1YWFg9Pj5VVVVUVFQrKytZWVkpKSpERERRUVFQUFBDQ0NYWVo+Pz9TU1NSUlI4OTlXV1cgISFdXV04ODk4ODhRUlMhIiInJycuLi5KSkpJSUkoKCk7OztBQUE8PDzj5ugLCwtaWlpeXl5CQkK/wcNdX18BAQEJCQkUFRUfICAuLy8fHx8TFBTn6uzNz9HIyswAAABWGAQaAAAAM3RSTlP//////////////////////////////////////////////////////////////////wBxnr2OAAAACXBIWXMAAC4hAAAuIQEHW/z/AAAAmUlEQVQoU03MyRKCMBBF0RDSBBUICMgQAUFlUBTM/3+clbRF+TZ96yyaKBzZAo9FqYWFYDMGYJtEcDgD6pg04O72DA6eu4GP4G+gAsEgDEwiqOgIEdYP4gRiLITU4nBKTWrIcqGfhnmGUJRSajjLstBQ1XWD0FzqSpG2azwprreEh9K7dy3ph3F6PN15rl7vaRx6sqyfv63LF52MIsEsSTP4AAAAAElFTkSuQmCC\"","<template>\n  <div class=\"item unselectable\" @click.middle.stop=\"debug\" @contextmenu.stop=\"contextmenu.show\">\n    <template v-if=\"item.editorTypeName === 'catalogue' || item.editorTypeName === 'gameSystem'\">\n      <div class=\"head\">\n        <EditorCollapsibleBox :payload=\"catalogue\" nobox :group=\"[]\" :collapsible=\"false\">\n          <template #title><img src=\"/assets/bsicons/catalogue.png\" />\n            {{ catalogue.name }}\n            <span v-if=\"getNameExtra(catalogue)\" class=\"gray\">&nbsp;{{ getNameExtra(catalogue) }} </span>\n          </template>\n          <template #content></template>\n\n        </EditorCollapsibleBox>\n      </div>\n\n      <template v-for=\"category of groupedCategories\" :key=\"category.type\">\n        <EditorCollapsibleBox :altclickable=\"store.can_follow(item) || imported\" @altclick=\"onctrlclick\"\n          :collapsible=\"category.items.length > 0\" :group=\"get_group('entries')\" :payload=\"category.type\"\n          @contextmenu.stop=\"contextmenu.show($event, category.type)\"\n          :class=\"[category.type, category.links, `depth-${depth}`]\" nobox :defcollapsed=\"!should_be_open(category.type)\">\n          <template #title>\n            <span>\n              <span class=\"typeIcon-wrapper\">\n                <img class=\"typeIcon\" :src=\"`assets/bsicons/${category.icon}`\" />\n              </span>\n              {{ category.name }}\n            </span>\n          </template>\n          <template #content>\n            <template v-if=\"should_be_grouped(category.type)\">\n              <template v-for=\"group of groupBy(category.items, (o) => o.item.typeName || 'Untyped')\">\n                <CatalogueLabel :label=\"group[0].item.typeName ?? 'Untyped'\" :depth=\"depth + 1\" :catalogue=\"catalogue\"\n                  :item=\"catalogue.findOptionById(group[0].item.typeId!)\">\n                  <template v-for=\"entry of group\" :key=\"key(entry.item)\">\n                    <CatalogueEntry :item=\"entry.item\" :group=\"get_group(category.type)\" :forceShowRecursive=\"forceShow\"\n                      :imported=\"entry.imported\" :depth=\"depth + 2\" noType />\n                  </template>\n                </CatalogueLabel>\n              </template>\n            </template>\n            <template v-else>\n              <template v-for=\"entry of category.items\" :key=\"key(entry.item)\">\n                <CatalogueEntry :item=\"entry.item\" :group=\"get_group(category.type)\" :forceShowRecursive=\"forceShow\"\n                  :imported=\"entry.imported\" :depth=\"depth + 1\" />\n              </template>\n            </template>\n          </template>\n        </EditorCollapsibleBox>\n      </template>\n    </template>\n    <template v-else>\n      <EditorCollapsibleBox :altclickable=\"store.can_follow(item) || imported\" @altclick=\"onctrlclick\"\n        :collapsible=\"mixedChildren && mixedChildren.length > 0\" :empty=\"!mixedChildren || mixedChildren.length == 0\"\n        :group=\"group || []\" :payload=\"item\" :class=\"[item.parentKey, `depth-${depth}`]\" :defcollapsed=\"!open\" nobox>\n        <template #title>\n          <CatalogueLeftPanelEntry :item=\"item\" :imported=\"imported\" />\n          <!-- \n\n            <span>\n              <span class=\"typeIcon-wrapper\">\n                <img class=\"typeIcon\" :src=\"`assets/bsicons/${item.editorTypeName}.png`\" />\n              </span>\n              <span v-if=\"primary\" class=\"text-orange\">{{ primary }}</span>\n              <ErrorIcon :errors=\"item.errors\" />\n              <span v-if=\"item.sortIndex\" class=\"gray\">[{{ item.sortIndex }}]&nbsp;</span>\n              <span :class=\"{ imported: imported, filtered: item.highlight }\">\n                {{ name }}\n              </span>\n              <span v-if=\"getNameExtra(item, true, !noType)\" class=\"gray\">&nbsp;{{ getNameExtra(item, true, !noType) }}\n              </span>\n              <span class=\"ml-10px\" v-if=\"costs\" v-html=\"costs\" />\n          </span>\n            -->\n        </template>\n        <template #content>\n          <CatalogueEntry v-for=\"child of mixedChildren\" :key=\"key(child.item)\" :item=\"child.item\"\n            :group=\"get_group('default')\" :forceShowRecursive=\"forceShow\" :imported=\"imported || child.imported\"\n            :depth=\"depth + 1\" />\n        </template>\n      </EditorCollapsibleBox>\n    </template>\n\n    <ContextMenu v-if=\"contextmenuopen\" v-model=\"contextmenuopen\" ref=\"contextmenu\">\n      <template #default=\"{ payload }\">\n        <template v-if=\"!payload && item\">\n          <div v-if=\"store.can_follow(item)\" @click=\"store.follow(link)\">\n            Follow\n            <span class=\"gray\" v-if=\"link.target.getCatalogue() !== item.getCatalogue()\">\n              &nbsp;[{{ link.target.getCatalogue()?.getName() || link.target.getName() }}]\n            </span>\n          </div>\n          <div v-if=\"imported\" @click=\"store.goto(item)\">\n            Goto\n            <span class=\"gray\"> &nbsp;({{ item.getCatalogue()?.getName() }}) </span>\n          </div>\n          <div v-if=\"item.isProfile() && item.typeId && item.getCatalogue().findOptionById(item.typeId)\"\n            @click=\"store.goto(item.getCatalogue().findOptionById(item.typeId) as EditorBase & ProfileType)\">\n            Goto {{ item.typeName }}\n            <span class=\"gray\">\n              &nbsp;[{{ item.getCatalogue().findOptionById(item.typeId)!.getCatalogue().getName() }}]\n            </span>\n          </div>\n          <div v-if=\"child && store.can_goto(child)\" @click=\"store.goto(child)\">\n            Goto {{ child.getName() }}\n            <span class=\"gray\" v-if=\"item.getCatalogue() !== child.getCatalogue()\">\n              &nbsp;[{{ child.getCatalogue().getName() }}]\n            </span>\n          </div>\n          <div v-if=\"item.links?.length || item.other_links?.length\" @click=\"store.mode = 'references'\">\n            References ({{ item.links ? item.links.length : 0 }})\n          </div>\n          <Separator v-if=\"item.isLink() || item.links || imported\" />\n        </template>\n        <template v-if=\"payload\">\n          <div @click=\"store.create(payload)\">\n            <img class=\"pr-4px\" :src=\"`assets/bsicons/${getTypeName(payload)}.png`\" />\n            {{ getTypeLabel(getTypeName(payload)) }}\n          </div>\n          <div @click=\"store.create('entryLinks', { type: 'selectionEntry' })\" v-if=\"payload === 'selectionEntries'\">\n            <img class=\"pr-4px\" :src=\"`assets/bsicons/link.png`\" />\n            Link\n          </div>\n          <div @click=\"store.create('infoLinks', { type: 'profile' })\" v-if=\"payload === 'rules'\">\n            <img class=\"pr-4px\" :src=\"`assets/bsicons/link.png`\" />\n            Link\n          </div>\n          <Separator />\n        </template>\n        <template v-else>\n          <div @click=\"store.create('forceEntries')\" v-if=\"allowed('forceEntries')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/force.png\" />\n            Force\n          </div>\n          <div @click=\"store.create('categoryLinks')\" v-if=\"allowed('categoryLinks') && item.isForce()\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/categoryLink.png\" />\n            Category\n          </div>\n          <Separator v-if=\"allowed(['forces', 'categoryLinks'])\" />\n          <div @click=\"store.create('selectionEntries')\" v-if=\"allowed('selectionEntries')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/selectionEntry.png\" />\n            Entry\n          </div>\n          <div @click=\"store.create('selectionEntryGroups')\" v-if=\"allowed('selectionEntryGroups')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/selectionEntryGroup.png\" />\n            Group\n          </div>\n          <div @click=\"store.create('entryLinks', { type: 'selectionEntry' })\" v-if=\"allowed('entryLinks')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/link.png\" />\n            Link\n          </div>\n          <Separator v-if=\"allowed(['selectionEntries', 'selectionEntryGroups', 'entryLinks'])\" />\n          <div @click=\"store.create_child('profiles', item)\" v-if=\"allowed('profiles')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/profile.png\" />\n            Profile\n          </div>\n          <div @click=\"store.create('rules')\" v-if=\"allowed('rules')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/rule.png\" />\n            Rule\n          </div>\n          <div @click=\"store.create('infoGroups')\" v-if=\"allowed('infoGroups')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/infoGroup.png\" />\n            Info Group\n          </div>\n          <div @click=\"store.create('infoLinks', { type: 'profile' })\" v-if=\"allowed('infoLinks')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/link.png\" />\n            Info Link\n          </div>\n          <!-- <div @click=\"store.create('associations')\" v-if=\"allowed('associations')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/association.png\" />\n            Association\n          </div> -->\n          <Separator v-if=\"allowed(['profiles', 'rules', 'infoGroups', 'infoLinks'])\" />\n          <div @click=\"store.create('conditions')\" v-if=\"allowed('conditions')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/condition.png\" />\n            Condition\n          </div>\n          <div @click=\"store.create('conditionGroups')\" v-if=\"allowed('conditionGroups')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/conditionGroup.png\" />\n            Condition Group\n          </div>\n          <div @click=\"store.create('repeats')\" v-if=\"allowed('repeats')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/repeat.png\" />\n            Repeat\n          </div>\n          <Separator v-if=\"allowed(['conditions', 'conditionGroups', 'repeats'])\" />\n          <div @click=\"store.create_child('constraints', item)\" v-if=\"allowed('constraints')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/constraint.png\" />\n            Constraint\n          </div>\n          <div @click=\"store.create('modifiers')\" v-if=\"allowed('modifiers')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/modifier.png\" />\n            Modifier\n          </div>\n          <div @click=\"store.create('modifierGroups')\" v-if=\"allowed('modifierGroups')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/modifierGroup.png\" />\n            Modifier Group\n          </div>\n          <Separator v-if=\"allowed(['constraints', 'modifiers', 'modifierGroups'])\" />\n        </template>\n\n        <div @click=\"store.cut\" v-if=\"!payload\">Cut<span class=\"gray absolute right-5px\">Ctrl+X</span> </div>\n        <div @click=\"store.copy\" v-if=\"!payload\">Copy<span class=\"gray absolute right-5px\">Ctrl+C</span> </div>\n        <div @click=\"store.paste\">Paste<span class=\"gray absolute right-5px\">Ctrl+V</span> </div>\n        <div @click=\"store.duplicate\" v-if=\"!payload\">Duplicate<span class=\"gray absolute right-5px\">Ctrl+D</span></div>\n\n        <div v-if=\"!sortable(item.parent)\" @click=\"store.move_up(item)\">\n          <span> Move Up </span>\n        </div>\n        <div v-if=\"!sortable(item.parent)\" @click=\"store.move_down(item)\">\n          <span> Move Down </span>\n        </div>\n        <template v-if=\"!payload && store.get_move_targets(item)?.length\">\n          <div @mouseover=\"nestedcontextmenu.show\">\n            <span> Move To </span>\n            <span class=\"absolute right-5px\">❯</span>\n          </div>\n          <ContextMenu ref=\"nestedcontextmenu\">\n            <div v-for=\"target of store.get_move_targets(item)\"\n              @click=\"store.move(item, catalogue, target.target, target.type)\">\n              {{ target.target.name }} -\n              {{ target.type }}\n            </div>\n          </ContextMenu>\n        </template>\n\n        <div @click=\"\n          store.create_child('entryLinks', catalogue, {\n            targetId: item.id,\n            type: 'selectionEntry',\n            name: item.getName(),\n          })\n          \" v-if=\"item.parentKey === 'sharedSelectionEntries'\">\n          Add Root Link<span class=\"gray\" v-if=\"hasRootLink(catalogue, item)\">&nbsp;(already has one)</span>\n        </div>\n        <Separator v-if=\"!payload\" />\n        <div @click=\"store.remove()\" v-if=\"!payload\">\n          <img class=\"w-12px pr-4px\" src=\"/assets/icons/redcross.png\" />Remove<span\n            class=\"gray absolute right-5px\">Del</span>\n        </div>\n      </template>\n    </ContextMenu>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport type { PropType } from \"vue\";\nimport type { CatalogueEntryItem } from \"@/stores/editorStore\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport {\n  type ItemKeys,\n  type ItemTypes,\n  getName,\n  getTypeLabel,\n  getTypeName,\n  systemCategories,\n  catalogueCategories,\n  getNameExtra,\n  getEntryPath,\n} from \"~/assets/shared/battlescribe/bs_editor\";\nimport type { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { Base, Condition, Link, ProfileType } from \"~/assets/shared/battlescribe/bs_main\";\nimport {\n  generateBattlescribeId,\n  sortByAscending,\n  sortByDescending,\n  escapeXml,\n  groupBy,\n} from \"~/assets/shared/battlescribe/bs_helpers\";\n\nimport { useEditorUIState } from \"~/stores/editorUIState\";\nimport { debug } from \"util\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\nimport { allowed_children } from \"~/assets/shared/battlescribe/bs_convert\";\nimport { getModifiedField } from \"~/assets/shared/battlescribe/bs_modifiers\";\n\nimport ContextMenu from \"~/components/dialog/ContextMenu.vue\";\nimport CatalogueLabel from \"~/components/catalogue/left_panel/components/CatalogueLabel.vue\";\nimport EditorCollapsibleBox from \"~/components/catalogue/left_panel/components/EditorCollapsibleBox.vue\";\nexport interface ICost {\n  name: string;\n  value: number;\n  typeId: string;\n}\nfunction round(num: number): number {\n  return Math.round(num * 100) / 100;\n}\nexport function formatCosts(costs: ICost[]): string {\n  let res = \"\";\n  costs = sortByDescending(costs, (c) => c.name);\n  for (const cost of costs) {\n    if (cost.value != 0) {\n      let name = \"\";\n      if (cost.name.length != 0) {\n        name = \" \" + cost.name;\n      }\n      res = `${res}<span class='cost'>${round(cost.value)}${name}</span>`;\n    }\n  }\n  if (res.length == 0) {\n    return res;\n  }\n  return `<span class=\"costList\">${res}</span>`;\n}\nconst order: Record<string, number> = {\n  link: 1,\n  selectionEntry: 1,\n  entryLink: 1,\n  selectionEntryGroup: 2,\n  entryGroupLink: 2,\n  constraint: 3,\n  forceEntry: 4,\n  profile: 5,\n  rule: 6,\n  infoGroup: 7,\n  infoLink: 8,\n  modifier: 9,\n  modifierGroup: 10,\n  categoryLink: 11,\n  association: 12,\n};\nconst noSort = new Set([\"force\"]);\n\nconst preferOpen = new Set([\"modifierGroups\", \"conditionGroups\"]);\nconst hiddenTypes = new Set([\"characteristicTypes\", \"characteristics\", \"costs\"]);\nexport default {\n  name: \"CatalogueEntry\",\n  components: {\n    ContextMenu,\n    EditorCollapsibleBox,\n    CatalogueLabel\n  },\n  setup() {\n    return { store: useEditorStore(), state: useEditorUIState(), settings: useSettingsStore() };\n  },\n  props: {\n    item: {\n      type: Object as PropType<EditorBase>,\n      required: true,\n    },\n    group: {\n      type: Array,\n    },\n    forceShowRecursive: {\n      type: Boolean,\n      default: false,\n    },\n    showImported: {\n      type: Boolean,\n    },\n    imported: {\n      type: Boolean,\n    },\n    depth: {\n      type: Number,\n      default: 0,\n    },\n    noType: {\n      type: Boolean,\n      default: false,\n    }\n  },\n  data() {\n    return {\n      groups: {} as Record<string, any>,\n      contextmenuopen: false,\n      open: false,\n      open_categories: undefined as Set<string> | undefined,\n      name: \"\",\n    };\n  },\n  mounted() {\n    if (this.catalogue) {\n      this.catalogue.processForEditor();\n      if (!this.imported) {\n        this.open = preferOpen.has(this.item.parentKey) || this.state.get(this.catalogue.id, getEntryPath(this.item));\n        if (this.item.isCatalogue()) {\n          const openCategories = new Set<string>();\n          for (const category of this.categories) {\n            if (this.state.get_root(this.catalogue.id, category.type)) {\n              openCategories.add(category.type);\n            }\n          }\n          this.open_categories = openCategories;\n        }\n      }\n    }\n  },\n  watch: {\n    \"scope.name\"(_new) {\n      this.name = getName(this.item);\n    },\n    _name: {\n      immediate: true,\n      handler(_new) {\n        this.name = _new;\n      },\n    },\n  },\n  methods: {\n    escapeXml,\n    getTypeName,\n    getTypeLabel,\n    getName,\n    getNameExtra,\n    key(entry: EditorBase | any): string {\n      if (entry.id) {\n        return entry.id;\n      } else if (entry[\"$id\"]) {\n        return entry[\"$id\"];\n      } else {\n        entry[\"$id\"] = `temp-${generateBattlescribeId()}`;\n        return entry[\"$id\"];\n      }\n    },\n    should_be_grouped(category: string) {\n      return category === \"sharedProfiles\"\n    },\n    should_be_open(category: string) {\n      return this.open_categories?.has(category);\n    },\n    sortable(entry?: EditorBase) {\n      if (this.settings.sort === \"none\") return false;\n      if (!entry) return true;\n      return noSort.has(entry.editorTypeName) === false;\n    },\n    get_group(key: string) {\n      if (!(key in this.groups)) {\n        this.groups[key] = [];\n      }\n      return this.groups[key];\n    },\n    ref_count(item: EditorBase) {\n      switch (item.editorTypeName) {\n        case \"category\":\n        default:\n          return item.links?.length;\n      }\n    },\n    async onctrlclick() {\n      if (this.store.can_follow(this.item)) {\n        await this.store.follow(this.item as EditorBase & Link);\n      } else if (this.imported) {\n        await this.store.goto(this.item);\n      } else if (this.item.links || this.item.other_links) {\n        this.store.mode = \"references\";\n      }\n    },\n    debug() {\n      console.log(this.item.name, this.item.editorTypeName, toRaw(this.item));\n      (globalThis as any).$debugOption = this.item;\n      (globalThis as any).$debugElement = this;\n    },\n    hasRootLink(catalogue: Catalogue, item: Base) {\n      return catalogue.entryLinks?.find((o) => o.targetId === item.id);\n    },\n    getTypedArray(item: Catalogue, type: ItemKeys, output: CatalogueEntryItem[]) {\n      if (!type) return;\n      const key = type as keyof Catalogue;\n      const found = item[key];\n      if (found && Array.isArray(found)) {\n        for (const child of found) {\n          if (!this.filter_child(child as EditorBase)) continue;\n          output.push({ item: child as ItemTypes & EditorBase, type });\n        }\n      }\n      if (this.showImported) {\n        const useRoot = [\"selectionEntries\", \"selectionEntryLinks\", \"rules\"];\n        const imports = useRoot.includes(type) ? item.importsWithEntries : item.imports;\n        for (const catalogue of imports) {\n          const found = catalogue[key];\n          const system = catalogue.isGameSystem();\n          if (found && Array.isArray(found)) {\n            for (const child of found) {\n              if (!this.filter_child(child as EditorBase)) continue;\n              if (!system && (child as EditorBase).import === false) continue;\n              output.push({ item: child as ItemTypes & EditorBase, type, imported: true });\n            }\n          }\n        }\n      }\n    },\n    allowed(child: string | string[]) {\n      if (Array.isArray(child)) {\n        for (const type of child) {\n          if (this.allowedChildren.has(type)) return true;\n        }\n        return false;\n      }\n      return this.allowedChildren.has(child);\n    },\n    filter_child(elt: EditorBase) {\n      if (!this.forceShow) {\n        if (this.store.filter && elt.showInEditor !== true) return false;\n      }\n      return true;\n    },\n\n    sorted(items: CatalogueEntryItem[]) {\n      if (!this.sortable(this.item)) {\n        return items;\n      }\n      switch (this.settings.sort) {\n        default:\n        case \"asc\":\n          const asc = sortByAscending(items, (o) => o.item.getName() || \"\");\n          return asc;\n        case \"desc\":\n          const desc = sortByDescending(items, (o) => o.item.getName() || \"\");\n          return desc;\n        case \"type\":\n          const type = sortByAscending(items, (o) => {\n            return (o.item.isProfile() ? o.item.getTypeName() : o.item.getType()) || \"\";\n          });\n          return type;\n      }\n    },\n    grouped(items: CatalogueEntryItem[]) {\n      return sortByAscending(\n        this.sorted(items),\n        (o) => order[(o.item?.target as EditorBase)?.editorTypeName ?? o.item.editorTypeName] ?? 1000\n      );\n    },\n    groupBy,\n\n    menu(ref: string) {\n      return {\n        show: (event: MouseEvent, e: any) => {\n          this.contextmenuopen = true;\n          this.$nextTick(() => {\n            (this.$refs[ref] as any)?.show(event, e);\n          });\n        },\n        close: (event: MouseEvent, e: any) => {\n          (this.$refs[ref] as any)?.close(event, e);\n          this.contextmenuopen = false;\n        },\n      };\n    },\n    get_field(field: string) {\n      return (this.item as any)[field];\n    },\n    get_target_field(field: string) {\n      if (this.item.target) {\n        return (this.item.target as any)[field];\n      }\n    },\n    hideType(type: string) {\n      if (type === \"categoryLinks\" && !this.item.isForce()) return true;\n      if (hiddenTypes.has(type)) return true;\n    },\n  },\n\n  computed: {\n    // primary() {\n    //   let result = \"\";\n    //   for (const cl of this.item.categoryLinksIterator()) {\n    //     if (cl.primary) {\n    //       result = cl.target.name;\n    //     }\n    //   }\n    //   return result ? result + \" \" : result;\n    // },\n    order() {\n      return order;\n    },\n    _name() {\n      return getName(this.item);\n    },\n    scope() {\n      const _item = this.item as Condition & EditorBase;\n      if (_item.scope) {\n        const result = getModifiedField(_item, _item.scope);\n        if (result) {\n          return reactive(result);\n        }\n      }\n    },\n    costs() {\n      const result = [] as ICost[];\n      const catalogue = this.item.getCatalogue();\n      const costs = this.item.getCosts();\n      for (const cost of costs) {\n        const name = catalogue.findOptionById(cost.typeId)?.name || cost.name || cost.typeId;\n        if (name) {\n          result.push({\n            name: name,\n            value: cost.value,\n            typeId: cost.typeId,\n          });\n        }\n      }\n      return formatCosts(result);\n    },\n    childId(): string | undefined {\n      return (this.item as any as Condition).childId;\n    },\n    child() {\n      if (!this.childId) return undefined;\n      return this.item.getCatalogue().findOptionById(this.childId) as EditorBase;\n    },\n    link(): Link & EditorBase {\n      return this.item as Link & EditorBase;\n    },\n    iscollapsible() {\n      return this.mixedChildren.length > 0;\n    },\n    contextmenu() {\n      return this.menu(\"contextmenu\");\n    },\n    nestedcontextmenu() {\n      return this.menu(\"nestedcontextmenu\");\n    },\n    catalogue() {\n      return this.item.getCatalogue() as Catalogue & EditorBase;\n    },\n    catalogues() {\n      return this.catalogue.imports;\n    },\n\n    allowedChildren() {\n      return allowed_children(this.item, this.item.parentKey);\n    },\n    forceShow() {\n      return this.item.showChildsInEditor || this.forceShowRecursive;\n    },\n\n    mixedChildren(): Array<CatalogueEntryItem> {\n      const childs = [];\n      for (const category of this.allowedChildren) {\n        if (this.hideType(category)) continue;\n\n        const arr = this.get_field(category);\n        if (arr?.length) {\n          for (const elt of arr) {\n            if (!this.filter_child(elt)) continue;\n            childs.push({ type: category as ItemKeys, item: elt });\n          }\n        }\n      }\n\n      if (this.item.isLink() && this.item.target) {\n        const targetChilds = [];\n        for (const category of this.allowedChildren) {\n          if (this.hideType(category)) continue;\n\n          const target_arr = this.get_target_field(category);\n          if (target_arr?.length) {\n            for (const elt of target_arr) {\n              if (!this.filter_child(elt)) continue;\n              targetChilds.push({ type: category as ItemKeys, item: elt, imported: true });\n            }\n          }\n        }\n        return [...this.grouped(targetChilds), ...this.grouped(childs)];\n      }\n      return this.grouped(childs);\n    },\n    categories() {\n      if (this.item.isCatalogue()) {\n        const categories = this.item.isGameSystem() ? systemCategories : catalogueCategories;\n        return categories;\n      }\n      return [];\n    },\n    groupedCategories() {\n      return this.categories.map((category) => {\n        const items = [] as CatalogueEntryItem[];\n        if (category.type) this.getTypedArray(this.item as any, category.type, items);\n        if (category.links) this.getTypedArray(this.item as any, category.links, items);\n        return {\n          ...category,\n          items: this.grouped(items),\n        };\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.imported {\n  color: rgb(128, 145, 183);\n  // font-style: italic;\n}\n\n.filtered {\n  background-color: rgba(10, 80, 255, 0.15);\n}\n\n.typeIcon {\n  max-width: 18px;\n}\n\n.typeIcon-wrapper {\n  display: inline-block;\n  min-width: 20px;\n  min-height: 1px;\n}\n\n.head {\n  margin-left: -20px;\n}\n\n.text-orange {\n  color: rgb(153 31 31);\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAQCAYAAADJViUEAAABg2lDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TiyIVBzOICGaoThbEijhqFYpQIdQKrTqYXD+hSUOS4uIouBYc/FisOrg46+rgKgiCHyCuLk6KLlLi/5JCixgPjvvx7t7j7h0gNCpMs7omAE23zVQiLmWyq1L3K0IYgYgYJIVZxpwsJ+E7vu4R4OtdlGf5n/tz9OXyFgMCEvEsM0ybeIN4etM2OO8Ti6yk5IjPicdNuiDxI9dVj984F10WeKZoplPzxCKxVOxgtYNZydSIp4gjOU2nfCHjcY7zFmetUmOte/IXhvP6yjLXaQ4jgUUsQYYEFTWUUYGNKK06KRZStB/38Q+5fplcKrnKYORYQBUaFNcP/ge/u7UKsUkvKRwHQi+O8zEKdO8CzbrjfB87TvMECD4DV3rbX20AM5+k19ta5Ajo3wYurtuaugdc7gCDT4ZiKq4UpCkUCsD7GX1TFhi4BXrXvN5a+zh9ANLUVfIGODgExoqUve7z7p7O3v490+rvB80rcsuoyXg3AAAABmJLR0QA6AAAAADh5zdhAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH5wUfFDQeXQWMGwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAG9SURBVCjPhdO/a1NRFMDx7733PfOiFcGhErUoBm1DwFH8DwQnR90KLiI4aAbd/DNsQVCHLh0EqyA4uPofBDMphaRU0FgiLcm75xyH9xrNj9IzHt6Xz708rqOch62nttvrMrh2j+PmwpmEV09uueRwsdvrcvf+Kpc3NljY3iZ4jy0vo60Wp6pVTlYqZFlGlqY8X3sJwDje6XXZXF/n9qWbrNbrALz+XeXLp58z8vcfS5OxqdFsNjmx72A4BCB1VWq12kSYpinfujtTsSmqihfBYix2oyHtdnsibjQamNpkrFrEQeM4rjhYWVkZh51Op/jOdDYWEZKYY5YD4OOIwWAwjr33iAgmc+QYI0Fy1Ao5iZFYnuJwYoyoynw5xBxzhRw0R0TGoXOukHX62CLEGEmiw1wpaz5flqNkdYTElXKckAFEBJ2WpZSDOh5n13HOcWf4da5sEmdjEWHt7A1k8SIhBF74KpX/ZDMr5HLn/8URVWXhapMkSQghkC7Vx/9fVTGz4np5eefNj5/t4GCfZ48eoKok3pNl2ZEvynvP8M+AN28/WDIaDdnr9zlXO8+7rfcs/rpy7JOsnY7s9fv8Bc0zE6+cxDjNAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9bi1IqIu0g4pChumhBVMRRq1CECqFWaNXB5NIvaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIq4uToouU+L+k0CLGg+N+vLv3uHsH+BsVpppd44CqWUY6mRCyuVWh+xVBhNCPUUQkZupzopiC5/i6h4+vd3Ge5X3uz9Gr5E0G+ATiWaYbFvEG8fSmpXPeJ46ykqQQnxOPGXRB4keuyy6/cS467OeZUSOTnieOEgvFDpY7mJUMlXiKOKaoGuX7sy4rnLc4q5Uaa92TvzCc11aWuU5zCEksYgkiBMiooYwKLMRp1Ugxkab9hId/0PGL5JLJVQYjxwKqUCE5fvA/+N2tWZiccJPCCSD4Ytsfw0D3LtCs2/b3sW03T4DAM3Cltf3VBjDzSXq9rcWOgL5t4OK6rcl7wOUOMPCkS4bkSAGa/kIBeD+jb8oBkVsgtOb21trH6QOQoa5SN8DBITBSpOx1j3f3dPb275lWfz9cmHKeGGO3IgAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFChE0NOeyIIsAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAB2klEQVQoz43SP2gUURDH8e+83WVFOa5USKF1QMiZaGfAExH/9dYKIlZ2gkGtDATstBEEqzT2kkJDRNBCJVxOzUEakzvRkCLNbS532Z0Zi1tP04gDw6vefH4MIy8W33jW3+VfdezwEepTNQGIu70drl44z54quSq5GeqOuwPQaDT49vMHix+X/ezJExLcHTND8xzNc/b6fXZ3dsiyjG63S5ZlXLt8cfQpNjMECCIkUfQnR1FQmLG9vc2T+XkAltbXic2cIMK5l8d5dekzH1ZWqFarHB0bg6KgXq/j7lQqFRZeLxGrGyLC0pWvmDunJycxd3LVfRKAuhF7Galx9w4Ts3N8arVI05Rer0eappgZaZpSqVRwM2JTJYgwNfcIM+PU+DjmPupclX6eE4lgqoRCh8Lt5wkhBN43m7TabVobG3zf3CSJIg4kCUkUUWgpiAiPryvuwnSthpntU5IoIgphKJgpAtyfmUFEeNdsstrpsLy2NpKCyDCSKbGWwsPZWRyYnpjAf0//SxJAVQmqQ+HWs4AAbxsNvrTbrHY6dLa2CCKjVlXiwWAAwNMb4C6cqdVwwMp7MncoVz8YDIizLBtdg5ST3B0p3wBYCEgIZFlGnDjcvPeA/6nqwUP8AtTWMEb6wHGvAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9bS0UqIlYQ6ZChOlkQFXHUKhShQqgVWnUwufQLmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi6uKk6CIl/i8ptIjx4Lgf7+497t4B/kaFqWbXOKBqlpFOJoRsblUIvSKIMPoRxaDETH1OFFPwHF/38PH1Ls6zvM/9OXqVvMkAn0A8y3TDIt4gnt60dM77xBFWkhTic+Ixgy5I/Mh12eU3zkWH/TwzYmTS88QRYqHYwXIHs5KhEk8RxxRVo3x/1mWF8xZntVJjrXvyF4bz2soy12lGkcQiliBCgIwayqjAQpxWjRQTadpPePiHHb9ILplcZTByLKAKFZLjB/+D392ahckJNymcAIIvtv0xAoR2gWbdtr+Pbbt5AgSegSut7a82gJlP0uttLXYE9G0DF9dtTd4DLneAoSddMiRHCtD0FwrA+xl9Uw4YuAV61tzeWvs4fQAy1FXqBjg4BEaLlL3u8e7uzt7+PdPq7wdBJ3KT7BaVSwAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFDBEdBk5IsTwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACx0lEQVQ4y42O309TBxiGn3N6qKZGNLqwhUSIFhDMUFwXb2pxJoyIAv7elmXJdsHlZvA/8G7ZrpbMu91oYtAbo0QzhSYGGtivokB7Ss85LS1VxFFKtRBSjrbn88rGxbjwJe/N9+R58yps8OLpjJhPnvznt22LZ2PyTGpObo2ExBGpRETk1khIXBuR448z9B5pZ2xigsFgkJelEnW1tcQzGdT/k2OzaYnNpek90k65XGapUOCbk6dZKhQAcBzn/QV6MiV6OsXJo59h2zaOCC1eLw8tg30NDZWC98oDw0FZF5H5+XkJDQ7Ks4UFKb56JXapJCURGRgOip5MyTsLoolZmUomOP15BwuZDLGxMYrFIpFQiHK5jOpycWNomNbde/i4YY+ivS1HrKRMWiZnj3fxOJlEHx2tMF9HB+5Nm7j++z3aGptobfQqAJWCaSshE0acL3q6SZsmU8FgRT7U1cVH9fVcu3MXX3Mz+5salDdMBZg0LQnHYpzr6WY2HufR0BCO4+A4Dr7OTnZ5vVy7Pcgne/dyoKlReXu1MmmYEtZ1vjx7hjnDID4yUoH1Ph+pTIbR8T/w1tUR8PuJRiLYtk11dTWHAwFcbYH2S1+dP0c2myUVCuF2u3G73TQHAkzrOtUeD2e6T2AZJuPj43g2b6a35wTlUonpqWl4OBOXywM35IWIRE1THty8KbFEQlZE5Ou+PjGMhFzovyiRqCX5fFEiUUsu9F8Uw0jIjz/9LErueUHST+cZDYfp++5bstksH9bU8NuVqzydmeF45ym2bt3C/ft3yb/IsWP7Bxw71s3q6hp//vUAZTGXl7W1NXTD4JFp0P/D9/zy62Uaa2sprqwS/udvFEXB4/HQdvAg0UiE4vo6iqLg9/tRnmVzsri4SH55mX9zS0xaFp+2tLBz23bslzaqqlKlVaFpGlXuKjSXhqZpuDQNVVV5DQyKeoiSxZAyAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0UrDhaU4pChOlkQFXHUKhShQqkVWnUwufQLmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi6uKk6CIl/i8ptIjx4Lgf7+497t4BQqPCVLNrHFA1y0gn4mI2tyoGXxFAL4KIYFBipj6XSiXhOb7u4ePrXYxneZ/7c/QpeZMBPpF4lumGRbxBPL1p6Zz3icOsJCnE58RjBl2Q+JHrsstvnIsOCzwzbGTS88RhYrHYwXIHs5KhEk8RRxVVo3wh67LCeYuzWqmx1j35C0N5bWWZ6zSHkcAilpCCCBk1lFGBhRitGikm0rQf9/BHHH+KXDK5ymDkWEAVKiTHD/4Hv7s1C5MTblIoDgRebPtjBAjuAs26bX8f23bzBPA/A1da219tADOfpNfbWvQI6N8GLq7bmrwHXO4AQ0+6ZEiO5KcpFArA+xl9Uw4YuAV61tzeWvs4fQAy1FXyBjg4BEaLlL3u8e7uzt7+PdPq7wcllnKI7QJDVQAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFCwgjN9BzCj0AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABnElEQVQoz42SsWoiURSGv5m5OIVplsQBky67ICisi6QQ3GreQRBsrHwEn8GHEMTCQiufIFVIsQRcd8Bml7XJFuvsIJoE1Lkzs8XEYSaaxB9ucbn3+8899/wKwM3d92Dh2Pi+j+/7vCVVVVFVlQ+nGb5efVEEgGP/5ar4GSNzxjGa2/+4m/wIDQGklEfDAEbmDCllzMB1o0NN0xBC7C3P8wDodDrEGQFEfSuKEl2Ma7vdkkql6Pf7zOdz4kzCIAgCgISJlBJd1xkMBiwWC8rlcsJADYFw0263GY1GaJrGZrNhvV6j6zrD4ZDlckk+n8c0TeKMiFcsFAqMx2Nc16VarQLQ7XZxHIdSqUSlUoletmNCAz/cmKaJ4zhMp1N6vR6r1QrbthOVI4NnJmzheSTpdJpGo0E2m8WyLGazGblcjlqttvexXnyML9PXbDYxDINisUi9Xj+YhcQUdr8fV6vVejNMO0YFCICJZR2dxIllsSupXN9+C37/+smf+3s8T0YRfU1CCDRNkL045/LjJ5TbsRU8PT5woIt3lT454T+zOsZSlUjWPwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0UrDhaU4pChOlkQFXHUKhShQqkVWnUwufQLmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi6uKk6CIl/i8ptIjx4Lgf7+497t4BQqPCVLNrHFA1y0gn4mI2tyoGXxFAL4KIYFBipj6XSiXhOb7u4ePrXYxneZ/7c/QpeZMBPpF4lumGRbxBPL1p6Zz3icOsJCnE58RjBl2Q+JHrsstvnIsOCzwzbGTS88RhYrHYwXIHs5KhEk8RRxVVo3wh67LCeYuzWqmx1j35C0N5bWWZ6zSHkcAilpCCCBk1lFGBhRitGikm0rQf9/BHHH+KXDK5ymDkWEAVKiTHD/4Hv7s1C5MTblIoDgRebPtjBAjuAs26bX8f23bzBPA/A1da219tADOfpNfbWvQI6N8GLq7bmrwHXO4AQ0+6ZEiO5KcpFArA+xl9Uw4YuAV61tzeWvs4fQAy1FXyBjg4BEaLlL3u8e7uzt7+PdPq7wcllnKI7QJDVQAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFCwgiC+YHR/sAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABwUlEQVQoz42TT4vaQBjGfzHBSw6rt+2lhLL04lFY+h1aevPup/CqIH4D2YJ4Fbsbqv1Da6nXYi+ibL3YdruoZHXXSzaVVMgkmR7SFcU27A/eyzDPM8+8844CcDmZyevrBUEQEAYhcSTUBKqqcnj4gEfGQ0UDmM+veHx0RDqd4j7Y9i3fLy4iQwAhxL3FAOl0CiHErsEdqqqiadpeBUEAQL1eZ1ujAYRhdG9FUTYbt/E8j2QySaPRYLlcsq3ZMZBSAmxMbNvGsizCMKTf77NarTAMg8FgwGI+53IyiwTv3n+QQghZLpelaZpSCCEdx5G9Xk/G8bn3RWrbJ2YyGYbDIUIIcrkcQRDQ7XY5OXlBu92iWq2iaRphGJLNZlmv1ygAr9qv5fNnT3FdF9M0mU6nGIaBZVkUi8X/vsbHT92oB77vA6DrOvl8nlqtxmg0wvO82ASbhjdPz6QQYqcqlYoslUqxPWi/eRv14F8UCgU6nU5sgs38NE/P5Pn5170UrVYrNkGj+VIq3378lOPxmOl0gu/7+H9dXdflZnmDc+vsTGoiEX2mg9QBx8dPUGZXC7la/doM0R3r32tc191b30bXdf4AswSDFyrGAhMAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9Tix9UOlhBikOG6mRBVMRRq1CECqFWaNXB5PoJTRqSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxdXFSdJES/5cUWsR4cNyPd/ced+8AoVFhqtk1DqiaZaQScTGTXRW7XxHAIHoRQkRmpj4nSUl4jq97+Ph6F+NZ3uf+HP25vMkAn0g8y3TDIt4gnt60dM77xGFWknPE58RjBl2Q+JHristvnIsOCzwzbKRT88RhYrHYwUoHs5KhEk8RR3OqRvlCxuUc5y3OaqXGWvfkLwzmtZVlrtMcRgKLWIIEEQpqKKMCCzFaNVJMpGg/7uGPOH6JXAq5ymDkWEAVKmTHD/4Hv7s1C5MTblIwDgRebPtjBOjeBZp12/4+tu3mCeB/Bq60tr/aAGY+Sa+3tegRENoGLq7bmrIHXO4AQ0+6bMiO5KcpFArA+xl9UxYYuAX61tzeWvs4fQDS1FXyBjg4BEaLlL3u8e6ezt7+PdPq7wcvuHKMRIsU1QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFFQkWEGZMN3sAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABVElEQVQoz93Ry0oCARjF8f/kpC0mZYoupJZWWhSouUopy0fQxxF9kagXKNpEtLZVQajdFl28kVp2mRFGiS4zTLsiqkXLOtvf4nx8B/58BID84bHZaNTRX/V3ELtFnE4XAD9ZOBQQhINcwaxUyng9Y/TJMlarFcMweFAUcvkCAOG50BcrV6p4veMI6xubptvt5PjoiPOLS3TDYGR4CFmWP53aarW4bt4iWixM+X0EgkFqtQZdWltDkiQUVSWVzgAQjUZYXFwgkUiQTCaJx+PEYjEAUukMiqoiSRJaW0NYWV0zPaPj1Os17pU7NE1Df3n+9mGi1YbdbmegfxCXy031qoywtb1j7u/tMTsTwuPx4XDIPD52KJXOODnNA/xo85EIwmW5au5ms1ycn/H0/NHcY7MxMTkJQKlY/GL+qWmWlpcR6jdNs9PuoBv6r/YXLSJSr8Q/yBspXJbfdFchHAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0UrDhaU4pChOlkQFXHUKhShQqkVWnUwufQLmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi6uKk6CIl/i8ptIjx4Lgf7+497t4BQqPCVLNrHFA1y0gn4mI2tyoGXxFAL4KIYFBipj6XSiXhOb7u4ePrXYxneZ/7c/QpeZMBPpF4lumGRbxBPL1p6Zz3icOsJCnE58RjBl2Q+JHrsstvnIsOCzwzbGTS88RhYrHYwXIHs5KhEk8RRxVVo3wh67LCeYuzWqmx1j35C0N5bWWZ6zSHkcAilpCCCBk1lFGBhRitGikm0rQf9/BHHH+KXDK5ymDkWEAVKiTHD/4Hv7s1C5MTblIoDgRebPtjBAjuAs26bX8f23bzBPA/A1da219tADOfpNfbWvQI6N8GLq7bmrwHXO4AQ0+6ZEiO5KcpFArA+xl9Uw4YuAV61tzeWvs4fQAy1FXyBjg4BEaLlL3u8e7uzt7+PdPq7wcllnKI7QJDVQAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFCwgeFvbyUt0AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABKElEQVQoz6XPMUtCcRSG8eeCqR8ktKEaJYMw/QYtFUQQFFREUIM4GEEYRAkN0dQSQQWFIBQ4lSlKBA1SLQ2B9BlsuH/v9ZwGtYQIC9/5HH48VuX1TQGMbbORiLO9m8bn9wOwvrKEiqIoIoKK0B8IshZPYLUfy8UCL89PDA4NMzYepds8ba2YvyW5lSK1mSQ0Esbn97O6uICKoKqIKiqCiHB0ctoUS4U7spnL1hFMTE4Rica6i4X8DdMzs4TCozzcl8ldXxGJxlien/tSRAWVZuvx+cV343/nAZot7YaOlk5FWq2NRoOzTLZH8beWtiIiOI5D3RiMMeTyxR7Ej1qN/b0d3qvVH4rruhjbxhhDvV7HdR0CwQHSB4dYpceKGmMj8jfYsqDP6+UTS3LlTs6Kx84AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkTlIA0EYhb9EJeKBhQFFLLZQKwOiIpYaBREUQlTwKtzdmChkN2E3wcZSsA1YeDRehY21tha2giB4gNjaWCnaiKz/bIQEIYIDw3y8mfeYeQPBg7RpudU9YNk5Jz4W1Wbn5rXQMzXUE6KNFt10s8Ox2AQVx8ctAbXeRFQW/xuNiWXXhIAmPGRmnZzwkvDAWi6reEc4bK7oCeFT4W5HLih8r3SjyC+KUz4HVWbYmY6PCIeFtVQZG2VsrjiWcL9wR8KyJT84W+SE4nXFVjpv/txTvbBh2Z6ZUrrMdsYYZ5IYGgZ5VkmTIyKrLYpLXPajFfxtvj8mLkNcq5jiGCWDhe77UX/wu1s32ddbTGqIQs2T5711QmgLvgqe93noeV9HUPUIF3bJnzmAwXfRCyWtYx+aNuDssqQZ23C+Ca0PWd3RfalKZjCZhNcT+aY5aL6GuoVibz/7HN/BtHQ1cQW7e9CVkuzFCu+uLe/tzzN+f0S/ASWWcoi7xtRwAAAACXBIWXMAAC4iAAAuIgGq4t2SAAABuElEQVQ4T32Tu04CQRSGf9gLEKQgYmQN2qACNhpNCBSAPoKXRHoqtcWeh6A0EtGChMZoY7QwitGEgpcwoBJvhSD3cWcYUbKjXzKZ//xz2TNnZ/AfyysrhDYeCjHz3kAkEiHu8XHQRjW3DZh4P0QkGmWLKYT01z5VqyhcXxvmCzN4fXmBLMs8AtPUE2HYIBCYI5qmodFocAdMu91uNsatAYYN5hcWuDIiGhPWIBqLkTGXCxaLBTabjXm1Wh1b2ztMfzM5NcWVgFA4TBKJhF7Dv7m5vSMSn29AVpTUzPQ0rFYrksldxOObSKfTKJVKKBaL6PV6qNU/xUcIhcJEUWR4vV5kMhnuGjk7v8BQBqtr66TZbKZ8s7Ps7JIkweFw/JNB/ScDn89HaNE8Hg+LqVZVFblcjsUijk9O+xn4/QHico2yRXptoCgKuzxUO53OPzN4e3+H6b7ySPwzXgSDQZjN5sGvo32r1UI+n2dfE3GQPYTp8qpA9vf3cJTNsorbR0Zgt9uhKiq7Jb1uF+1OB512m21IW0ePF5eWsLa+AdND9ZlUymW09Qm/odf3o/ZBXxN3hpH0I2raBL4ARzrLEHEzjREAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAABgmlDQ1BJQ0MgUHJvZmlsZQAAKM+VkU0oRFEcxX9miDSizEKyeAusTIRkyVCToqZBGSy898YMNe+Z3hvZWCrbKQsfG18LG2u2FrZKKR8lWxsrYiM9//tGzaRGuXW7v86953TvuRA4yJqWW90Dlp13ErGoNpOc1WqfqSFEE90EddPNDcfj41QcH7dUqfUmorL432hILbomVGnCQ2bOyQsvCA+s5XOKd4TD5pKeEj4V7nLkgsL3SjeK/KI443NAZYadqcSIcFhYy5SxUcbmkmMJ9wu3pyxb8gMzRU4pXldsZVfNn3uqF4YW7elJpctsI8YYE8TRMFhlmSx5IrLaorgkZD9awd/q++PiMsS1jCmOUVaw0H0/6g9+d+um+3qLSaEo1Dx53lsH1G7BV8HzPg897+sIgo9wYZf8Kwcw+C56oaS170PjBpxdljRjG843oeUhpzu6LwVlBtJpeD2Rb0pC8zXUzxV7+9nn+A6mpKvxK9jdg86MZM9XeHddeW9/nvH7I/oNQUlyk6fcG6sAAAAJcEhZcwAALiIAAC4iAari3ZIAAAH9SURBVDhPnZJPaBNBFMa//ZPNpgHT0HartRD/IKJSRIoFLd5VPEmPBgQtXgqCnooIohRE8CBe9CZCTx48evGioKlKpCGiFUWxNmnS3eomNNnN7mafM2NZXNKTD37L8L3ve7MzjIQt6vrDdbIaJNaDGQm3Lg30+GLC5bsrdPRgGsfG0hgZUoVWNQMUyi28+9jCvaujvRtN31yirz/bFAQB+b4fg2u8xz2b9r81deUNff7eJNd1yXEcmsy/iLGwWBc97uFenpH5Z+JQGqOGAjYdbDryZ3YIThzZhmaziYXSmuhxDz8KL+Xk9DO6OLUPmbQEIhLsz2nIGSF+VBoolH4hNxxie38btt3AQDaFmnzqhrxccbFrpA9hGMLzPJimhWq1huevV/HgSRUTYwYunN0NWVbZUGA4q4BnZFXtA5jgOB1Ylo1OJ4CiJHDnsQ1JSmFuZg9c14OqagJip+MZeW9uEF+W22i1PBbQkEjogsL8cYHndSONs2oBPCM/vT8uvSz60PUUNC0ZcXqmIvhXSybZwDLAM+JWi0syzAYPpqLJup4RxHZbT6L8TRO3GlV+9je9/+BQve5QrebQxkYg4GuuvS216RzzbNrjT443xg9omDycwE6D/QyzrZhdvFr0UfzkY/52NvL3vj1W56+ZtGYrYm30d/FobmhL338U8AdLygpqJt/tXAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABgmlDQ1BJQ0MgUHJvZmlsZQAAKM+VkU0oRFEcxX9miDSizEKyeAusTIRkyVCToqZBGSy898YMNe+Z3hvZWCrbKQsfG18LG2u2FrZKKR8lWxsrYiM9//tGzaRGuXW7v86953TvuRA4yJqWW90Dlp13ErGoNpOc1WqfqSFEE90EddPNDcfj41QcH7dUqfUmorL432hILbomVGnCQ2bOyQsvCA+s5XOKd4TD5pKeEj4V7nLkgsL3SjeK/KI443NAZYadqcSIcFhYy5SxUcbmkmMJ9wu3pyxb8gMzRU4pXldsZVfNn3uqF4YW7elJpctsI8YYE8TRMFhlmSx5IrLaorgkZD9awd/q++PiMsS1jCmOUVaw0H0/6g9+d+um+3qLSaEo1Dx53lsH1G7BV8HzPg897+sIgo9wYZf8Kwcw+C56oaS170PjBpxdljRjG843oeUhpzu6LwVlBtJpeD2Rb0pC8zXUzxV7+9nn+A6mpKvxK9jdg86MZM9XeHddeW9/nvH7I/oNQUlyk6fcG6sAAAAJcEhZcwAALiIAAC4iAari3ZIAAAIwSURBVDhPdVNLaBNRFD3jTJs0iQnWtqC2uLEWUlxIUBBxWQjqRigoaNxoEQSRKiIuKqILQRA/hIiCCwviDxoURLGCiJLGT6AhUGvTJjYfpTGdNGknE83n+uZlNASTA3eYuee8e+57746ABhi5vUjpLPH3DpuAS8fWNtTVJU9eTdA2uxk7tpixvlPiue8/S5gIKfg0peDG6e6GRTB0cZpm43kqlUpULBbrQstpnKbR5TUMnvpAX6M5KhQKpKoq7XS9rQv/5ALnNI2m1ZdhlfbY3m9Gd5cI5gLmAtfedTx2bbUil8vBH0xxTtNo27p8Z5IXEJ1DL+joYC9sZgFExKNvYyva27KIz89BTi/AZpCh5uKIRqMwSSvwB+bgfXTzAuy7vbSYWSFZlimVSlE4PEvBYIiue56wOs3x3jdBkiSZANaEqv5CNruMSqUCUWzB83dLsG8ah8dzC17vGNxuN5iY8w6Hg+lVCPtOBOjskR60m1Te8l9EIjNwOgf0r//x8tV49Z6v3E3SgYEWlMtlTmg4fv4Nhl0dTZ3TcqYq3H/mBwVCy5RMLlEikeGx5/Dj6uaawPv0Gf2bGNe5DA0fNGJDJzsC1r3P9xoWi6GpcyyR1FfqOMQKXBtV6GPwN90bHdM9GuP+g4c159DUF4p8S+PztBEzcQti82EUlRiMrQrWtMno6SrBZjVitdUKSRTRu7mv9mNEYwk2mnnelppXoShK3ekLggCD0QCTycyuUhtM4A+OzZgJPZUHrgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAALCAYAAABGbhwYAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS1WqInYQcchQnSyIijhqFYpQIdQKrTqYXPoFTRqSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxdXFSdJES/9cUWsR4cNyPd/ced+8AoVZimtUxDmi6bSbjMTGdWRWDrwigF13oR0hmljEnSQl4jq97+Ph6F+VZ3uf+HD1q1mKATySeZYZpE28QT2/aBud94jAryCrxOfGYSRckfuS64vIb53yDBZ4ZNlPJeeIwsZhvY6WNWcHUiKeII6qmU76QdlnlvMVZK1VY8578haGsvrLMdZrDiGMRS5AgQkEFRZRgI0qrToqFJO3HPPxDDb9ELoVcRTByLKAMDXLDD/4Hv7u1cpMTblIoBgReHOdjBAjuAvWq43wfO079BPA/A1d6y1+uATOfpFdbWuQI6NsGLq5bmrIHXO4Ag0+GbMoNyU9TyOWA9zP6pgwwcAt0r7m9Nfdx+gCkqKvEDXBwCIzmKXvd492d7b39e6bZ3w8AS3J5R6xfBwAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFDgkROnWuuPQAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABPUlEQVQY023OzUsCQQBA8TcqfpSwa7uQYKXmpbAuJVT7j0fBnvtgK0LFArVod2mDNF0EYWZgupR06Hd6xyf4MXp9M9PJJ8vlEoBSqcSG49Jq7AgAAdDtD8x89kVrt4njOABMJhNG4xcsu8Jhe1+I4fjVxFFI5/iIfD7PX1JKgrt7alvb5JLknUa9TjabZTgcEgQBAJ1Oh2azSaNeJ4xjMuk8xbYtpJT4vk8YhoRhiO/7SCmxbYt0npLTWqO1BmA6nTKbzQDQWqOUWnWmUCySJB8opfA8b/XneR5KKZLkg0KxiOgPnk2/1+Xs9AQhBMYYgFVfXd/QPjgks1mt4rgu5xeXRFGMMWAMRFHM+cUljuuyWa2ScyuWuHt4NI7jchsELBYLAMrlMrXaFmvr67gVS4jfp97gyfCPg/09AfANwseSxMxvrXsAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkTlIA0EYhb9EJeKBhQFFLLZQKwOiIpYaBREUQlTwKtzdmChkN2E3wcZSsA1YeDRehY21tha2giB4gNjaWCnaiKz/bIQEIYIDw3y8mfeYeQPBg7RpudU9YNk5Jz4W1Wbn5rXQMzXUE6KNFt10s8Ox2AQVx8ctAbXeRFQW/xuNiWXXhIAmPGRmnZzwkvDAWi6reEc4bK7oCeFT4W5HLih8r3SjyC+KUz4HVWbYmY6PCIeFtVQZG2VsrjiWcL9wR8KyJT84W+SE4nXFVjpv/txTvbBh2Z6ZUrrMdsYYZ5IYGgZ5VkmTIyKrLYpLXPajFfxtvj8mLkNcq5jiGCWDhe77UX/wu1s32ddbTGqIQs2T5711QmgLvgqe93noeV9HUPUIF3bJnzmAwXfRCyWtYx+aNuDssqQZ23C+Ca0PWd3RfalKZjCZhNcT+aY5aL6GuoVibz/7HN/BtHQ1cQW7e9CVkuzFCu+uLe/tzzN+f0S/ASWWcoi7xtRwAAAACXBIWXMAAC4iAAAuIgGq4t2SAAAAzElEQVQ4T2NkwAIWLFiw6+hzX1col8FacvPuhIQENyiXMAAZENfw9D+IhgpRF6A4O7/r2n9DsVO7V5zSc40wu4RBn39l5jqxTAurV8FOhTKxAgx5ZAGjkO3/oUysAFkerE/Tez08UIi1GUSD9DEou67+D8IgQRiNCyCrA2Gm//8ZGWqjv+4GCcJoXABZHUgfilNV3DbhtRlZHsOLxPoZBpigNBisPsDhClKgH3gCHIjoNEgeqpSGAGSTbfwD0tM2SINj8sv/MIzdAAYGAB1Xk+VGE8P2AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAYAAADwMZRfAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkTlIA0EYhb9EJeKBhQFFLLZQKwOiIpYaBREUQlTwKtzdmChkN2E3wcZSsA1YeDRehY21tha2giB4gNjaWCnaiKz/bIQEIYIDw3y8mfeYeQPBg7RpudU9YNk5Jz4W1Wbn5rXQMzXUE6KNFt10s8Ox2AQVx8ctAbXeRFQW/xuNiWXXhIAmPGRmnZzwkvDAWi6reEc4bK7oCeFT4W5HLih8r3SjyC+KUz4HVWbYmY6PCIeFtVQZG2VsrjiWcL9wR8KyJT84W+SE4nXFVjpv/txTvbBh2Z6ZUrrMdsYYZ5IYGgZ5VkmTIyKrLYpLXPajFfxtvj8mLkNcq5jiGCWDhe77UX/wu1s32ddbTGqIQs2T5711QmgLvgqe93noeV9HUPUIF3bJnzmAwXfRCyWtYx+aNuDssqQZ23C+Ca0PWd3RfalKZjCZhNcT+aY5aL6GuoVibz/7HN/BtHQ1cQW7e9CVkuzFCu+uLe/tzzN+f0S/ASWWcoi7xtRwAAAACXBIWXMAAC4iAAAuIgGq4t2SAAAB+UlEQVQ4T5WTz2sTQRTHv7M/6iH4m7aXTTZnqY1E1JBSsChW1KJSYijiwZN4Lo1/giZetHhWiaHaH9aoNbEHtb8sCagtChWTNNAt9eaWellpDs+ZaSwGbZJ+4PFm38z77O7sDkOdTM68p59ra3LcdfZMRZ9SzlUZe5WmHboG/yEfrCWrXN0GbycmaWp6inK5bxSNxahcrqDmk9g/bOzetROp9DhuRCKbr/F4cIhGk8+ltKbE+eVgfb2EtmAAN29FZVP8UYLa24JwHEeuqSkplUoyVldtnDzRgTt3+ylw7AgWFr5ifm5Orqn6dVKvx+n7ygpMjwGXy4WGBp1XGZasZWQyWdyORWX/lpKxVJosy0JrywFMz8zCtu3yzAZ/BIL/SpIvXtKyEBxswfznL/B6vTjfdW7LG/6zJyOjz6hYLMLX6sOHj59gGEZVgaBCMjj8lIqLiwgcDWI2k4Hh9qD74oWqAsGmZODJEBUKeXQcP413E29gmibCoe6aAoGUxBMDlM/l+ZkI8Z8qCQ8X9IRDdQkEysN4ggr5AsKXrmJ4JAGTb+KVyz11CwSst6+Prl+L4P6De2hubsSpzk4oigLGQ+S/Q1V5nW2MGWMyN+7bw5g4A9lsFm63G37/YSiqCk3joWo8a1B56PwEy2tdlzUxrygql6po2r+X/QZc4Kt8vjU1QAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkUsoRFEcxn8zyKORhVGSxV0MK0pIlgwlRU1j1AwW7r1jhpp7TfeObCyVrbLw2HgtbKzZWtgqpTxKtjZWxEa6/ueOmkmNcup0fn3nfF/nfAeCBznTcqt7wLILTnwsqiVTM1rtMzW0UE8Tbbrp5odjsQkqjo9bAmq96VZZ/G80phdcEwKa8JCZdwrC88IDq4W84h3hsLmop4VPhbscuaDwvdKNIr8ozvocVJlhJxEfEQ4La9kyNsrYXHQs4X7hSNqyJT+YLHJa8ZpiK7di/txTvTC0YE9PKV1mO2OMM0kMDYMVlshRoFtWWxSXuOxHK/jbfH9MXIa4ljDFMcoyFrrvR/3B727dTF9vMSkUhZonz3vrgNot+Nr0vM9Dz/s6gqpHuLBL/uUDGHwXfbOkRfahaR3OLkuasQ3nG9D6kNcd3ZeqZAYzGXg9kW9KQfM1NMwWe/vZ5/gOEtLVxBXs7kFnVrLnKry7rry3P8/4/RH9Bi+4coweluJpAAAACXBIWXMAAC4iAAAuIgGq4t2SAAAB7klEQVQ4T5WSS0xTQRSG/zu33fFYGdJF17BS08tGE3YGFuICmgrojkCIC8FECjtIWAnIrilNMGgAeRRtCyVo7A6Npg12oeHVEjHlsS4p5XVJjzPDhZRAbuo3i3PmzPyTf+aMggJxd3WTkWJwoP9Sx4xoihA7nfV40dFuVP4DIV76ukSJxAblu7jAYkRTSkuKMfJm9Ir1i8MKusLpqY7HLuelSMSO9udyrSAHuq7j4CAjD+FQa0szVlfX5JppFwKhOcpm9mX+6/eKjPk0PXlqZDewsPiJXg8NkRnfvv+gGx2E5sO0nUqhpLgINpsNXu8wgsEAPB4PLBYLcrkcNE1DJnt4/QofAkFKcXGlQ0N4IYyB/lfGynU+f4lANXLJzOxH+rv1B/fvVWFuPmRUCZ2dbjQ2NkgH8XgcsVhMusge5jmYnPbTFhdXP6iFf3YcDq0S8Z/Lpg74Vc//wdjEJCUTSTx66JLi23fuoqnBJQ+PRCKoq6sXqXTg8/n4m3gRjUZle/FubIJ6evtofX1PflUxl7s5Ym7G+6lpUl663fSsrQujbz0oK7uF6poaMMaQTqexuZnE7s4Ojk9OoCiKrIsohqC8ogLK1IyfhB273Q4Hf3mmqrxVKs70MxwdH0FlKqxWK68zGcVc5a1U+T7GGP4BgBQJdqV6GiMAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV/TSkWqDhYp4hCwOlkQFXHUKhShQqgVWnUwufRDaNKQtLg4Cq4FBz8Wqw4uzro6uAqC4AeIo5OToouU+L+k0CLGg+N+vLv3uHsHCPUS06zAGKDpFTOViIuZ7IoYfEUAEfSgH0Mys4xZSUrCc3zdw8fXuxjP8j735+hWcxYDfCLxDDPMCvE68dRmxeC8TxxmRVklPiceNemCxI9cV1x+41xwWOCZYTOdmiMOE4uFNlbamBVNjXiSOKpqOuULGZdVzluctVKVNe/JXxjK6ctLXKc5iAQWsAgJIhRUsYESKojRqpNiIUX7cQ//gOOXyKWQawOMHPMoQ4Ps+MH/4He3Vn5i3E0KxYGOF9v+GAaCu0CjZtvfx7bdOAH8z8CV3vKX68D0J+m1lhY9Anq3gYvrlqbsAZc7QOTJkE3Zkfw0hXweeD+jb8oCfbdA16rbW3Mfpw9AmrpK3gAHh8BIgbLXPN7d2d7bv2ea/f0AZphyovX12KAAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfmBBgOKgbgcs+YAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAzFJREFUOMuVlWtMFGcUht8Ztt1lZmFwZlmWXXZZkF0tEW1TI02s2kvU/miJicaUeMFoURtquDRYTdqGhhAjRkNL0ia9gReIrRVawRQjmqz+MsbourUlbUkI7sLOfLNovKS2Ro+/WGbKboBJ5s98532+c857cgZEhBv7D9rivuA+vXKNSESYyxtp2WFVg4FGdV25nYiA29uarJri7mQQY0xReu9vXGWfLexiS5NVz8n9RocYZRbpl/tvrsiG6vSsZxBuMwhRBiGqyfKZeytfE2aC/bl/3/MJr+u7SR2DEE14Cutw7dtfOSbP22s80CSpj214PSsd7LeP662ay9Vh1MRF5xeRtnYLiAgNoS2cruR+qBsCmJTdx8pXTCv/yieNNt1b0KkZYlV3YfuNjs4MIkIyEKFD0HIdDcZb9eyc/sSqsmSmQ427bczpOmqMUeX8tqHWpowkx3h79NjbmHDk1Zqgotz/6K2XskZ2VlrVIv8JU5kF8z+/2laXYWRM68/aB+dxx6Hs0Q1GMUk6q3r93UbYmE0+3Nt9iv+/PmXTK4+v5nRBqTH2VIc4lVm+70i4d4BPpU07FruadnFqib/OZBSEaNzhODxyqJ9Pp+OR5ql5LGdydx++QgBn/P6c/m+pZeADKZ0uJfCPvR+JzpOnjkJ/+CoAIgAcOA4AnuJJWWaIdccWlsmptBwRmWH1taLSdfL7DPZgOQEgAOSe18U/fTSM+D+fTsZZeD7yX6m4yRmJT5gAxvqHq6oEtaj4tMnN0iWtPw528USEiSLvexqEWNIoi3ROe7lYTmnK37U1dtVd8JMRNu4qaPk6HE4agOvt0Is91cwAZYI0OFoWVEzAa9XvZ2l5bhNsbOGiAz9Ebk5z82LPu5zqd29nEKcyzcwZHF0WyCUi4NZnrXZVVnpMo1Hob/750vW0o9HXcZNTS/K3GzPVefuFkaWL8hAv9lUktwyE6FjJC80N2h1+xn0IAgt4qiZ7qkGIxRYE6rF56BYSLs8ODUJ0fPGLzV9duszPemP/fpxjQe9WDWJszOc7WD16jAcR4Z3QAW68fEn5l3+p/Fx/AYGWIEbeWLa8gsIcEeEZsTM0Y8K17+YAAAAASUVORK5CYII=\"","export default \"__VITE_PUBLIC_ASSET__799f8a3d__\"","export default \"__VITE_PUBLIC_ASSET__a567bd58__\"","export default \"__VITE_ASSET__9587b9ee__\"","<template>\n  <div class=\"leftPanel\">\n    <div class=\"static sticky flex items-center h-28px z-1\">\n      <span :class=\"{ grey: !store.can_back(), 'cursor-pointer': store.can_back(), 'hover-darken': store.can_back() }\"\n        class=\"bold p-4px unselectable icon\" @click=\"store.back\" title=\"Back\">\n        🡰\n      </span>\n      <span :class=\"{\n        grey: !store.can_forward(),\n        'cursor-pointer': store.can_forward(),\n        'hover-darken': store.can_forward(),\n      }\" class=\"bold p-4px unselectable ml-4px icon\" @click=\"store.forward\" title=\"Forward\">\n        🡲\n      </span>\n      <img :class=\"{ grey: !store.can_undo(), 'cursor-pointer': store.can_undo(), 'hover-darken': store.can_undo() }\"\n        class=\"bold p-4px unselectable ml-5px w-24px h-24px icon\" @click=\"store.undo\" title=\"Undo\"\n        src=\"/assets/icons/undo.svg\" />\n      <img :class=\"{ grey: !store.can_redo(), 'cursor-pointer': store.can_redo(), 'hover-darken': store.can_redo() }\"\n        class=\"bold p-4px unselectable ml-4px w-24px h-24px icon\" @click=\"store.redo\" title=\"Redo\"\n        src=\"/assets/icons/redo.svg\" />\n\n      <div class=\"absolute right-30px\">\n        Sort\n        <select class=\"h-24px p-2px !text-sm\" v-model=\"settings.sort\">\n          <option value=\"none\">No Sorting </option>\n          <option value=\"asc\">Ascending </option>\n          <option value=\"desc\">Descending </option>\n          <option value=\"type\">Type</option>\n        </select>\n      </div>\n      <img @click=\"uistate.collapse_all\" class=\"align-middle absolute right-0 p-2px hover-darken cursor-pointer icon\"\n        title=\"Collapse All\" src=\"/assets/icons/collapse-all.svg\" />\n      <ErrorIcon :errors=\"catalogue.errors\" showNumber clickable class=\"z-1\" />\n      <!-- <img\n        @click=\"uistate.collapse_deepest\"\n        class=\"align-middle absolute right-0 p-2px hover-darken cursor-pointer\"\n        title=\"Collapse Last Open Level\"\n        src=\"/assets/icons/collapse-all.svg\"\n      /> -->\n    </div>\n    <div class=\"top rightborder scrollable\" ref=\"scrollable\" @scroll=\"onscroll\" @keydown.capture=\"keydown\">\n      <CatalogueLeftPanelComponentsCatalogueEntry class=\"mb-40px\" :item=\"catalogue\" grouped id=\"editor-entries\"\n        :showImported=\"showImported\" />\n    </div>\n    <div class=\"bottom static\">\n      <span v-if=\"!catalogue.isGameSystem()\">\n        <input class=\"cursor-pointer\" v-model=\"showImported\" type=\"checkbox\" id=\"showimport\" />\n        <label class=\"unselectable cursor-pointer\" for=\"showimport\">Show Imported</label>\n      </span>\n      <span> &nbsp;</span>\n      <span class=\"absolute right-5px\">\n        <input class=\"cursor-pointer\" v-model=\"ignoreProfilesRules\" type=\"checkbox\" id=\"ignoreProfilesRules\" />\n        <label class=\"unselectable cursor-pointer\" for=\"ignoreProfilesRules\">Ignore Profiles/Rules</label>\n      </span>\n      <input v-model=\"filter\" ref=\"editor-searchbox\" type=\"search\" placeholder=\"search... ctrl+f\" class=\"w-full\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { EntryPathEntry, getAtEntryPath } from \"~/assets/shared/battlescribe/bs_editor\";\nimport type { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { get_ctx, useEditorStore } from \"~/stores/editorStore\";\nimport { useEditorUIState } from \"~/stores/editorUIState\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\nimport { forEachParent } from \"~/assets/shared/battlescribe/bs_helpers\";\n\nexport const LeftPanelDefaults = {\n  showImported: false,\n  ignoreProfilesRules: false,\n  filter: \"\",\n  scroll: 0,\n  selection: undefined as EntryPathEntry[] | undefined,\n  mode: \"edit\",\n};\n\nexport default defineComponent({\n  emits: [\"scrolltop\"],\n  setup() {\n    return { store: useEditorStore(), uistate: useEditorUIState(), settings: useSettingsStore() };\n  },\n  data() {\n    return {\n      ...LeftPanelDefaults,\n      ...this.defaults,\n      shouldScrollTo: undefined as number | undefined,\n      shouldScrollToElement: undefined as Element | undefined,\n    };\n  },\n  async mounted() {\n    this.load();\n    addEventListener(\"keydown\", this.keydown);\n    addEventListener(\"copy\", this.copy);\n    addEventListener(\"paste\", this.paste);\n    addEventListener(\"cut\", this.cut);\n  },\n  unmounted() {\n    removeEventListener(\"keydown\", this.keydown);\n    removeEventListener(\"copy\", this.copy);\n    removeEventListener(\"paste\", this.paste);\n    removeEventListener(\"cut\", this.cut);\n  },\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    defaults: {\n      type: Object as PropType<{ showImported?: boolean }>,\n      default: {},\n    },\n  },\n  methods: {\n    onscroll(event: Event) {\n      this.scroll = (event.target as HTMLDivElement).scrollTop;\n    },\n    load() {\n      this.$nextTick(async () => {\n        this.shouldScrollTo = this.scroll;\n        if (this.selection) {\n          try {\n            let obj = getAtEntryPath(this.catalogue, this.selection);\n            const last = this.selection[this.selection.length - 1];\n            if (!obj && last.id) {\n              obj = this.catalogue.findOptionById(last.id) as EditorBase | undefined;\n            }\n            if (obj) {\n              const el = await this.store.open(obj);\n              if (el) {\n                const ctx = get_ctx(el);\n                await ctx.do_select();\n                this.store.mode = this.defaults.mode;\n                this.shouldScrollToElement = el;\n              }\n            }\n          } catch (e) {\n            console.error(e);\n          }\n        }\n      });\n    },\n    async set_scroll(scroll: number) {\n      const scrollable_el = this.$refs.scrollable as HTMLDivElement | undefined;\n      if (scrollable_el) scrollable_el.scrollTop = scroll;\n      this.$nextTick(async () => {\n        const scrollable_el = this.$refs.scrollable as HTMLDivElement | undefined;\n        if (scrollable_el) scrollable_el.scrollTop = scroll;\n      });\n      // setTimeout(() => {\n      //   const scrollable_el = this.$refs.scrollable as HTMLDivElement | undefined;\n      //   if (scrollable_el) scrollable_el.scrollTop = scroll;\n      // }, 50);\n    },\n    async scroll_to(elt: Element) {\n      elt.scrollIntoView({ block: \"nearest\", inline: \"center\" });\n\n      this.$nextTick(async () => {\n        elt.scrollIntoView({ block: \"nearest\", inline: \"center\" });\n      });\n      // setTimeout(() => {\n      //   elt.scrollIntoView({ block: \"nearest\", inline: \"center\" });\n      // }, 50);\n    },\n    should_capture_copy(e: Event) {\n      if (getSelection()?.toString()) return false;\n      return true;\n    },\n    should_capture_paste(e: Event) {\n      const TAGNAME = ((e.target as HTMLDivElement)?.tagName || \"\").toLowerCase();\n      if ([\"input\"].includes(TAGNAME)) return false;\n      if ((e.target as HTMLSpanElement)?.isContentEditable) return false;\n      if (this.$route.name !== \"catalogue\") return false;\n      return true;\n    },\n    async cut(e: ClipboardEvent) {\n      if (this.should_capture_copy(e)) {\n        e.preventDefault();\n        await this.store.cut(e);\n      }\n    },\n    async copy(e: ClipboardEvent) {\n      if (this.should_capture_copy(e)) {\n        e.preventDefault();\n        await this.store.copy(e);\n      }\n    },\n    async paste(e: ClipboardEvent) {\n      if (this.should_capture_paste(e)) {\n        e.preventDefault();\n        await this.store.paste(e);\n      }\n    },\n    async keydown(e: KeyboardEvent) {\n      if (this.$route.name !== \"catalogue\") return;\n      if (!e.target) return;\n      const tagName = (e.target as HTMLSelectElement)?.tagName?.toLowerCase();\n      const key = e.key.toLowerCase();\n      if (e.ctrlKey && key === \"f\") {\n        e.preventDefault();\n        (this.$refs[\"editor-searchbox\"] as HTMLInputElement).focus();\n      }\n      if (key === \"escape\") {\n        (this.$refs[\"editor-searchbox\"] as HTMLInputElement).blur();\n        this.store.filter = \"\";\n        this.store.update_catalogue_search(this.catalogue, this.filterData);\n      }\n      if (tagName === \"body\") {\n        if (e.ctrlKey && key === \"z\") {\n          e.preventDefault();\n          await this.store.undo();\n        }\n        if (e.ctrlKey && key === \"y\") {\n          e.preventDefault();\n          await this.store.redo();\n        }\n        // if (e.ctrlKey && key === \"x\") {\n        //   e.preventDefault();\n        //   await this.store.cut(e as any as ClipboardEvent);\n        // }\n        // if (e.ctrlKey && key === \"c\") {\n        //   e.preventDefault();\n        //   await this.store.copy(e as any as ClipboardEvent);\n        // }\n        // if (e.ctrlKey && key === \"v\") {\n        //   e.preventDefault();\n        //   await this.store.paste(e as any as ClipboardEvent);\n        // }\n        if (e.ctrlKey && key === \"d\") {\n          e.preventDefault();\n          await this.store.duplicate();\n        }\n        if (e.ctrlKey && key === \"l\") {\n          e.preventDefault();\n          await this.store.pasteLink();\n        }\n        if (key === \"delete\") {\n          e.preventDefault();\n          await this.store.remove();\n        }\n      }\n    },\n    async update(data: { filter: string; ignoreProfilesRules: boolean }) {\n      const { filter, ignoreProfilesRules } = data;\n      const prev = this.store.filtered as EditorBase[];\n      for (const p of prev) {\n        delete p.showInEditor;\n        delete p.showChildsInEditor;\n        delete p.highlight;\n        forEachParent(p as EditorBase, (parent) => {\n          delete parent.showInEditor;\n          delete p.showChildsInEditor;\n        });\n      }\n      if (filter.length > 1) {\n        this.store.set_filter(filter);\n        // let t1 = Date.now();\n        this.store.filtered = this.catalogue.findOptionsByText(filter) as EditorBase[];\n        if (ignoreProfilesRules) {\n          this.store.filtered = this.store.filtered.filter((o) => !o.isProfile() && !o.isRule() && !o.isInfoGroup());\n        }\n        // let t2 = Date.now();\n        for (const p of this.store.filtered) {\n          this.store.show(p);\n        }\n        // let t3 = Date.now();\n        await nextTick();\n        // let t4 = Date.now();\n\n        if (this.store.filtered.length < 300) {\n          for (const p of this.store.filtered) {\n            if (!p.parent) continue;\n            try {\n              await this.store.open(p as EditorBase, false, true);\n            } catch (e) {\n              continue;\n            }\n          }\n        }\n        // let t5 = Date.now();\n        // this.$nextTick(() => {\n        //   let t6 = Date.now();\n        //   console.log(\"search\", t2 - t1);\n        //   console.log(\"set display status\", t3 - t2);\n        //   console.log(\"render1\", t4 - t3);\n        //   console.log(\"open\", t5 - t4);\n        //   console.log(\"render2\", t6 - t5);\n        // });\n      } else {\n        this.store.set_filter(\"\");\n        this.store.filtered = [];\n      }\n    },\n  },\n  computed: {\n    filterData() {\n      return {\n        filter: this.filter.trim(),\n        ignoreProfilesRules: this.ignoreProfilesRules,\n      };\n    },\n  },\n  watch: {\n    filterData: {\n      handler(data) {\n        this.update(data);\n      },\n      immediate: true,\n    },\n    showImported: {\n      immediate: true,\n      handler(v) {\n        if (v) {\n          this.catalogue.imports.map((o) => o.processForEditor());\n        }\n      },\n    },\n    shouldScrollTo(val) {\n      if (val !== undefined) {\n        this.$nextTick(() => {\n          delete this.shouldScrollTo;\n          this.set_scroll(val);\n        });\n      }\n    },\n    shouldScrollToElement(val) {\n      if (val !== undefined) {\n        this.$nextTick(() => {\n          delete this.shouldScrollTo;\n          this.scroll_to(val);\n        });\n      }\n    },\n  },\n});\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.leftPanel {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n}\n\n.top {\n  position: relative;\n}\n\n.bottom {\n  position: sticky;\n  margin-top: auto;\n  bottom: 0;\n}\n\ninput:focus::placeholder {\n  color: transparent;\n}\n\n.static {\n  background-color: rgba(0, 0, 0, 0.1);\n  border: 1px solid $box_border;\n}\n\n.rightborder {\n  border-right: 1px solid $box_border;\n}\n\n.enabled {\n  cursor: pointer;\n}\n\n.grey {\n  filter: invert(50%) hue-rotate(90deg);\n}\n</style>\n","<template>\n    <div class=\"scrollable max-h-60vh p-10px\">\n        <div v-for=\"item, i in sorted\" class=\"p-4px border-solid -mt-1px border-1px hover-darken unselectable 0px\"\n            draggable=\"true\" @dragstart=\"dragStart(item)\" @dragover.prevent @drop=\"drop(realDropIndex)\"\n            @dragenter=\"dragEnter(i)\" :class=\"{ 'drop-target': realDropIndex === i }\">\n\n            <template v-if=\"get(item) === undefined\">\n                <span :class=\"{ gray: get(item) === undefined }\"\n                    title=\"Will not be ordered specifically (but will be after anything with an index set)\">\n                    [?]\n                </span>\n\n            </template>\n            <template v-else>\n                <span>\n                    [{{ get(item) }}]\n                </span>\n\n            </template>\n            <slot v-bind=\"{ item }\" name=\"item\"></slot>\n            <span v-if=\"get(item) !== undefined\"\n                class=\"px-4px py-1px hover-brighten cursor-pointer unselectable float-right\"\n                @click.stop=\"del(item)\">x</span>\n        </div>\n    </div>\n</template>\n<script lang=\"ts\">\nimport { sortByAscending } from '~/assets/shared/battlescribe/bs_helpers';\n\nexport default defineComponent({\n    props: {\n        items: {\n            type: Array,\n            required: true,\n        },\n        get: {\n            type: Function,\n            required: true,\n        },\n        set: {\n            type: Function,\n            required: true,\n        },\n        del: {\n            type: Function,\n            required: true,\n        }\n    },\n    data() {\n        return { dragging: null as null | number, dropIndex: null as null | number }\n    },\n    computed: {\n        sorted() {\n            return sortByAscending(this.items, (o) => this.get(o) ?? 10000)\n        },\n\n        realDropIndex() {\n            if (this.dropIndex === null) return null;\n            return Math.min(this.sorted.filter(o => this.get(o) !== undefined).length, this.dropIndex)\n        },\n    },\n    methods: {\n        dragStart(item: any) {\n            this.dragging = item;\n        },\n        dragEnter(index: number) {\n            if (this.dragging !== index) {\n                this.dropIndex = index;\n            }\n        },\n        drop(index: number | null) {\n            if (index === null) return;\n            const visual_index = index + 1\n            this.dropIndex = null;\n            if (this.dragging !== null) {\n                const itemsWithIndex = []\n                for (const item of this.sorted) {\n                    const idx = this.get(item)\n                    if (idx !== undefined) {\n                        itemsWithIndex.push({ item, idx })\n                    }\n                }\n                if (itemsWithIndex.find(o => o.idx === visual_index)) {\n                    for (const { item, idx } of itemsWithIndex) {\n                        if (idx >= visual_index) {\n                            this.set(item, idx + 1)\n                        }\n                    }\n                }\n                this.set(this.dragging, visual_index)\n                this.fixup()\n                this.dragging = null;\n            }\n        },\n        fixup() {\n            let i = 1;\n            for (const item of this.sorted) {\n                if (this.get(item) !== undefined) {\n                    this.set(item, i);\n                    i++;\n                }\n            }\n        }\n    }\n})\n</script>\n<style scoped>\n.drop-target {\n    border-top: 3px solid red;\n}\n\n[draggable=\"true\"] {\n    cursor: move;\n    /* fallback if grab cursor is unsupported */\n    cursor: grab;\n    cursor: -moz-grab;\n    cursor: -webkit-grab;\n}\n</style>\n","<template>\n  <span>\n\n    <fieldset>\n      <legend>\n        Order\n      </legend><button class=\"bouton inline\" @click=\"orderPopup = true\">Change</button>\n    </fieldset>\n    <fieldset>\n      <legend>Profil Type</legend>\n      <h3>Characteristic Types</h3>\n      <div>\n        <select size=\"2\" v-model=\"selected\">\n          <option :value=\"t.id\" v-for=\"t of item.characteristicTypes\">\n            {{ t.name }}\n          </option>\n        </select>\n        <div class=\"section add\">\n          <button class=\"bouton\" @click=\"add\"> <img src=\"/assets/icons/iconeplus.png\" /> Add </button>\n          <button class=\"bouton\" @click=\"del\"> <img src=\"/assets/icons/trash.png\" /> Delete </button>\n        </div>\n\n        <template v-if=\"selectedType\">\n          <h3 class=\"section\">Selected Characteristic Type</h3>\n          <table class=\"editorTable\">\n            <tr>\n              <td>Unique Id:</td>\n              <td>\n                <input type=\"text\" v-model=\"selectedType.id\" @change=\"characteristicIdChanged(selectedType)\" />\n              </td>\n            </tr>\n            <tr>\n              <td>Name:</td>\n              <td>\n                <input type=\"text\" v-model=\"selectedType.name\" @change=\"characteristicNameChanged(selectedType)\" />\n              </td>\n            </tr>\n          </table>\n        </template>\n      </div>\n    </fieldset>\n    <PopupDialog v-if=\"orderPopup\" v-model=\"orderPopup\">\n      <div class=\"text-center\">Drag & Drop to change profileTypes order</div>\n      <SortOrder :items=\"get_profile_types()\" :get=\"get\" :set=\"set\" :del=\"del_sort\">\n        <template #item=\"{ item }\">{{ item.name }}</template>\n      </SortOrder>\n    </PopupDialog>\n  </span>\n</template>\n\n<script lang=\"ts\">\nimport { generateBattlescribeId } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { BSICharacteristicType, BSIProfile, BSIProfileType } from \"~/assets/shared/battlescribe/bs_types\";\nimport { PropType } from \"vue\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport SortOrder from \"./SortOrder.vue\";\nimport { GameSystemFiles } from \"~/assets/shared/battlescribe/local_game_system\";\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIProfileType>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      selectedType: null as BSICharacteristicType | null,\n      orderPopup: false,\n    };\n  },\n  setup() {\n    return { store: useEditorStore() };\n  },\n  computed: {\n    selected: {\n      set(id: string | null) {\n        this.selectedType = this.item.characteristicTypes.find((o) => o.id === id) || null;\n      },\n      get(): string | null {\n        return this.selectedType?.id || null;\n      },\n    },\n  },\n  methods: {\n    get(item: BSIProfileType & EditorBase) {\n      return item.sortIndex;\n    },\n    set(item: BSIProfileType & EditorBase, v: number) {\n      item.sortIndex = v;\n      this.store.set_catalogue_changed(item.catalogue, true);\n    },\n    del_sort(item: BSIProfileType & EditorBase) {\n      delete item.sortIndex;\n      this.store.set_catalogue_changed(item.catalogue, true);\n    },\n    get_profile_types() {\n      const files = ((this.item as any as EditorBase).catalogue.manager as GameSystemFiles).getAllLoadedCatalogues();\n      const found = []\n      for (const file of files) {\n        for (const profileType of file.profileTypes || []) {\n          found.push(profileType)\n        }\n      }\n      return found as Array<BSIProfileType & EditorBase>\n    },\n    add() {\n      if (!this.item.characteristicTypes) {\n        this.item.characteristicTypes = [];\n      }\n      const type = {\n        id: generateBattlescribeId(),\n        name: \"New Characteristic Type\",\n      };\n      this.item.characteristicTypes.push(type);\n      const refs = (this.item as BSIProfileType & EditorBase).links || [];\n      for (const ref of refs) {\n        for (const profile of ref.profilesIterator()) {\n          if (profile.typeId === this.item.id) {\n            if (!profile.characteristics)\n              profile.characteristics = [];\n            profile.characteristics.push({ typeId: type.id, name: type.name, $text: \"\" });\n          }\n        }\n      }\n      this.$emit(\"catalogueChanged\");\n    },\n    del() {\n      let type: BSICharacteristicType;\n      if (this.selectedType) {\n        if (this.item.characteristicTypes) {\n          const ind = this.item.characteristicTypes.indexOf(this.selectedType);\n          if (ind != -1) {\n            type = this.item.characteristicTypes.splice(ind, 1)[0];\n            this.selectedType = this.item.characteristicTypes[0];\n          }\n        }\n      }\n      const refs = (this.item as BSIProfileType & EditorBase).links || [];\n      for (const ref of refs) {\n        for (const profile of ref.profilesIterator()) {\n          if (profile.typeId === this.item.id) {\n            if (profile.characteristics) {\n              profile.characteristics = profile.characteristics.filter((o) => o.typeId !== type.id);\n            }\n          }\n        }\n      }\n      this.$emit(\"catalogueChanged\");\n    },\n    characteristicIdChanged(type: BSICharacteristicType) {\n      const refs = (this.item as BSIProfileType & EditorBase).links || [];\n      for (const ref of refs as (BSIProfile & EditorBase)[]) {\n        if (ref.typeId === this.item.id) {\n          for (const char of ref.characteristics || []) {\n            if (char.name == type.name) {\n              char.typeId = type.id;\n              this.store.set_catalogue_changed(ref.catalogue);\n            }\n          }\n        }\n      }\n      this.$emit(\"catalogueChanged\");\n    },\n    characteristicNameChanged(type: BSICharacteristicType) {\n      const refs = (this.item as BSIProfileType & EditorBase).links || [];\n      for (const ref of refs as (BSIProfile & EditorBase)[]) {\n        if (ref.typeId === this.item.id) {\n          for (const char of ref.characteristics || []) {\n            if (char.typeId == type.id) {\n              char.name = type.name;\n              this.store.set_catalogue_changed(ref.catalogue);\n            }\n          }\n        }\n      }\n      this.$emit(\"catalogueChanged\");\n    },\n    init() {\n      if (this.item.characteristicTypes?.length) {\n        this.selectedType = this.item.characteristicTypes[0];\n      }\n    },\n  },\n  created() {\n    this.init();\n  },\n  watch: {\n    item() {\n      this.init();\n    },\n  },\n  components: { SortOrder }\n};\n</script>\n\n<style scoped lang=\"scss\">\nselect {\n  width: 100%;\n  height: 300px;\n}\n\nh3 {\n  font-size: 16px;\n}\n\n.add {\n  display: grid;\n  grid-gap: 10px;\n  grid-auto-flow: column;\n  grid-template-columns: 1fr min-content;\n  justify-items: end;\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV8/RCkVB4uIOASsTlZERRy1CkWoEGqFVh1MLv2CJg1Jiouj4Fpw8GOx6uDirKuDqyAIfoA4OjkpukiJ/0sKLWI8OO7Hu3uPu3eAv15mqhkcB1TNMlKJuJDJrgqdrwiiDyGMYUhipj4nikl4jq97+Ph6F+NZ3uf+HN1KzmSATyCeZbphEW8QT29aOud94ggrSgrxOfGoQRckfuS67PIb54LDfp4ZMdKpeeIIsVBoY7mNWdFQiaeIo4qqUb4/47LCeYuzWq6y5j35C8M5bWWZ6zQHkcAiliBCgIwqSijDQoxWjRQTKdqPe/gHHL9ILplcJTByLKACFZLjB/+D392a+ckJNykcBzpebPtjGOjcBRo12/4+tu3GCRB4Bq60lr9SB2Y+Sa+1tOgR0LMNXFy3NHkPuNwB+p90yZAcKUDTn88D72f0TVmg9xYIrbm9Nfdx+gCkqavkDXBwCIwUKHvd491d7b39e6bZ3w+TdnK04tslPQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB+YEFgsEBONvEkAAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAfklEQVQ4y+2VOw7AMAhDTdVj5nbknnTpkCIMapqt8YYELx9LRlDLXC34IAOgQ63BAelpvrmTucY4EoD6xEvayDOsk533jVZC6f9NzR6kwbupzm3vPipgK8zpgdMpcFobuIG/AGoSoixglQHFB2UhGeC0v9wZxc4JyW9z8cG4AK8CG5AjF625AAAAAElFTkSuQmCC\"","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsBasics\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    class=\"section\"\n    @namechanged=\"profileNameChanged\"\n    @idchanged=\"profileIdChanged\"\n  />\n  <CatalogueRightPanelFieldsProfileType class=\"section\" :item=\"item\" @catalogueChanged=\"changed\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIProfile, BSIProfileType } from \"~/assets/shared/battlescribe/bs_types\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIProfileType>,\n      required: true,\n    },\n  },\n  setup() {\n    return { store: useEditorStore() };\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n    profileNameChanged() {\n      const refs = (this.item as BSIProfileType & EditorBase).links || [];\n      for (const ref of refs as (BSIProfile & EditorBase)[]) {\n        if (ref.typeId === this.item.id) {\n          ref.typeName = this.item.name;\n          this.store.set_catalogue_changed(ref.catalogue);\n        }\n      }\n      this.$emit(\"catalogueChanged\");\n    },\n    profileIdChanged() {\n      const refs = (this.item as BSIProfileType & EditorBase).links || [];\n      for (const ref of refs as (BSIProfile & EditorBase)[]) {\n        if (ref.typeName === this.item.name) {\n          ref.typeId = this.item.id;\n          this.store.set_catalogue_changed(ref.catalogue);\n        }\n      }\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"autocomplete container\">\n    <input\n      class=\"input autocomplete-input\"\n      type=\"text\"\n      ref=\"edit\"\n      @input=\"suggest\"\n      @click=\"maySuggest\"\n      v-model=\"searchPattern\"\n      :placeholder=\"placeholder\"\n      v-click-outside=\"onClickOutside\"\n      v-if=\"editing\"\n    />\n    <div v-else @click=\"startEditing\" class=\"autocomplete-input\">\n      <span class=\"gray\" v-if=\"!selectedOption\">{{ placeholder }}</span>\n      <slot v-else v-bind=\"selectedOption\" name=\"option\"></slot>\n    </div>\n    <div class=\"suggestions\" :class=\"{ hidden: !editing }\">\n      <div v-for=\"option of foundOptions\" @click.capture=\"targetSelected(option)\">\n        <slot v-bind=\"option\" name=\"option\"></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\n\nexport default {\n  props: {\n    modelValue: String,\n    placeholder: {\n      type: String,\n      default: \"Search...\",\n    },\n\n    min: {\n      type: Number,\n      default: 0,\n    },\n    max: {\n      type: Number,\n      default: 1000,\n    },\n\n    options: {\n      type: [Array, Function],\n      required: true,\n    },\n\n    valueField: {\n      type: String,\n      default: \"\",\n    },\n\n    filterField: {\n      type: [String, Function],\n      default: \"\",\n    },\n\n    lazy: {\n      type: Boolean,\n      default: false,\n    },\n\n    default: {\n      type: Object as PropType<any>,\n    },\n\n    nullable: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  created() {\n    if (!this.lazy) {\n      this.reset();\n    } else {\n      this.selectedOption = { option: this.default, selected: true };\n    }\n  },\n\n  data() {\n    return {\n      searchPattern: \"\",\n      lastSearch: null as string | null,\n      editing: false,\n      selectedOption: null as { option: any; selected?: boolean } | null,\n      sleeping: this.lazy,\n    };\n  },\n\n  computed: {\n    computedOptions(): any[] {\n      if (Array.isArray(this.options)) return this.options;\n      return this.sleeping ? [] : this.options();\n    },\n    foundOptions(): { option: any }[] {\n      const regex = this.textSearchRegex(this.searchPattern);\n      const result = [];\n      if (this.nullable) {\n        result.push({ option: undefined });\n      }\n      const data = this.computedOptions;\n      const end = this.max || data.length;\n      for (let i = 0; i < data.length; i++) {\n        const cur = data[i];\n        let val = this.getField(cur);\n        if (val && val.match && val.match(regex)) {\n          result.push({ option: cur });\n          if (result.length >= end - 1) break;\n        }\n      }\n      return result;\n    },\n  },\n\n  methods: {\n    getField(cur: any) {\n      if (!this.filterField) return cur;\n      if (this.filterField instanceof Function) {\n        return this.filterField(cur);\n      }\n      return cur[this.filterField];\n    },\n    escapeRegex(str: string) {\n      return str.replace(/([.?*+^$[\\]\\\\(){}|-])/g, \"\\\\$1\");\n    },\n\n    textSearchRegex(query: string) {\n      const words = this.escapeRegex(query).split(\" \");\n      const regexStr = `^(?=.*\\\\b${words.join(\".*)(?=.*\\\\b\")}).*$`;\n      const regx = new RegExp(regexStr, \"i\");\n      return regx;\n    },\n\n    targetSelected(opt: any) {\n      let res = opt.option;\n      if (this.valueField.length) {\n        if (this.nullable && !opt.option) {\n          res = undefined;\n        } else {\n          res = opt.option[this.valueField];\n        }\n      }\n      const old = this.selectedOption?.option;\n      this.selectedOption = {\n        option: opt.option,\n        selected: true,\n      };\n      this.$emit(\"update:modelValue\", res);\n      this.$emit(\"change\", opt.option, old);\n    },\n\n    reset() {\n      this.searchPattern = \"\";\n      this.selectedOption = null;\n      if (this.modelValue) {\n        let found = this.computedOptions.find((opt: any) => {\n          let item = opt;\n          if (this.valueField) {\n            item = opt[this.valueField];\n          }\n          if (item === this.modelValue) {\n            return true;\n          }\n          return false;\n        });\n        if (found) {\n          this.selectedOption = {\n            option: found,\n            selected: true,\n          };\n        } else {\n          this.selectedOption = null;\n        }\n      }\n    },\n\n    onClickOutside() {\n      this.editing = false;\n    },\n\n    suggest() {\n      if (this.searchPattern.length < this.min) {\n        this.editing = false;\n      } else {\n        this.startEditing();\n      }\n    },\n\n    maySuggest() {\n      this.sleeping = false;\n      this.searchPattern = \"\";\n      if (this.min == 0) {\n        this.suggest();\n      }\n    },\n\n    clicked() {\n      this.editing = false;\n    },\n\n    startEditing() {\n      if (!this.editing) {\n        this.sleeping = false;\n        this.editing = true;\n        this.searchPattern = \"\";\n      }\n    },\n  },\n\n  watch: {\n    options() {\n      if (!this.lazy) {\n        this.reset();\n      } else {\n        this.selectedOption = { option: this.default, selected: true };\n      }\n    },\n\n    modelValue() {\n      if (!this.editing) {\n        if (!this.lazy) {\n          this.reset();\n        } else {\n          this.selectedOption = { option: this.default, selected: true };\n        }\n      }\n    },\n\n    async editing() {\n      if (this.editing) {\n        await this.$nextTick();\n        if (this.$refs.edit) {\n          (this.$refs.edit as any).focus();\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/shared_components/css/vars.scss\";\n\n.suggestions {\n  position: absolute;\n  top: 100%;\n  margin-top: 3px;\n  max-height: 300px;\n\n  overflow-y: auto;\n  z-index: 1;\n  width: 100%;\n  display: grid;\n  box-shadow: rgba(22, 1, 1, 0.74) 0px 3px 8px;\n  border-top: 1px $box_border;\n  border-bottom: 1px $box_border;\n  > * {\n    background-color: var(--input-background);\n    border-left: 1px $box_border;\n    border-right: 1px $box_border;\n    border-bottom: none;\n    padding: 5px;\n\n    &:hover {\n      background-color: $blue;\n    }\n  }\n}\n\n.view {\n  background-color: var(--input-background);\n}\n\n.container {\n  position: relative;\n}\n\n.input {\n  width: 100%;\n}\n\n.hidden {\n  display: none;\n}\n\n.autocomplete-input::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  right: 10px;\n  transform: translateY(-50%);\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid #000;\n  filter: var(--image-filter);\n}\n</style>\n","<template>\n  <fieldset>\n    <legend> <img src=\"assets/bsicons/publication.png\" /> Reference</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Publication:</td>\n        <td>\n          <UtilAutocomplete\n            :options=\"publications\"\n            :filterField=\"(o: Publication) => o.getName()\"\n            valueField=\"id\"\n            v-model=\"item.publicationId\"\n            @change=\"changed\"\n            nullable\n          >\n            <template #option=\"{ option }\">\n              <div class=\"flex align-items flex-row\">\n                <template v-if=\"option\">\n                  <img class=\"mr-1 my-auto\" :src=\"`assets/bsicons/${option.editorTypeName}.png`\" />\n                  <span class=\"inline\">\n                    {{ getName(option) }} <span class=\"grey\">{{ getNameExtra(option) }}</span>\n                  </span>\n                </template>\n                <template v-else>\n                  <img class=\"mr-1 my-auto\" :src=\"`assets/bsicons/bullet.png`\" />\n                  <span class=\"inline\">None</span>\n                </template>\n              </div>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n      <tr>\n        <td>Page:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.page\" @change=\"changed\" />\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { getName, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { sortByAscending } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { Base } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<Base>,\n      required: true,\n    },\n  },\n  computed: {\n    publications() {\n      return sortByAscending([...this.catalogue.iteratePublications()], (o) => o?.name || \"\");\n    },\n  },\n  methods: {\n    getNameExtra,\n    getName,\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0UrDhaU4pChOlkQFXHUKhShQqkVWnUwufQLmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi6uKk6CIl/i8ptIjx4Lgf7+497t4BQqPCVLNrHFA1y0gn4mI2tyoGXxFAL4KIYFBipj6XSiXhOb7u4ePrXYxneZ/7c/QpeZMBPpF4lumGRbxBPL1p6Zz3icOsJCnE58RjBl2Q+JHrsstvnIsOCzwzbGTS88RhYrHYwXIHs5KhEk8RRxVVo3wh67LCeYuzWqmx1j35C0N5bWWZ6zSHkcAilpCCCBk1lFGBhRitGikm0rQf9/BHHH+KXDK5ymDkWEAVKiTHD/4Hv7s1C5MTblIoDgRebPtjBAjuAs26bX8f23bzBPA/A1da219tADOfpNfbWvQI6N8GLq7bmrwHXO4AQ0+6ZEiO5KcpFArA+xl9Uw4YuAV61tzeWvs4fQAy1FXyBjg4BEaLlL3u8e7uzt7+PdPq7wcllnKI7QJDVQAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFCwgaM9maQ54AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACEElEQVQ4y52RzWsTQRiHn9luvsBCFpomtISSBFRICAgeApUeipcWT176n/Tc/yPneggI3rwJfkCwhnoTP+LuyWw8JBnS2DXszoyHdbcJXtT3NHP4PfO8vxEAz1+8ND+Da/5mSuUKD+7fE8ndBrj+seD44SFaa4wxaK2JogilFEoptNYADIdDvvsj3gzemwRiARhj0mASMMaglCIMQ5bLJUEQsFgsePzomPHoG6/fXZrUQCuFZVn0+33y+TytVovBYEA2myWXyzGZTGi1WkynU87PzwHof3VvVtBaI4Sg0+mkNsk5sQjDkP39fbTWFAoFXvXfrgMAut0u5XKZdrvN2dkZhUKBer2O4zicnJzQ6/UolUo0m800YwMoFRscHR1hjKFara6FXdclk8lweBgXvbu7y4cv8QpWDFAIIfB9HyklQoi18Gg0YmNjg/F4jJQSy7JQSq0Y6Biws7MTUy2L09PTtI/kh6rVKkopbNtG6VVAFAHgeR7FYpG9vT0uLi7I5XIATKdTDg4O8DyPWq0WA35n7NUV6vU6QGqTvF4sFhFC0Gg0MMasrWABRFGEEAIpJb7vr/WxXC7TXjzPS8/RqkEYhgghcBwHx3HWDADy+fwfhmEY3gDm8zmu6yKlZDabpX1UKhWCICAIAgCklCl0Pp/HsCdPn5nPnz6yuLriX+bW5ia379zF3ipts1Xa5n/nF4VfO8AW+/8fAAAAAElFTkSuQmCC\"","<template>\n  <fieldset>\n    <legend><img src=\"assets/bsicons/constraint.png\" /> Quick Constraints</legend>\n    <div class=\"columns\">\n      <div class=\"column\">\n        <button class=\"bouton\" @click=\"add('min', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MIN 1 IN PARENT</span>\n        </button>\n        <button class=\"bouton\" v-if=\"withCategory\" @click=\"add('min', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MIN 1 IN CATEGORY</span>\n        </button>\n        <button class=\"bouton\" @click=\"add('min', 'force')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MIN 1 IN FORCE</span>\n        </button>\n        <button class=\"bouton\" @click=\"add('min', 'roster')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MIN 1 IN ROSTER</span>\n        </button>\n      </div>\n      <div class=\"column\">\n        <button class=\"bouton\" @click=\"add('max', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MAX 1 IN PARENT</span>\n        </button>\n        <button class=\"bouton\" v-if=\"withCategory\" @click=\"add('max', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MAX 1 IN CATEGORY</span>\n        </button>\n        <button class=\"bouton\" @click=\"add('max', 'force')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MAX 1 IN FORCE</span>\n        </button>\n        <button class=\"bouton\" @click=\"add('max', 'roster')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MAX 1 IN ROSTER</span>\n        </button>\n      </div>\n      <div class=\"column\">\n        <button class=\"bouton\" @click=\"add('exactly', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">EXACTLY 1 IN PARENT</span>\n        </button>\n        <button class=\"bouton\" v-if=\"withCategory\" @click=\"add('exactly', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">EXACTLY 1 IN CATEGORY</span>\n        </button>\n        <button class=\"bouton\" @click=\"add('exactly', 'force')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">EXACTLY 1 IN FORCE</span>\n        </button>\n        <button class=\"bouton\" @click=\"add('exactly', 'roster')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">EXACTLY 1 IN ROSTER</span>\n        </button>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  setup() {\n    return { store: useEditorStore() };\n  },\n  props: {\n    item: {\n      type: Object as PropType<ItemTypes>,\n      required: true,\n    },\n\n    withCategory: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n    add(type: string, scope: string) {\n      this.store.create_child(\"constraints\", this.item as EditorBase, {\n        type: type,\n        scope: scope,\n        value: 1,\n        select: false,\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.columns {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n.column {\n  flex: 1;\n  flex-wrap: wrap;\n}\n.bouton {\n  width: 100%;\n  font-size: 15px !important;\n  text-align: left !important;\n}\n.text {\n  margin-left: 28px;\n}\n</style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsHidden :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n    Entry\n  </CatalogueRightPanelFieldsHidden>\n\n  <CatalogueRightPanelFieldsQuickConstraints\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    :withCategory=\"false\"\n    class=\"section\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Category } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Category>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsHidden :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n    Entry\n  </CatalogueRightPanelFieldsHidden>\n\n  <CatalogueRightPanelFieldsQuickConstraints\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    :withCategory=\"true\"\n    class=\"section\"\n  >\n  </CatalogueRightPanelFieldsQuickConstraints>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Force } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Force>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Characteristics</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Profile Type: </td>\n\n        <td>\n          <UtilAutocomplete\n            :options=\"profileTypes\"\n            :filterField=\"(o) => o.getName()\"\n            valueField=\"id\"\n            v-model=\"item.typeId\"\n            @change=\"changedType\"\n          >\n            <template #option=\"{ option }\">\n              <div class=\"flex align-items flex-row\" style=\"white-space: nowrap\">\n                <img class=\"mr-1 my-auto\" :src=\"`assets/bsicons/${option.editorTypeName}.png`\" /><span class=\"inline\">\n                  {{ getName(option) }} <span class=\"grey\">{{ getNameExtra(option) }}</span>\n                </span>\n              </div>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n    </table>\n    <table class=\"editorTable\">\n      <tr v-for=\"char of charactacteristics\">\n        <td>{{ char.name }}: </td>\n        <td><UtilEditableDiv v-model=\"char.$text\" @change=\"changed\" /></td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { getName, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Link, Profile, ProfileType } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<Profile>,\n      required: true,\n    },\n  },\n  methods: {\n    getName,\n    getNameExtra,\n    changedType(newType: ProfileType & EditorBase, oldOption: ProfileType & EditorBase) {\n      this.item.getCatalogue().refreshErrors(this.item as EditorBase & (Profile | Link<Profile>));\n\n      if (oldOption) {\n        this.catalogue.removeRef(this.item as Profile & EditorBase, oldOption);\n      }\n      if (newType) {\n        this.catalogue.addRef(this.item as Profile & EditorBase, newType);\n      }\n      this.$emit(\"catalogueChanged\");\n    },\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  computed: {\n    profileTypes() {\n      return [...this.catalogue.iterateProfileTypes()];\n    },\n\n    charactacteristics() {\n      const existing = {} as Record<string, any>;\n      for (const c of this.item.characteristics || []) {\n        existing[c.name] = c.$text;\n      }\n      if (!this.item.typeId) return [];\n      const type = this.catalogue.findOptionById(this.item.typeId) as ProfileType;\n      if (!this.item.isLink()) {\n        this.item.typeName = type?.name;\n      }\n\n      const result = type?.characteristicTypes?.map((elt) => ({\n        name: elt.name,\n        typeId: elt.id,\n        $text: existing[elt.name] || \"\",\n      }));\n      this.item.characteristics = result;\n      return result;\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsHidden :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n    Constraints\n  </CatalogueRightPanelFieldsHidden>\n\n  <CatalogueRightPanelFieldsCharacteristics\n    class=\"section\"\n    :item=\"item\"\n    :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIProfile } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<BSIProfile>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Description</legend>\n    <UtilEditableDiv\n      v-model=\"item.description\"\n      @change=\"changed\"\n    ></UtilEditableDiv>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<{ description: string }>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsHidden :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n    Constraints\n  </CatalogueRightPanelFieldsHidden>\n\n  <CatalogueRightPanelFieldsDescription\n    class=\"section\"\n    :item=\"item\"\n    :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Rule } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<Rule>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>\n      <slot />\n    </legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Type:</td>\n        <td>\n          <select v-model=\"type\" @change=\"changed\">\n            <option value=\"model\">Model</option>\n            <option value=\"upgrade\">Upgrade</option>\n            <option value=\"unit\">Unit</option>\n            <option value=\"mount\">Mount</option>\n            <option value=\"crew\">Crew</option>\n          </select>\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<{\n        type: \"model\" | \"unit\" | \"upgrade\";\n        subType?: \"mount\" | \"crew\";\n      }>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  computed: {\n    type: {\n      get() {\n        return this.item.subType ?? this.item.type\n      },\n      set(val: \"model\" | \"unit\" | \"upgrade\" | \"mount\" | \"crew\") {\n        switch (val) {\n          case \"model\":\n          case \"upgrade\":\n          case \"unit\":\n          default:\n            this.item.type = val;\n            delete this.item.subType;\n            break;\n          case \"mount\":\n          case \"crew\":\n            this.item.type = \"model\";\n            this.item.subType = val;\n            break;\n\n        }\n      }\n    }\n  }\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Creation</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Default Amount:</td>\n        <td>\n          <input\n            class=\"input\"\n            type=\"number\"\n            v-model=\"item.defaultAmount\"\n            @change=\"changed\"\n            :placeholder=\"placeholder\"\n          />\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<{\n        defaultAmount?: number;\n        isLink(): boolean;\n        getDefaultAmount(): number | undefined;\n      }>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  computed: {\n    placeholder(): string {\n      return `${this.item.isLink() ? this.item.getDefaultAmount() || \"unset\" : \"unset\"}`;\n    },\n  },\n};\n</script>\n<style scoped>\n.input {\n  max-width: 100px;\n}\n</style>\n","<template>\n  <input v-model=\"stringValue\" type=\"number\" @change=\"update\" :required=\"required\" :min=\"min\" :max=\"max\" />\n</template>\n\n<script lang=\"ts\">\nexport default {\n  props: {\n    modelValue: {\n      type: [Number, String],\n    },\n    required: {\n      type: Boolean,\n      required: false,\n    },\n    min: {\n      type: Number,\n      required: false,\n    },\n    max: {\n      type: Number,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      stringValue: null as string | null,\n      intValue: 0,\n    };\n  },\n\n  watch: {\n    modelValue() {\n      this.refresh();\n    },\n  },\n\n  created() {\n    this.refresh();\n  },\n\n  methods: {\n    refresh() {\n      this.intValue = this.modelValue || 0;\n      this.stringValue = \"\" + this.modelValue;\n    },\n\n    update() {\n      if (this.stringValue != null) {\n        this.intValue = parseFloat(this.stringValue);\n        this.$emit(\"update:modelValue\", this.intValue);\n        this.$emit(\"change\");\n      }\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend><img src=\"assets/bsicons/cost.png\" /> Costs</legend>\n    <div class=\"costs\">\n      <div v-for=\"cost of costTypes\">\n        <label>{{ cost.name }}: </label>\n        <UtilNumberInput\n          v-if=\"selectedCosts[cost.id] != null\"\n          v-model=\"selectedCosts[cost.id].value\"\n          class=\"input\"\n          @change=\"changed\"\n          placeholder=\"unset\"\n        />\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSICost, BSICostType } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  data() {\n    return {\n      selectedCosts: {} as Record<string, BSICost>,\n    };\n  },\n\n  created() {\n    this.update();\n  },\n\n  props: {\n    item: {\n      type: Object as PropType<{ costs?: BSICost[] }>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  computed: {\n    costTypes() {\n      let res: BSICostType[] = [];\n      for (let elt of this.catalogue.iterateCostTypes()) {\n        res.push(elt);\n      }\n      return res;\n    },\n  },\n\n  methods: {\n    changed() {\n      this.item.costs = Object.values(this.selectedCosts).filter((o) => isFinite(o.value));\n      this.$emit(\"catalogueChanged\");\n    },\n\n    update() {\n      this.selectedCosts = {};\n      const defaultValue = ((this.item as EditorBase).isLink() ? undefined : 0) as number;\n      for (let cost of Object.values(this.costTypes)) {\n        this.selectedCosts[cost.id] = {\n          name: cost.name,\n          typeId: cost.id,\n          value: defaultValue,\n        };\n      }\n\n      if (this.item.costs) {\n        for (let cost of this.item.costs) {\n          this.selectedCosts[cost.typeId] = {\n            name: cost.name,\n            typeId: cost.typeId,\n            value: cost.value,\n          };\n        }\n      }\n    },\n  },\n\n  watch: {\n    item() {\n      this.update();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.costs {\n  display: flex;\n  > div {\n    margin-right: 10px;\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n}\n\n.input {\n  max-width: 100px;\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9bi1IqIu0g4pChumhBVMRRq1CECqFWaNXB5NIvaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIq4uToouU+L+k0CLGg+N+vLv3uHsH+BsVpppd44CqWUY6mRCyuVWh+xVBhNCPUUQkZupzopiC5/i6h4+vd3Ge5X3uz9Gr5E0G+ATiWaYbFvEG8fSmpXPeJ46ykqQQnxOPGXRB4keuyy6/cS467OeZUSOTnieOEgvFDpY7mJUMlXiKOKaoGuX7sy4rnLc4q5Uaa92TvzCc11aWuU5zCEksYgkiBMiooYwKLMRp1Ugxkab9hId/0PGL5JLJVQYjxwKqUCE5fvA/+N2tWZiccJPCCSD4Ytsfw0D3LtCs2/b3sW03T4DAM3Cltf3VBjDzSXq9rcWOgL5t4OK6rcl7wOUOMPCkS4bkSAGa/kIBeD+jb8oBkVsgtOb21trH6QOQoa5SN8DBITBSpOx1j3f3dPb275lWfz9cmHKeGGO3IgAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFChEuDQiaUlgAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACRElEQVQoz52Sz0tUURiGn3vvuTqNdU3noiiYZYQgSgYGhiFCRAYWUYFGf0GL/A9atwnaVBtrmWZllouSJAlqEVmLcuGi0JiZmh+W5jRzdeacc2+LscGplX1wFud7z/vwfh/HePpkLNjI/OB/KuREEOs/lzlzbgjty22ZLdPm8cQ9hO8HSJVnavzutgCnBy/i+wHC9zVaKVpaWqipqys9WE6liC4t4TgO+1tbMS2rpK2m02il8H2NqbVCaYXWGqe2tnRezs4ipSQcDjMzPV2maa03PQpTa42SEqUU6WSSZ48mSSeTmIZJc3MzpmmS/ZUt05RSKCnRWiOULCaQUrKrupq+k/3FJdkCz/OIRqNkc9kybTkeR2mFkgqhtUKpIm05kSjN2dvXR3J+lAP1Idr21vJ1fhxUhgojQ/67gVIH0Voh/sRfXFykauE+DU0u2tiBl8tTyMQ4OjhMIZcjGVvADgq47k6mJj6WxhCe52GaBscGBoi/jdPTf6JkyK34zM/Nkc8XSCdiVAqIuA772nswTQPP8xAFM8zIjVsAVHifqNzdhNY+2TWPencPHYc7ikC3EjtYwXUFd26/IPVqjXCkEdF76gKpxDeklHx+fp2u7rbNBBvElqK8e2OVgJZhE0/bhBqPcKjjPPUNjRhbf9fNa1eCiBXFDoURlk3sS5xLw2e37KCYYGR0lctXJw0AsRXQdXyITGaNICje88mHPBibwQ5VISyB2jCQ6ymMmk5gEqA8wd/1+v2HwMvl/uk7jkN3Z7sB8BurPj/243CaIgAAAABJRU5ErkJggg==\"","<template>\n  <fieldset>\n    <legend>\n      <slot></slot>\n    </legend>\n    <div class=\"booleans\">\n      <div v-for=\"field of fields.filter((f) => f.status != -1)\">\n        <input :class=\"{ 'cursor-pointer': field.status !== 0 }\" :id=\"(field.field as string)\" type=\"checkbox\"\n          v-model=\"item[field.field]\" @change=\"changed\" :disabled=\"field.status == 0\" />\n        <label\n          :class=\"{ 'cursor-pointer': field.status !== 0, gray: field.status == 0, hastooltip: Boolean(field.title) }\"\n          :for=\"(field.field as string)\" :title=\"field.title\">\n          {{ field.name }}\n        </label>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Base } from \"~/assets/shared/battlescribe/bs_main\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\ninterface BooleanField {\n  name: string;\n  status: number;\n  field: keyof (Base & EditorBase);\n  title?: string;\n}\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Base & EditorBase>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n\n  computed: {\n    fields() {\n      return [\n        {\n          name: \"Hidden\",\n          status: this.hidden,\n          field: \"hidden\",\n        },\n        {\n          name: \"Collective\",\n          status: this.collective,\n          field: \"collective\",\n          title: \"indicates that multiple instances of this entry may be combined into one entry with an amount\",\n        },\n        {\n          name: \"Import\",\n          status: this.eimport,\n          field: \"import\",\n          title: \"Indicates that this entry may be imported by other catalogues\",\n        },\n        {\n          name: \"Flatten\",\n          status: this.alphasort,\n          field: \"flatten\",\n          title:\n            \"If this is checked, the group box for this entry/group will not be visible in the New Recruit UI.\",\n        },\n      ] as BooleanField[];\n    },\n\n    hidden() {\n      return true;\n    },\n\n    alphasort() {\n      if (this.item.editorTypeName === \"selectionEntry\") {\n        return 1;\n      }\n      if (this.item.editorTypeName === \"selectionEntryLink\") {\n        return 1;\n      }\n      if (this.item.editorTypeName === \"selectionEntryGroup\") {\n        return 1;\n      }\n      if (this.item.editorTypeName === \"selectionEntryGroupLink\") {\n        return 1;\n      }\n      return 0;\n    },\n\n    collective() {\n      if (this.item.parent?.isCatalogue()) {\n        const parentkey = this.item.parentKey;\n        if (parentkey === \"selectionEntries\" || parentkey === \"entryLinks\") return 0;\n      }\n\n      switch (this.item.editorTypeName) {\n        case \"selectionEntryLink\":\n          return 1;\n        case \"selectionEntryGroupLink\":\n          return 1;\n        case \"selectionEntry\":\n          return 1;\n        case \"selectionEntryGroup\":\n          return 1;\n\n        case \"categoryLink\":\n          return -1;\n\n        case \"infoLink\":\n          return -1;\n        case \"profileLink\":\n          return -1;\n        case \"ruleLink\":\n          return -1;\n        case \"infoGroupLink\":\n          return -1;\n      }\n      return 1;\n    },\n\n    eimport() {\n      if (this.item.parent?.isCatalogue()) {\n        return 1;\n      }\n\n      switch (this.item.editorTypeName) {\n        case \"selectionEntryLink\":\n          return 0;\n        case \"selectionEntryGroupLink\":\n          return 0;\n        case \"selectionEntry\":\n          return 0;\n        case \"selectionEntryGroup\":\n          return 0;\n\n        case \"categoryLink\":\n          return -1;\n\n        case \"infoLink\":\n          return -1;\n        case \"profileLink\":\n          return -1;\n        case \"ruleLink\":\n          return -1;\n        case \"infoGroupLink\":\n          return -1;\n      }\n      return 0;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.booleans {\n  display: flex;\n\n  >div {\n    margin-right: 10px;\n\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n}\n</style>\n","<template>\n  <svg\n    aria-hidden=\"true\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    version=\"1.1\"\n    width=\"16\"\n    data-view-component=\"true\"\n    class=\"octicon octicon-tag\"\n  >\n    <path\n      d=\"M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z\"\n    ></path>\n  </svg>\n</template>\n","<template>\n  <div class=\"autocomplete relative\" @keydown.down.prevent=\"onDown\" @keydown.up.prevent=\"onUp\"\n    @keydown.enter.prevent=\"onEnter\" @keyup.enter.prevent=\"onEnterUp\" @keydown.escape=\"blur()\">\n    <input class=\"input autocomplete-input\" type=\"text\" ref=\"edit\" autofocus @input=\"suggest\" @click=\"maySuggest\"\n      @focus=\"startEditing\" v-model=\"searchPattern\" :placeholder=\"placeholder\" v-click-outside=\"onClickOutside\"\n      v-if=\"editing\" />\n    <div v-else @click=\"startEditing\" class=\"autocomplete-input\">\n      <span class=\"gray\">{{ placeholder }}</span>\n      <span class=\"float-right bold\">+</span>\n    </div>\n    <div class=\"suggestions\" v-show=\"editing\" :class=\"{ hidden: !editing }\" ref=\"suggestions\">\n      <template v-for=\"(option, i) in foundOptions\">\n        <div class=\"suggestion selected\" v-if=\"i === boundedSelected\" @click.capture.stop=\"targetSelected(option)\"\n          @contextmenu.capture=\"targetSelectedRightClick($event, option)\">\n          <slot v-bind=\"{ ...option, selected: true }\" name=\"option\"></slot>\n        </div>\n        <div class=\"suggestion\" v-else @click.stop=\"targetSelected(option)\"\n          @contextmenu.prevent=\"targetSelectedRightClick($event, option)\">\n          <slot v-bind=\"option\" name=\"option\"></slot>\n        </div>\n      </template>\n      <div v-if=\"always\" class=\"suggestion\" :class=\"{ selected: selected === foundOptions.length }\"\n        @click=\"$emit('always', searchPattern)\" @contextmenu.prevent=\"$emit('always-special', searchPattern)\">\n        <slot name=\"always\" v-bind=\"{ input: searchPattern }\"></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { start } from \"repl\";\nimport { PropType } from \"vue\";\nimport { inBounds } from \"~/assets/shared/battlescribe/bs_helpers\";\n\nexport default {\n  props: {\n    modelValue: String,\n    placeholder: {\n      type: String,\n      default: \"Search...\",\n    },\n\n    min: {\n      type: Number,\n      default: 0,\n    },\n    max: {\n      type: Number,\n      default: 1000,\n    },\n\n    options: {\n      type: [Array, Function],\n      required: true,\n    },\n\n    filterField: {\n      type: [String, Function],\n      default: \"\",\n    },\n\n    lazy: {\n      type: Boolean,\n      default: false,\n    },\n    focus: {\n      type: Boolean,\n      default: false,\n    },\n\n    nullable: {\n      type: Boolean,\n      default: false,\n    },\n\n    always: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  created() {\n    if (!this.lazy) {\n      this.reset();\n    }\n  },\n\n  data() {\n    return {\n      searchPattern: \"\",\n      selected: 0,\n      lastSearch: null as string | null,\n      editing: false,\n      sleeping: this.lazy,\n      bounce: false,\n    };\n  },\n\n  computed: {\n    boundedSelected() {\n      return inBounds(this.selected, 0, this.always ? this.foundOptions.length : this.foundOptions.length - 1);\n    },\n    computedOptions(): any[] {\n      if (Array.isArray(this.options)) return this.options;\n      return this.sleeping ? [] : this.options();\n    },\n    foundOptions(): { option: any }[] {\n      const regex = this.textSearchRegex(this.searchPattern);\n      const result = [];\n      if (this.nullable) {\n        result.push({ option: undefined });\n      }\n      const data = this.computedOptions;\n      const end = this.max || data.length;\n      for (let i = 0; i < data.length; i++) {\n        const cur = data[i];\n        let val = this.getField(cur);\n        if (val && val.match && val.match(regex)) {\n          result.push({ option: cur });\n          if (result.length >= end - 1) break;\n        }\n      }\n      return result;\n    },\n  },\n\n  methods: {\n    fix(n: number) {\n      return inBounds(n, 0, this.always ? this.foundOptions.length : this.foundOptions.length - 1);\n    },\n    blur() {\n      this.editing = false;\n      this.$emit(\"blur\");\n    },\n    onUp() {\n      this.selected = this.fix(this.selected - 1);\n      this.$nextTick(() => {\n        const el = (this.$refs.suggestions as HTMLDivElement)!.getElementsByClassName(\"selected\")[0];\n        el?.scrollIntoView({ block: \"nearest\", inline: \"center\" });\n      });\n    },\n    onDown() {\n      this.selected = this.fix(this.selected + 1);\n      this.$nextTick(() => {\n        const el = (this.$refs.suggestions as HTMLDivElement)!.getElementsByClassName(\"selected\")[0];\n        el?.scrollIntoView({ block: \"nearest\", inline: \"center\" });\n      });\n    },\n    onEnter() {\n      if (this.bounce) return;\n      this.bounce = true;\n      if (this.always && this.selected === this.foundOptions.length) {\n        this.$emit(\"always\", this.searchPattern);\n      } else {\n        this.targetSelected(this.foundOptions[this.boundedSelected]);\n      }\n      this.reset();\n    },\n    onEnterUp() {\n      this.bounce = false;\n    },\n    getField(cur: any) {\n      if (!this.filterField) return cur;\n      if (this.filterField instanceof Function) {\n        return this.filterField(cur);\n      }\n      return cur[this.filterField];\n    },\n    escapeRegex(str: string) {\n      return str.replace(/([.?*+^$[\\]\\\\(){}|-])/g, \"\\\\$1\");\n    },\n\n    textSearchRegex(query: string) {\n      const words = this.escapeRegex(query).split(\" \");\n      const regexStr = `^(?=.*\\\\b${words.join(\".*)(?=.*\\\\b\")}).*$`;\n      const regx = new RegExp(regexStr, \"i\");\n      return regx;\n    },\n\n    targetSelected(opt: any) {\n      console.log(\"selected\", opt);\n      this.$emit(\"add\", opt.option);\n    },\n\n    targetSelectedRightClick(event: Event, opt: any) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      console.log(\"selected (right click)\", opt);\n      this.$emit(\"add-special\", opt.option);\n    },\n\n    reset() {\n      this.searchPattern = \"\";\n    },\n\n    onClickOutside() {\n      this.blur();\n    },\n\n    suggest() {\n      if (this.searchPattern.length < this.min) {\n        this.editing = false;\n      } else {\n        this.startEditing();\n      }\n    },\n\n    maySuggest() {\n      this.sleeping = false;\n      this.searchPattern = \"\";\n      if (this.min == 0) {\n        this.suggest();\n      }\n    },\n\n    startEditing() {\n      if (!this.editing) {\n        this.sleeping = false;\n        this.editing = true;\n        this.searchPattern = \"\";\n      }\n    },\n  },\n\n  mounted() {\n    if (this.focus) {\n      setTimeout(() => {\n        (this.$refs.edit as HTMLInputElement)?.focus();\n        this.startEditing();\n      }, 0);\n    }\n  },\n  watch: {\n    options() {\n      if (!this.lazy) {\n        this.reset();\n      }\n    },\n    searchPattern(_new, _old) {\n      if ((_new ?? \"\") !== (_old ?? \"\")) {\n        this.selected = 0;\n        this.$emit(\"update:modelValue\", _new);\n        this.$emit(\"change\");\n      }\n    },\n    modelValue: {\n      immediate: true,\n      handler(v) {\n        this.searchPattern = v ?? \"\";\n      },\n    },\n    async editing() {\n      if (this.editing) {\n        await this.$nextTick();\n        if (this.$refs.edit) {\n          (this.$refs.edit as any).focus();\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/shared_components/css/vars.scss\";\n\n.suggestions {\n  position: absolute;\n  top: 100%;\n  margin-top: 3px;\n  max-height: 300px;\n\n  overflow-y: auto;\n  z-index: 1;\n  width: 100%;\n  display: grid;\n  box-shadow: rgba(22, 1, 1, 0.74) 0px 3px 8px;\n  background-color: var(--input-background);\n  border-top: 1px $box_border;\n  border-bottom: 1px $box_border;\n\n  >* {\n    background-color: var(--input-background);\n    border-left: 1px $box_border;\n    border-right: 1px $box_border;\n    border-bottom: none;\n    padding: 5px;\n\n    &:hover {\n      background-color: $blue;\n    }\n  }\n\n  // overflow-x: hidden;\n}\n\n.suggestions {\n  cursor: pointer !important;\n}\n\n.suggestion.selected {\n  background-color: $blue;\n  color: white;\n  fill: white;\n\n  :deep(.icon) {\n    filter: unset !important;\n  }\n}\n\n.suggestion:hover {\n  background-color: var(--input-highlights);\n  color: white;\n  fill: white;\n\n  :deep(.icon) {\n    filter: unset !important;\n  }\n\n}\n\n.view {\n  background-color: var(--input-background);\n}\n\n.container {\n  position: relative;\n}\n\n.hidden {\n  display: none;\n}\n\n// .autocomplete-input::before {\n//   content: \"\";\n//   position: absolute;\n//   top: 50%;\n//   right: 10px;\n//   transform: translateY(-50%);\n//   width: 0;\n//   height: 0;\n//   border-left: 5px solid transparent;\n//   border-right: 5px solid transparent;\n//   border-top: 5px solid #000;\n//   filter: var(--image-filter);\n// }\n.autocomplete-input,\n.autocomplete {\n  min-width: 300px;\n}\n</style>\n","<template>\n  <div :class=\"{ 'dark': settings.isDarkTheme }\">\n    <div>\n      <template v-if=\"ownCategories?.length || ownPrimaryCategories?.length\">\n        <div v-for=\"category in ownPrimaryCategories\" class=\"label hover-brighten\"\n          @contextmenu.stop=\"context($event, category)\">\n          <span class=\"primary bold\"> Primary </span>\n          <span class=\"name\">{{ category.getName() }} </span><span class=\"cursor-pointer hover-darken px-5px rounded-8px\"\n            @click=\"removeCategory(category)\">&times;</span>\n        </div>\n        <div v-for=\"category in ownCategories\" class=\"label\" @contextmenu.stop=\"context($event, category)\">\n          <span class=\"name\">{{ category.getName() }} </span><span class=\"cursor-pointer hover-darken px-5px rounded-8px\"\n            @click=\"removeCategory(category)\">&times;</span>\n        </div>\n      </template>\n      <template v-else>\n        <span class=\"gray\"> None </span>\n      </template>\n      <span class=\"py-1px rounded-8px bg-lime-400\"><span class=\"px-5px py-1px rounded-8px cursor-pointer hover-darken\"\n          @click=\"adding = true\" :style=\"{ color: settings.isDarkTheme ? 'black' : 'white' }\" v-if=\"!adding\">+</span>\n      </span>\n      <AutocompleteTags v-if=\"adding\" v-model=\"input\" @blur=\"adding = false\" focus class=\"inline-block\" lazy\n        :always=\"Boolean(input.trim()) && !allCategories().find((o) => o.name === input)\" :options=\"allCategories\"\n        :dark=\"settings.isDarkTheme\" placeholder=\"Search... (Right click = Primary)\"\n        :filterField=\"(o: Category) => o.getName()\" @add=\"addCategory\" @add-special=\"addCategoryAndMakePrimary\"\n        @always=\"createCategory\" @always-special=\"createPrimaryCategory\">\n\n        <template #option=\"{ option, selected }\">\n          <div class=\"flex align-items flex-row\" style=\"white-space: nowrap\">\n            <template v-if=\"option?.name\">\n              <Tag class=\"icon\" />\n              <span>&nbsp;{{ option.name }}<span class=\"gray\"> [{{ option.catalogue.name }}]</span></span>\n            </template>\n          </div>\n        </template>\n        <template #always=\"{ input }\">\n          <div class=\"flex align-items flex-row\" style=\"white-space: nowrap\">\n            <span>Create: </span>&nbsp;\n            <Tag class=\"icon\" /><span>&nbsp;{{ input }}</span>\n          </div>\n        </template>\n      </AutocompleteTags>\n    </div>\n\n    <div class=\"align-top mt-4px\" v-if=\"targetCategories.length || targetPrimaryCategories.length\">\n      <img src=\"assets/bsicons/link.png\" />\n      From Target:\n      <span v-for=\"category in targetPrimaryCategories\" class=\"label\"\n        @contextmenu.stop=\"linked_context($event, category)\">\n        <span class=\"primary bold\"> Primary </span>\n        <span class=\"name\">{{ category.getName() }} </span>&nbsp;<span\n          class=\"cursor-pointer hover-darken px-3px rounded-2px\" @click=\"removeCategory(category)\">&times;</span>\n      </span>\n      <span v-for=\"category in targetCategories\" class=\"label\" @contextmenu.stop=\"linked_context($event, category)\">\n        <span class=\"name\">{{ category.getName() }} </span>&nbsp;<span\n          class=\"cursor-pointer hover-darken px-3px rounded-2px\" @click=\"removeCategory(category)\">&times;</span>\n      </span>\n    </div>\n    <ContextMenu v-if=\"contextmenuopen && selectedCategory && selectedCategoryParent\" v-model=\"contextmenuopen\"\n      ref=\"contextmenu\">\n      <div v-if=\"!selectedCategory.primary\" @click=\"makePrimary(selectedCategory, selectedCategoryParent)\">\n        Make Primary: {{ selectedCategory.getName() }}\n      </div>\n      <div v-if=\"selectedCategory.primary\" @click=\"makeSecondary(selectedCategory)\">\n        Make Secondary: {{ selectedCategory.getName() }}\n      </div>\n      <div @click=\"gotoCategory(selectedCategory)\">\n        Goto {{ selectedCategory.getName() }}\n        <span class=\"gray\"> &nbsp;({{ selectedCategory.catalogue?.getName() }}) </span>\n      </div>\n    </ContextMenu>\n  </div>\n</template>\n<script lang=\"ts\">\nimport Tag from \"./Tag.vue\";\nimport AutocompleteTags from \"~/components/util/AutocompleteTags.vue\";\nimport { Base, Category, CategoryLink, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { setPrototype } from \"~/assets/shared/battlescribe/bs_main_types\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport ContextMenu from \"~/components/dialog/ContextMenu.vue\";\nimport { getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport { generateBattlescribeId } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\n\nexport default defineComponent({\n  components: { AutocompleteTags, Tag, ContextMenu },\n  props: {\n    item: {\n      type: Object as PropType<EditorBase>,\n      required: true,\n    },\n\n  },\n  data() {\n    return {\n      input: \"\",\n      adding: false,\n      contextmenuopen: false,\n      selectedCategory: null as (EditorBase & CategoryLink) | null,\n      selectedCategoryParent: null as Base | null,\n    };\n  },\n  setup() {\n    return { store: useEditorStore(), settings: useSettingsStore() };\n  },\n\n  computed: {\n    catalogue() {\n      return this.item.catalogue;\n    },\n    targetCategories(): Array<CategoryLink & EditorBase> {\n      return (this.item.target?.categoryLinks || []).filter((o) => !o.primary) as Array<CategoryLink & EditorBase>;\n    },\n    ownCategories(): Array<CategoryLink & EditorBase> {\n      return (this.item.categoryLinks || []).filter((o) => !o.primary) as Array<CategoryLink & EditorBase>;\n    },\n    targetPrimaryCategories(): Array<CategoryLink & EditorBase> {\n      return (this.item.target?.categoryLinks || []).filter((o) => o.primary) as Array<CategoryLink & EditorBase>;\n    },\n    ownPrimaryCategories(): Array<CategoryLink & EditorBase> {\n      return (this.item.categoryLinks || []).filter((o) => o.primary) as Array<CategoryLink & EditorBase>;\n    },\n  },\n  methods: {\n    getNameExtra,\n    makePrimary(category: CategoryLink, parent: Base) {\n      parent.categoryLinks?.forEach((o) => (o.primary = false));\n      category.primary = true;\n    },\n    makeSecondary(category: CategoryLink) {\n      category.primary = false;\n    },\n    context(event: Event, category: CategoryLink & EditorBase) {\n      this.contextmenuopen = true;\n      this.selectedCategory = category;\n      this.selectedCategoryParent = this.item;\n      this.$nextTick(() => {\n        (this.$refs.contextmenu as { show: (event: Event) => unknown })?.show(event);\n      });\n    },\n    linked_context(event: Event, category: CategoryLink & EditorBase) {\n      if (!this.item.target) {\n        console.error(\"Cant open context menu for a category on the target: Couldn't find target\");\n        return;\n      }\n      this.contextmenuopen = true;\n      this.selectedCategory = category;\n      this.selectedCategoryParent = this.item.target;\n      this.$nextTick(() => {\n        (this.$refs.contextmenu as { show: (event: Event) => unknown })?.show(event);\n      });\n    },\n    refreshCategories(item: Link & EditorBase, cat: Category | null, primary: boolean) {\n      if (!item.categoryLinks) item.categoryLinks = [];\n      const links = item.categoryLinks;\n      if (primary) {\n        links.forEach((o) => (o.primary = false));\n      }\n      if (cat) {\n        const found = links.find((o) => o.targetId === cat?.id);\n        if (found && primary) {\n          found.primary = true;\n        } else if (found) {\n          this.removeLink(links, found);\n        } else {\n          this.addLink(links, cat, primary);\n        }\n      }\n    },\n    removeLink(links: Array<CategoryLink>, link: Link) {\n      const idx = links.findIndex((o) => o === link);\n      if (idx !== -1) {\n        const [cl] = links.splice(idx, 1);\n        this.catalogue.removeFromIndex(cl as CategoryLink & EditorBase);\n        const targetLinks = (cl.target as Category & EditorBase).links as Base[];\n        if (targetLinks) {\n          const targetIdx = targetLinks?.findIndex((o) => o === cl);\n          if (targetIdx !== -1) {\n            targetLinks?.splice(targetIdx, 1);\n          }\n        }\n      }\n    },\n    addLink(links: Link[], cat: Category, primary = false) {\n      if (!cat.isCategory()) {\n        throw Error(\"Invalid argument, target must be a category\");\n      }\n      const cl = setPrototype(\n        {\n          targetId: cat.id,\n          target: cat,\n          id: this.item.catalogue.generateNonConflictingId(),\n          primary: primary,\n          catalogue: this.item.catalogue,\n          name: cat.name,\n        },\n        \"categoryLinks\"\n      );\n      links.push(cl);\n      this.catalogue.addToIndex(cl);\n      const target = cat as Category & EditorBase;\n      if (!target.links) {\n        target.links = [];\n      }\n      target.links?.push(cl as CategoryLink & EditorBase);\n      return cl;\n    },\n    allCategories() {\n      const current = new Set<string>();\n      for (const category of this.item.categoryLinks || []) {\n        current.add(category.getId());\n      }\n      const result = [];\n      for (const category of this.item.catalogue.iterateCategoryEntries()) {\n        if (!current.has(category.getId())) {\n          result.push(category);\n        }\n      }\n      return result;\n    },\n    addCategory(category: Category) {\n      if (!this.item.categoryLinks) this.item.categoryLinks = [];\n      const links = this.item.categoryLinks;\n      const found = links.find((o) => o.targetId === category.getId());\n      if (found) {\n        return found;\n      }\n      return this.addLink(links, category, false);\n    },\n    addCategoryAndMakePrimary(category: Category) {\n      const cl = this.addCategory(category);\n      this.makePrimary(cl, this.item);\n    },\n    removeCategory(category: Category) {\n      if (!this.item.categoryLinks) this.item.categoryLinks = [];\n      const links = this.item.categoryLinks;\n      const found = links.find((o) => o.targetId === category.getId());\n      if (found) {\n        this.removeLink(links, found);\n      }\n    },\n    async createCategory(name: string, primary = false) {\n      const parent = this.item.catalogue as Catalogue & EditorBase;\n      const key = \"categoryEntries\";\n      const obj = {\n        ...this.store.get_initial_object(key, parent),\n        name,\n        id: generateBattlescribeId(),\n      };\n      await this.store.add(obj, key, parent);\n      const added = this.item.catalogue.categoryEntries?.find((o) => o.name === name);\n      if (added) {\n        if (primary) {\n          return this.addCategoryAndMakePrimary(added);\n        } else {\n          return this.addCategory(added);\n        }\n      }\n    },\n    async createPrimaryCategory(name: string) {\n      await this.createCategory(name, true);\n    },\n    gotoCategory(category: EditorBase & CategoryLink) {\n      const entry = this.catalogue.findOptionById(category.id);\n      if (entry) {\n        this.store.goto(entry as EditorBase);\n      }\n    },\n  },\n});\n</script>\n<style scoped>\n.label {\n  background-color: #80808080;\n  display: inline-block;\n  padding: 2px 0px 2px 4px;\n  border-radius: 5px;\n  margin: 2px;\n}\n\n.dark * .plus {\n  color: white;\n}\n</style>\n","<template>\n  <div class=\"category\" @contextmenu.stop=\"contextmenu.show\">\n    <div>\n      <input\n        name=\"primary\"\n        type=\"radio\"\n        :checked=\"hasCategory(category) == 2\"\n        @change=\"$emit('primaryChanged', category)\"\n      />\n      Primary?\n    </div>\n    <div>\n      <input\n        :id=\"`category-${category.id}`\"\n        type=\"checkbox\"\n        :checked=\"hasCategory(category) != 0\"\n        @change=\"$emit('secondaryChanged', category)\"\n      />\n      <label :for=\"`category-${category.id}`\">\n        {{ category.name }}<span class=\"gray\"> [{{ category.catalogue.name }}]</span>\n      </label>\n    </div>\n    <ContextMenu v-if=\"contextmenuopen\" v-model=\"contextmenuopen\" ref=\"contextmenu\">\n      <div @click=\"store.goto(category)\">\n        Goto {{ category.getName() }}\n        <span class=\"gray\"> &nbsp;({{ category.catalogue?.getName() }}) </span>\n      </div>\n    </ContextMenu>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { Category, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport ContextMenu from \"~/components/dialog/ContextMenu.vue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default defineComponent({\n  props: {\n    category: {\n      required: true,\n      type: Object as PropType<Category>,\n    },\n    item: {\n      type: Object as PropType<Link & EditorBase>,\n      required: true,\n    },\n  },\n  setup() {\n    return { store: useEditorStore() };\n  },\n  data() {\n    return { contextmenuopen: false };\n  },\n  methods: {\n    menu(ref: string) {\n      return {\n        show: (event: MouseEvent, e: any) => {\n          this.contextmenuopen = true;\n          this.$nextTick(() => {\n            (this.$refs[ref] as any)?.show(event, e);\n          });\n        },\n        close: (event: MouseEvent, e: any) => {\n          (this.$refs[ref] as any)?.close(event, e);\n          this.contextmenuopen = false;\n        },\n      };\n    },\n    hasCategory(cat: Category) {\n      let link = this.item.categoryLinks?.find((elt) => elt.target?.id === cat.id);\n      if (!link) {\n        return 0;\n      }\n      if (link.primary) {\n        return 2;\n      }\n      return 1;\n    },\n  },\n  computed: {\n    contextmenu() {\n      return this.menu(\"contextmenu\");\n    },\n  },\n  components: { ContextMenu },\n});\n</script>\n<style>\n.category {\n  display: grid;\n  grid-template-columns: max-content max-content;\n  grid-gap: 20px;\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>\n      <div class=\"inline\">\n        <Tag class=\"icon\" />\n      </div>\n      Categories ({{ count }})\n    </legend>\n    <template v-if=\"settings.useNewCategoriesUI\">\n      <CatalogueEditV2Categories :item=\"item\" />\n    </template>\n    <template v-else>\n      <input class=\"section\" type=\"text\" v-model=\"filter\" placeholder=\"Filter categories...\" />\n      <div class=\"section inline\">\n        <input type=\"checkbox\" id=\"onlyEnabled\" v-model=\"settings.showOnlyEnabledCategories\" />\n        <label for=\"onlyEnabled\">Only show selected categories</label>\n      </div>\n      <div class=\"section categoryList\">\n        <div>\n          <input name=\"primary\" type=\"radio\" :checked=\"noPrimary\" @change=\"primaryChanged(null)\" />\n          No Primary\n        </div>\n\n        <Category\n          v-for=\"cat of categories\"\n          :category=\"cat\"\n          :item=\"item\"\n          :key=\"cat.id\"\n          @primaryChanged=\"primaryChanged\"\n          @secondaryChanged=\"secondaryChanged\"\n        />\n\n        <div v-for=\"lnk of badLinks\" class=\"category\" :key=\"lnk.id\">\n          <div>\n            <input name=\"primary\" type=\"radio\" :checked=\"hasCategory(lnk) == 2\" @change=\"primaryChanged(lnk)\" />\n            Primary?\n          </div>\n          <div>\n            <input\n              :id=\"`bad${lnk.id}`\"\n              type=\"checkbox\"\n              :checked=\"true\"\n              @change=\"removeLink(item.categoryLinks!, lnk)\"\n            />\n            <label :for=\"`bad${lnk.id}`\">{{ lnk.name }}</label>\n            <ErrorIcon\n              class=\"ml-5px inline\"\n              :errors=\"[{ msg: `Couldn't find category with id: ${lnk.targetId}`, severity: 'error' }]\"\n            />\n          </div>\n        </div>\n      </div>\n    </template>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Base, Category, CategoryLink, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { setPrototype } from \"~/assets/shared/battlescribe/bs_main_types\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\nimport CategoryVue from \"~/components/catalogue/right_panel/fields/Category.vue\";\nimport Tag from \"../../edit_v2/Tag.vue\";\n\nexport default {\n  components: { Category: CategoryVue, Tag },\n  emits: [\"catalogueChanged\"],\n  data() {\n    return {\n      filter: \"\",\n      primaries: new Set<string>(),\n      secondaries: new Set<string>(),\n    };\n  },\n  setup() {\n    return { settings: useSettingsStore() };\n  },\n  props: {\n    item: {\n      type: Object as PropType<Link & EditorBase>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    hasCategory(cat: Category) {\n      let link = this.item.categoryLinks?.find((elt) => elt.target?.id === cat.id);\n      if (!link) {\n        return 0;\n      }\n      if (link.primary) {\n        return 2;\n      }\n      return 1;\n    },\n    primaryChanged(cat: Category | null) {\n      this.refreshCategories(this.item, cat, true);\n    },\n\n    secondaryChanged(cat: Category) {\n      this.refreshCategories(this.item, cat, false);\n    },\n\n    refreshCategories(item: Link & EditorBase, cat: Category | null, primary: boolean) {\n      if (!item.categoryLinks) item.categoryLinks = [];\n      const links = item.categoryLinks;\n      if (primary) {\n        links.forEach((o) => (o.primary = false));\n      }\n      if (cat) {\n        const found = links.find((o) => o.targetId === cat?.id);\n        if (found && primary) {\n          found.primary = true;\n        } else if (found) {\n          this.removeLink(links, found);\n        } else {\n          this.addLink(links, cat, primary);\n        }\n      }\n      this.changed();\n    },\n    removeLink(links: Array<CategoryLink>, link: Link) {\n      const idx = links.findIndex((o) => o === link);\n      if (idx !== -1) {\n        const [cl] = links.splice(idx, 1);\n        this.catalogue.removeFromIndex(cl as CategoryLink & EditorBase);\n        const targetLinks = (cl.target as Category & EditorBase).links as Base[];\n        if (targetLinks) {\n          const targetIdx = targetLinks?.findIndex((o) => o === cl);\n          if (targetIdx !== -1) {\n            targetLinks?.splice(targetIdx, 1);\n          }\n        }\n      }\n    },\n    addLink(links: Link[], cat: Category, primary = false) {\n      if (!cat.isCategory()) {\n        throw Error(\"Invalid argument, target must be a category\");\n      }\n      const cl = setPrototype(\n        {\n          targetId: cat.id,\n          target: cat,\n          id: this.catalogue.generateNonConflictingId(),\n          primary: primary,\n          catalogue: this.catalogue,\n          name: cat.name,\n        },\n        \"categoryLinks\"\n      );\n      links.push(cl);\n      this.catalogue.addToIndex(cl);\n      const target = cat as Category & EditorBase;\n      if (!target.links) {\n        target.links = [];\n      }\n      target.links?.push(cl as CategoryLink & EditorBase);\n      return cl;\n    },\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n    noPrimary() {\n      let res = true;\n      if (this.item.categoryLinks) {\n        for (let cat of this.item.categoryLinks) {\n          if (cat.primary) {\n            return false;\n          }\n        }\n      }\n      return res;\n    },\n  },\n\n  computed: {\n    badLinks() {\n      const result = [];\n      const categories = new Set<String>();\n      for (const category of this.catalogue.iterateCategoryEntries()) {\n        categories.add(category.id);\n      }\n      for (const cl of this.item.categoryLinks || []) {\n        if (!categories.has(cl.targetId)) {\n          result.push(cl);\n        }\n      }\n      return result;\n    },\n    count() {\n      return this.item.categoryLinks?.length || 0;\n    },\n    categories() {\n      let res: Category[] = [];\n\n      for (let cat of this.catalogue.iterateCategoryEntries()) {\n        if (this.settings.showOnlyEnabledCategories && this.hasCategory(cat) == 0) {\n          continue;\n        }\n        if (cat.getName().toLowerCase().includes(this.filter.toLowerCase())) {\n          res.push(cat);\n        }\n      }\n\n      return res;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.categoryList {\n  max-height: 200px;\n  overflow: auto;\n}\n</style>\n","<template>\n    <fieldset class=\"mt-10px\" v-if=\"get_sort_items.length > 1\">\n        <legend>Childs Order</legend>\n        <SortOrder :items=\"get_sort_items\" :get=\"get\" :set=\"set\" :del=\"del\">\n            <template #item=\"{ item }\">\n                <Entry :item=\"item\" noSortIndex />\n                <template v-if=\"item.links?.length > 1\">>1 refs</template>\n            </template>\n        </SortOrder>\n    </fieldset>\n</template>\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport { sortByAscending } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport SortOrder from \"./SortOrder.vue\";\nimport Entry from \"../../left_panel/Entry.vue\";\n\nexport default defineComponent({\n    emits: [\"catalogueChanged\"],\n    props: {\n        item: {\n            type: Object as PropType<any>,\n            required: true,\n        },\n        catalogue: {\n            type: Object as PropType<Catalogue>,\n            required: true,\n        },\n    },\n    setup() {\n        return { store: useEditorStore() };\n    },\n    computed: {\n        get_sort_items() {\n            return sortByAscending([...this.item.iterateSelectionEntries()], o => o.getName());\n        }\n    },\n    methods: {\n        changed() {\n            this.$emit(\"catalogueChanged\");\n        },\n        get(item: EditorBase) {\n            return item.sortIndex;\n        },\n        set(item: EditorBase, v: number) {\n            item.sortIndex = v;\n            this.store.set_catalogue_changed(item.catalogue, true);\n        },\n        del(item: EditorBase) {\n            delete item.sortIndex;\n            this.store.set_catalogue_changed(item.catalogue, true);\n        },\n    },\n    components: { SortOrder, Entry }\n})\n</script>","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsEntryType :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n    Selection Entry\n  </CatalogueRightPanelFieldsEntryType>\n  <CatalogueRightPanelFieldsCreation :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsCosts :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsBooleans :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n    Entry\n  </CatalogueRightPanelFieldsBooleans>\n\n  <CatalogueRightPanelFieldsCategories :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n\n\n  <CatalogueRightPanelFieldsQuickConstraints :item=\"item\" @catalogueChanged=\"changed\" :withCategory=\"false\"\n    class=\"section\">\n  </CatalogueRightPanelFieldsQuickConstraints>\n\n  <CatalogueRightPanelFieldsSortChilds :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<any>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n<style scoped>\n.typeIcon {\n  max-width: 18px;\n  vertical-align: middle;\n}\n\n.typeIcon-wrapper {\n  display: inline-block;\n  min-width: 20px;\n  min-height: 1px;\n}\n</style>","<template>\n  <fieldset>\n    <legend> <img src=\"assets/bsicons/link.png\" /> Link</legend>\n    <table class=\"editorTable\">\n      <tr v-if=\"type == 'entry'\">\n        <td>Link Type:</td>\n        <td>\n          <select @change=\"typeChanged\" v-model=\"item.type\">\n            <option v-if=\"allowEntries\" value=\"selectionEntry\">Selection Entry</option>\n            <option v-if=\"allowGroups\" value=\"selectionEntryGroup\"> Selection Entry Group </option>\n          </select>\n        </td>\n      </tr>\n      <tr v-if=\"type == 'info'\">\n        <td>Link Type:</td>\n        <td>\n          <select @change=\"typeChanged\" v-model=\"item.type\">\n            <option :value=\"'profile'\">Profile</option>\n            <option :value=\"'rule'\"> Rule </option>\n            <option :value=\"'infoGroup'\"> Info Group </option>\n          </select>\n        </td>\n      </tr>\n      <tr>\n        <td>Link To:</td>\n        <td>\n          <template v-if=\"item.target\">\n            <img class=\"linkIcon\" v-if=\"item.type\" :src=\"`assets/bsicons/${getType(item)}.png`\" />\n            {{ item.target.name }}\n          </template>\n          <template v-else>\n            <img class=\"errIcon\" src=\"/assets/icons/error_exclamation.png\" /> No target selected\n          </template>\n        </td>\n      </tr>\n      <tr>\n        <td>Target ID:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.targetId\" @change=\"targetIdChanged\" />\n        </td>\n      </tr>\n      <tr>\n        <td>Target:</td>\n        <td>\n          <UtilAutocomplete v-model=\"item.targetId\" :placeholder=\"`Search Target...`\" :options=\"availableTargets\"\n            valueField=\"id\" filterField=\"name\" @change=\"targetIdChanged\">\n            <template #option=\"opt\">\n              <div style=\"white-space: nowrap\">\n                <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${opt.option.editorTypeName}.png`\" />\n                {{ opt.option.name }}\n                <span class=\"gray\">{{ getNameExtra(opt.option, false) }}</span>\n                <span class=\"shared\" v-if=\"opt.option.shared\"> (shared)</span>\n                <span class=\"catalogueName\" v-if=\"showCatalogue(opt.option)\"> [{{ opt.option.catalogue.name }}]</span>\n              </div>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n      <tr v-if=\"type === 'catalogue'\">\n        <td></td>\n        <td>\n          <input @change=\"changedImportRootEntries\" id=\"importRoot\" type=\"checkbox\" v-model=\"item.importRootEntries\" />\n          <label for=\"importRoot\">Import Root Entries</label>\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { ItemTypes, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { sortByAscending } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { Base, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { EditorSearchItem } from \"~/assets/ts/catalogue/catalogue_helpers\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  setup() {\n    return { store: useEditorStore() };\n  },\n  emits: [\"catalogueChanged\"],\n\n  data() {\n    return {\n      filter: \"\",\n      val: null as any,\n    };\n  },\n\n  props: {\n    item: {\n      type: Object as PropType<EditorBase & Link>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    type: {\n      type: String,\n      required: true,\n    },\n  },\n\n  computed: {\n    allowEntries() {\n      return true;\n    },\n\n    allowGroups() {\n      if (this.item.parent?.isCatalogue() && this.item.parentKey === \"entryLinks\") {\n        return false;\n      }\n      return true;\n    },\n  },\n  methods: {\n    getNameExtra,\n    availableTargets() {\n      if (this.type === \"catalogue\") {\n        const id = this.catalogue.gameSystemId || this.catalogue.id;\n        const values = Object.values(this.store.get_system(id).catalogueFiles);\n        const catalogues = values.map((elt) => {\n          return { id: elt.catalogue.id, name: elt.catalogue.name, editorTypeName: \"catalogueLink\" };\n        }).filter(o => o.id !== this.catalogue.id);\n        return catalogues;\n      }\n      const all = [];\n      for (const entry of this.catalogue.iterateAllImported()) {\n        if (!this.targetIsValid(entry as ItemTypes)) continue;\n        if (entry.isLink()) continue;\n        all.push(entry);\n      }\n      return sortByAscending(all, (o) => o.name) as Array<Base & EditorBase>;\n    },\n    typeChanged() { },\n\n    targetIdChanged() {\n      this.updateLink();\n      this.changed();\n    },\n\n    async updateLink() {\n      if (this.type === \"catalogue\" && this.item.targetId) {\n        const sysId = this.catalogue.gameSystemId || this.catalogue.id;\n        await this.catalogue.reload(this.store.get_system(sysId));\n        const target = this.item.target as (Catalogue & EditorBase) | undefined;\n        this.item.name = this.item.target?.name || \"Unknown\";\n        this.item.type = (target?.editorTypeName || this.type) as any;\n      } else {\n        this.catalogue.updateLink(this.item);\n        const target = this.item.target as EditorBase | undefined;\n        this.item.name = target?.name || \"Unknown\";\n        this.item.type = (target?.editorTypeName || this.item.type) as any;\n      }\n    },\n    changedImportRootEntries() {\n      this.changed();\n    },\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n\n    getType(item: Link): string {\n      if (!item.target) {\n        return \"bullet\";\n      }\n\n      return (item.target as EditorBase).editorTypeName;\n    },\n\n    itemName(elt: Base) {\n      return elt.name;\n    },\n\n    itemValue(elt: Base) {\n      return elt.name;\n    },\n\n    targetIsValid(target: ItemTypes) {\n      if (this.item.type == undefined || this.item.type === \"category\") {\n        return target.editorTypeName == \"category\";\n      }\n      return target.editorTypeName == this.item.type;\n    },\n\n    showCatalogue(opt: EditorSearchItem): boolean {\n      if (!opt.catalogue) {\n        return false;\n      }\n      if (opt.catalogue === this.item.catalogue?.getName()) {\n        return false;\n      }\n      return true;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.linkIcon {\n  vertical-align: middle;\n}\n\n.errIcon {\n  vertical-align: -2px;\n}\n\n.catalogueName {\n  color: rgb(144, 152, 197);\n  font-style: italic;\n}\n\n.shared {\n  color: $gray;\n  font-style: italic;\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFKSURBVDhPpZLBSgJRFIbvuTtHXyBaWEG0TRxFCAJd9B6B4CLoXaKVLVr4FK3GTRGEMwvXYYPQI1TQ4D2d/3gVnEFh7IPBc37mHD2/P5kcH63WuVssBmxMT9pjaESUOmPGhnl4miQJtBXrBfNOp/KbZXdS9kUsLAaylGXJY4Xo9jCOv6Hpi374SZpL9CuOosgYa03a7cqojHsc80tAdIUlFgK+OT8MbK2mTx5LdPHDfK81bpbPPppSEF2/NxqhhWHbbt6FzhANrHd7L2RJDx7oX7UndTXxP4ihlPq6NHL+3Drnxr4vMGu3zSwMNzKQI7Li5FATVh5eED1YzbbE04sbnEwm+mxhdBbHb2oiss3Mzyp7bLXqq2Uic7wGWXaDYh2gz2Yz0HhKwnYEC6eOMHwwnX5BKLyIeCJhCIm0dWjqthiWyc342dCWGPMHCdh2fZxOhd0AAAAASUVORK5CYII=\"","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference v-if=\"type != 'catalogue'\" :item=\"item\" :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsLink :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\"\n    :type=\"type\" />\n\n  <CatalogueRightPanelFieldsCosts v-if=\"item.editorTypeName == 'selectionEntryLink'\" :item=\"item\" :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsCreation v-if=\"item.editorTypeName == 'selectionEntryLink'\" :item=\"item\"\n    :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsBooleans :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" v-if=\"type != 'catalogue'\">\n    Entry\n  </CatalogueRightPanelFieldsBooleans>\n\n  <CatalogueRightPanelFieldsCategories\n    v-if=\"item.editorTypeName == 'selectionEntryLink' || item.editorTypeName == 'selectionEntryGroupLink'\" :item=\"item\"\n    :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsQuickConstraints :item=\"item\" @catalogueChanged=\"changed\" :withCategory=\"false\"\n    class=\"section\" v-if=\"type == 'entry' || type == 'category'\" />\n\n  <CatalogueRightPanelFieldsSortChilds v-if=\"type == 'entry'\" :item=\"item\" :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Base, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Link & EditorBase>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n\n    type: {\n      type: String,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"container\" :class=\"{ disabled: disabled }\">\n    <div @click=\"startEditing\" class=\"iconselect-input\" v-click-outside=\"onClickOutside\">\n      <span class=\"gray\" v-if=\"!selectedOption\">{{ placeholder }}</span>\n      <slot v-else v-bind=\"selectedOption\" name=\"option\"></slot>\n    </div>\n\n    <div class=\"suggestions\" :class=\"{ hidden: !editing }\">\n      <div v-for=\"option of availableOptions\" @click=\"targetSelected(option)\">\n        <slot v-bind=\"option\" name=\"option\"></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\n\ntype OptionArray = Array<{ option: any; selected?: boolean }>;\n\nexport default {\n  props: {\n    modelValue: {\n      type: Object as PropType<any>,\n    },\n\n    placeholder: {\n      type: String,\n      default: \"Search...\",\n    },\n\n    fetch: {\n      type: Function,\n      required: true,\n    },\n\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  created() {\n    this.reset();\n  },\n\n  data() {\n    return {\n      searchPattern: \"\",\n      lastSearch: null as string | null,\n      editing: false,\n      selectedOption: null as { option: any; selected?: boolean } | null,\n      availableOptions: [] as OptionArray,\n    };\n  },\n\n  methods: {\n    async foundOptions(): Promise<OptionArray> {\n      const res = await this.fetch();\n      return res.map((elt: any) => {\n        return { option: elt };\n      });\n    },\n\n    targetSelected(opt: any) {\n      let res = opt.option;\n      this.selectedOption = {\n        option: opt.option,\n        selected: true,\n      };\n      this.$emit(\"update:modelValue\", res);\n      this.$emit(\"change\", opt.option);\n      this.editing = false;\n    },\n\n    reset() {\n      this.searchPattern = \"\";\n      this.selectedOption = null;\n      if (this.modelValue) {\n        this.selectedOption = {\n          option: this.modelValue,\n          selected: true,\n        };\n      }\n    },\n\n    onClickOutside() {\n      this.editing = false;\n    },\n\n    async startEditing() {\n      if (this.disabled) {\n        return;\n      }\n      this.editing = true;\n      this.availableOptions = (await this.foundOptions()) as Array<{ option: any; selected?: boolean }>;\n    },\n\n    clicked() {\n      this.editing = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/shared_components/css/vars.scss\";\n\n.suggestions {\n  position: absolute;\n  top: 100%;\n  margin-top: 3px;\n  max-height: 300px;\n\n  overflow-y: auto;\n  z-index: 1;\n  width: 100%;\n  display: grid;\n  box-shadow: rgba(22, 1, 1, 0.74) 0px 3px 8px;\n  border-top: 1px $box_border;\n  border-bottom: 1px $box_border;\n\n  > * {\n    background-color: var(--input-background);\n    border-left: 1px $box_border;\n    border-right: 1px $box_border;\n    border-bottom: none;\n    padding: 5px;\n\n    &:hover {\n      background-color: $blue;\n    }\n  }\n}\n\n.view {\n  background-color: var(--input-background);\n}\n\n.container {\n  position: relative;\n}\n\n.input {\n  width: 100%;\n}\n\n.hidden {\n  display: none;\n}\n\n.container {\n  input {\n    height: 33px;\n  }\n}\n\n.iconselect-input {\n  background-color: var(--input-background);\n  width: 100% !important;\n  padding-right: 30px;\n}\n\n.iconselect-input::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  right: 10px;\n  transform: translateY(-50%);\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid #000;\n  filter: var(--image-filter);\n}\n\n.disabled {\n  color: $gray;\n\n  .iconselect-input::before {\n    border-top: 5px solid $gray;\n  }\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>Modifier</legend>\n    <div class=\"modifier\">\n      <select v-if=\"selectedOperation\" v-model=\"selectedOperation\" @change=\"changed\">\n        <option :value=\"operation\" v-for=\"operation of operations\">\n          {{ operation.name }}\n        </option>\n      </select>\n\n      <UtilIconSelect v-model=\"selectedField\" :fetch=\"() => fieldData\" @change=\"fieldChanged\" class=\"modType min-w-200px\">\n        <template #option=\"opt\">\n          <div class=\"flex align-items flex-row\">\n            <img class=\"mr-1 my-auto\" :src=\"`assets/bsicons/${opt.option.modifierType}.png`\" /><span class=\"inline\">{{\n              opt.option.name\n            }}</span>\n          </div>\n        </template>\n      </UtilIconSelect>\n\n      <span v-if=\"selectedOperation\"> {{ selectedOperation.word }} </span>\n      <UtilNumberInput @change=\"changed\" v-if=\"inputType === 'number'\" v-model=\"(item.value as number)\" />\n      <select @change=\"changed\" v-if=\"inputType == 'boolean'\" v-model=\"item.value\">\n        <option :value=\"true\">True</option>\n        <option :value=\"false\">False</option>\n      </select>\n      <input @change=\"changed\" type=\"text\" v-if=\"inputType.includes('string')\" v-model=\"item.value\" />\n\n      <UtilAutocomplete v-if=\"inputType == 'category'\" :options=\"allCategories\" :filterField=\"(o) => o.getName()\"\n        valueField=\"id\" v-model=\"item.value\" @change=\"changed\">\n        <template #option=\"{ option }\">\n          <div class=\"flex align-items flex-row\" style=\"white-space: nowrap\">\n            <img class=\"mr-1 my-auto\" :src=\"`assets/bsicons/${option.editorTypeName}.png`\" /><span class=\"inline\">\n              {{ getName(option) }} <span class=\"grey\">{{ getNameExtra(option) }}</span>\n            </span>\n          </div>\n        </template>\n      </UtilAutocomplete>\n      <UtilAutocomplete v-if=\"inputType == 'defaultSelectionEntryId'\" :options=\"allGroupEntries\"\n        :filterField=\"(o) => o.getName()\" valueField=\"id\" v-model=\"item.value\" @change=\"changed\">\n        <template #option=\"{ option }\">\n          <div class=\"flex align-items flex-row\" style=\"white-space: nowrap\">\n            <img class=\"mr-1 my-auto\" :src=\"`assets/bsicons/${option.editorTypeName}.png`\" /><span class=\"inline\">\n              {{ getName(option) }} <span class=\"grey\">{{ getNameExtra(option) }}</span>\n            </span>\n          </div>\n        </template>\n      </UtilAutocomplete>\n    </div>\n    <div v-for=\"error in errors\" class=\"mt-8px flex items-center\">\n      <img src=\"/assets/icons/error_exclamation.png\" />\n      <span class=\"ml-10px\">{{ error.msg }}</span>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport type { PropType } from \"vue\";\nimport { getModifierOrConditionParent } from \"~/assets/shared/battlescribe/bs_modifiers\";\nimport { getName, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Category, Profile } from \"~/assets/shared/battlescribe/bs_main\";\nimport { type EditorBase, Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport type { BSIModifier, BSIModifierType } from \"~/assets/shared/battlescribe/bs_types\";\nimport ErrorIcon from \"~/components/ErrorIcon.vue\";\nimport { first } from \"~/assets/shared/battlescribe/bs_helpers\";\n\ntype FieldTypes = \"string\" | \"number\" | \"category\" | \"boolean\" | \"string-or-number\" | \"defaultSelectionEntryId\";\nconst availableModifiers: Record<string, string[]> = {\n  selectionEntry: [\"costs\", \"name\", \"page\", \"hidden\", \"category\", \"constraints\"],\n  selectionEntryLink: [\"costs\", \"name\", \"page\", \"hidden\", \"category\", \"constraints\"],\n  selectionEntryGroup: [\"name\", \"page\", \"hidden\", \"category\", \"constraints\", \"defaultSelectionEntryId\"],\n  selectionEntryGroupLink: [\"name\", \"page\", \"hidden\", \"category\", \"constraints\", \"defaultSelectionEntryId\"],\n  profile: [\"characteristics\", \"name\", \"description\", \"page\", \"hidden\"],\n  profileLink: [\"characteristics\", \"name\", \"description\", \"page\", \"hidden\"],\n  rule: [\"name\", \"description\", \"page\", \"hidden\"],\n  ruleLink: [\"name\", \"description\", \"page\", \"hidden\"],\n  infoLink: [\"name\", \"page\", \"hidden\"],\n  infoGroup: [\"name\", \"page\", \"hidden\"],\n  infoGroupLink: [\"name\", \"page\", \"hidden\"],\n  force: [\"name\", \"page\", \"hidden\", \"constraints\"],\n  category: [\"name\", \"page\", \"hidden\", \"constraints\"],\n  categoryLink: [\"name\", \"page\", \"hidden\", \"constraints\"],\n};\nconst availableTypes = {\n  costs: \"number\",\n  name: \"string\",\n  page: \"string\",\n  hidden: \"boolean\",\n  description: \"string\",\n  category: \"category\",\n  defaultSelectionEntryId: \"defaultSelectionEntryId\",\n  constraints: \"number\",\n} as Record<string, FieldTypes>;\ntype PossibleTypes = keyof typeof availableTypes;\nfunction isNumber(value: string | number | boolean | undefined) {\n  return !isNaN(parseFloat(value as string)) && isFinite(value as number);\n}\nexport default {\n  components: { ErrorIcon },\n\n  emits: [\"catalogueChanged\"],\n  data() {\n    return {\n      value: \"\",\n      selectedField: null as {\n        id: string;\n        name: string;\n        type: FieldTypes;\n        modifierType: string;\n        value?: string | number | boolean;\n      } | null,\n      selectedOperation: null as {\n        word: string;\n        id: BSIModifierType;\n        name: string;\n      } | null,\n      selectedValue: null as any,\n    };\n  },\n  created() {\n    this.update();\n  },\n  props: {\n    item: {\n      type: Object as PropType<BSIModifier>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  methods: {\n    getName,\n    getNameExtra,\n    changed() {\n      if (this.selectedField) {\n        this.item.field = this.selectedField.id;\n      }\n      if (this.selectedOperation) {\n        this.item.type = this.selectedOperation.id;\n      }\n      this.$emit(\"catalogueChanged\");\n    },\n    getDefaultFieldValue(\n      fieldType: PossibleTypes,\n      fieldTypeName: PossibleTypes,\n      currentValue: string | number | boolean | undefined\n    ) {\n      switch (fieldType) {\n        case \"number\":\n          return typeof currentValue === \"number\" ? currentValue : 0;\n        case \"category\":\n          return this.allCategories[0].id;\n        case \"string\":\n          let _default: string;\n          if (fieldTypeName === \"name\") {\n            const _item = this.item as { getName?: () => string };\n            _default = _item.getName ? _item.getName() || \"\" : \"\";\n          } else {\n            _default = \"\";\n          }\n          return typeof currentValue === \"string\" ? currentValue : _default;\n        case \"string-or-number\":\n          return [\"strint\", \"number\"].includes(typeof currentValue) ? currentValue : \"\";\n        case \"boolean\":\n          return typeof currentValue === \"boolean\" ? currentValue : false;\n        case \"defaultSelectionEntryId\":\n          return first(this.allGroupEntries)?.id;\n        default:\n          throw Error(`fieldType \"${fieldType}\" has no default value set\"`);\n      }\n    },\n    fieldChanged() {\n      this.selectedOperation = this.operations[0];\n      if (this.selectedField) {\n        this.item.value = this.getDefaultFieldValue(this.selectedField.type, this.selectedField.name, this.item.value)!;\n      }\n      this.changed();\n    },\n    update() {\n      this.selectedField = this.fieldData.find((elt) => elt.id === this.item.field) || null;\n      this.selectedOperation = this.operations.find((op) => op.id === this.item.type) || null;\n      if (!this.selectedField) {\n        this.selectedField = this.fieldData[0];\n      }\n      if (!this.selectedOperation) {\n        this.selectedOperation = this.operations[0] || null;\n      }\n    },\n  },\n  watch: {\n    item() {\n      this.update();\n    },\n  },\n  computed: {\n    inputType() {\n      if (!this.selectedField) {\n        return \"\";\n      }\n      if (this.selectedField.type === \"category\") {\n        return \"category\";\n      }\n      if (this.selectedField.type === \"defaultSelectionEntryId\") {\n        return \"defaultSelectionEntryId\";\n      }\n      if (this.selectedField.type === \"number\") {\n        return \"number\";\n      }\n      if (this.selectedField.type === \"boolean\") {\n        return \"boolean\";\n      }\n      if (this.selectedOperation?.id === \"increment\" || this.selectedOperation?.id === \"decrement\") {\n        return \"number\";\n      }\n      return \"string\";\n    },\n    parent() {\n      return getModifierOrConditionParent(this.item as any as EditorBase);\n    },\n    allCategories(): Category[] {\n      let res: Category[] = [];\n      for (let elt of this.catalogue.iterateCategoryEntries()) {\n        res.push(elt);\n      }\n      return res;\n    },\n    allGroupEntries() {\n      return [...(this.parent?.selectionsIterator() || [])];\n    },\n    operations(): {\n      id: BSIModifierType;\n      name: string;\n      word: string;\n    }[] {\n      if (!this.selectedField) {\n        return [];\n      }\n      type Operation = {\n        id: BSIModifierType;\n        name: string;\n        word: string;\n      };\n      let ops: Record<string, Operation[]> = {\n        number: [\n          {\n            id: \"set\",\n            name: \"Set\",\n            word: \"to\",\n          },\n          {\n            id: \"increment\",\n            name: \"Increment\",\n            word: \"by\",\n          },\n          {\n            id: \"decrement\",\n            name: \"Decrement\",\n            word: \"by\",\n          },\n        ],\n        string: [\n          {\n            id: \"set\",\n            name: \"Set\",\n            word: \"to\",\n          },\n          {\n            id: \"append\",\n            name: \"Append\",\n            word: \"with\",\n          },\n          {\n            id: \"prepend\",\n            name: \"Prepend\",\n            word: \"with\",\n          },\n        ],\n        \"string-or-number\": [\n          {\n            id: \"set\",\n            name: \"Set\",\n            word: \"to\",\n          },\n          {\n            id: \"append\",\n            name: \"Append\",\n            word: \"to\",\n          },\n          {\n            id: \"prepend\",\n            name: \"Prepend\",\n            word: \"to\",\n          },\n          {\n            id: \"increment\",\n            name: \"Increment\",\n            word: \"by\",\n          },\n          {\n            id: \"decrement\",\n            name: \"Decrement\",\n            word: \"by\",\n          },\n        ],\n        boolean: [\n          {\n            id: \"set\",\n            name: \"Set\",\n            word: \"to\",\n          },\n        ],\n        defaultSelectionEntryId: [\n          {\n            id: \"set\",\n            name: \"Set\",\n            word: \"\",\n          },\n        ],\n        category: [\n          {\n            id: \"add\",\n            name: \"Add\",\n            word: \"\",\n          },\n          {\n            id: \"remove\",\n            name: \"Remove\",\n            word: \"\",\n          },\n          {\n            id: \"set-primary\",\n            name: \"Set Primary\",\n            word: \"to\",\n          },\n          {\n            id: \"unset-primary\",\n            name: \"Unset Primary\",\n            word: \"to\",\n          },\n        ],\n      };\n      return ops[this.selectedField.type];\n    },\n    errors() {\n      return [];\n    },\n    fieldData() {\n      if (!this.parent) {\n        return [];\n      }\n      let available: string[] = availableModifiers[this.parent.editorTypeName];\n      const additional: {\n        id: string;\n        name: string;\n        type: FieldTypes;\n        modifierType: string;\n      }[] = [];\n      if (!available) {\n        return [];\n      }\n      if (available.includes(\"costs\")) {\n        for (const costType of this.catalogue.iterateCostTypes()) {\n          additional.push({\n            id: costType.id,\n            name: costType.name,\n            type: \"number\" as FieldTypes,\n            modifierType: \"cost\",\n          });\n        }\n      }\n      if (available.includes(\"constraints\")) {\n        for (const constraint of this.parent.constraintsIterator())\n          additional.push({\n            id: constraint.id,\n            name: getName(constraint),\n            type: \"number\" as FieldTypes,\n            modifierType: \"constraint\",\n          });\n      }\n      if (available.includes(\"characteristics\")) {\n        const target = (this.parent.isLink() ? this.parent.target : this.parent) as Profile & EditorBase;\n        if (target?.characteristics) {\n          additional.push(\n            ...target.characteristics.map((o) => ({\n              id: o.typeId,\n              name: o.name,\n              type: \"string-or-number\" as FieldTypes,\n              modifierType: \"characteristic\",\n              value: o.$text,\n            }))\n          );\n        }\n      }\n      if (available.includes(\"category\")) {\n        additional.push({\n          id: \"category\",\n          name: \"Category\",\n          type: \"category\",\n          modifierType: \"category\",\n        });\n      }\n      // Filter out special fields\n      available = available.filter(\n        (elt) => [\"costs\", \"constraints\", \"category\", \"characteristics\"].includes(elt) == false\n      );\n      return available\n        .map((elt) => {\n          return {\n            id: elt,\n            name: elt,\n            type: availableTypes[elt],\n            modifierType: \"bullet\",\n          };\n        })\n        .concat(additional);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.modifier {\n  display: grid;\n  grid-template-columns: auto auto auto 1fr;\n  grid-gap: 5px;\n  align-items: center;\n}\n\n.modType {\n  width: 100%;\n}\n</style>\n","<template>\n  <fieldset>\n    <legend><img src=\"assets/bsicons/condition.png\" /> Quick Conditions</legend>\n    <div class=\"columns\">\n      <div class=\"buttonList\">\n        <button class=\"bouton\" @click=\"add('parent', 'selections', 'atLeast', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />PARENT ATLEAST 1\n        </button>\n        <button class=\"bouton\" @click=\"add('force', 'selections', 'atLeast', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />FORCE ATLEAST 1\n        </button>\n        <button class=\"bouton\" @click=\"add('roster', 'selections', 'atLeast', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />ROSTER ATLEAST 1\n        </button>\n        <button class=\"bouton\" @click=\"add('ancestor', 'selections', 'instanceOf', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />ANCESTOR INSTANCE OF\n        </button>\n      </div>\n      <div class=\"buttonList\">\n        <button class=\"bouton\" @click=\"add('parent', 'selections', 'lessThan', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />PARENT LESS THAN 1\n        </button>\n        <button class=\"bouton\" @click=\"add('force', 'selections', 'lessThan', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />FORCE LESS THAN 1\n        </button>\n        <button class=\"bouton\" @click=\"add('roster', 'selections', 'lessThan', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />ROSTER LESS THAN 1\n        </button>\n        <button class=\"bouton\" @click=\"add('ancestor', 'selections', 'notInstanceOf', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />ANCESTOR NOT INSTANCE OF\n        </button>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { scopeIsId } from \"~/assets/ts/catalogue/catalogue_helpers\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  setup() {\n    return { store: useEditorStore() };\n  },\n  props: {\n    item: {\n      type: Object as PropType<ItemTypes>,\n      required: true,\n    },\n\n    withCategory: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    type() {\n      return this.item.editorTypeName;\n    },\n    parent() {\n      return (this.item as EditorBase).parent;\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n    add(scope: string, field: string, type: string, value: string | number) {\n      if (field === \"id\") {\n        field = (this.item as EditorBase).id;\n      }\n\n      let parent = this.item as EditorBase;\n      this.store.create_child(\"conditions\", parent, {\n        scope: scope,\n        field: field,\n        type: type,\n        value: value,\n        childId: \"any\",\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.columns {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 10px;\n}\n\n.bouton {\n  width: 100%;\n}\n\n.buttonList {\n  display: grid;\n  grid-gap: 10px;\n}\n</style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsModifier class=\"section\" :item=\"item\" @catalogueChanged=\"changed\" :catalogue=\"catalogue\" />\n  <CatalogueRightPanelFieldsQuickConditions\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    :withCategory=\"false\"\n    class=\"section\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue, EditorBase, Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIModifier } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<BSIModifier>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Constraint</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Unique ID:</td>\n        <td><input type=\"text\" v-model=\"item.id\" @change=\"changed\" /></td>\n      </tr>\n    </table>\n    <div class=\"constraint\">\n      <select v-model=\"item.type\" @change=\"changed\">\n        <option value=\"min\">Minimum</option>\n        <option value=\"max\">Maximum</option>\n        <option value=\"exactly\">Exactly</option>\n      </select>\n      <UtilNumberInput v-model=\"item.value\" @change=\"changed\" />\n      <div>\n        <input id=\"percent\" type=\"checkbox\" v-model=\"item.percentValue\" @change=\"changed\" />\n        <label for=\"percent\">Percentage?</label>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { BSIConstraint } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIConstraint>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.constraint {\n  display: grid;\n  grid-template-columns: 1fr 100px max-content;\n  align-items: center;\n  grid-gap: 5px;\n}\n</style>\n","import { getModifierOrConditionParent } from \"~/assets/shared/battlescribe/bs_modifiers\";\nimport { Base, getDataObject } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSICondition, BSIDataCatalogue } from \"~/assets/shared/battlescribe/bs_types\";\nimport { GameSystemFiles } from \"~/assets/shared/battlescribe/local_game_system\";\nimport { ChildProcess } from \"child_process\";\n\nexport interface EditorSearchItem {\n  id: string;\n  name: string;\n  editorTypeName: string;\n  indent: number;\n  catalogue: string | null;\n  shared: boolean;\n}\nfunction getCatalogueName(obj: Base) {\n  return obj.catalogue?.getName() ?? null;\n}\nfunction recursive(current: Catalogue | EditorBase, iterator: string, result: EditorSearchItem[], indent = 0) {\n  for (const child of (current as any)[iterator]()) {\n    result.push({\n      name: child.name,\n      editorTypeName: child.editorTypeName,\n      id: child.id,\n      indent: indent,\n      catalogue: getCatalogueName(child),\n      shared: getFirstAncestor(child)?.parentKey?.includes(\"shared\") || false,\n    });\n    recursive(child, iterator, result, indent + 1);\n  }\n}\n\nfunction recursiveWithFilter(\n  current: Catalogue | EditorBase,\n  iterator: string,\n  cb: (current: EditorBase) => unknown,\n  result: EditorSearchItem[],\n  indent = 0\n) {\n  for (const child of (current as any)[iterator]()) {\n    result.push({\n      name: child.name,\n      editorTypeName: child.editorTypeName,\n      id: child.id,\n      indent: indent,\n      catalogue: getCatalogueName(child),\n      shared: getFirstAncestor(child)?.parentKey?.includes(\"shared\") || false,\n    });\n    recursive(child, iterator, result, indent + 1);\n  }\n}\n\nexport function getSearchElements(\n  catalogue: Catalogue | EditorBase,\n  type: keyof Catalogue | EditorBase\n): EditorSearchItem[] {\n  let res: EditorSearchItem[] = [];\n  recursive(catalogue, type as string, res);\n  return res;\n}\n\nexport function getSearchSelections(\n  catalogue: Catalogue | EditorBase,\n  includeRootSelectionEntries: boolean\n): EditorSearchItem[] {\n  const res: EditorSearchItem[] = [];\n  const iterator = includeRootSelectionEntries ? \"iterateSelectionEntriesWithRoot\" : \"iterateSelectionEntries\";\n  recursive(catalogue, iterator, res);\n  return res;\n}\n\nexport function getSearchSelectionsWithCategory(\n  item: EditorBase,\n  catalogue: Catalogue | EditorBase\n): EditorSearchItem[] {\n  const res: EditorSearchItem[] = [];\n  const primary = item.getPrimaryCategory();\n  recursiveWithFilter(\n    catalogue,\n    \"iterateAllRootEntries\",\n    (o) => getFirstAncestor(o).getPrimaryCategory() === primary,\n    res\n  );\n  return res;\n}\n\nexport function getSearchCategories(catalogue: Catalogue): EditorSearchItem[] {\n  const res: EditorSearchItem[] = [];\n  for (let elt of catalogue.iterateCategoryEntries()) {\n    const child = elt as any;\n    if (child.isCatalogue()) {\n      continue;\n    }\n    res.push({\n      name: child.name,\n      editorTypeName: child.editorTypeName,\n      id: child.id,\n      indent: 0,\n      catalogue: getCatalogueName(child),\n      shared: getFirstAncestor(child)?.parentKey?.includes(\"shared\") || false,\n    });\n  }\n  return res;\n}\n\nexport function getSearchCatalogues(catalogue: Catalogue): EditorSearchItem[] {\n  const res: EditorSearchItem[] = [];\n  for (const elt of Object.values((catalogue.manager as GameSystemFiles).getAllCatalogueFiles())) {\n    if (!(elt as BSIDataCatalogue).catalogue) continue;\n    const obj = getDataObject(elt);\n    res.push({\n      name: obj.name,\n      editorTypeName: \"catalogue\",\n      id: obj.id,\n      indent: 0,\n      catalogue: null,\n      shared: false,\n    });\n  }\n  return res;\n}\n\nexport function itemDepth(item: EditorBase): number {\n  let res = 0;\n  let parent = getModifierOrConditionParent(item);\n  while (parent) {\n    res++;\n    parent = parent.parent;\n  }\n  return res;\n}\n\nexport function getParentUnitHierarchy(item: EditorBase): EditorSearchItem[] {\n  let res: EditorSearchItem[] = [];\n  let parent: EditorBase | undefined = item;\n  let i = 0;\n  const rootDepth = itemDepth(item) - 1;\n  parent = getModifierOrConditionParent(item);\n  while (parent != null && !parent.isCatalogue()) {\n    if (parent.editorTypeName === \"selectionEntry\") {\n      res.push({\n        name: parent.name,\n        id: parent.id,\n        editorTypeName: parent.editorTypeName,\n        indent: i,\n        catalogue: getCatalogueName(parent),\n        shared: getFirstAncestor(parent)?.parentKey?.includes(\"shared\") || false,\n      });\n      i++;\n    }\n    parent = parent.parent;\n  }\n  res = res.reverse();\n  res.forEach((elt, ind) => {\n    elt.indent = ind + rootDepth;\n  });\n  return res;\n}\n\nexport function getParentSelections(item: EditorBase): EditorSearchItem[] {\n  const parentElements = getSearchElements(item, \"iterateRootEntries\");\n  parentElements.splice(0, 1);\n  return parentElements;\n}\n\nexport function scopeIsId(item: BSICondition) {\n  return (\n    [\"self\", \"parent\", \"ancestor\", \"primary-category\", \"primary-catalogue\", \"force\", \"roster\"].includes(item.scope) ==\n    false\n  );\n}\n\nexport function getFirstAncestor(item: EditorBase): EditorBase {\n  let parent = item;\n  while (\n    parent.parent != null &&\n    parent.parent.editorTypeName != \"gameSystem\" &&\n    parent.parent.editorTypeName != \"catalogue\"\n  ) {\n    parent = parent.parent;\n  }\n  return parent;\n}\n\nexport function getFilterSelections(item: BSICondition & EditorBase, catalogue: Catalogue): EditorSearchItem[] {\n  const includeAllRootEntries = [\"primary-catalogue\", \"roster\", \"force\", \"ancestor\"];\n  if (includeAllRootEntries.includes(item.scope)) {\n    return getSearchSelections(catalogue, true);\n  }\n\n  const res = getSearchSelections(catalogue, false);\n  if (item.scope == \"self\") {\n    const parent: EditorBase | undefined = getModifierOrConditionParent(item);\n    return parent ? res.concat(getParentSelections(parent)) : res;\n  }\n\n  // if (item.scope == \"ancestor\") {\n  //   return res;\n  // }\n\n  if (item.scope == \"parent\") {\n    // It looks like first level elements of shared entries and groups consider the Roster as their parent\n    if (getFirstAncestor(item)) {\n      return getSearchSelections(catalogue, true);\n    }\n\n    const parent: EditorBase | undefined = getModifierOrConditionParent(item);\n    return parent?.parent ? res.concat(getParentSelections(parent.parent)) : res;\n  }\n\n  if (item.scope == \"primary-category\") {\n    return getSearchSelectionsWithCategory(getFirstAncestor(item), catalogue);\n  }\n\n  const parent = catalogue.findOptionById(item.scope) as EditorBase;\n  if (parent) {\n    return res.concat(getParentSelections(parent));\n  }\n  return res;\n}\n\nexport function getFilterForces(item: EditorBase, catalogue: Catalogue, scope: string): EditorSearchItem[] {\n  return [];\n}\n","<template>\n  <fieldset>\n    <legend>Query</legend>\n    <div class=\"query\">\n      <UtilIconSelect v-model=\"itemField\" :fetch=\"() => fieldTypes\" @change=\"fieldChanged\" class=\"modType\"\n        :disabled=\"instanceOf\">\n        <template #option=\"opt\">\n          <div>\n            <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${opt.option.type}.png`\" />\n            {{ opt.option.name }}\n          </div>\n        </template>\n      </UtilIconSelect>\n\n      <span> in </span>\n\n      <UtilAutocomplete v-model=\"item.scope\" :placeholder=\"`Search Scope...`\" :options=\"allScopes\" valueField=\"id\"\n        filterField=\"name\" @change=\"scopeChanged\" :disabled=\"itemField?.value?.startsWith('limit::')\">\n        <template #option=\"opt\">\n          <div style=\"white-space: nowrap\">\n            <template v-if=\"opt.option.indent >= 2 && !opt.selected\">\n              <span v-for=\"n of opt.option.indent - 1\">&nbsp;&nbsp;&nbsp;</span>\n            </template>\n            <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${opt.option.editorTypeName}.png`\" />\n            {{ opt.option.name }}\n            <span class=\"gray\">{{ getNameExtra(opt.option, false) }}</span>\n            <span class=\"shared\" v-if=\"opt.option.shared\"> (shared)</span>\n            <span class=\"catalogueName\" v-if=\"showCatalogue(opt.option)\"> [{{ opt.option.catalogue }}]</span>\n          </div>\n        </template>\n      </UtilAutocomplete>\n\n      <div class=\"checks\">\n        <div v-if=\"shared\">\n          <input @change=\"changed\" id=\"shared\" type=\"checkbox\" v-model=\"item.shared\" />\n          <label for=\"shared\" class=\"hastooltip\" :title=\"sharedTooltip\">Shared</label>\n        </div>\n        <div v-if=\"childSelections\">\n          <input @change=\"changed\" id=\"childSelections\" type=\"checkbox\" v-model=\"item.includeChildSelections\" />\n          <label for=\"childSelections\">And all child Selections</label>\n        </div>\n        <div v-if=\"childForces\">\n          <input @change=\"changed\" id=\"childForces\" type=\"checkbox\" v-model=\"item.includeChildForces\" />\n          <label for=\"childForces\">And all child Forces</label>\n        </div>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Condition, Constraint } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSICondition, BSIConstraint, BSICostType } from \"~/assets/shared/battlescribe/bs_types\";\nimport {\n  EditorSearchItem,\n  getSearchCategories,\n  getSearchElements,\n  getParentUnitHierarchy,\n} from \"~/assets/ts/catalogue/catalogue_helpers\";\ninterface ScopeChoice {\n  id: string;\n  name: string;\n  editorTypeName: string;\n  title?: string;\n}\nexport default {\n  emits: [\"catalogueChanged\"],\n  data() {\n    return {\n      itemField: null as any,\n    };\n  },\n  props: {\n    item: {\n      type: Object as PropType<EditorBase & (BSIConstraint | BSICondition)>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    childForces: {\n      type: Boolean,\n      default: false,\n    },\n    childSelections: {\n      type: Boolean,\n      default: false,\n    },\n    shared: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    getNameExtra,\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n\n    scopeChanged() {\n      this.item.catalogue.updateCondition(this.item as EditorBase & (Condition | Constraint));\n      this.changed();\n    },\n    fieldChanged() {\n      this.item.field = this.itemField.value;\n      if (this.item.field.startsWith(\"limit::\") && this.item.editorTypeName !== \"constraint\") {\n        this.item.childId = \"any\";\n      }\n      this.changed();\n    },\n\n    showCatalogue(opt: EditorSearchItem): boolean {\n      if (!opt.catalogue) {\n        return false;\n      }\n      if (opt.catalogue === this.item.catalogue?.getName()) {\n        return false;\n      }\n      return true;\n    },\n  },\n\n  computed: {\n    sharedTooltip() {\n      if (this.item.editorTypeName !== \"constraint\") {\n        return `Its recommended to keep shared checked on ${this.item.editorTypeName}s`\n      }\n      return `Indicates that constraints on links should be evaluated as if they are on their target, usually only relevant if the scope is above \"parent\"\n      \neg: a unit has a Leader and a Model which have a link to the same entry, with a max 1 constraint on the links scoped to the unit.\nassuming both have selected 1 of that entry:\n- a shared constraint would error if they both take the entry as its evaluating the target of the links\n- a non-shared constraint would not error as it would be evaluating the link itself`\n    },\n    instanceOf() {\n      return [\"instanceOf\", \"notInstanceOf\"].includes(this.item?.type);\n    },\n\n    fieldTypes() {\n      const res: {\n        name: string;\n        type: string | null;\n        value: string | undefined;\n      }[] = [];\n      if (this.instanceOf) {\n        res.push({\n          name: \"\",\n          value: undefined,\n          type: null,\n        });\n      }\n      res.push({\n        name: \"Selections\",\n        value: \"selections\",\n        type: \"bullet\",\n      });\n      res.push({\n        name: \"Forces\",\n        value: \"forces\",\n        type: \"bullet\",\n      });\n      for (const costType of this.costTypes) {\n        res.push({\n          name: costType.name,\n          value: costType.id,\n          type: \"cost\",\n        });\n        if (this.item.scope === \"roster\") {\n          res.push({\n            name: `${costType.name} Limit`,\n            value: `limit::${costType.id}`,\n            type: \"cost\",\n          });\n        }\n      }\n      return res;\n    },\n\n    includeCategories() {\n      if (this.item.field === \"forces\") {\n        return false;\n      }\n      return true;\n    },\n\n    includeForces() {\n      return true;\n    },\n\n    includeSelections() {\n      if (this.item.field == \"forces\") {\n        return false;\n      }\n      return true;\n    },\n\n    parent() {\n      return (this.item as any as EditorBase).parent;\n    },\n\n    costTypes() {\n      let res: BSICostType[] = [];\n      for (let elt of this.catalogue.iterateCostTypes()) {\n        res.push(elt);\n      }\n      return res;\n    },\n\n    allSelections(): EditorSearchItem[] {\n      if (!this.includeSelections) {\n        return [];\n      }\n      return getParentUnitHierarchy(this.item);\n    },\n\n    allCategories(): EditorSearchItem[] {\n      if (!this.includeCategories) {\n        return [];\n      }\n      return getSearchCategories(this.catalogue);\n    },\n\n    allForces(): EditorSearchItem[] {\n      if (!this.includeForces) {\n        return [];\n      }\n      return getSearchElements(this.catalogue, \"forcesIterator\");\n    },\n\n    allScopes(): ScopeChoice[] {\n      let res = [\n        {\n          id: \"force\",\n          name: \"Force\",\n          editorTypeName: \"bullet\",\n        },\n        {\n          id: \"roster\",\n          name: \"Roster\",\n          editorTypeName: \"bullet\",\n        },\n      ];\n\n      if (this.item.field != \"forces\" && [\"condition\"].includes(this.item.editorTypeName)) {\n        res = [\n          {\n            id: \"self\",\n            name: \"Self\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"parent\",\n            name: \"Parent\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"ancestor\",\n            name: \"Ancestor\",\n            editorTypeName: \"bullet\",\n            title: \"checks the condition in all parents\",\n          },\n          {\n            id: \"primary-category\",\n            name: \"Primary Category\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"force\",\n            name: \"Force\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"roster\",\n            name: \"Roster\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"primary-catalogue\",\n            name: \"Primary Catalogue\",\n            editorTypeName: \"bullet\",\n          },\n        ] as ScopeChoice[];\n      }\n\n      if (this.item.field !== \"forces\" && [\"repeat\", \"constraint\"].includes(this.item.editorTypeName)) {\n        res = [\n          {\n            id: \"parent\",\n            name: \"Parent\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"force\",\n            name: \"Force\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"roster\",\n            name: \"Roster\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"primary-catalogue\",\n            name: \"Primary Catalogue\",\n            editorTypeName: \"bullet\",\n          },\n        ];\n      }\n\n      return res.concat(this.allSelections).concat(this.allCategories).concat(this.allForces);\n    },\n  },\n\n  watch: {\n    \"item.field\": {\n      handler() {\n        if (this.item.field == \"forces\") {\n          this.item.scope = \"roster\";\n        }\n        this.itemField = this.fieldTypes.find((elt) => {\n          return elt.value == this.item.field;\n        });\n      },\n      immediate: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.constraint {\n  display: grid;\n  grid-template-columns: 1fr 50px max-content;\n}\n\n.checks {\n  display: grid;\n  grid-gap: 10px;\n  grid-auto-flow: column;\n}\n\n.query {\n  display: grid;\n  grid-gap: 5px;\n  grid-template-columns: auto max-content 1fr;\n  align-items: center;\n}\n\n@import \"@/shared_components/css/vars.scss\";\n\n.catalogueName {\n  color: rgb(144, 152, 197);\n  font-style: italic;\n}\n\n.shared {\n  color: $gray;\n  font-style: italic;\n}\n</style>\n","<template>\n  <fieldset>\n    <legend><img src=\"assets/bsicons/modifier.png\" /> Quick Modifiers</legend>\n    <div class=\"columns\">\n      <template v-if=\"type === 'constraint'\">\n        <div class=\"buttonList\">\n          <button class=\"bouton\" @click=\"add('id', 'increment', 1)\">\n            <img src=\"/assets/icons/iconeplus.png\" />INCREMENT 1\n          </button>\n          <button class=\"bouton\" @click=\"add('id', 'set', 1)\"> <img src=\"/assets/icons/iconeplus.png\" />SET 1 </button>\n        </div>\n        <div class=\"buttonList\">\n          <button class=\"bouton\" @click=\"add('id', 'decrement', 1)\">\n            <img src=\"/assets/icons/iconeplus.png\" />DECREMENT 1\n          </button>\n          <button class=\"bouton\" @click=\"add('id', 'set', 0)\"> <img src=\"/assets/icons/iconeplus.png\" />SET 0 </button>\n        </div>\n      </template>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  setup() {\n    return { store: useEditorStore() };\n  },\n  props: {\n    item: {\n      type: Object as PropType<ItemTypes>,\n      required: true,\n    },\n\n    withCategory: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    type() {\n      return this.item.editorTypeName;\n    },\n    parent() {\n      return (this.item as EditorBase).parent;\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n    add(field: string, type: string, value: string | number) {\n      if (field === \"id\") {\n        field = (this.item as EditorBase).id;\n      }\n\n      let parent = this.item as EditorBase;\n      if (this.type === \"constraint\") {\n        parent = this.parent!;\n      }\n      this.store.create_child(\"modifiers\", parent, {\n        field: field,\n        type: type,\n        value: value,\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.columns {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 10px;\n}\n\n.bouton {\n  width: 100%;\n}\n\n.buttonList {\n  display: grid;\n  grid-gap: 10px;\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>Filter By</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Of:</td>\n        <td>\n          <span v-if=\"child\">\n            <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${child.editorTypeName}.png`\" />\n            {{ child.name }}</span\n          >\n        </td>\n      </tr>\n      <tr>\n        <td>Child ID:</td>\n        <td><input type=\"text\" v-model=\"childId\" @change=\"changed\" /></td>\n      </tr>\n      <tr>\n        <td>Child:</td>\n        <td>\n          <UtilAutocomplete\n            v-model=\"childId\"\n            :placeholder=\"`Search Child...`\"\n            :options=\"availableTargets\"\n            valueField=\"id\"\n            filterField=\"name\"\n            @change=\"changed\"\n            :default=\"child\"\n            lazy\n          >\n            <template #option=\"opt\">\n              <div v-if=\"opt.option\" style=\"white-space: nowrap\">\n                <template v-if=\"opt.option.indent >= 1 && !opt.selected\">\n                  <span v-for=\"n of opt.option.indent\">&nbsp;&nbsp;&nbsp;</span>\n                </template>\n                <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${opt.option.editorTypeName}.png`\" />\n\n                {{ opt.option.name }}\n                <span class=\"gray\">{{ getNameExtra(opt.option, false) }}</span>\n                <span class=\"shared\" v-if=\"opt.option.shared\"> (shared) </span>\n                <span class=\"catalogueName\" v-if=\"showCatalogue(opt.option)\"> [{{ opt.option.catalogue }}]</span>\n              </div>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n    </table>\n    <input :disabled=\"noshared && item.shared\" type=\"checkbox\" v-model=\"item.shared\" id=\"shared\" @change=\"changed\" />\n    <label\n      :class=\"{ gray: noshared && item.shared }\"\n      class=\"hastooltip\"\n      :title=\"`Its recommended to keep shared checked on ${item.editorTypeName}s`\"\n      for=\"shared\"\n      >Shared?</label\n    >\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSICondition } from \"~/assets/shared/battlescribe/bs_types\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nimport {\n  EditorSearchItem,\n  getSearchElements,\n  getSearchCategories,\n  getFilterSelections,\n  getSearchCatalogues,\n  scopeIsId,\n} from \"@/assets/ts/catalogue/catalogue_helpers\";\nimport { getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nconst baseItems = [\n  {\n    id: \"any\",\n    name: \"Anything\",\n    editorTypeName: \"bullet\",\n    indent: 0,\n    catalogue: null,\n    shared: false,\n  },\n  {\n    id: \"unit\",\n    name: \"Unit\",\n    editorTypeName: \"bullet\",\n    indent: 0,\n    catalogue: null,\n    shared: false,\n  },\n  {\n    id: \"model\",\n    name: \"Model\",\n    editorTypeName: \"bullet\",\n    indent: 0,\n    catalogue: null,\n    shared: false,\n  },\n  {\n    id: \"upgrade\",\n    name: \"Upgrade\",\n    editorTypeName: \"bullet\",\n    indent: 0,\n    catalogue: null,\n    shared: false,\n  },\n  {\n    id: \"mount\",\n    name: \"Mount\",\n    editorTypeName: \"bullet\",\n    indent: 0,\n    catalogue: null,\n    shared: false,\n  },\n  {\n    id: \"crew\",\n    name: \"Crew\",\n    editorTypeName: \"bullet\",\n    indent: 0,\n    catalogue: null,\n    shared: false,\n  },\n];\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSICondition & EditorBase>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n\n    noshared: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    getNameExtra,\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n\n    showCatalogue(opt: EditorSearchItem): boolean {\n      if (!opt.catalogue) {\n        return false;\n      }\n      if (opt.catalogue === this.item.catalogue?.getName()) {\n        return false;\n      }\n      return true;\n    },\n    availableTargets() {\n      return [...baseItems, ...this.allCategories, ...this.allEntries, ...this.allForces, ...this.allCatalogues];\n    },\n  },\n\n  watch: {\n    \"item.scope\"() {\n      if (!this.child) {\n        this.item.childId = this.availableTargets()[0]?.id || undefined;\n      }\n    },\n  },\n\n  computed: {\n    childId: {\n      get() {\n        return this.item.childId;\n      },\n      set(id: string) {\n        const old = this.item.childId;\n        this.item.childId = id;\n        this.catalogue.updateCondition(this.item, old);\n      },\n    },\n    child() {\n      if (!this.item.childId) {\n        return null;\n      }\n\n      const base = this.availableTargets().find((elt) => elt.id === this.item.childId);\n      if (base) {\n        return base;\n      }\n      return this.catalogue.findOptionById(this.item.childId) as any as EditorSearchItem;\n    },\n\n    instanceOf() {\n      return [\"instanceOf\", \"notInstanceOf\"].includes(this.item?.type);\n    },\n\n    allEntries(): EditorSearchItem[] {\n      if (!this.includeSelections) {\n        return [];\n      }\n      return getFilterSelections(this.item, this.catalogue);\n    },\n\n    allCategories(): EditorSearchItem[] {\n      if (!this.includeCategories) {\n        return [];\n      }\n      return getSearchCategories(this.catalogue);\n    },\n\n    allForces(): EditorSearchItem[] {\n      if (!this.includeForces) {\n        return [];\n      }\n      return getSearchElements(this.catalogue, \"forcesIterator\");\n    },\n\n    allCatalogues(): EditorSearchItem[] {\n      if (!this.includeCatalogues) {\n        return [];\n      }\n      return getSearchCatalogues(this.catalogue);\n    },\n\n    includeSelections() {\n      if (this.instanceOf && this.item.scope === \"primary-catalogue\") {\n        return false;\n      }\n      if (this.instanceOf && this.item.scope === \"primary-category\") {\n        return false;\n      }\n\n      return true;\n    },\n\n    includeCategories() {\n      if (this.instanceOf && this.item.scope === \"primary-catalogue\") {\n        return false;\n      }\n\n      if (this.item.field === \"forces\") {\n        return false;\n      }\n      return true;\n    },\n\n    includeForces() {\n      if (this.item.scope == \"self\") {\n        return false;\n      }\n      if (this.item.scope == \"parent\") {\n        return false;\n      }\n      if (this.item.scope == \"ancestor\") {\n        return true;\n      }\n      if (this.instanceOf && this.item.scope === \"primary-catalogue\") {\n        return false;\n      }\n      if (this.instanceOf && this.item.scope === \"primary-category\") {\n        return false;\n      }\n\n      if (scopeIsId(this.item)) {\n        return false;\n      }\n\n      return true;\n    },\n\n    includeCatalogues() {\n      return this.instanceOf && this.item.scope === \"primary-catalogue\";\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.catalogueName {\n  color: rgb(144, 152, 197);\n  font-style: italic;\n}\n\n.shared {\n  color: $gray;\n  font-style: italic;\n}\n</style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsConstraint\n    :catalogue=\"catalogue\"\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    class=\"section\"\n  />\n  <CatalogueRightPanelFieldsQuery\n    :catalogue=\"catalogue\"\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    class=\"section\"\n    childForces\n    childSelections\n    shared\n  />\n  <FilterBy v-if=\"showFilterBy\" class=\"section\" :item=\"item\" @catalogueChanged=\"changed\" :catalogue=\"catalogue\" />\n  <CatalogueRightPanelFieldsQuickModifiers\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    :withCategory=\"false\"\n    class=\"section\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { getModifierOrConditionParent } from \"~/assets/shared/battlescribe/bs_modifiers\";\nimport { Base, Condition } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport FilterBy from \"./fields/FilterBy.vue\";\nimport QuickModifiers from \"./fields/QuickModifiers.vue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Base>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  computed: {\n    showFilterBy() {\n      const key = getModifierOrConditionParent(this.item as EditorBase)?.parentKey;\n      return key === \"associations\";\n    },\n  },\n  methods: {\n    changed() {\n      this.catalogue.updateCondition(this.item as EditorBase & Condition);\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  components: { FilterBy, QuickModifiers },\n};\n</script>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <fieldset>\n    <legend>Condition Group</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Type</td>\n        <td>\n          <select v-model=\"item.type\" @change=\"changed\">\n            <option value=\"or\">Or</option>\n            <option value=\"and\">And</option>\n          </select>\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIConditionGroup } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIConditionGroup & EditorBase>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <ConditionGroup :item=\"item\" @catalogueChanged=\"changed\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport ConditionGroup from \"./fields/ConditionGroup.vue\";\nimport { BSIConditionGroup } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIConditionGroup>,\n      required: true,\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  components: { ConditionGroup },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Condition</legend>\n    <div class=\"condition\">\n      <select v-model=\"item.type\" @change=\"changed\">\n        <template v-if=\"allowNonInstanceOf\">\n          <option value=\"lessThan\">Less Than</option>\n          <option value=\"greaterThan\">Greater Than</option>\n          <option value=\"equalTo\">Equal To</option>\n          <option value=\"notEqualTo\">Not Equal To</option>\n          <option value=\"atLeast\">At Least</option>\n          <option value=\"atMost\">At Most</option>\n        </template>\n        <option value=\"instanceOf\">Instance Of</option>\n        <option value=\"notInstanceOf\">Not Instance Of</option>\n      </select>\n      <UtilNumberInput :disabled=\"instanceOf\" v-model=\"item.value\" @change=\"changed\" />\n      <div>\n        <input :disabled=\"instanceOf\" id=\"percent\" type=\"checkbox\" v-model=\"item.percentValue\" @change=\"changed\" />\n        <label :class=\"{ disabled: instanceOf }\" for=\"percent\">Percentage?</label>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSICondition } from \"~/assets/shared/battlescribe/bs_types\";\nimport NumberInput from \"~/components/util/NumberInput.vue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSICondition>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  computed: {\n    allowNonInstanceOf() {\n      // Somehow atLeast seem to work fine with primary-category so lets allow it even if BS does not\n      return true;\n      // return [\"primary-category\", \"ancestor\"].includes(this.item.scope) == false;\n    },\n    instanceOf() {\n      return this.item.type.includes(\"instance\");\n    },\n  },\n  components: { NumberInput },\n  watch: {\n    \"item.scope\"() {\n      const allowed = [\"instanceOf\", \"notInstanceOf\"];\n      if (!this.allowNonInstanceOf && !allowed.includes(this.item.type)) {\n        this.item.type = allowed[0] as any;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.condition {\n  display: grid;\n  grid-template-columns: 1fr 100px max-content;\n  align-items: center;\n  grid-gap: 5px;\n}\n</style>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n\n    <Condition class=\"section\" :item=\"item\" @catalogueChanged=\"changed\" :catalogue=\"catalogue\" />\n\n    <CatalogueRightPanelFieldsQuery\n      class=\"section\"\n      :item=\"item\"\n      @catalogueChanged=\"changed\"\n      :catalogue=\"catalogue\"\n      childForces\n      childSelections\n    />\n\n    <FilterBy\n      v-if=\"item.field.startsWith('limit::') == false\"\n      noshared\n      class=\"section\"\n      :item=\"item\"\n      @catalogueChanged=\"changed\"\n      :catalogue=\"catalogue\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { BSICondition } from \"~/assets/shared/battlescribe/bs_types\";\nimport Condition from \"./fields/Condition.vue\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport FilterBy from \"./fields/FilterBy.vue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSICondition & EditorBase>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  components: { Condition, FilterBy },\n};\n</script>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsQuickConditions\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    :withCategory=\"false\"\n    class=\"section\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Base } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Base>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n    <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n    <CatalogueRightPanelFieldsReference\n      :catalogue=\"catalogue\"\n      :item=\"item\"\n      @catalogueChanged=\"changed\"\n      class=\"section\"\n    />\n    <CatalogueRightPanelFieldsHidden :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n      Constraints\n    </CatalogueRightPanelFieldsHidden>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIInfoGroup } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIInfoGroup>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Selection Entry Group</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Default Selection:</td>\n        <td>\n          <UtilAutocomplete\n            v-if=\"children.length\"\n            v-model=\"item.defaultSelectionEntryId\"\n            :placeholder=\"`Search Children...`\"\n            :options=\"children\"\n            valueField=\"id\"\n            filterField=\"name\"\n            @change=\"changed\"\n          >\n            <template #option=\"opt\">\n              <div style=\"white-space: nowrap\">\n                <template v-if=\"opt.option.indent >= 2 && !opt.selected\"\n                  ><span v-for=\"n of opt.option.indent - 1\">&nbsp;&nbsp;&nbsp;</span></template\n                >\n                <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${opt.option.editorTypeName}.png`\" />\n                {{ opt.option.name }}\n                <span class=\"gray\">{{ getNameExtra(opt.option, false) }}</span>\n              </div>\n            </template>\n          </UtilAutocomplete>\n\n          <span v-else class=\"merror\">This group does not have any child Selection Entries</span>\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Group } from \"~/assets/shared/battlescribe/bs_main\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Group>,\n      required: true,\n    },\n  },\n\n  methods: {\n    getNameExtra,\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n\n  computed: {\n    children() {\n      let res: { name: string; id: undefined | null; editorTypeName: string }[] = [\n        {\n          name: \"None\",\n          id: undefined,\n          editorTypeName: \"bullet\",\n        },\n      ];\n\n      for (let entry of this.item.entriesIterator()) {\n        if (!entry.isGroup()) {\n          res.push(entry as any);\n        }\n      }\n      return res;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.merror {\n  color: $red;\n  font-style: italic;\n}\n</style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsDefaultSelection :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\"\n    class=\"section\" />\n\n  <CatalogueRightPanelFieldsBooleans :item=\"item\" @catalogueChanged=\"changed\" :fields=\"[\n    { field: 'hidden', enabled: true, name: 'Hidden' },\n    { field: 'collective', enabled: false, name: 'Collective' },\n    { field: 'import', enabled: true, name: 'Import' },\n  ]\" class=\"section\">\n    Entry\n  </CatalogueRightPanelFieldsBooleans>\n\n  <CatalogueRightPanelFieldsCategories :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsQuickConstraints :item=\"item\" @catalogueChanged=\"changed\" :withCategory=\"false\"\n    class=\"section\">\n  </CatalogueRightPanelFieldsQuickConstraints>\n  <CatalogueRightPanelFieldsSortChilds :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Base, Group, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase, Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<ItemTypes & EditorBase & (Base | Link<Group>)>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Revision</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Revision Number:</td>\n        <td><input type=\"number\" v-model=\"item.revision\" @change=\"changed\" /></td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Catalogue</legend>\n    <input type=\"checkbox\" v-model=\"item.library\" @change=\"changed\" id=\"library\" />\n    <label\n      class=\"hastooltip\"\n      for=\"library\"\n      title=\"indicates that this catalogue is used to store data, no forces may be created from it if true.\"\n      >Library</label\n    >\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Information</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Author Name:</td>\n        <td><input type=\"text\" v-model=\"item.authorName\" @change=\"changed\" /></td>\n      </tr>\n      <tr>\n        <td>Author Contact:</td>\n        <td><UtilEditableDiv v-model=\"item.authorContact\" /></td>\n      </tr>\n      <tr>\n        <td>Author Website:</td>\n        <td><input type=\"text\" v-model=\"item.authorUrl\" @change=\"changed\" /></td>\n      </tr>\n      <tr>\n        <td>Readme:</td>\n        <td><UtilEditableDiv type=\"text\" v-model=\"item.readme\" @change=\"changed\" /></td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n    <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n    <CatalogueRightPanelFieldsReference\n      :catalogue=\"catalogue\"\n      :item=\"item\"\n      @catalogueChanged=\"changed\"\n      class=\"section\"\n    />\n    <CatalogueRightPanelFieldsHidden :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n      Constraints\n    </CatalogueRightPanelFieldsHidden>\n    <CatalogueRightPanelFieldsRevision :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n    <CatalogueRightPanelFieldsCatalogue :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n    <CatalogueRightPanelFieldsInformation :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Repeat</legend>\n    <div class=\"condition\">\n      <UtilNumberInput v-model=\"item.repeats\" @change=\"changed\" />\n      <label>times for every </label>\n      <UtilNumberInput v-model=\"item.value\" @change=\"changed\" />\n    </div>\n    <div class=\"bools\">\n      <div>\n        <input id=\"percent\" type=\"checkbox\" v-model=\"item.percentValue\" @change=\"changed\" />\n        <label for=\"percent\">Percentage?</label>\n      </div>\n      <div>\n        <input id=\"percent\" type=\"checkbox\" v-model=\"item.roundUp\" @change=\"changed\" />\n        <label for=\"percent\">Round up?</label>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIRepeat } from \"~/assets/shared/battlescribe/bs_types\";\nimport NumberInput from \"~/components/util/NumberInput.vue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIRepeat>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  components: { NumberInput },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.condition {\n  display: grid;\n  grid-template-columns: 1fr max-content 1fr max-content;\n  align-items: center;\n  grid-gap: 5px;\n}\n\n.bools {\n  display: flex;\n  div {\n    margin-right: 5px;\n  }\n}\n</style>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n    <CatalogueRightPanelFieldsRepeat :catalogue=\"catalogue\" :item=\"item\" @catalogueChanged=\"changed\" />\n    <CatalogueRightPanelFieldsQuery\n      class=\"section\"\n      :item=\"item\"\n      :catalogue=\"catalogue\"\n      @catalogueChanged=\"changed\"\n      childForces\n      childSelections\n    />\n    <CatalogueRightPanelFieldsFilterBy\n      class=\"section\"\n      :item=\"item\"\n      :catalogue=\"catalogue\"\n      @catalogueChanged=\"changed\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIRepeat } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIRepeat>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <p class=\"info\">\n      Associations are a New Recruit specific feature allowing you to associate an entry to another, such as a unit to a\n      bataillon.\n      <br />\n      Be aware that associations are currently in the beta phase and may undergo modifications.\n      <br />\n      Feel free to offer feedback or ask questions on our <a href=\"https://discord.gg/cCtqGbugwb\">Discord server</a>.\n    </p>\n\n    <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n    <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n    <FilterBy class=\"section\" :item=\"item\" @catalogueChanged=\"changed\" :catalogue=\"catalogue\" />\n    <fieldset class=\"section\">\n      <legend>Temporary</legend>\n      <table class=\"editorTable\">\n        <tr>\n          <td>min: (may be moved to child constraints)</td\n          ><td><input @input=\"changed\" v-model=\"item.min\" type=\"number\" /></td>\n        </tr>\n        <tr>\n          <td>max: (may be moved to child constraints)</td\n          ><td><input @input=\"changed\" v-model=\"item.max\" type=\"number\" /></td>\n        </tr>\n        <tr>\n          <td>label: (will be moved to name)</td><td><input @input=\"changed\" v-model=\"item.label\" type=\"text\" /></td>\n        </tr>\n        <tr>\n          <td>labelMembers:</td><td><input @input=\"changed\" v-model=\"item.labelMembers\" type=\"text\" /></td>\n        </tr>\n        <tr>\n          <td>of: (may be moved to ChildID to reuse filterBy)</td\n          ><td><input @input=\"changed\" v-model=\"item.of\" type=\"text\" /></td>\n        </tr>\n        <tr>\n          <td>type: (will be removed, only affects conditions)</td>\n          <td>\n            <select @change=\"changed\" v-model=\"item.type\">\n              <option value=\"or\">or</option>\n              <option value=\"and\">and</option>\n            </select>\n          </td>\n        </tr>\n        <tr>\n          <td>scope: </td><td><input @input=\"changed\" v-model=\"item.scope\" type=\"text\" /></td>\n        </tr>\n        <tr>\n          <td\n            class=\"underline\"\n            title=\"Ids are a string[], used by associationConstraints on entries, eg: to have a maximum number of commanders in a bataillion\"\n          >\n            ids:\n          </td>\n          <td><input v-model=\"item.ids\" @input=\"changed\" type=\"text\" /></td>\n        </tr>\n      </table>\n    </fieldset>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport FilterBy from \"./fields/FilterBy.vue\";\nimport { NRAssociation } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<NRAssociation>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  computed: {\n    ids: {\n      get(): string {\n        return this.item.ids?.join(\", \") || \"\";\n      },\n      set(v: string) {\n        this.item.ids = v.split(\",\").map((o) => o.trim());\n      },\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  components: { FilterBy },\n};\n</script>\n","<template>\n  <div class=\"mb-50px\">\n    <h2 class=\"text-center\"><span class=\"gray\">References to</span> {{ label }} <span class=\"gray\">({{ item.editorTypeName\n    }})</span> </h2>\n    <div v-if=\"links.length\" class=\"mr-60px\">\n      <!-- <table class=\"mb-20px\">\n        <tr>\n          <th> Catalogue </th>\n          <th> Name </th>\n        </tr>\n        <tr v-for=\"link of links\">\n          <td class=\"gray\">\n            {{ link.isCatalogue() ? link.getName() : link.catalogue?.getName() }}\n          </td>\n          <td>\n            <template v-if=\"show_link_name\">\n              {{ link.getName() }}\n            </template>\n            <template v-else>\n              {{ link.parent?.getName() }}\n            </template>\n          </td>\n          <td>\n            <button @click=\"store.goto(gotoTarget(link))\">Goto</button>\n          </td>\n        </tr>\n      </table> -->\n      <div>\n        <div v-for=\"link of links\">\n          <NodePath :path=\"path(link)\" @click=\"store.goto(link)\" class=\"hover-darken cursor-pointer p-1px\" />\n        </div>\n      </div>\n    </div>\n    <div v-if=\"other_links.length\" class=\"mr-60px\">\n      <h3> From conditions/constraints/modifiers/repeats: </h3>\n      <div>\n        <div v-for=\"link of other_links\">\n          <NodePath :path=\"other_path(link)\" @click=\"store.goto(link)\" class=\"hover-darken cursor-pointer p-1px mb-3px\" />\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- <button class=\"bouton\"> Load from all catalogues </button> -->\n</template>\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { findParentWhere, sortByAscending } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { getEntryPathInfo, getName } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { ProfileType } from \"~/assets/shared/battlescribe/bs_main\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport NodePath from \"~/components/util/NodePath.vue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<EditorBase>,\n      required: true,\n    },\n  },\n  setup() {\n    return { store: useEditorStore() };\n  },\n  methods: {\n    gotoTarget(link: EditorBase) {\n      if (link.isCategory()) {\n        return link.parent!;\n      }\n      return link;\n    },\n    parentEntry(link: EditorBase) {\n      return findParentWhere(link, (o) => o.getName());\n    },\n    path(link: EditorBase) {\n      const path = getEntryPathInfo(link);\n\n      if (this.item.editorTypeName !== \"profileType\") {\n        path.pop();\n      }\n      return path;\n    },\n    other_path(link: EditorBase) {\n      return getEntryPathInfo(link);\n    },\n  },\n  computed: {\n    show_link_name() {\n      if (this.item instanceof ProfileType) return true;\n      return false;\n    },\n    links() {\n      return sortByAscending(this.item?.links || [], (o) => o.catalogue?.name);\n    },\n    other_links() {\n      return sortByAscending(this.item?.other_links || [], (o) => o.catalogue?.name);\n    },\n    label() {\n      return getName(this.item);\n    },\n  },\n  components: { NodePath },\n};\n</script>\n<style scope>\ntd {\n  padding: 1px 4px 1px 4px !important;\n  text-align: left !important;\n}\n</style>\n","<template>\n  <div class=\"rightPanel\" v-if=\"item\">\n    <template v-if=\"store.mode === 'edit'\">\n      <CatalogueRightPanelPublicationPanel v-if=\"typeName == 'publication'\" :item=\"item\" @catalogueChanged=\"changed\" />\n\n      <CatalogueRightPanelCostTypesPanel v-else-if=\"typeName == 'costType'\" :item=\"item\" @catalogueChanged=\"changed\">\n      </CatalogueRightPanelCostTypesPanel>\n\n      <CatalogueRightPanelProfileTypesPanel\n        v-else-if=\"typeName == 'profileType'\"\n        :item=\"item\"\n        @catalogueChanged=\"changed\"\n      >\n      </CatalogueRightPanelProfileTypesPanel>\n\n      <CatalogueRightPanelCategoryEntriesPanel\n        v-else-if=\"typeName == 'category'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelForceEntriesPanel\n        v-else-if=\"typeName == 'force'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelProfilesPanel\n        v-else-if=\"typeName == 'profile'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelRulesPanel\n        v-else-if=\"typeName == 'rule'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelSelectionEntryPanel\n        v-else-if=\"typeName == 'selectionEntry'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelLinkPanel\n        v-else-if=\"links.includes(typeName)\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n        :type=\"'entry'\"\n      />\n      <CatalogueRightPanelLinkPanel\n        v-else-if=\"infoLinks.includes(typeName)\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n        :type=\"'info'\"\n      />\n      <CatalogueRightPanelModifierPanel\n        v-else-if=\"typeName == 'modifier'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelConstraintPanel\n        v-else-if=\"typeName == 'constraint'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelConditionGroupPanel\n        v-else-if=\"typeName == 'conditionGroup'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelConditionPanel\n        v-else-if=\"typeName == 'condition'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelLinkPanel\n        v-else-if=\"typeName == 'categoryLink'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n        type=\"category\"\n      />\n      <CatalogueRightPanelModifierGroupPanel\n        v-else-if=\"typeName == 'modifierGroup'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelInfoGroupPanel\n        v-else-if=\"typeName == 'infoGroup'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelSelectionEntryGroupPanel\n        v-else-if=\"typeName == 'selectionEntryGroup'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelLinkPanel\n        v-else-if=\"typeName == 'catalogueLink'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n        type=\"catalogue\"\n      />\n      <CatalogueRightPanelCataloguePanel\n        v-else-if=\"typeName == 'catalogue' || typeName == 'gameSystem'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n        type=\"catalogue\"\n      />\n      <CatalogueRightPanelRepeatPanel\n        v-else-if=\"typeName == 'repeat'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n        type=\"catalogue\"\n      />\n      <CatalogueRightPanelAssociationPanel\n        v-else-if=\"typeName == 'association'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n        type=\"catalogue\"\n      />\n\n      <div class=\"min-h-100px\"> </div>\n    </template>\n    <template v-else-if=\"store.mode === 'references'\">\n      <CatalogueRightPanelReferencesPanel :item=\"item\" :catalogue=\"catalogue\" />\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  setup() {\n    return { store: useEditorStore() };\n  },\n  emits: [\"catalogueChanged\"],\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      links: [\"link\", \"selectionEntryLink\", \"selectionEntryGroupLink\"],\n      infoLinks: [\"infoLink\", \"profileLink\", \"ruleLink\", \"infoGroupLink\"],\n    };\n  },\n\n  methods: {\n    changed() {\n      this.store.set_catalogue_changed(this.item?.catalogue || this.catalogue);\n    },\n  },\n\n  computed: {\n    item() {\n      return this.store.get_selected();\n    },\n\n    typeName() {\n      return this.item?.editorTypeName as any as string;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.editorTable {\n  width: 100%;\n  td {\n    border: none;\n    text-align: left;\n    &:first-child {\n      white-space: nowrap;\n      width: fit-content;\n      text-align: right;\n    }\n    &:last-child {\n      width: 100%;\n    }\n  }\n\n  select,\n  input[type=\"text\"] {\n    width: 100% !important;\n  }\n}\n\n.rightPanel {\n  padding-top: 10px;\n  padding-right: 10px;\n  padding-left: 5px;\n}\n</style>\n","<template>\n  <div class=\"h-full\">\n    <Head>\n      <Title>{{ loading ? \"Loading...\" : [cat?.getName(), `NR-Editor`].filter((o) => o).join(\" - \") }}</Title>\n    </Head>\n    <template v-if=\"error\">\n      <span>\n        {{ error }}\n      </span>\n    </template>\n    <template v-else-if=\"loading\">\n      <Loading :progress=\"loading_progress\" :progress_max=\"loading_progress_max\" :progress_msg=\"loading_progress_msg\" />\n    </template>\n    <template v-else-if=\"cat\">\n      <SplitView class=\"h-full\" draggable showMiddle id=\"catalogueView\">\n        <template #left>\n          <LeftPanel ref=\"leftpanel\" class=\"h-full\" :catalogue=\"cat\" :defaults=\"defaults\" :key=\"key\" keepalive />\n        </template>\n        <template #middle>\n          <CatalogueRightPanel :catalogue=\"cat\" v-if=\"store.selectedItem != null\" />\n        </template>\n      </SplitView>\n    </template>\n\n    <Teleport to=\"#titlebar-content\" v-if=\"cat && route_is_catalogue\">\n      <span class=\"ml-10px\">\n        Editing\n        <img\n          class=\"inline\"\n          style=\"vertical-align: -2px\"\n          v-if=\"self_or_imports_changed\"\n          title=\"This file or one of it's dependencies was changed by another program. \nYou may want to reload the system through the Systems tab\"\n          src=\"/assets/icons/warning_sign.png\"\n        />\n        {{ cat.name }} <span class=\"text-slate-300\">v{{ cat.revision }}</span>\n      </span>\n      <template v-if=\"store.unsavedCount\">\n        <button class=\"bouton save ml-10px\" @click=\"save_all\"> Save All </button>\n      </template>\n      <template v-else-if=\"failed\">\n        <span class=\"status mx-2 text-red\">failed to save</span>\n      </template>\n      <template v-else>\n        <span class=\"status mx-2\">saved</span>\n      </template>\n      <template v-if=\"systemFiles && !systemFiles.allLoaded\">\n        <button class=\"bouton load ml-10px\" @click=\"load_all\"\n          >Load all\n          <span v-if=\"loading_all\">({{ loading_progress }} / {{ loading_progress_max }})</span>\n        </button>\n      </template>\n    </Teleport>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport LeftPanel, { LeftPanelDefaults } from \"~/components/catalogue/left_panel/LeftPanel.vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useCataloguesStore } from \"~/stores/cataloguesState\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { useEditorUIState } from \"~/stores/editorUIState\";\nimport { showMessageBox, closeWindow } from \"~/electron/node_helpers\";\nimport { getNextRevision } from \"~/assets/shared/battlescribe/github\";\nimport { GameSystemFiles } from \"~/assets/shared/battlescribe/local_game_system\";\n\nexport default defineComponent({\n  components: { LeftPanel },\n  data() {\n    return {\n      error: null as string | null,\n      item: null as ItemTypes | null,\n      systemFiles: null as GameSystemFiles | null,\n      loading: false,\n      loading_all: false,\n      loading_progress: 0,\n      loading_progress_max: 0,\n      loading_progress_msg: \"\" as string,\n      initial: true,\n      saving: false,\n      failed: false,\n      id: \"\",\n      cat: null as Catalogue | null,\n      defaults: {} as Partial<typeof LeftPanelDefaults>,\n      key: 1,\n    };\n  },\n  setup() {\n    return { cataloguesStore: useCataloguesStore(), store: useEditorStore(), uistate: useEditorUIState() };\n  },\n  mounted() {\n    this.store.init(this);\n    (globalThis as any).$catalogue = this.cat;\n\n    window.addEventListener(\"beforeunload\", this.beforeUnload);\n    document.addEventListener(\"keydown\", this.onKeydown, true);\n  },\n  updated() {\n    this.store.init(this);\n    (globalThis as any).$catalogue = this.cat;\n  },\n  unmounted() {\n    window.removeEventListener(\"beforeunload\", this.beforeUnload);\n    document.removeEventListener(\"keydown\", this.onKeydown, true);\n  },\n  activated() {\n    window.addEventListener(\"beforeunload\", this.beforeUnload);\n  },\n  deactivated() {\n    window.removeEventListener(\"beforeunload\", this.beforeUnload);\n  },\n  beforeRouteUpdate() {\n    if (this.id) {\n      this.store.save_state();\n    }\n  },\n  beforeRouteLeave() {\n    if (this.id) {\n      this.store.save_state();\n    }\n  },\n\n  computed: {\n    self_or_imports_changed() {\n      return this.file_changed(this.cat as Catalogue) || this.cat?.imports?.find((o) => this.file_changed(o));\n    },\n    changed() {\n      if (!this.cat) return false;\n      return this.store.get_catalogue_state(this.cat as Catalogue)?.changed || false;\n    },\n    unsaved() {\n      if (!this.cat) return false;\n      return this.store.get_catalogue_state(this.cat as Catalogue)?.unsaved || false;\n    },\n    query() {\n      return {\n        gameSystemId: this.$route.query.systemId,\n        catalogueId: this.$route.query.id || this.$route.query.systemId,\n      };\n    },\n    route_is_catalogue() {\n      return this.$route.name === \"catalogue\";\n    },\n  },\n  watch: {\n    query: {\n      async handler(newVal) {\n        if (!this.route_is_catalogue) return;\n        const { gameSystemId, catalogueId } = newVal;\n        this.id = catalogueId || gameSystemId;\n        this.store.unselect();\n        try {\n          await this.load(gameSystemId, this.id);\n          this.systemFiles?.loadAll();\n          this.error = null;\n\n          // Resolve a promise in the store so that code elsewhere can wait for this to load\n          this.$nextTick(() => {\n            this.store.$nextTickResolve && this.store.$nextTickResolve();\n          });\n        } catch (e: any) {\n          console.error(e);\n          this.error = e;\n        }\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    file_changed(catalogue: Catalogue) {\n      return this.store.get_catalogue_state(catalogue).isChangedOnDisk;\n    },\n    async load_all() {\n      if (this.systemFiles) {\n        try {\n          this.loading_all = true;\n          await new Promise((resolve) => setTimeout(resolve, 0));\n          await this.systemFiles.loadAll(async (current, max, msg) => {\n            this.loading_progress = current;\n            this.loading_progress_max = max;\n            this.loading_progress_msg = msg ?? \"\";\n            await new Promise((resolve) => setTimeout(resolve, 0));\n          });\n          this.loading_progress = 0;\n          this.loading_progress_max = 0;\n          this.loading_progress_msg = \"\";\n        } catch (e) {\n          console.error(e);\n        } finally {\n          this.loading_all = true;\n        }\n      }\n    },\n    async save_all() {\n      try {\n        this.failed = await this.store.save_all(this.cat?.getSystemId());\n      } finally {\n        this.saving = false;\n      }\n    },\n    async save() {\n      try {\n        const increment = await this.store.prompt_revision(this.cat as Catalogue);\n        const incremented = await this.store.save_catalogue(\n          this.systemFiles as GameSystemFiles,\n          this.cat as Catalogue,\n          increment\n        );\n        if (incremented) {\n          notify(\"Incremented 1 catalogue's revision\");\n        }\n        this.failed = false;\n      } catch (e) {\n        this.failed = true;\n      }\n    },\n    async test() {\n      if (!this.systemFiles?.github) {\n        console.error(\"no github set\");\n        return;\n      }\n      console.log(\"revision\", await getNextRevision(this.systemFiles.github, this.cat as Catalogue));\n    },\n    async beforeUnload(event: BeforeUnloadEvent) {\n      if (globalThis._closeWindow) return;\n      if (!this.loading) {\n        this.store.save_state();\n      }\n\n      if (this.unsaved || this.store.unsavedCount) {\n        const message = \"You have unsaved changes that will be lost\";\n        event.returnValue = message;\n        if (electron) {\n          setTimeout(async () => {\n            const result = await showMessageBox({\n              message: \"You have unsaved changes that will be lost?\",\n              buttons: [\"Cancel\", \"Leave\"],\n              defaultId: 0,\n              cancelId: 0,\n              type: \"question\",\n            });\n            if (result === 1) {\n              globalThis._closeWindow = true;\n              closeWindow();\n            }\n          });\n        }\n        return false;\n      }\n    },\n    onKeydown(e: KeyboardEvent) {\n      if (e.ctrlKey && e.key.toLowerCase() == \"s\") {\n        e.preventDefault();\n        e.stopPropagation();\n        this.save();\n      }\n    },\n    load_state(data: Record<string, any>) {\n      this.defaults = data;\n    },\n\n    async load(systemId: string, catalogueId?: string) {\n      if (!catalogueId && !systemId) {\n        throw new Error(\"couldn't load catalogue: no id\");\n      }\n      try {\n        this.loading = true;\n        if (this.initial) {\n          await new Promise((resolve) => setTimeout(resolve, 10));\n          this.initial = false;\n        }\n        const system = await this.store.get_or_load_system(systemId);\n        let loaded = system.getLoadedCatalogue({ targetId: catalogueId || systemId });\n        if (!loaded) {\n          loaded = await system.loadCatalogue({\n            targetId: catalogueId || systemId,\n          });\n        }\n        loaded.processForEditor();\n        for (const imported of loaded.imports) {\n          imported.processForEditor();\n        }\n        this.systemFiles = system;\n        this.cat = loaded;\n        if (loaded) {\n          const data = this.uistate.get_data(loaded.id);\n          this.load_state(data);\n        }\n      } finally {\n        this.loading = false;\n      }\n    },\n  },\n});\n</script>\n\n<style scoped>\n.save {\n  width: 100px;\n}\n.load {\n  width: 150px;\n}\n\n.status {\n  color: lightgray;\n}\n</style>\n"],"names":["removeUndefinedProps","props","value","setupForUseMeta","metaFactory","renderChild","ctx","useHead","_b","_a","Title","defineComponent","_","slots","_c","Head","_props","_sfc_main$11","s","html","txt","text","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","args","_sfc_main$10","str","__nuxt_component_0","_hoisted_1","$event","_sfc_main$$","generateBattlescribeId","id","obj","catalogue","_imports_0$a","_createElementVNode","_hoisted_2","_hoisted_5","_imports_0","_hoisted_3","_hoisted_4","_withDirectives","_vModelText","_hoisted_7","_sfc_main$_","_hoisted_6","_sfc_main$Z","_Fragment","_createVNode","_component_CatalogueRightPanelFieldsComment","_component_CatalogueRightPanelFieldsBasics","_component_CatalogueRightPanelFieldsPublication","_sfc_main$Y","_vModelCheckbox","_sfc_main$X","_component_CatalogueRightPanelFieldsHidden","__nuxt_component_2","round","num","formatCosts","costs","res","sortByDescending","c","cost","name","_sfc_main$W","useSettingsStore","getNameExtra","getName","result","_createCommentVNode","_toDisplayString","_sfc_main$U","avoid","avoidLeft","targetPos","payload","_createBlock","_Teleport","_normalizeStyle","_sfc_main$T","useEditorStore","idx","data","newVal","modelValue","n","images","index","parentBox","get_base_from_vue_el","el","nested","get_ctx","deep","event","_normalizeClass","_withModifiers","_renderSlot","_sfc_main$S","ContextMenu","EditorCollapsibleBox","useEditorUIState","fullPath","ref","e","_imports_0$9","_imports_6","_withScopeId","_pushScopeId","_popScopeId","_resolveComponent","_component_EditorCollapsibleBox","_withCtx","_component_ContextMenu","_component_Separator","_createTextVNode","order","noSort","preferOpen","hiddenTypes","_sfc_main$R","CatalogueLabel","getEntryPath","openCategories","category","_new","escapeXml","getTypeName","getTypeLabel","entry","key","item","toRaw","o","type","output","found","child","imports","system","elt","items","sortByAscending","groupBy","field","_item","getModifiedField","reactive","allowed_children","childs","arr","targetChilds","target_arr","systemCategories","catalogueCategories","_imports_0$8","_imports_1$2","_imports_2$1","_imports_3","_imports_4","_imports_0$7","_imports_7","_imports_8","_imports_0$6","_imports_10","_imports_11","_imports_0$5","_imports_0$4","_imports_14","_imports_15","_hoisted_9","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_33","_hoisted_35","_hoisted_38","_hoisted_39","_hoisted_37","_hoisted_41","_hoisted_42","_renderList","group","_component_CatalogueLabel","_component_CatalogueEntry","_component_CatalogueLeftPanelEntry","_d","_hoisted_11","_hoisted_10","_hoisted_34","_hoisted_36","_e","target","_imports_0$3","_imports_1$1","_imports_2","_hoisted_8","_component_CatalogueLeftPanelComponentsCatalogueEntry","__nuxt_component_1","_imports_1","_component_ErrorIcon","_hoisted_12","_sfc_main$Q","visual_index","itemsWithIndex","i","_normalizeProps","_guardReactiveProps","_sfc_main$P","v","files","file","profileType","refs","profile","ind","char","SortOrder","t","_vModelSelect","_component_PopupDialog","_component_SortOrder","_sfc_main$O","_component_CatalogueRightPanelFieldsProfileType","_sfc_main$N","regex","end","cur","val","query","regexStr","opt","old","_resolveDirective","_mergeProps","option","_sfc_main$M","_imports_0$2","_component_UtilAutocomplete","_sfc_main$L","scope","_hoisted_32","_hoisted_40","_sfc_main$K","_component_CatalogueRightPanelFieldsReference","_component_CatalogueRightPanelFieldsQuickConstraints","_sfc_main$J","_sfc_main$I","newType","oldOption","existing","_component_UtilEditableDiv","_sfc_main$H","_component_CatalogueRightPanelFieldsCharacteristics","_sfc_main$G","_sfc_main$F","_component_CatalogueRightPanelFieldsDescription","_sfc_main$E","_createStaticVNode","_sfc_main$D","_sfc_main$C","_sfc_main$B","defaultValue","_imports_0$1","_component_UtilNumberInput","_sfc_main$A","parentkey","f","_sfc_main$y","inBounds","_old","_withKeys","_sfc_main$x","AutocompleteTags","Tag","parent","cat","primary","links","link","cl","targetLinks","targetIdx","setPrototype","current","added","_component_AutocompleteTags","selected","_component_Tag","input","_sfc_main$w","_sfc_main$v","CategoryVue","categories","_component_CatalogueEditV2Categories","_component_Category","lnk","_sfc_main$u","Entry","_component_Entry","_sfc_main$t","_component_CatalogueRightPanelFieldsEntryType","_component_CatalogueRightPanelFieldsCreation","_component_CatalogueRightPanelFieldsCosts","_component_CatalogueRightPanelFieldsBooleans","_component_CatalogueRightPanelFieldsCategories","_component_CatalogueRightPanelFieldsSortChilds","_sfc_main$s","all","sysId","_sfc_main$r","_component_CatalogueRightPanelFieldsLink","_sfc_main$q","_directive_click_outside","availableModifiers","availableTypes","_sfc_main$p","ErrorIcon","fieldType","fieldTypeName","currentValue","_default","first","op","getModifierOrConditionParent","available","additional","costType","constraint","_component_UtilIconSelect","error","_sfc_main$o","_sfc_main$n","_component_CatalogueRightPanelFieldsModifier","_component_CatalogueRightPanelFieldsQuickConditions","_sfc_main$m","getCatalogueName","recursive","iterator","indent","getFirstAncestor","recursiveWithFilter","cb","getSearchElements","getSearchSelections","includeRootSelectionEntries","getSearchSelectionsWithCategory","getSearchCategories","getSearchCatalogues","getDataObject","itemDepth","getParentUnitHierarchy","rootDepth","getParentSelections","parentElements","scopeIsId","getFilterSelections","_sfc_main$l","_sfc_main$k","baseItems","_sfc_main$j","base","_sfc_main$i","FilterBy","QuickModifiers","_component_CatalogueRightPanelFieldsConstraint","_component_CatalogueRightPanelFieldsQuery","_component_FilterBy","_component_CatalogueRightPanelFieldsQuickModifiers","_sfc_main$h","_sfc_main$g","ConditionGroup","_component_ConditionGroup","_sfc_main$f","NumberInput","allowed","_sfc_main$e","Condition","_component_Condition","_sfc_main$d","_sfc_main$c","__nuxt_component_3","_sfc_main$b","_sfc_main$a","_component_CatalogueRightPanelFieldsDefaultSelection","_sfc_main$9","_sfc_main$8","_sfc_main$7","_sfc_main$6","_component_CatalogueRightPanelFieldsInformation","__nuxt_component_6","_component_CatalogueRightPanelFieldsRevision","_component_CatalogueRightPanelFieldsCatalogue","_sfc_main$5","_sfc_main$4","_component_CatalogueRightPanelFieldsFilterBy","_component_CatalogueRightPanelFieldsRepeat","_sfc_main$3","_sfc_main$2","findParentWhere","path","getEntryPathInfo","ProfileType","NodePath","_component_NodePath","_sfc_main$1","_component_CatalogueRightPanelReferencesPanel","__nuxt_component_19","_component_CatalogueRightPanelPublicationPanel","_component_CatalogueRightPanelCostTypesPanel","_component_CatalogueRightPanelProfileTypesPanel","_component_CatalogueRightPanelCategoryEntriesPanel","_component_CatalogueRightPanelForceEntriesPanel","_component_CatalogueRightPanelProfilesPanel","_component_CatalogueRightPanelRulesPanel","_component_CatalogueRightPanelSelectionEntryPanel","_component_CatalogueRightPanelLinkPanel","_component_CatalogueRightPanelModifierPanel","_component_CatalogueRightPanelConstraintPanel","_component_CatalogueRightPanelConditionGroupPanel","_component_CatalogueRightPanelConditionPanel","_component_CatalogueRightPanelModifierGroupPanel","_component_CatalogueRightPanelInfoGroupPanel","_component_CatalogueRightPanelSelectionEntryGroupPanel","_component_CatalogueRightPanelCataloguePanel","_component_CatalogueRightPanelRepeatPanel","_component_CatalogueRightPanelAssociationPanel","_sfc_main","LeftPanel","useCataloguesStore","gameSystemId","catalogueId","resolve","max","msg","increment","getNextRevision","message","showMessageBox","closeWindow","systemId","loaded","imported","_component_SplitView","__nuxt_component_4","_component_Head","_component_Title","_component_Loading","_component_LeftPanel","_component_CatalogueRightPanel"],"mappings":"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","x_google_ignoreList":[0]}