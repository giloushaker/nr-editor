{"version":3,"file":"catalogue.a3174b97.js","sources":["../../../../node_modules/nuxt/dist/head/runtime/components.js","../../../../components/util/EditableDiv.vue","../../../../components/catalogue/right_panel/fields/Comment.vue","../../../../components/catalogue/right_panel/fields/Basics.vue","../../../../assets/icons/back.png","../../../../components/catalogue/right_panel/fields/Publication.vue","../../../../components/catalogue/right_panel/PublicationPanel.vue","../../../../components/catalogue/right_panel/fields/Hidden.vue","../../../../components/catalogue/right_panel/CostTypesPanel.vue","../../../../components/catalogue/right_panel/fields/ProfileType.vue","../../../../assets/icons/trash.png","../../../../components/catalogue/right_panel/ProfileTypesPanel.vue","../../../../components/util/Autocomplete.vue","../../../../components/catalogue/right_panel/fields/Reference.vue","../../../../../../../../../assets/icons/undo.svg","../../../../../../../../../assets/icons/redo.svg","../../../../assets/icons/collapse-all.svg","../../../../components/catalogue/left_panel/LeftPanel.vue","../../../../components/catalogue/right_panel/fields/QuickConstraints.vue","../../../../components/catalogue/right_panel/CategoryEntriesPanel.vue","../../../../components/catalogue/right_panel/ForceEntriesPanel.vue","../../../../components/catalogue/right_panel/fields/Characteristics.vue","../../../../components/catalogue/right_panel/ProfilesPanel.vue","../../../../components/catalogue/right_panel/fields/Description.vue","../../../../components/catalogue/right_panel/RulesPanel.vue","../../../../components/catalogue/right_panel/fields/EntryType.vue","../../../../components/catalogue/right_panel/fields/Creation.vue","../../../../components/util/NumberInput.vue","../../../../components/catalogue/right_panel/fields/Costs.vue","../../../../components/catalogue/right_panel/fields/Booleans.vue","../../../../components/catalogue/right_panel/fields/Categories.vue","../../../../components/catalogue/right_panel/SelectionEntryPanel.vue","../../../../components/catalogue/right_panel/fields/Link.vue","../../../../assets/icons/error_exclamation.png","../../../../components/catalogue/right_panel/LinkPanel.vue","../../../../components/util/IconSelect.vue","../../../../components/catalogue/right_panel/fields/Modifier.vue","../../../../components/catalogue/right_panel/fields/QuickConditions.vue","../../../../components/catalogue/right_panel/ModifierPanel.vue","../../../../components/catalogue/right_panel/fields/Constraint.vue","../../../../assets/ts/catalogue/catalogue_helpers.ts","../../../../components/catalogue/right_panel/fields/Query.vue","../../../../components/catalogue/right_panel/fields/QuickModifiers.vue","../../../../components/catalogue/right_panel/fields/FilterBy.vue","../../../../components/catalogue/right_panel/ConstraintPanel.vue","../../../../components/catalogue/right_panel/fields/ConditionGroup.vue","../../../../components/catalogue/right_panel/ConditionGroupPanel.vue","../../../../components/catalogue/right_panel/fields/Condition.vue","../../../../components/catalogue/right_panel/ConditionPanel.vue","../../../../components/catalogue/right_panel/ModifierGroupPanel.vue","../../../../components/catalogue/right_panel/InfoGroupPanel.vue","../../../../components/catalogue/right_panel/fields/DefaultSelection.vue","../../../../components/catalogue/right_panel/SelectionEntryGroupPanel.vue","../../../../components/catalogue/right_panel/fields/Revision.vue","../../../../components/catalogue/right_panel/fields/Catalogue.vue","../../../../components/catalogue/right_panel/fields/Information.vue","../../../../components/catalogue/right_panel/CataloguePanel.vue","../../../../components/catalogue/right_panel/fields/Repeat.vue","../../../../components/catalogue/right_panel/RepeatPanel.vue","../../../../components/catalogue/right_panel/AssociationPanel.vue","../../../../components/catalogue/right_panel/ReferencesPanel.vue","../../../../components/catalogue/right_panel/RightPanel.vue","../../../../pages/catalogue.vue"],"sourcesContent":["import { defineComponent } from \"vue\";\nimport { useHead } from \"@unhead/vue\";\nconst removeUndefinedProps = (props) => Object.fromEntries(Object.entries(props).filter(([, value]) => value !== void 0));\nconst setupForUseMeta = (metaFactory, renderChild) => (props, ctx) => {\n  useHead(() => metaFactory({ ...removeUndefinedProps(props), ...ctx.attrs }, ctx));\n  return () => renderChild ? ctx.slots.default?.() : null;\n};\nconst globalProps = {\n  accesskey: String,\n  autocapitalize: String,\n  autofocus: {\n    type: Boolean,\n    default: void 0\n  },\n  class: [String, Object, Array],\n  contenteditable: {\n    type: Boolean,\n    default: void 0\n  },\n  contextmenu: String,\n  dir: String,\n  draggable: {\n    type: Boolean,\n    default: void 0\n  },\n  enterkeyhint: String,\n  exportparts: String,\n  hidden: {\n    type: Boolean,\n    default: void 0\n  },\n  id: String,\n  inputmode: String,\n  is: String,\n  itemid: String,\n  itemprop: String,\n  itemref: String,\n  itemscope: String,\n  itemtype: String,\n  lang: String,\n  nonce: String,\n  part: String,\n  slot: String,\n  spellcheck: {\n    type: Boolean,\n    default: void 0\n  },\n  style: String,\n  tabindex: String,\n  title: String,\n  translate: String\n};\nexport const NoScript = defineComponent({\n  name: \"NoScript\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    title: String,\n    body: Boolean,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((props, { slots }) => {\n    const noscript = { ...props };\n    const textContent = (slots.default?.() || []).filter(({ children }) => children).map(({ children }) => children).join(\"\");\n    if (textContent) {\n      noscript.children = textContent;\n    }\n    return {\n      noscript: [noscript]\n    };\n  })\n});\nexport const Link = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Link\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    as: String,\n    crossorigin: String,\n    disabled: Boolean,\n    fetchpriority: String,\n    href: String,\n    hreflang: String,\n    imagesizes: String,\n    imagesrcset: String,\n    integrity: String,\n    media: String,\n    prefetch: {\n      type: Boolean,\n      default: void 0\n    },\n    referrerpolicy: String,\n    rel: String,\n    sizes: String,\n    title: String,\n    type: String,\n    /** @deprecated **/\n    methods: String,\n    /** @deprecated **/\n    target: String,\n    body: Boolean,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((link) => ({\n    link: [link]\n  }))\n});\nexport const Base = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Base\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    href: String,\n    target: String\n  },\n  setup: setupForUseMeta((base) => ({\n    base\n  }))\n});\nexport const Title = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Title\",\n  inheritAttrs: false,\n  setup: setupForUseMeta((_, { slots }) => {\n    const title = slots.default?.()?.[0]?.children || null;\n    if (process.dev && title && typeof title !== \"string\") {\n      console.error(\"<Title> can only take a string in its default slot.\");\n    }\n    return {\n      title\n    };\n  })\n});\nexport const Meta = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Meta\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    charset: String,\n    content: String,\n    httpEquiv: String,\n    name: String,\n    body: Boolean,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((props) => {\n    const meta = { ...props };\n    if (meta.httpEquiv) {\n      meta[\"http-equiv\"] = meta.httpEquiv;\n      delete meta.httpEquiv;\n    }\n    return {\n      meta: [meta]\n    };\n  })\n});\nexport const Style = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Style\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    type: String,\n    media: String,\n    nonce: String,\n    title: String,\n    /** @deprecated **/\n    scoped: {\n      type: Boolean,\n      default: void 0\n    },\n    body: Boolean,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((props, { slots }) => {\n    const style = { ...props };\n    const textContent = slots.default?.()?.[0]?.children;\n    if (textContent) {\n      if (process.dev && typeof textContent !== \"string\") {\n        console.error(\"<Style> can only take a string in its default slot.\");\n      }\n      style.children = textContent;\n    }\n    return {\n      style: [style]\n    };\n  })\n});\nexport const Head = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Head\",\n  inheritAttrs: false,\n  setup: (_props, ctx) => () => ctx.slots.default?.()\n});\nexport const Html = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Html\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    manifest: String,\n    version: String,\n    xmlns: String,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((htmlAttrs) => ({ htmlAttrs }), true)\n});\nexport const Body = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Body\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((bodyAttrs) => ({ bodyAttrs }), true)\n});\n","<template>\n  <div\n    :placeholder=\"placeholder\"\n    class=\"editableDiv\"\n    @input=\"change\"\n    @paste=\"onpaste\"\n    contenteditable=\"true\"\n    ref=\"div\"\n  ></div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  emits: [\"change\", \"update:modelValue\"],\n  props: {\n    modelValue: {\n      type: [String, Number, Array],\n    },\n    placeholder: {\n      type: String,\n      default: \"\",\n    },\n  },\n\n  methods: {\n    change(e: any) {\n      if (e.target) {\n        this.$emit(\"update:modelValue\", e.target.outerText);\n        this.$emit(\"change\");\n      }\n    },\n    get() {\n      return this.$refs.div as HTMLDivElement;\n    },\n    toHtml(s: string) {\n      return s.replace(/\\n/g, \"<br />\");\n    },\n\n    onpaste(e: ClipboardEvent) {\n      e.preventDefault();\n      var text = e.clipboardData?.getData(\"text/plain\") ?? \"\";\n      document.execCommand(\"insertText\", false, text);\n      this.$emit(\"update:modelValue\", this.get().innerText);\n      this.$emit(\"change\");\n    },\n  },\n\n  mounted() {\n    this.get().innerText = `${this.modelValue ?? \"\"}`;\n  },\n\n  watch: {\n    modelValue() {\n      if (this.get().innerText != this.modelValue) {\n        this.get().innerText = `${this.modelValue ?? \"\"}`;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.editableDiv {\n  border: 1px $box_border solid;\n  padding: 3px;\n  text-align: left;\n  background-color: $background_color;\n}\n\n[contentEditable=\"true\"]:empty:not(:focus):before {\n  content: attr(data-text);\n  color: $gray;\n  font-style: italic;\n}\n\n.editableDiv[placeholder]:empty:before {\n  content: attr(placeholder);\n  color: #555;\n}\n\n.editableDiv[placeholder]:empty:focus::before {\n  content: \"\";\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>Comment</legend>\n    <UtilEditableDiv v-model=\"comment\" @change=\"changed\"></UtilEditableDiv>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { BSIOption } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIOption>,\n      required: true,\n    },\n  },\n  computed: {\n    comment: {\n      get(): string {\n        return (Array.isArray(this.item.comment) ? this.item.comment[0] : this.item.comment) || \"\";\n      },\n      set(str: string) {\n        this.item.comment = str ? [str] : undefined;\n      },\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Basics</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Unique ID:</td>\n        <td class=\"flex gap-5px\">\n          <input type=\"text\" v-model=\"id\" @change=\"changed\" class=\"flex flex-shrink\" />\n          <button class=\"hover-darken mr-8px\" @click=\"refresh\">\n            <img class=\"h-20px w-20px icon\" src=\"/assets/icons/back.png\" title=\"Generated Id\" />\n          </button>\n        </td>\n      </tr>\n      <tr>\n        <td>Name:</td>\n        <td><input type=\"text\" v-model=\"item.name\" @change=\"changed\" /></td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { generateBattlescribeId } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIOption, BSINamed } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIOption & BSINamed>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n    refresh() {\n      this.id = generateBattlescribeId();\n      this.changed();\n    },\n  },\n  computed: {\n    id: {\n      get(): string {\n        return this.item.id;\n      },\n      set(id: string) {\n        const obj = this.item as EditorBase;\n        const catalogue = obj.getCatalogue();\n        catalogue.removeFromIndex(obj);\n        obj.id = id;\n        catalogue.addToIndex(obj);\n      },\n    },\n  },\n};\n</script>\n","export default \"__VITE_ASSET__b03bf360__\"","<template>\n  <fieldset>\n    <legend>Publication</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Short Name</td>\n        <td>\n          <input type=\"text\" v-model=\"item.shortName\" @change=\"changed\" />\n        </td>\n      </tr>\n      <tr>\n        <td>Publication:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.publisher\" @change=\"changed\" />\n        </td>\n      </tr>\n      <tr>\n        <td>Publication Date:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.publicationDate\" @change=\"changed\" />\n        </td>\n      </tr>\n      <tr>\n        <td>Publication URL:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.publisherUrl\" @change=\"changed\" />\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { BSIPublication } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIPublication>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsPublication class=\"section\" :item=\"item\" @catalogueChanged=\"changed\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Publication>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend><slot /></legend>\n    <input\n      id=\"hidden\"\n      type=\"checkbox\"\n      v-model=\"item.hidden\"\n      @change=\"changed\"\n    />\n    <label for=\"hidden\">Hidden</label>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { BSICostType } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSICostType>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n    <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n    <CatalogueRightPanelFieldsHidden :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n      Cost Types\n    </CatalogueRightPanelFieldsHidden>\n\n    <div class=\"section\">\n      <fieldset>\n        <legend>Limit</legend>\n        <table class=\"editorTable\">\n          <tr>\n            <td>Default Cost Limit: </td>\n            <td>\n              <input type=\"number\" v-model=\"item.defaultCostLimit\" @change=\"changed\" />\n              <span class=\"gray ml-10px\">-1 = No limit</span>\n            </td>\n          </tr>\n        </table>\n      </fieldset>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { BSICostType } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSICostType>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Profil Type</legend>\n    <h3>Characteristic Types</h3>\n    <div>\n      <select size=\"2\" v-model=\"selected\">\n        <option :value=\"t.id\" v-for=\"t of item.characteristicTypes\">\n          {{ t.name }}\n        </option>\n      </select>\n      <div class=\"section add\">\n        <button class=\"bouton\" @click=\"add\"> <img src=\"/assets/icons/iconeplus.png\" /> Add </button>\n        <button class=\"bouton\" @click=\"del\"> <img src=\"/assets/icons/trash.png\" /> Delete </button>\n      </div>\n\n      <template v-if=\"selectedType\">\n        <h3 class=\"section\">Selected Characteristic Type</h3>\n        <table class=\"editorTable\">\n          <tr>\n            <td>Unique Id:</td>\n            <td>\n              <input type=\"text\" v-model=\"selectedType.id\" @change=\"changed\" />\n            </td>\n          </tr>\n          <tr>\n            <td>Name:</td>\n            <td>\n              <input type=\"text\" v-model=\"selectedType.name\" @change=\"changed\" />\n            </td>\n          </tr>\n        </table>\n      </template>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { generateBattlescribeId } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { BSICharacteristicType, BSIProfileType } from \"~/assets/shared/battlescribe/bs_types\";\nimport { PropType } from \"vue\";\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIProfileType>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      selectedType: null as BSICharacteristicType | null,\n    };\n  },\n  computed: {\n    selected: {\n      set(id: string | null) {\n        this.selectedType = this.item.characteristicTypes.find((o) => o.id === id) || null;\n      },\n      get(): string | null {\n        return this.selectedType?.id || null;\n      },\n    },\n  },\n  methods: {\n    add() {\n      if (!this.item.characteristicTypes) {\n        this.item.characteristicTypes = [];\n      }\n      this.item.characteristicTypes.push({\n        id: generateBattlescribeId(),\n        name: \"New Characteristic Type\",\n      });\n      this.changed();\n    },\n\n    del() {\n      if (this.selectedType) {\n        if (this.item.characteristicTypes) {\n          const ind = this.item.characteristicTypes.indexOf(this.selectedType);\n          if (ind != -1) {\n            this.item.characteristicTypes.splice(ind, 1);\n            this.selectedType = this.item.characteristicTypes[0];\n          }\n        }\n      }\n    },\n\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n\n    init() {\n      if (this.item.characteristicTypes?.length) {\n        this.selectedType = this.item.characteristicTypes[0];\n      }\n    },\n  },\n\n  created() {\n    this.init();\n  },\n\n  watch: {\n    item() {\n      this.init();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\nselect {\n  width: 100%;\n  height: 300px;\n}\n\nh3 {\n  font-size: 16px;\n}\n\n.add {\n  display: grid;\n  grid-gap: 10px;\n  grid-auto-flow: column;\n  grid-template-columns: 1fr min-content;\n  justify-items: end;\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV8/RCkVB4uIOASsTlZERRy1CkWoEGqFVh1MLv2CJg1Jiouj4Fpw8GOx6uDirKuDqyAIfoA4OjkpukiJ/0sKLWI8OO7Hu3uPu3eAv15mqhkcB1TNMlKJuJDJrgqdrwiiDyGMYUhipj4nikl4jq97+Ph6F+NZ3uf+HN1KzmSATyCeZbphEW8QT29aOud94ggrSgrxOfGoQRckfuS67PIb54LDfp4ZMdKpeeIIsVBoY7mNWdFQiaeIo4qqUb4/47LCeYuzWq6y5j35C8M5bWWZ6zQHkcAiliBCgIwqSijDQoxWjRQTKdqPe/gHHL9ILplcJTByLKACFZLjB/+D392a+ckJNykcBzpebPtjGOjcBRo12/4+tu3GCRB4Bq60lr9SB2Y+Sa+1tOgR0LMNXFy3NHkPuNwB+p90yZAcKUDTn88D72f0TVmg9xYIrbm9Nfdx+gCkqavkDXBwCIwUKHvd491d7b39e6bZ3w+TdnK04tslPQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB+YEFgsEBONvEkAAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAfklEQVQ4y+2VOw7AMAhDTdVj5nbknnTpkCIMapqt8YYELx9LRlDLXC34IAOgQ63BAelpvrmTucY4EoD6xEvayDOsk533jVZC6f9NzR6kwbupzm3vPipgK8zpgdMpcFobuIG/AGoSoixglQHFB2UhGeC0v9wZxc4JyW9z8cG4AK8CG5AjF625AAAAAElFTkSuQmCC\"","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsProfileType class=\"section\" :item=\"item\" @catalogueChanged=\"changed\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { BSIProfileType } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIProfileType>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"autocomplete container\">\n    <input\n      class=\"input autocomplete-input\"\n      type=\"text\"\n      ref=\"edit\"\n      @input=\"suggest\"\n      @click=\"maySuggest\"\n      v-model=\"searchPattern\"\n      :placeholder=\"placeholder\"\n      v-click-outside=\"onClickOutside\"\n      v-if=\"editing\"\n    />\n    <div v-else @click=\"startEditing\" class=\"autocomplete-input\">\n      <span class=\"gray\" v-if=\"!selectedOption\">{{ placeholder }}</span>\n      <slot v-else v-bind=\"selectedOption\" name=\"option\"></slot>\n    </div>\n    <div class=\"suggestions\" :class=\"{ hidden: !editing }\">\n      <div v-for=\"option of foundOptions\" @click.capture=\"targetSelected(option)\">\n        <slot v-bind=\"option\" name=\"option\"></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\n\nexport default {\n  props: {\n    modelValue: String,\n    placeholder: {\n      type: String,\n      default: \"Search...\",\n    },\n\n    min: {\n      type: Number,\n      default: 0,\n    },\n    max: {\n      type: Number,\n      default: 1000,\n    },\n\n    options: {\n      type: [Array, Function],\n      required: true,\n    },\n\n    valueField: {\n      type: String,\n      default: \"\",\n    },\n\n    filterField: {\n      type: [String, Function],\n      default: \"\",\n    },\n\n    lazy: {\n      type: Boolean,\n      default: false,\n    },\n\n    default: {\n      type: Object as PropType<any>,\n    },\n\n    nullable: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  created() {\n    if (!this.lazy) {\n      this.reset();\n    } else {\n      this.selectedOption = { option: this.default, selected: true };\n    }\n  },\n\n  data() {\n    return {\n      searchPattern: \"\",\n      lastSearch: null as string | null,\n      editing: false,\n      selectedOption: null as { option: any; selected?: boolean } | null,\n      sleeping: this.lazy,\n    };\n  },\n\n  computed: {\n    computedOptions(): any[] {\n      if (Array.isArray(this.options)) return this.options;\n      return this.sleeping ? [] : this.options();\n    },\n    foundOptions(): { option: any }[] {\n      const regex = this.textSearchRegex(this.searchPattern);\n      const result = [];\n      if (this.nullable) {\n        result.push({ option: undefined });\n      }\n      const data = this.computedOptions;\n      const end = this.max || data.length;\n      for (let i = 0; i < data.length; i++) {\n        const cur = data[i];\n        let val = this.getField(cur);\n        if (val && val.match && val.match(regex)) {\n          result.push({ option: cur });\n          if (result.length >= end - 1) break;\n        }\n      }\n      return result;\n    },\n  },\n\n  methods: {\n    getField(cur: any) {\n      if (!this.filterField) return cur;\n      if (this.filterField instanceof Function) {\n        return this.filterField(cur);\n      }\n      return cur[this.filterField];\n    },\n    escapeRegex(str: string) {\n      return str.replace(/([.?*+^$[\\]\\\\(){}|-])/g, \"\\\\$1\");\n    },\n\n    textSearchRegex(query: string) {\n      const words = this.escapeRegex(query).split(\" \");\n      const regexStr = `^(?=.*\\\\b${words.join(\".*)(?=.*\\\\b\")}).*$`;\n      const regx = new RegExp(regexStr, \"i\");\n      return regx;\n    },\n\n    targetSelected(opt: any) {\n      let res = opt.option;\n      if (this.valueField.length) {\n        if (this.nullable && !opt.option) {\n          res = undefined;\n        } else {\n          res = opt.option[this.valueField];\n        }\n      }\n      this.selectedOption = {\n        option: opt.option,\n        selected: true,\n      };\n      this.$emit(\"update:modelValue\", res);\n      this.$emit(\"change\");\n    },\n\n    reset() {\n      this.searchPattern = \"\";\n      this.selectedOption = null;\n      if (this.modelValue) {\n        let found = this.computedOptions.find((opt: any) => {\n          let item = opt;\n          if (this.valueField) {\n            item = opt[this.valueField];\n          }\n          if (item === this.modelValue) {\n            return true;\n          }\n          return false;\n        });\n        if (found) {\n          this.selectedOption = {\n            option: found,\n            selected: true,\n          };\n        } else {\n          this.selectedOption = null;\n        }\n      }\n    },\n\n    onClickOutside() {\n      this.editing = false;\n    },\n\n    suggest() {\n      if (this.searchPattern.length < this.min) {\n        this.editing = false;\n      } else {\n        this.startEditing();\n      }\n    },\n\n    maySuggest() {\n      this.sleeping = false;\n      this.searchPattern = \"\";\n      if (this.min == 0) {\n        this.suggest();\n      }\n    },\n\n    clicked() {\n      this.editing = false;\n    },\n\n    startEditing() {\n      if (!this.editing) {\n        this.sleeping = false;\n        this.editing = true;\n        this.searchPattern = \"\";\n      }\n    },\n  },\n\n  watch: {\n    options() {\n      if (!this.lazy) {\n        this.reset();\n      } else {\n        this.selectedOption = { option: this.default, selected: true };\n      }\n    },\n\n    modelValue() {\n      if (!this.editing) {\n        if (!this.lazy) {\n          this.reset();\n        } else {\n          this.selectedOption = { option: this.default, selected: true };\n        }\n      }\n    },\n\n    async editing() {\n      if (this.editing) {\n        await this.$nextTick();\n        if (this.$refs.edit) {\n          (this.$refs.edit as any).focus();\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.suggestions {\n  position: absolute;\n  top: 100%;\n  margin-top: 3px;\n  max-height: 300px;\n\n  overflow-y: auto;\n  z-index: 1;\n  width: 100%;\n  display: grid;\n  box-shadow: rgba(22, 1, 1, 0.74) 0px 3px 8px;\n  border-top: 1px $box_border;\n  border-bottom: 1px $box_border;\n  > * {\n    background-color: var(--input-background);\n    border-left: 1px $box_border;\n    border-right: 1px $box_border;\n    border-bottom: none;\n    padding: 5px;\n\n    &:hover {\n      background-color: $blue;\n    }\n  }\n}\n\n.view {\n  background-color: var(--input-background);\n}\n\n.container {\n  position: relative;\n}\n\n.input {\n  width: 100%;\n}\n\n.hidden {\n  display: none;\n}\n\n.autocomplete-input::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  right: 10px;\n  transform: translateY(-50%);\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid #000;\n  filter: var(--image-filter);\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>Reference</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Publication:</td>\n        <td>\n          <UtilAutocomplete\n            :options=\"publications\"\n            :filterField=\"(o: Publication) => o.getName()\"\n            valueField=\"id\"\n            v-model=\"item.publicationId\"\n            @change=\"changed\"\n            nullable\n          >\n            <template #option=\"{ option }\">\n              <div class=\"flex align-items flex-row\">\n                <template v-if=\"option\">\n                  <img class=\"mr-1 my-auto\" :src=\"`./assets/bsicons/${option.editorTypeName}.png`\" />\n                  <span class=\"inline\">\n                    {{ getName(option) }} <span class=\"grey\">{{ getNameExtra(option) }}</span>\n                  </span>\n                </template>\n                <template v-else>\n                  <img class=\"mr-1 my-auto\" :src=\"`./assets/bsicons/bullet.png`\" />\n                  <span class=\"inline\">None</span>\n                </template>\n              </div>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n      <tr>\n        <td>Page:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.page\" @change=\"changed\" />\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { getName, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { sortByAscending } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { Base } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<Base>,\n      required: true,\n    },\n  },\n  computed: {\n    publications() {\n      return sortByAscending([...this.catalogue.iteratePublications()], (o) => o?.name || \"\");\n    },\n  },\n  methods: {\n    getNameExtra,\n    getName,\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","export default \"__VITE_PUBLIC_ASSET__799f8a3d__\"","export default \"__VITE_PUBLIC_ASSET__a567bd58__\"","export default \"__VITE_ASSET__9587b9ee__\"","<template>\n  <div class=\"leftPanel\">\n    <div class=\"static sticky flex items-center h-28px z-1\">\n      <span\n        :class=\"{ grey: !store.can_back(), 'cursor-pointer': store.can_back(), 'hover-darken': store.can_back() }\"\n        class=\"bold p-4px unselectable icon\"\n        @click=\"store.back\"\n        title=\"Back\"\n      >\n        🡰\n      </span>\n      <span\n        :class=\"{\n          grey: !store.can_forward(),\n          'cursor-pointer': store.can_forward(),\n          'hover-darken': store.can_forward(),\n        }\"\n        class=\"bold p-4px unselectable ml-4px icon\"\n        @click=\"store.forward\"\n        title=\"Forward\"\n      >\n        🡲\n      </span>\n      <img\n        :class=\"{ grey: !store.can_undo(), 'cursor-pointer': store.can_undo(), 'hover-darken': store.can_undo() }\"\n        class=\"bold p-4px unselectable ml-5px w-24px h-24px icon\"\n        @click=\"store.undo\"\n        title=\"Undo\"\n        src=\"/assets/icons/undo.svg\"\n      />\n      <img\n        :class=\"{ grey: !store.can_redo(), 'cursor-pointer': store.can_redo(), 'hover-darken': store.can_redo() }\"\n        class=\"bold p-4px unselectable ml-4px w-24px h-24px icon\"\n        @click=\"store.redo\"\n        title=\"Redo\"\n        src=\"/assets/icons/redo.svg\"\n      />\n\n      <div class=\"absolute right-30px\">\n        Sort\n        <select class=\"h-24px p-2px !text-sm\" v-model=\"settings.sort\">\n          <option value=\"none\">No Sorting </option>\n          <option value=\"asc\">Ascending </option>\n          <option value=\"desc\">Descending </option>\n          <option value=\"type\">Type</option>\n        </select>\n      </div>\n      <img\n        @click=\"uistate.collapse_all\"\n        class=\"align-middle absolute right-0 p-2px hover-darken cursor-pointer icon\"\n        title=\"Collapse All\"\n        src=\"/assets/icons/collapse-all.svg\"\n      />\n      <ErrorIcon :errors=\"catalogue.errors\" showNumber clickable class=\"z-1\" />\n      <!-- <img\n        @click=\"uistate.collapse_deepest\"\n        class=\"align-middle absolute right-0 p-2px hover-darken cursor-pointer\"\n        title=\"Collapse Last Open Level\"\n        src=\"/assets/icons/collapse-all.svg\"\n      /> -->\n    </div>\n    <div class=\"top rightborder scrollable\" ref=\"scrollable\" @scroll=\"onscroll\" @keydown.capture=\"keydown\">\n      <CatalogueEntry class=\"mb-40px\" :item=\"catalogue\" grouped id=\"editor-entries\" :showImported=\"showImported\" />\n    </div>\n    <div class=\"bottom static\">\n      <span v-if=\"!catalogue.isGameSystem()\">\n        <input class=\"cursor-pointer\" v-model=\"showImported\" type=\"checkbox\" id=\"showimport\" />\n        <label class=\"unselectable cursor-pointer\" for=\"showimport\">Show Imported</label>\n      </span>\n      <span> &nbsp;</span>\n      <span class=\"absolute right-5px\">\n        <input class=\"cursor-pointer\" v-model=\"ignoreProfilesRules\" type=\"checkbox\" id=\"ignoreProfilesRules\" />\n        <label class=\"unselectable cursor-pointer\" for=\"ignoreProfilesRules\">Ignore Profiles/Rules</label>\n      </span>\n      <input v-model=\"filter\" ref=\"editor-searchbox\" type=\"search\" placeholder=\"search... ctrl+f\" class=\"w-full\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { EntryPathEntry, getAtEntryPath } from \"~/assets/shared/battlescribe/bs_editor\";\nimport type { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { get_ctx, useEditorStore } from \"~/stores/editorStore\";\nimport CatalogueEntry from \"./components/CatalogueEntry.vue\";\nimport { useEditorUIState } from \"~/stores/editorUIState\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\nimport { forEachParent } from \"~/assets/shared/battlescribe/bs_helpers\";\n\nexport const LeftPanelDefaults = {\n  showImported: false,\n  ignoreProfilesRules: false,\n  filter: \"\",\n  scroll: 0,\n  selection: undefined as EntryPathEntry[] | undefined,\n};\n\nexport default defineComponent({\n  components: { CatalogueEntry },\n  emits: [\"scrolltop\"],\n  setup() {\n    return { store: useEditorStore(), uistate: useEditorUIState(), settings: useSettingsStore() };\n  },\n  data() {\n    return {\n      ...LeftPanelDefaults,\n      ...this.defaults,\n      shouldScrollTo: undefined as number | undefined,\n      shouldScrollToElement: undefined as Element | undefined,\n    };\n  },\n  async mounted() {\n    this.load();\n    addEventListener(\"keydown\", this.keydown);\n    addEventListener(\"copy\", this.copy);\n    addEventListener(\"paste\", this.paste);\n    addEventListener(\"cut\", this.cut);\n  },\n  unmounted() {\n    removeEventListener(\"keydown\", this.keydown);\n    removeEventListener(\"copy\", this.copy);\n    removeEventListener(\"paste\", this.paste);\n    removeEventListener(\"cut\", this.cut);\n  },\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    defaults: {\n      type: Object as PropType<{ showImported?: boolean }>,\n      default: {},\n    },\n  },\n  methods: {\n    onscroll(event: Event) {\n      this.scroll = (event.target as HTMLDivElement).scrollTop;\n    },\n    load() {\n      this.$nextTick(async () => {\n        this.shouldScrollTo = this.scroll;\n        if (this.selection) {\n          try {\n            let obj = getAtEntryPath(this.catalogue, this.selection);\n            const last = this.selection[this.selection.length - 1];\n            if (!obj && last.id) {\n              obj = this.catalogue.findOptionById(last.id) as EditorBase | undefined;\n            }\n            if (obj) {\n              const el = await this.store.open(obj);\n              if (el) {\n                const ctx = get_ctx(el);\n                await ctx.do_select();\n                this.shouldScrollToElement = el;\n              }\n            }\n          } catch (e) {\n            console.error(e);\n          }\n        }\n      });\n    },\n    async set_scroll(scroll: number) {\n      const scrollable_el = this.$refs.scrollable as HTMLDivElement | undefined;\n      if (scrollable_el) scrollable_el.scrollTop = scroll;\n      this.$nextTick(async () => {\n        const scrollable_el = this.$refs.scrollable as HTMLDivElement | undefined;\n        if (scrollable_el) scrollable_el.scrollTop = scroll;\n      });\n      // setTimeout(() => {\n      //   const scrollable_el = this.$refs.scrollable as HTMLDivElement | undefined;\n      //   if (scrollable_el) scrollable_el.scrollTop = scroll;\n      // }, 50);\n    },\n    async scroll_to(elt: Element) {\n      elt.scrollIntoView({ block: \"nearest\", inline: \"center\" });\n\n      this.$nextTick(async () => {\n        elt.scrollIntoView({ block: \"nearest\", inline: \"center\" });\n      });\n      // setTimeout(() => {\n      //   elt.scrollIntoView({ block: \"nearest\", inline: \"center\" });\n      // }, 50);\n    },\n    should_capture_copy(e: Event) {\n      if (getSelection()?.toString()) return false;\n      return true;\n    },\n    should_capture_paste(e: Event) {\n      const TAGNAME = ((e.target as HTMLDivElement)?.tagName || \"\").toLowerCase();\n      if ([\"input\"].includes(TAGNAME)) return false;\n      if ((e.target as HTMLSpanElement)?.isContentEditable) return false;\n      if (this.$route.name !== \"catalogue\") return false;\n      return true;\n    },\n    async cut(e: ClipboardEvent) {\n      if (this.should_capture_copy(e)) {\n        e.preventDefault();\n        await this.store.cut(e);\n      }\n    },\n    async copy(e: ClipboardEvent) {\n      if (this.should_capture_copy(e)) {\n        e.preventDefault();\n        await this.store.copy(e);\n      }\n    },\n    async paste(e: ClipboardEvent) {\n      if (this.should_capture_paste(e)) {\n        e.preventDefault();\n        await this.store.paste(e);\n      }\n    },\n    async keydown(e: KeyboardEvent) {\n      if (this.$route.name !== \"catalogue\") return;\n      if (!e.target) return;\n      const tagName = (e.target as HTMLSelectElement)?.tagName?.toLowerCase();\n      const key = e.key.toLowerCase();\n      if (e.ctrlKey && key === \"f\") {\n        e.preventDefault();\n        (this.$refs[\"editor-searchbox\"] as HTMLInputElement).focus();\n      }\n      if (key === \"escape\") {\n        (this.$refs[\"editor-searchbox\"] as HTMLInputElement).blur();\n        this.store.filter = \"\";\n        this.update(this.filterData);\n      }\n      if (tagName === \"body\") {\n        if (e.ctrlKey && key === \"z\") {\n          e.preventDefault();\n          await this.store.undo();\n        }\n        if (e.ctrlKey && key === \"y\") {\n          e.preventDefault();\n          await this.store.redo();\n        }\n        // if (e.ctrlKey && key === \"x\") {\n        //   e.preventDefault();\n        //   await this.store.cut(e as any as ClipboardEvent);\n        // }\n        // if (e.ctrlKey && key === \"c\") {\n        //   e.preventDefault();\n        //   await this.store.copy(e as any as ClipboardEvent);\n        // }\n        // if (e.ctrlKey && key === \"v\") {\n        //   e.preventDefault();\n        //   await this.store.paste(e as any as ClipboardEvent);\n        // }\n        if (e.ctrlKey && key === \"d\") {\n          e.preventDefault();\n          await this.store.duplicate();\n        }\n        if (key === \"delete\") {\n          e.preventDefault();\n          await this.store.remove();\n        }\n      }\n    },\n    async update(data: any) {\n      const { filter, ignoreProfilesRules } = data;\n      const prev = this.store.filtered as EditorBase[];\n      for (const p of prev) {\n        delete p.showInEditor;\n        delete p.showChildsInEditor;\n        delete p.highlight;\n        forEachParent(p as EditorBase, (parent) => {\n          delete parent.showInEditor;\n          delete p.showChildsInEditor;\n        });\n      }\n      if (filter.length > 1) {\n        this.store.set_filter(filter);\n        // let t1 = Date.now();\n        this.store.filtered = this.catalogue.findOptionsByText(filter) as EditorBase[];\n        if (ignoreProfilesRules) {\n          this.store.filtered = this.store.filtered.filter((o) => !o.isProfile() && !o.isRule() && !o.isInfoGroup());\n        }\n        // let t2 = Date.now();\n        for (const p of this.store.filtered) {\n          p.showInEditor = true;\n          p.showChildsInEditor = true;\n          p.highlight = true;\n          forEachParent(p as EditorBase, (parent) => {\n            parent.showInEditor = true;\n          });\n        }\n        // let t3 = Date.now();\n        await nextTick();\n        // let t4 = Date.now();\n\n        if (this.store.filtered.length < 300) {\n          for (const p of this.store.filtered) {\n            if (!p.parent) continue;\n            try {\n              await this.store.open(p as EditorBase, false);\n            } catch (e) {\n              continue;\n            }\n          }\n        }\n        // let t5 = Date.now();\n        // this.$nextTick(() => {\n        //   let t6 = Date.now();\n        //   console.log(\"search\", t2 - t1);\n        //   console.log(\"set display status\", t3 - t2);\n        //   console.log(\"render1\", t4 - t3);\n        //   console.log(\"open\", t5 - t4);\n        //   console.log(\"render2\", t6 - t5);\n        // });\n      } else {\n        this.store.set_filter(\"\");\n        this.store.filtered = [];\n      }\n    },\n  },\n  computed: {\n    filterData() {\n      return {\n        filter: this.filter.trim(),\n        ignoreProfilesRules: this.ignoreProfilesRules,\n      };\n    },\n  },\n  watch: {\n    filterData: {\n      handler(data) {\n        this.update(data);\n      },\n      immediate: true,\n    },\n    showImported: {\n      immediate: true,\n      handler(v) {\n        if (v) {\n          this.catalogue.imports.map((o) => o.processForEditor());\n        }\n      },\n    },\n    shouldScrollTo(val) {\n      if (val !== undefined) {\n        this.$nextTick(() => {\n          delete this.shouldScrollTo;\n          this.set_scroll(val);\n        });\n      }\n    },\n    shouldScrollToElement(val) {\n      if (val !== undefined) {\n        this.$nextTick(() => {\n          delete this.shouldScrollTo;\n          this.scroll_to(val);\n        });\n      }\n    },\n  },\n});\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.leftPanel {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n}\n.top {\n  position: relative;\n}\n.bottom {\n  position: sticky;\n  margin-top: auto;\n  bottom: 0;\n}\ninput:focus::placeholder {\n  color: transparent;\n}\n.static {\n  background-color: rgba(0, 0, 0, 0.1);\n  border: 1px solid $box_border;\n}\n.rightborder {\n  border-right: 1px solid $box_border;\n}\n\n.enabled {\n  cursor: pointer;\n}\n\n.grey {\n  filter: invert(50%) hue-rotate(90deg);\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>Quick Constraints</legend>\n    <div class=\"columns\">\n      <div class=\"buttonList\">\n        <button class=\"bouton\" @click=\"add('min', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" />MIN 1 IN PARENT\n        </button>\n        <button class=\"bouton\" v-if=\"withCategory\" @click=\"add('min', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" />MIN 1 IN CATEGORY\n        </button>\n        <button class=\"bouton\" @click=\"add('min', 'force')\">\n          <img src=\"/assets/icons/iconeplus.png\" />MIN 1 IN FORCE\n        </button>\n        <button class=\"bouton\" @click=\"add('min', 'roster')\">\n          <img src=\"/assets/icons/iconeplus.png\" />MIN 1 IN ROSTER\n        </button>\n      </div>\n      <div class=\"buttonList\">\n        <button class=\"bouton\" @click=\"add('max', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" />MAX 1 IN PARENT\n        </button>\n        <button class=\"bouton\" v-if=\"withCategory\" @click=\"add('max', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" />MAX 1 IN CATEGORY\n        </button>\n        <button class=\"bouton\" @click=\"add('max', 'force')\">\n          <img src=\"/assets/icons/iconeplus.png\" />MAX 1 IN FORCE\n        </button>\n        <button class=\"bouton\" @click=\"add('max', 'roster')\">\n          <img src=\"/assets/icons/iconeplus.png\" />MAX 1 IN ROSTER\n        </button>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  setup() {\n    return { store: useEditorStore() };\n  },\n  props: {\n    item: {\n      type: Object as PropType<ItemTypes>,\n      required: true,\n    },\n\n    withCategory: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n    add(type: string, scope: string) {\n      this.store.create_child(\"constraints\", this.item as EditorBase, {\n        type: type,\n        scope: scope,\n        value: 1,\n        select: false,\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.columns {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 10px;\n}\n\n.bouton {\n  width: 100%;\n}\n\n.buttonList {\n  display: grid;\n  grid-gap: 10px;\n}\n</style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsHidden :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n    Entry\n  </CatalogueRightPanelFieldsHidden>\n\n  <CatalogueRightPanelFieldsQuickConstraints\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    :withCategory=\"false\"\n    class=\"section\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Category } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Category>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsHidden :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n    Entry\n  </CatalogueRightPanelFieldsHidden>\n\n  <CatalogueRightPanelFieldsQuickConstraints\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    :withCategory=\"true\"\n    class=\"section\"\n  >\n  </CatalogueRightPanelFieldsQuickConstraints>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Force } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Force>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Characteristics</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Profile Type: </td>\n\n        <td>\n          <UtilAutocomplete\n            :options=\"profileTypes\"\n            :filterField=\"(o) => o.getName()\"\n            valueField=\"id\"\n            v-model=\"item.typeId\"\n            @change=\"changed\"\n          >\n            <template #option=\"{ option }\">\n              <div class=\"flex align-items flex-row\">\n                <img class=\"mr-1 my-auto\" :src=\"`./assets/bsicons/${option.editorTypeName}.png`\" /><span class=\"inline\">\n                  {{ getName(option) }} <span class=\"grey\">{{ getNameExtra(option) }}</span>\n                </span>\n              </div>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n    </table>\n    <table class=\"editorTable\">\n      <tr v-for=\"char of charactacteristics\">\n        <td>{{ char.name }}: </td>\n        <td><UtilEditableDiv v-model=\"char.$text\" @change=\"changed\" /></td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { getName, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Link, Profile, ProfileType } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<Profile>,\n      required: true,\n    },\n  },\n  methods: {\n    getName,\n    getNameExtra,\n    changedType() {\n      this.item.getCatalogue().refreshErrors(this.item as EditorBase & (Profile | Link<Profile>));\n      this.$emit(\"catalogueChanged\");\n    },\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  computed: {\n    profileTypes() {\n      return [...this.catalogue.iterateProfileTypes()];\n    },\n\n    charactacteristics() {\n      const existing = {} as Record<string, any>;\n      for (const c of this.item.characteristics || []) {\n        existing[c.name] = c.$text;\n      }\n      const type = this.catalogue.findOptionById(this.item.typeId) as ProfileType;\n      if (!this.item.isLink()) {\n        this.item.typeName = type?.name;\n      }\n\n      const result = type?.characteristicTypes?.map((elt) => ({\n        name: elt.name,\n        typeId: elt.id,\n        $text: existing[elt.name] || \"\",\n      }));\n      this.item.characteristics = result;\n      return result;\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsHidden :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n    Constraints\n  </CatalogueRightPanelFieldsHidden>\n\n  <CatalogueRightPanelFieldsCharacteristics\n    class=\"section\"\n    :item=\"item\"\n    :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIProfile } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<BSIProfile>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Description</legend>\n    <UtilEditableDiv\n      v-model=\"item.description\"\n      @change=\"changed\"\n    ></UtilEditableDiv>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<{ description: string }>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsHidden :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n    Constraints\n  </CatalogueRightPanelFieldsHidden>\n\n  <CatalogueRightPanelFieldsDescription\n    class=\"section\"\n    :item=\"item\"\n    :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Rule } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<Rule>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend><slot /></legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Type:</td>\n        <td>\n          <select v-model=\"item.type\" @change=\"changed\">\n            <option value=\"model\">Model</option>\n            <option value=\"upgrade\">Upgrade</option>\n            <option value=\"unit\">Unit</option>\n            <option value=\"mount\">Mount</option>\n            <option value=\"crew\">Crew</option>\n          </select>\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<{\n        type: \"model\" | \"unit\" | \"upgrade\" | \"mount\" | \"crew\";\n      }>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Creation</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Default Amount:</td>\n        <td>\n          <input\n            class=\"input\"\n            type=\"number\"\n            v-model=\"item.defaultAmount\"\n            @change=\"changed\"\n            :placeholder=\"placeholder\"\n          />\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<{\n        defaultAmount?: number;\n        isLink(): boolean;\n        getDefaultAmount(): number | undefined;\n      }>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  computed: {\n    placeholder(): string {\n      return `${this.item.isLink() ? this.item.getDefaultAmount() || \"unset\" : \"unset\"}`;\n    },\n  },\n};\n</script>\n<style scoped>\n.input {\n  max-width: 100px;\n}\n</style>\n","<template>\n  <input v-model=\"stringValue\" type=\"number\" @change=\"update\" :required=\"required\" :min=\"min\" :max=\"max\" />\n</template>\n\n<script lang=\"ts\">\nexport default {\n  props: {\n    modelValue: {\n      type: [Number, String],\n    },\n    required: {\n      type: Boolean,\n      required: false,\n    },\n    min: {\n      type: Number,\n      required: false,\n    },\n    max: {\n      type: Number,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      stringValue: null as string | null,\n      intValue: 0,\n    };\n  },\n\n  watch: {\n    modelValue() {\n      this.refresh();\n    },\n  },\n\n  created() {\n    this.refresh();\n  },\n\n  methods: {\n    refresh() {\n      this.intValue = this.modelValue || 0;\n      this.stringValue = \"\" + this.modelValue;\n    },\n\n    update() {\n      if (this.stringValue != null) {\n        this.intValue = parseFloat(this.stringValue);\n        this.$emit(\"update:modelValue\", this.intValue);\n        this.$emit(\"change\");\n      }\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Costs</legend>\n    <div class=\"costs\">\n      <div v-for=\"cost of costTypes\">\n        <label>{{ cost.name }}: </label>\n        <UtilNumberInput\n          v-if=\"selectedCosts[cost.id] != null\"\n          v-model=\"selectedCosts[cost.id].value\"\n          class=\"input\"\n          @change=\"changed\"\n          placeholder=\"unset\"\n        />\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSICost, BSICostType } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  data() {\n    return {\n      selectedCosts: {} as Record<string, BSICost>,\n    };\n  },\n\n  created() {\n    this.update();\n  },\n\n  props: {\n    item: {\n      type: Object as PropType<{ costs?: BSICost[] }>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  computed: {\n    costTypes() {\n      let res: BSICostType[] = [];\n      for (let elt of this.catalogue.iterateCostTypes()) {\n        res.push(elt);\n      }\n      return res;\n    },\n  },\n\n  methods: {\n    changed() {\n      this.item.costs = Object.values(this.selectedCosts).filter((o) => isFinite(o.value));\n      this.$emit(\"catalogueChanged\");\n    },\n\n    update() {\n      this.selectedCosts = {};\n      const defaultValue = ((this.item as EditorBase).isLink() ? undefined : 0) as number;\n      for (let cost of Object.values(this.costTypes)) {\n        this.selectedCosts[cost.id] = {\n          name: cost.name,\n          typeId: cost.id,\n          value: defaultValue,\n        };\n      }\n\n      if (this.item.costs) {\n        for (let cost of this.item.costs) {\n          this.selectedCosts[cost.typeId] = {\n            name: cost.name,\n            typeId: cost.typeId,\n            value: cost.value,\n          };\n        }\n      }\n    },\n  },\n\n  watch: {\n    item() {\n      this.update();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.costs {\n  display: flex;\n  > div {\n    margin-right: 10px;\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n}\n\n.input {\n  max-width: 100px;\n}\n</style>\n","<template>\n  <fieldset>\n    <legend><slot></slot></legend>\n    <div class=\"booleans\">\n      <div v-for=\"field of fields.filter((f) => f.status != -1)\">\n        <input\n          :class=\"{ 'cursor-pointer': field.status !== 0 }\"\n          :id=\"(field.field as string)\"\n          type=\"checkbox\"\n          v-model=\"item[field.field]\"\n          @change=\"changed\"\n          :disabled=\"field.status == 0\"\n        />\n        <label\n          :class=\"{ 'cursor-pointer': field.status !== 0, gray: field.status == 0, hastooltip: Boolean(field.title) }\"\n          :for=\"(field.field as string)\"\n          :title=\"field.title\"\n        >\n          {{ field.name }}\n        </label>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Base } from \"~/assets/shared/battlescribe/bs_main\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\ninterface BooleanField {\n  name: string;\n  status: number;\n  field: keyof (Base & EditorBase);\n  title?: string;\n}\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Base & EditorBase>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n\n  computed: {\n    fields() {\n      return [\n        {\n          name: \"Hidden\",\n          status: this.hidden,\n          field: \"hidden\",\n        },\n        {\n          name: \"Collective\",\n          status: this.collective,\n          field: \"collective\",\n          title: \"indicates that multiple instances of this entry may be combined into one entry with an amount\",\n        },\n        {\n          name: \"Import\",\n          status: this.eimport,\n          field: \"import\",\n          title: \"Indicates that this entry may be imported by other catalogues\",\n        },\n      ] as BooleanField[];\n    },\n\n    hidden() {\n      return true;\n    },\n\n    collective() {\n      if (this.item.parent?.isCatalogue()) {\n        const parentkey = this.item.parentKey;\n        if (parentkey === \"selectionEntries\" || parentkey === \"entryLinks\") return 0;\n      }\n\n      switch (this.item.editorTypeName) {\n        case \"selectionEntryLink\":\n          return 1;\n        case \"selectionEntryGroupLink\":\n          return 1;\n        case \"selectionEntry\":\n          return 1;\n        case \"selectionEntryGroup\":\n          return 1;\n\n        case \"categoryLink\":\n          return -1;\n\n        case \"infoLink\":\n          return -1;\n        case \"profileLink\":\n          return -1;\n        case \"ruleLink\":\n          return -1;\n        case \"infoGroupLink\":\n          return -1;\n      }\n      return 1;\n    },\n\n    eimport() {\n      if (this.item.parent?.isCatalogue()) {\n        return 1;\n      }\n\n      switch (this.item.editorTypeName) {\n        case \"selectionEntryLink\":\n          return 0;\n        case \"selectionEntryGroupLink\":\n          return 0;\n        case \"selectionEntry\":\n          return 0;\n        case \"selectionEntryGroup\":\n          return 0;\n\n        case \"categoryLink\":\n          return -1;\n\n        case \"infoLink\":\n          return -1;\n        case \"profileLink\":\n          return -1;\n        case \"ruleLink\":\n          return -1;\n        case \"infoGroupLink\":\n          return -1;\n      }\n      return 0;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.booleans {\n  display: flex;\n  > div {\n    margin-right: 10px;\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>Categories ({{ count }})</legend>\n    <input class=\"section\" type=\"text\" v-model=\"filter\" placeholder=\"Filter categories...\" />\n    <div class=\"section inline\">\n      <input type=\"checkbox\" id=\"onlyEnabled\" v-model=\"settings.showOnlyEnabledCategories\" />\n      <label for=\"onlyEnabled\">Only show selected categories</label>\n    </div>\n    <div class=\"section categoryList\">\n      <div>\n        <input name=\"primary\" type=\"radio\" :checked=\"noPrimary\" @change=\"primaryChanged(null)\" />\n        No Primary\n      </div>\n\n      <div v-for=\"cat of categories\" class=\"category\" :key=\"cat.id\">\n        <div>\n          <input name=\"primary\" type=\"radio\" :checked=\"hasCategory(cat) == 2\" @change=\"primaryChanged(cat)\" />\n          Primary?\n        </div>\n        <div>\n          <input\n            :id=\"`cat${cat.id}`\"\n            type=\"checkbox\"\n            :checked=\"hasCategory(cat) != 0\"\n            @change=\"secondaryChanged(cat)\"\n          />\n          <label :for=\"`cat${cat.id}`\">{{ cat.name }}</label>\n        </div>\n      </div>\n\n      <div v-for=\"cat of badLinks\" class=\"category\" :key=\"cat.id\">\n        <div>\n          <input name=\"primary\" type=\"radio\" :checked=\"hasCategory(cat) == 2\" @change=\"primaryChanged(cat)\" />\n          Primary?\n        </div>\n        <div>\n          <input :id=\"`bad${cat.id}`\" type=\"checkbox\" :checked=\"true\" @change=\"removeLink(item.categoryLinks!, cat)\" />\n          <label :for=\"`bad${cat.id}`\">{{ cat.name }}</label>\n          <ErrorIcon\n            class=\"ml-5px inline\"\n            :errors=\"[{ msg: `Couldn't find category with id: ${cat.targetId}`, severity: 'error' }]\"\n          />\n        </div>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Base, Category, CategoryLink, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { setPrototype } from \"~/assets/shared/battlescribe/bs_main_types\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  data() {\n    return {\n      filter: \"\",\n      primaries: new Set<string>(),\n      secondaries: new Set<string>(),\n    };\n  },\n  setup() {\n    return { settings: useSettingsStore() };\n  },\n  props: {\n    item: {\n      type: Object as PropType<Link & EditorBase>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    primaryChanged(cat: Category | null) {\n      this.refreshCategories(this.item, cat, true);\n    },\n\n    secondaryChanged(cat: Category) {\n      this.refreshCategories(this.item, cat, false);\n    },\n\n    refreshCategories(item: Link & EditorBase, cat: Category | null, primary: boolean) {\n      if (!item.categoryLinks) item.categoryLinks = [];\n      const links = item.categoryLinks;\n      if (primary) {\n        links.forEach((o) => (o.primary = false));\n      }\n      if (cat) {\n        const found = links.find((o) => o.targetId === cat?.id);\n        if (found && primary) {\n          found.primary = true;\n        } else if (found) {\n          this.removeLink(links, found);\n        } else {\n          this.addLink(links, cat, primary);\n        }\n      }\n      this.changed();\n    },\n    removeLink(links: Array<CategoryLink>, link: Link) {\n      const idx = links.findIndex((o) => o === link);\n      if (idx !== -1) {\n        const [cl] = links.splice(idx, 1);\n        this.catalogue.removeFromIndex(cl as CategoryLink & EditorBase);\n        const targetLinks = (cl.target as Category & EditorBase).links as Base[];\n        if (targetLinks) {\n          const targetIdx = targetLinks?.findIndex((o) => o === cl);\n          if (targetIdx !== -1) {\n            targetLinks?.splice(targetIdx, 1);\n          }\n        }\n      }\n    },\n    addLink(links: Link[], cat: Category, primary = false) {\n      if (!cat.isCategory()) {\n        throw Error(\"Invalid argument, target must be a category\");\n      }\n      const cl = setPrototype(\n        {\n          targetId: cat.id,\n          target: cat,\n          id: this.catalogue.generateNonConflictingId(),\n          primary: primary,\n          catalogue: this.catalogue,\n          name: cat.name,\n        },\n        \"categoryLinks\"\n      );\n      links.push(cl);\n      this.catalogue.addToIndex(cl);\n      const target = cat as Category & EditorBase;\n      if (!target.links) {\n        target.links = [];\n      }\n      target.links?.push(cl as CategoryLink & EditorBase);\n      return cl;\n    },\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n\n    hasCategory(cat: Category) {\n      let link = this.item.categoryLinks?.find((elt) => elt.target?.id === cat.id);\n      if (!link) {\n        return 0;\n      }\n      if (link.primary) {\n        return 2;\n      }\n      return 1;\n    },\n\n    noPrimary() {\n      let res = true;\n      if (this.item.categoryLinks) {\n        for (let cat of this.item.categoryLinks) {\n          if (cat.primary) {\n            return false;\n          }\n        }\n      }\n      return res;\n    },\n  },\n\n  computed: {\n    badLinks() {\n      const result = [];\n      const categories = new Set<String>();\n      for (const category of this.catalogue.iterateCategoryEntries()) {\n        categories.add(category.id);\n      }\n      for (const cl of this.item.categoryLinks || []) {\n        if (!categories.has(cl.targetId)) {\n          result.push(cl);\n        }\n      }\n      return result;\n    },\n    count() {\n      return this.item.categoryLinks?.length || 0;\n    },\n    categories() {\n      let res: Category[] = [];\n\n      for (let cat of this.catalogue.iterateCategoryEntries()) {\n        if (this.settings.showOnlyEnabledCategories && this.hasCategory(cat) == 0) {\n          continue;\n        }\n        if (cat.getName().toLowerCase().includes(this.filter.toLowerCase())) {\n          res.push(cat);\n        }\n      }\n\n      return res;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.category {\n  display: grid;\n  grid-template-columns: max-content max-content;\n  grid-gap: 20px;\n}\n\n.categoryList {\n  max-height: 200px;\n  overflow: auto;\n}\n</style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsEntryType :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n    Selection Entry\n  </CatalogueRightPanelFieldsEntryType>\n  <CatalogueRightPanelFieldsCreation :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsCosts :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsBooleans :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n    Entry\n  </CatalogueRightPanelFieldsBooleans>\n\n  <CatalogueRightPanelFieldsCategories\n    :item=\"item\"\n    :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\"\n    class=\"section\"\n  />\n\n  <CatalogueRightPanelFieldsQuickConstraints\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    :withCategory=\"false\"\n    class=\"section\"\n  >\n  </CatalogueRightPanelFieldsQuickConstraints>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<any>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Link</legend>\n    <table class=\"editorTable\">\n      <tr v-if=\"type == 'entry'\">\n        <td>Link Type:</td>\n        <td>\n          <select @change=\"typeChanged\" v-model=\"item.type\">\n            <option v-if=\"allowEntries\" value=\"selectionEntry\">Selection Entry</option>\n            <option v-if=\"allowGroups\" value=\"selectionEntryGroup\"> Selection Entry Group </option>\n          </select>\n        </td>\n      </tr>\n      <tr v-if=\"type == 'info'\">\n        <td>Link Type:</td>\n        <td>\n          <select @change=\"typeChanged\" v-model=\"item.type\">\n            <option :value=\"'profile'\">Profile</option>\n            <option :value=\"'rule'\"> Rule </option>\n            <option :value=\"'infoGroup'\"> Info Group </option>\n          </select>\n        </td>\n      </tr>\n      <tr>\n        <td>Link To:</td>\n        <td>\n          <template v-if=\"item.target\">\n            <img class=\"linkIcon\" v-if=\"item.type\" :src=\"`./assets/bsicons/${getType(item)}.png`\" />\n            {{ item.target.name }}\n          </template>\n          <template v-else>\n            <img class=\"errIcon\" src=\"/assets/icons/error_exclamation.png\" /> No target selected\n          </template>\n        </td>\n      </tr>\n      <tr>\n        <td>Target ID:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.targetId\" @change=\"targetIdChanged\" />\n        </td>\n      </tr>\n      <tr>\n        <td>Target:</td>\n        <td>\n          <UtilAutocomplete\n            v-model=\"item.targetId\"\n            :placeholder=\"`Search Target...`\"\n            :options=\"availableTargets\"\n            valueField=\"id\"\n            filterField=\"name\"\n            @change=\"targetIdChanged\"\n          >\n            <template #option=\"opt\">\n              <div>\n                <img class=\"mr-1 align-middle\" :src=\"`./assets/bsicons/${opt.option.editorTypeName}.png`\" />\n                {{ opt.option.name }}\n                <span class=\"gray\">{{ getNameExtra(opt.option, false) }}</span>\n                <span class=\"shared\" v-if=\"opt.option.shared\"> (shared)</span>\n                <span class=\"catalogueName\" v-if=\"showCatalogue(opt.option)\"> [{{ opt.option.catalogue }}]</span>\n              </div>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n      <tr v-if=\"type === 'catalogue'\">\n        <td></td>\n        <td>\n          <input @change=\"changedImportRootEntries\" id=\"importRoot\" type=\"checkbox\" v-model=\"item.importRootEntries\" />\n          <label for=\"importRoot\">Import Root Entries</label></td\n        >\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { ItemTypes, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { sortByAscending } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { Base, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { EditorSearchItem } from \"~/assets/ts/catalogue/catalogue_helpers\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  setup() {\n    return { store: useEditorStore() };\n  },\n  emits: [\"catalogueChanged\"],\n\n  data() {\n    return {\n      filter: \"\",\n      val: null as any,\n    };\n  },\n\n  props: {\n    item: {\n      type: Object as PropType<EditorBase & Link>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    type: {\n      type: String,\n      required: true,\n    },\n  },\n\n  computed: {\n    allowEntries() {\n      return true;\n    },\n\n    allowGroups() {\n      if (this.item.parent?.isCatalogue() && this.item.parentKey === \"entryLinks\") {\n        return false;\n      }\n      return true;\n    },\n  },\n  methods: {\n    getNameExtra,\n    availableTargets() {\n      if (this.type === \"catalogue\") {\n        const id = this.catalogue.gameSystemId || this.catalogue.id;\n        const values = Object.values(this.store.get_system(id).catalogueFiles);\n        const catalogues = values.map((elt) => {\n          return { id: elt.catalogue.id, name: elt.catalogue.name, editorTypeName: \"catalogueLink\" };\n        });\n        return catalogues;\n      }\n      const all = [];\n      for (const entry of this.catalogue.iterateAllImported()) {\n        if (!this.targetIsValid(entry as ItemTypes)) continue;\n        if (entry.isLink()) continue;\n        all.push(entry);\n      }\n      return sortByAscending(all, (o) => o.name) as Array<Base & EditorBase>;\n    },\n    typeChanged() {},\n\n    targetIdChanged() {\n      this.updateLink();\n      this.changed();\n    },\n\n    async updateLink() {\n      if (this.type === \"catalogue\" && this.item.targetId) {\n        const sysId = this.catalogue.gameSystemId || this.catalogue.id;\n        await this.catalogue.reload(this.store.get_system(sysId));\n        const target = this.item.target as (Catalogue & EditorBase) | undefined;\n        this.item.name = this.item.target?.name || \"Unknown\";\n        this.item.type = (target?.editorTypeName || this.type) as any;\n      } else {\n        this.catalogue.updateLink(this.item);\n        const target = this.item.target as EditorBase | undefined;\n        this.item.name = target?.name || \"Unknown\";\n        this.item.type = (target?.editorTypeName || this.item.type) as any;\n      }\n    },\n    changedImportRootEntries() {\n      this.changed();\n    },\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n\n    getType(item: Link): string {\n      if (!item.target) {\n        return \"bullet\";\n      }\n\n      return (item.target as EditorBase).editorTypeName;\n    },\n\n    itemName(elt: Base) {\n      return elt.name;\n    },\n\n    itemValue(elt: Base) {\n      return elt.name;\n    },\n\n    targetIsValid(target: ItemTypes) {\n      if (this.item.type == undefined || this.item.type === \"category\") {\n        return target.editorTypeName == \"category\";\n      }\n      return target.editorTypeName == this.item.type;\n    },\n\n    showCatalogue(opt: EditorSearchItem): boolean {\n      if (!opt.catalogue) {\n        return false;\n      }\n      if (opt.catalogue === this.item.catalogue?.getName()) {\n        return false;\n      }\n      return true;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.linkIcon {\n  vertical-align: middle;\n}\n\n.errIcon {\n  vertical-align: -2px;\n}\n\n.catalogueName {\n  color: rgb(144, 152, 197);\n  font-style: italic;\n}\n\n.shared {\n  color: $gray;\n  font-style: italic;\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFKSURBVDhPpZLBSgJRFIbvuTtHXyBaWEG0TRxFCAJd9B6B4CLoXaKVLVr4FK3GTRGEMwvXYYPQI1TQ4D2d/3gVnEFh7IPBc37mHD2/P5kcH63WuVssBmxMT9pjaESUOmPGhnl4miQJtBXrBfNOp/KbZXdS9kUsLAaylGXJY4Xo9jCOv6Hpi374SZpL9CuOosgYa03a7cqojHsc80tAdIUlFgK+OT8MbK2mTx5LdPHDfK81bpbPPppSEF2/NxqhhWHbbt6FzhANrHd7L2RJDx7oX7UndTXxP4ihlPq6NHL+3Drnxr4vMGu3zSwMNzKQI7Li5FATVh5eED1YzbbE04sbnEwm+mxhdBbHb2oiss3Mzyp7bLXqq2Uic7wGWXaDYh2gz2Yz0HhKwnYEC6eOMHwwnX5BKLyIeCJhCIm0dWjqthiWyc342dCWGPMHCdh2fZxOhd0AAAAASUVORK5CYII=\"","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference\n    v-if=\"type != 'catalogue'\"\n    :item=\"item\"\n    :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\"\n    class=\"section\"\n  />\n\n  <CatalogueRightPanelFieldsLink\n    :item=\"item\"\n    :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\"\n    class=\"section\"\n    :type=\"type\"\n  />\n\n  <CatalogueRightPanelFieldsCosts\n    v-if=\"item.editorTypeName == 'selectionEntryLink'\"\n    :item=\"item\"\n    :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\"\n    class=\"section\"\n  />\n  <CatalogueRightPanelFieldsCreation\n    v-if=\"item.editorTypeName == 'selectionEntryLink'\"\n    :item=\"item\"\n    :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\"\n    class=\"section\"\n  />\n\n  <CatalogueRightPanelFieldsBooleans\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    class=\"section\"\n    v-if=\"type != 'catalogue'\"\n  >\n    Entry\n  </CatalogueRightPanelFieldsBooleans>\n\n  <CatalogueRightPanelFieldsCategories\n    v-if=\"item.editorTypeName == 'selectionEntryLink' || item.editorTypeName == 'selectionEntryGroupLink'\"\n    :item=\"item\"\n    :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\"\n    class=\"section\"\n  />\n\n  <CatalogueRightPanelFieldsQuickConstraints\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    :withCategory=\"false\"\n    class=\"section\"\n    v-if=\"type == 'entry' || type == 'category'\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Base, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Link & EditorBase>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n\n    type: {\n      type: String,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"container\" :class=\"{ disabled: disabled }\">\n    <div @click=\"startEditing\" class=\"iconselect-input\" v-click-outside=\"onClickOutside\">\n      <span class=\"gray\" v-if=\"!selectedOption\">{{ placeholder }}</span>\n      <slot v-else v-bind=\"selectedOption\" name=\"option\"></slot>\n    </div>\n\n    <div class=\"suggestions\" :class=\"{ hidden: !editing }\">\n      <div v-for=\"option of availableOptions\" @click=\"targetSelected(option)\">\n        <slot v-bind=\"option\" name=\"option\"></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\n\ntype OptionArray = Array<{ option: any; selected?: boolean }>;\n\nexport default {\n  props: {\n    modelValue: {\n      type: Object as PropType<any>,\n    },\n\n    placeholder: {\n      type: String,\n      default: \"Search...\",\n    },\n\n    fetch: {\n      type: Function,\n      required: true,\n    },\n\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  created() {\n    this.reset();\n  },\n\n  data() {\n    return {\n      searchPattern: \"\",\n      lastSearch: null as string | null,\n      editing: false,\n      selectedOption: null as { option: any; selected?: boolean } | null,\n      availableOptions: [] as OptionArray,\n    };\n  },\n\n  methods: {\n    async foundOptions(): Promise<OptionArray> {\n      const res = await this.fetch();\n      return res.map((elt: any) => {\n        return { option: elt };\n      });\n    },\n\n    targetSelected(opt: any) {\n      let res = opt.option;\n      this.selectedOption = {\n        option: opt.option,\n        selected: true,\n      };\n      this.$emit(\"update:modelValue\", res);\n      this.$emit(\"change\", opt.option);\n      this.editing = false;\n    },\n\n    reset() {\n      this.searchPattern = \"\";\n      this.selectedOption = null;\n      if (this.modelValue) {\n        this.selectedOption = {\n          option: this.modelValue,\n          selected: true,\n        };\n      }\n    },\n\n    onClickOutside() {\n      this.editing = false;\n    },\n\n    async startEditing() {\n      if (this.disabled) {\n        return;\n      }\n      this.editing = true;\n      this.availableOptions = (await this.foundOptions()) as Array<{ option: any; selected?: boolean }>;\n    },\n\n    clicked() {\n      this.editing = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.suggestions {\n  position: absolute;\n  top: 100%;\n  margin-top: 3px;\n  max-height: 300px;\n\n  overflow-y: auto;\n  z-index: 1;\n  width: 100%;\n  display: grid;\n  box-shadow: rgba(22, 1, 1, 0.74) 0px 3px 8px;\n  border-top: 1px $box_border;\n  border-bottom: 1px $box_border;\n\n  > * {\n    background-color: var(--input-background);\n    border-left: 1px $box_border;\n    border-right: 1px $box_border;\n    border-bottom: none;\n    padding: 5px;\n\n    &:hover {\n      background-color: $blue;\n    }\n  }\n}\n\n.view {\n  background-color: var(--input-background);\n}\n\n.container {\n  position: relative;\n}\n\n.input {\n  width: 100%;\n}\n\n.hidden {\n  display: none;\n}\n\n.container {\n  input {\n    height: 33px;\n  }\n}\n\n.iconselect-input {\n  background-color: var(--input-background);\n  width: 100% !important;\n  padding-right: 30px;\n}\n\n.iconselect-input::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  right: 10px;\n  transform: translateY(-50%);\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid #000;\n  filter: var(--image-filter);\n}\n\n.disabled {\n  color: $gray;\n\n  .iconselect-input::before {\n    border-top: 5px solid $gray;\n  }\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>Modifier</legend>\n    <div class=\"modifier\">\n      <select v-if=\"selectedOperation\" v-model=\"selectedOperation\" @change=\"changed\">\n        <option :value=\"operation\" v-for=\"operation of operations\">\n          {{ operation.name }}\n        </option>\n      </select>\n\n      <UtilIconSelect\n        v-model=\"selectedField\"\n        :fetch=\"() => fieldData\"\n        @change=\"fieldChanged\"\n        class=\"modType min-w-200px\"\n      >\n        <template #option=\"opt\">\n          <div class=\"flex align-items flex-row\">\n            <img class=\"mr-1 my-auto\" :src=\"`./assets/bsicons/${opt.option.modifierType}.png`\" /><span class=\"inline\">{{\n              opt.option.name\n            }}</span>\n          </div>\n        </template>\n      </UtilIconSelect>\n\n      <span v-if=\"selectedOperation\"> {{ selectedOperation.word }} </span>\n      <UtilNumberInput @change=\"changed\" v-if=\"inputType === 'number'\" v-model=\"(item.value as number)\" />\n      <select @change=\"changed\" v-if=\"inputType == 'boolean'\" v-model=\"item.value\">\n        <option :value=\"true\">True</option>\n        <option :value=\"false\">False</option>\n      </select>\n      <input @change=\"changed\" type=\"text\" v-if=\"inputType.includes('string')\" v-model=\"item.value\" />\n\n      <UtilAutocomplete\n        v-if=\"inputType == 'category'\"\n        :options=\"allCategories\"\n        :filterField=\"(o) => o.getName()\"\n        valueField=\"id\"\n        v-model=\"item.value\"\n        @change=\"changed\"\n      >\n        <template #option=\"{ option }\">\n          <div class=\"flex align-items flex-row\">\n            <img class=\"mr-1 my-auto\" :src=\"`./assets/bsicons/${option.editorTypeName}.png`\" /><span class=\"inline\">\n              {{ getName(option) }} <span class=\"grey\">{{ getNameExtra(option) }}</span>\n            </span>\n          </div>\n        </template>\n      </UtilAutocomplete>\n      <UtilAutocomplete\n        v-if=\"inputType == 'defaultSelectionEntryId'\"\n        :options=\"allGroupEntries\"\n        :filterField=\"(o) => o.getName()\"\n        valueField=\"id\"\n        v-model=\"item.value\"\n        @change=\"changed\"\n      >\n        <template #option=\"{ option }\">\n          <div class=\"flex align-items flex-row\">\n            <img class=\"mr-1 my-auto\" :src=\"`./assets/bsicons/${option.editorTypeName}.png`\" /><span class=\"inline\">\n              {{ getName(option) }} <span class=\"grey\">{{ getNameExtra(option) }}</span>\n            </span>\n          </div>\n        </template>\n      </UtilAutocomplete>\n    </div>\n    <div v-for=\"error in errors\" class=\"mt-8px flex items-center\">\n      <img src=\"/assets/icons/error_exclamation.png\" />\n      <span class=\"ml-10px\">{{ error.msg }}</span>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { getModifierOrConditionParent } from \"~/assets/shared/battlescribe/bs_modifiers\";\nimport { getName, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Category, Profile } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIModifier, BSIModifierType } from \"~/assets/shared/battlescribe/bs_types\";\nimport ErrorIcon from \"~/components/ErrorIcon.vue\";\nimport { first } from \"~/assets/shared/battlescribe/bs_helpers\";\n\ntype FieldTypes = \"string\" | \"number\" | \"category\" | \"boolean\" | \"string-or-number\" | \"defaultSelectionEntryId\";\nconst availableModifiers = {\n  selectionEntry: [\"costs\", \"name\", \"page\", \"hidden\", \"category\", \"constraints\"],\n  selectionEntryLink: [\"costs\", \"name\", \"page\", \"hidden\", \"category\", \"constraints\"],\n  selectionEntryGroup: [\"name\", \"page\", \"hidden\", \"category\", \"constraints\", \"defaultSelectionEntryId\"],\n  selectionEntryGroupLink: [\"name\", \"page\", \"hidden\", \"category\", \"constraints\", \"defaultSelectionEntryId\"],\n  profile: [\"characteristics\", \"name\", \"description\", \"page\", \"hidden\"],\n  profileLink: [\"characteristics\", \"name\", \"description\", \"page\", \"hidden\"],\n  rule: [\"name\", \"description\", \"page\", \"hidden\"],\n  ruleLink: [\"name\", \"description\", \"page\", \"hidden\"],\n  infoLink: [\"name\", \"page\", \"hidden\"],\n  infoGroup: [\"name\", , \"page\", \"hidden\"],\n  infoGroupLink: [\"name\", \"page\", \"hidden\"],\n  force: [\"name\", \"page\", \"hidden\", \"constraints\"],\n  category: [\"name\", \"page\", \"hidden\", \"constraints\"],\n  categoryLink: [\"name\", \"page\", \"hidden\", \"constraints\"],\n} as any;\n\nconst availableTypes = {\n  costs: \"number\",\n  name: \"string\",\n  page: \"string\",\n  hidden: \"boolean\",\n  description: \"string\",\n  category: \"category\",\n  defaultSelectionEntryId: \"defaultSelectionEntryId\",\n  constraints: \"number\",\n} as Record<string, FieldTypes>;\nfunction isNumber(value: string | number | boolean | undefined) {\n  return !isNaN(parseFloat(value as string)) && isFinite(value as number);\n}\nexport default {\n  components: { ErrorIcon },\n\n  emits: [\"catalogueChanged\"],\n  data() {\n    return {\n      value: \"\",\n      selectedField: null as {\n        id: string;\n        name: string;\n        type: FieldTypes;\n        modifierType: string;\n        value?: string | number | boolean;\n      } | null,\n      selectedOperation: null as {\n        word: string;\n        id: BSIModifierType;\n        name: string;\n      } | null,\n      selectedValue: null as any,\n    };\n  },\n  created() {\n    this.update();\n  },\n  props: {\n    item: {\n      type: Object as PropType<BSIModifier>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  methods: {\n    getName,\n    getNameExtra,\n    changed() {\n      if (this.selectedField) {\n        this.item.field = this.selectedField.id;\n      }\n      if (this.selectedOperation) {\n        this.item.type = this.selectedOperation.id;\n      }\n      this.$emit(\"catalogueChanged\");\n    },\n    fieldChanged() {\n      this.selectedOperation = this.operations[0];\n      if (this.selectedField) {\n        this.item.value = {\n          number: 0,\n          category: this.allCategories[0].id,\n          string: \"\",\n          \"string-or-number\": \"\",\n          boolean: false,\n          defaultSelectionEntryId: first(this.allGroupEntries)?.id,\n        }[this.selectedField.type];\n      }\n      this.changed();\n    },\n    update() {\n      this.selectedField = this.fieldData.find((elt) => elt.id === this.item.field) || null;\n      this.selectedOperation = this.operations.find((op) => op.id === this.item.type) || null;\n      if (!this.selectedField) {\n        this.selectedField = this.fieldData[0];\n      }\n      if (!this.selectedOperation) {\n        this.selectedOperation = this.operations[0] || null;\n      }\n    },\n  },\n  watch: {\n    item() {\n      this.update();\n    },\n  },\n  computed: {\n    inputType() {\n      if (!this.selectedField) {\n        return \"\";\n      }\n      if (this.selectedField.type === \"category\") {\n        return \"category\";\n      }\n      if (this.selectedField.type === \"defaultSelectionEntryId\") {\n        return \"defaultSelectionEntryId\";\n      }\n      if (this.selectedField.type === \"number\") {\n        return \"number\";\n      }\n      if (this.selectedField.type === \"boolean\") {\n        return \"boolean\";\n      }\n      if (this.selectedOperation?.id === \"increment\" || this.selectedOperation?.id === \"decrement\") {\n        return \"number\";\n      }\n      return \"string\";\n    },\n    parent() {\n      return getModifierOrConditionParent(this.item as any as EditorBase);\n    },\n    allCategories(): Category[] {\n      let res: Category[] = [];\n      for (let elt of this.catalogue.iterateCategoryEntries()) {\n        res.push(elt);\n      }\n      return res;\n    },\n    allGroupEntries() {\n      return [...(this.parent?.selectionsIterator() || [])];\n    },\n    operations(): {\n      id: BSIModifierType;\n      name: string;\n      word: string;\n    }[] {\n      if (!this.selectedField) {\n        return [];\n      }\n      type Operation = {\n        id: BSIModifierType;\n        name: string;\n        word: string;\n      };\n      let ops: Record<string, Operation[]> = {\n        number: [\n          {\n            id: \"set\",\n            name: \"Set\",\n            word: \"to\",\n          },\n          {\n            id: \"increment\",\n            name: \"Increment\",\n            word: \"by\",\n          },\n          {\n            id: \"decrement\",\n            name: \"Decrement\",\n            word: \"by\",\n          },\n        ],\n        string: [\n          {\n            id: \"set\",\n            name: \"Set\",\n            word: \"to\",\n          },\n          {\n            id: \"append\",\n            name: \"Append\",\n            word: \"to\",\n          },\n        ],\n        \"string-or-number\": [\n          {\n            id: \"set\",\n            name: \"Set\",\n            word: \"to\",\n          },\n          {\n            id: \"append\",\n            name: \"Append\",\n            word: \"to\",\n          },\n          {\n            id: \"increment\",\n            name: \"Increment\",\n            word: \"by\",\n          },\n          {\n            id: \"decrement\",\n            name: \"Decrement\",\n            word: \"by\",\n          },\n        ],\n        boolean: [\n          {\n            id: \"set\",\n            name: \"Set\",\n            word: \"to\",\n          },\n        ],\n        defaultSelectionEntryId: [\n          {\n            id: \"set\",\n            name: \"Set\",\n            word: \"\",\n          },\n        ],\n        category: [\n          {\n            id: \"add\",\n            name: \"Add\",\n            word: \"\",\n          },\n          {\n            id: \"remove\",\n            name: \"Remove\",\n            word: \"\",\n          },\n          {\n            id: \"set-primary\",\n            name: \"Set Primary\",\n            word: \"to\",\n          },\n          {\n            id: \"unset-primary\",\n            name: \"Unset Primary\",\n            word: \"to\",\n          },\n        ],\n      };\n      return ops[this.selectedField.type];\n    },\n    errors() {\n      return [];\n    },\n    fieldData() {\n      if (!this.parent) {\n        return [];\n      }\n      let available: string[] = availableModifiers[this.parent.editorTypeName];\n      const additional: {\n        id: string;\n        name: string;\n        type: FieldTypes;\n        modifierType: string;\n      }[] = [];\n      if (!available) {\n        return [];\n      }\n      if (available.includes(\"costs\")) {\n        for (const costType of this.catalogue.iterateCostTypes()) {\n          additional.push({\n            id: costType.id,\n            name: costType.name,\n            type: \"number\" as FieldTypes,\n            modifierType: \"cost\",\n          });\n        }\n      }\n      if (available.includes(\"constraints\")) {\n        for (const constraint of this.parent.constraintsIterator())\n          additional.push({\n            id: constraint.id,\n            name: getName(constraint),\n            type: \"number\" as FieldTypes,\n            modifierType: \"constraint\",\n          });\n      }\n      if (available.includes(\"characteristics\")) {\n        const target = (this.parent.isLink() ? this.parent.target : this.parent) as Profile & EditorBase;\n        if (target?.characteristics) {\n          additional.push(\n            ...target.characteristics.map((o) => ({\n              id: o.typeId,\n              name: o.name,\n              type: \"string-or-number\" as FieldTypes,\n              modifierType: \"characteristic\",\n              value: o.$text,\n            }))\n          );\n        }\n      }\n      if (available.includes(\"category\")) {\n        additional.push({\n          id: \"category\",\n          name: \"Category\",\n          type: \"category\",\n          modifierType: \"category\",\n        });\n      }\n      // Filter out special fields\n      available = available.filter(\n        (elt) => [\"costs\", \"constraints\", \"category\", \"characteristics\"].includes(elt) == false\n      );\n      return available\n        .map((elt) => {\n          return {\n            id: elt,\n            name: elt,\n            type: availableTypes[elt],\n            modifierType: \"bullet\",\n          };\n        })\n        .concat(additional);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.modifier {\n  display: grid;\n  grid-template-columns: auto auto auto 1fr;\n  grid-gap: 5px;\n  align-items: center;\n}\n\n.modType {\n  width: 100%;\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>Quick Conditions</legend>\n    <div class=\"columns\">\n      <div class=\"buttonList\">\n        <button class=\"bouton\" @click=\"add('parent', 'selections', 'atLeast', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />PARENT ATLEAST 1\n        </button>\n        <button class=\"bouton\" @click=\"add('force', 'selections', 'atLeast', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />FORCE ATLEAST 1\n        </button>\n        <button class=\"bouton\" @click=\"add('roster', 'selections', 'atLeast', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />ROSTER ATLEAST 1\n        </button>\n        <button class=\"bouton\" @click=\"add('ancestor', 'selections', 'instanceOf', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />ANCESTOR INSTANCE OF\n        </button>\n      </div>\n      <div class=\"buttonList\">\n        <button class=\"bouton\" @click=\"add('parent', 'selections', 'lessThan', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />PARENT LESS THAN 1\n        </button>\n        <button class=\"bouton\" @click=\"add('force', 'selections', 'lessThan', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />FORCE LESS THAN 1\n        </button>\n        <button class=\"bouton\" @click=\"add('roster', 'selections', 'lessThan', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />ROSTER LESS THAN 1\n        </button>\n        <button class=\"bouton\" @click=\"add('ancestor', 'selections', 'notInstanceOf', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />ANCESTOR NOT INSTANCE OF\n        </button>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { scopeIsId } from \"~/assets/ts/catalogue/catalogue_helpers\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  setup() {\n    return { store: useEditorStore() };\n  },\n  props: {\n    item: {\n      type: Object as PropType<ItemTypes>,\n      required: true,\n    },\n\n    withCategory: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    type() {\n      return this.item.editorTypeName;\n    },\n    parent() {\n      return (this.item as EditorBase).parent;\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n    add(scope: string, field: string, type: string, value: string | number) {\n      if (field === \"id\") {\n        field = (this.item as EditorBase).id;\n      }\n\n      let parent = this.item as EditorBase;\n      this.store.create_child(\"conditions\", parent, {\n        scope: scope,\n        field: field,\n        type: type,\n        value: value,\n        childId: \"any\",\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.columns {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 10px;\n}\n\n.bouton {\n  width: 100%;\n}\n\n.buttonList {\n  display: grid;\n  grid-gap: 10px;\n}\n</style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsModifier class=\"section\" :item=\"item\" @catalogueChanged=\"changed\" :catalogue=\"catalogue\" />\n  <CatalogueRightPanelFieldsQuickConditions\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    :withCategory=\"false\"\n    class=\"section\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue, EditorBase, Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIModifier } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<BSIModifier>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Constraint</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Unique ID:</td>\n        <td><input type=\"text\" v-model=\"item.id\" @change=\"changed\" /></td>\n      </tr>\n    </table>\n    <div class=\"constraint\">\n      <select v-model=\"item.type\" @change=\"changed\">\n        <option value=\"min\">Minimum</option>\n        <option value=\"max\">Maximum</option>\n        <option value=\"exactly\">Exactly</option>\n      </select>\n      <UtilNumberInput v-model=\"item.value\" @change=\"changed\" />\n      <div>\n        <input id=\"percent\" type=\"checkbox\" v-model=\"item.percentValue\" @change=\"changed\" />\n        <label for=\"percent\">Percentage?</label>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { BSIConstraint } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIConstraint>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.constraint {\n  display: grid;\n  grid-template-columns: 1fr 100px max-content;\n  align-items: center;\n  grid-gap: 5px;\n}\n</style>\n","import { getModifierOrConditionParent } from \"~/assets/shared/battlescribe/bs_modifiers\";\nimport { getDataObject } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSICondition, BSIDataCatalogue } from \"~/assets/shared/battlescribe/bs_types\";\nimport { GameSystemFiles } from \"~/assets/shared/battlescribe/local_game_system\";\n\nexport interface EditorSearchItem {\n  id: string;\n  name: string;\n  editorTypeName: string;\n  indent: number;\n  catalogue: string | null;\n  shared: boolean;\n}\n\nfunction recursive(current: Catalogue | EditorBase, iterator: string, result: EditorSearchItem[], indent = 0) {\n  for (const child of (current as any)[iterator]()) {\n    result.push({\n      name: child.name,\n      editorTypeName: child.editorTypeName,\n      id: child.id,\n      indent: indent,\n      catalogue: child.catalogue.getName(),\n      shared: getFirstAncestor(child)?.parentKey?.includes(\"shared\") || false,\n    });\n    recursive(child, iterator, result, indent + 1);\n  }\n}\n\nfunction recursiveWithFilter(\n  current: Catalogue | EditorBase,\n  iterator: string,\n  cb: (current: EditorBase) => unknown,\n  result: EditorSearchItem[],\n  indent = 0\n) {\n  for (const child of (current as any)[iterator]()) {\n    result.push({\n      name: child.name,\n      editorTypeName: child.editorTypeName,\n      id: child.id,\n      indent: indent,\n      catalogue: child.catalogue.getName(),\n      shared: getFirstAncestor(child)?.parentKey?.includes(\"shared\") || false,\n    });\n    recursive(child, iterator, result, indent + 1);\n  }\n}\n\nexport function getSearchElements(\n  catalogue: Catalogue | EditorBase,\n  type: keyof Catalogue | EditorBase\n): EditorSearchItem[] {\n  let res: EditorSearchItem[] = [];\n  recursive(catalogue, type as string, res);\n  return res;\n}\n\nexport function getSearchSelections(\n  catalogue: Catalogue | EditorBase,\n  includeRootSelectionEntries: boolean\n): EditorSearchItem[] {\n  const res: EditorSearchItem[] = [];\n  const iterator = includeRootSelectionEntries ? \"iterateSelectionEntriesWithRoot\" : \"iterateSelectionEntries\";\n  recursive(catalogue, iterator, res);\n  return res;\n}\n\nexport function getSearchSelectionsWithCategory(\n  item: EditorBase,\n  catalogue: Catalogue | EditorBase\n): EditorSearchItem[] {\n  const res: EditorSearchItem[] = [];\n  const primary = item.getPrimaryCategory();\n  recursiveWithFilter(\n    catalogue,\n    \"iterateAllRootEntries\",\n    (o) => getFirstAncestor(o).getPrimaryCategory() === primary,\n    res\n  );\n  return res;\n}\n\nexport function getSearchCategories(catalogue: Catalogue): EditorSearchItem[] {\n  const res: EditorSearchItem[] = [];\n  for (let elt of catalogue.iterateCategoryEntries()) {\n    const current = elt as any;\n    if (current.isCatalogue()) {\n      continue;\n    }\n    res.push({\n      name: current.name,\n      editorTypeName: current.editorTypeName,\n      id: current.id,\n      indent: 0,\n      catalogue: current.catalogue.getName(),\n      shared: getFirstAncestor(current)?.parentKey?.includes(\"shared\") || false,\n    });\n  }\n  return res;\n}\n\nexport function getSearchCatalogues(catalogue: Catalogue): EditorSearchItem[] {\n  const res: EditorSearchItem[] = [];\n  for (const elt of Object.values((catalogue.manager as GameSystemFiles).getAllCatalogueFiles())) {\n    if (!(elt as BSIDataCatalogue).catalogue) continue;\n    const obj = getDataObject(elt);\n    res.push({\n      name: obj.name,\n      editorTypeName: \"catalogue\",\n      id: obj.id,\n      indent: 0,\n      catalogue: null,\n      shared: false,\n    });\n  }\n  return res;\n}\n\nexport function itemDepth(item: EditorBase): number {\n  let res = 0;\n  let parent = getModifierOrConditionParent(item);\n  while (parent) {\n    res++;\n    parent = parent.parent;\n  }\n  return res;\n}\n\nexport function getParentUnitHierarchy(item: EditorBase): EditorSearchItem[] {\n  let res: EditorSearchItem[] = [];\n  let parent: EditorBase | undefined = item;\n  let i = 0;\n  const rootDepth = itemDepth(item) - 1;\n  parent = getModifierOrConditionParent(item);\n  while (parent != null && !parent.isCatalogue()) {\n    if (parent.editorTypeName === \"selectionEntry\") {\n      res.push({\n        name: parent.name,\n        id: parent.id,\n        editorTypeName: parent.editorTypeName,\n        indent: i,\n        catalogue: parent.catalogue.getName(),\n        shared: getFirstAncestor(parent)?.parentKey?.includes(\"shared\") || false,\n      });\n      i++;\n    }\n    parent = parent.parent;\n  }\n  res = res.reverse();\n  res.forEach((elt, ind) => {\n    elt.indent = ind + rootDepth;\n  });\n  return res;\n}\n\nexport function getParentSelections(item: EditorBase): EditorSearchItem[] {\n  const parentElements = getSearchElements(item, \"iterateRootEntries\");\n  parentElements.splice(0, 1);\n  return parentElements;\n}\n\nexport function scopeIsId(item: BSICondition) {\n  return (\n    [\"self\", \"parent\", \"ancestor\", \"primary-category\", \"primary-catalogue\", \"force\", \"roster\"].includes(item.scope) ==\n    false\n  );\n}\n\nexport function getFirstAncestor(item: EditorBase): EditorBase {\n  let parent = item;\n  while (\n    parent.parent != null &&\n    parent.parent.editorTypeName != \"gameSystem\" &&\n    parent.parent.editorTypeName != \"catalogue\"\n  ) {\n    parent = parent.parent;\n  }\n  return parent;\n}\n\nexport function getFilterSelections(item: BSICondition & EditorBase, catalogue: Catalogue): EditorSearchItem[] {\n  const includeAllRootEntries = [\"primary-catalogue\", \"roster\", \"force\", \"ancestor\"];\n  if (includeAllRootEntries.includes(item.scope)) {\n    return getSearchSelections(catalogue, true);\n  }\n\n  const res = getSearchSelections(catalogue, false);\n  if (item.scope == \"self\") {\n    const parent: EditorBase | undefined = getModifierOrConditionParent(item);\n    return parent ? res.concat(getParentSelections(parent)) : res;\n  }\n\n  // if (item.scope == \"ancestor\") {\n  //   return res;\n  // }\n\n  if (item.scope == \"parent\") {\n    // It looks like first level elements of shared entries and groups consider the Roster as their parent\n    if (getFirstAncestor(item)) {\n      return getSearchSelections(catalogue, true);\n    }\n\n    const parent: EditorBase | undefined = getModifierOrConditionParent(item);\n    return parent?.parent ? res.concat(getParentSelections(parent.parent)) : res;\n  }\n\n  if (item.scope == \"primary-category\") {\n    return getSearchSelectionsWithCategory(getFirstAncestor(item), catalogue);\n  }\n\n  const parent = catalogue.findOptionById(item.scope) as EditorBase;\n  if (parent) {\n    return res.concat(getParentSelections(parent));\n  }\n  return res;\n}\n\nexport function getFilterForces(item: EditorBase, catalogue: Catalogue, scope: string): EditorSearchItem[] {\n  return [];\n}\n","<template>\n  <fieldset>\n    <legend>Query</legend>\n    <div class=\"query\">\n      <UtilIconSelect\n        v-model=\"itemField\"\n        :fetch=\"() => fieldTypes\"\n        @change=\"fieldChanged\"\n        class=\"modType\"\n        :disabled=\"instanceOf\"\n      >\n        <template #option=\"opt\">\n          <div>\n            <img class=\"mr-1 align-middle\" :src=\"`./assets/bsicons/${opt.option.type}.png`\" />\n            {{ opt.option.name }}\n          </div>\n        </template>\n      </UtilIconSelect>\n\n      <span> in </span>\n\n      <UtilAutocomplete\n        v-model=\"item.scope\"\n        :placeholder=\"`Search Scope...`\"\n        :options=\"allScopes\"\n        valueField=\"id\"\n        filterField=\"name\"\n        @change=\"changed\"\n      >\n        <template #option=\"opt\">\n          <div>\n            <template v-if=\"opt.option.indent >= 2 && !opt.selected\">\n              <span v-for=\"n of opt.option.indent - 1\">&nbsp;&nbsp;&nbsp;</span>\n            </template>\n            <img class=\"mr-1 align-middle\" :src=\"`./assets/bsicons/${opt.option.editorTypeName}.png`\" />\n            {{ opt.option.name }}\n            <span class=\"gray\">{{ getNameExtra(opt.option, false) }}</span>\n            <span class=\"shared\" v-if=\"opt.option.shared\"> (shared)</span>\n            <span class=\"catalogueName\" v-if=\"showCatalogue(opt.option)\"> [{{ opt.option.catalogue }}]</span>\n          </div>\n        </template>\n      </UtilAutocomplete>\n\n      <div class=\"checks\">\n        <div v-if=\"shared\">\n          <input @change=\"changed\" id=\"shared\" type=\"checkbox\" v-model=\"item.shared\" />\n          <label for=\"shared\">Shared</label>\n        </div>\n        <div v-if=\"childSelections\">\n          <input @change=\"changed\" id=\"childSelections\" type=\"checkbox\" v-model=\"item.includeChildSelections\" />\n          <label for=\"childSelections\">And all child Selections</label>\n        </div>\n        <div v-if=\"childForces\">\n          <input @change=\"changed\" id=\"childForces\" type=\"checkbox\" v-model=\"item.includeChildForces\" />\n          <label for=\"childForces\">And all child Forces</label>\n        </div>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSICondition, BSIConstraint, BSICostType } from \"~/assets/shared/battlescribe/bs_types\";\nimport {\n  EditorSearchItem,\n  getSearchCategories,\n  getSearchElements,\n  getParentUnitHierarchy,\n} from \"~/assets/ts/catalogue/catalogue_helpers\";\ninterface ScopeChoice {\n  id: string;\n  name: string;\n  editorTypeName: string;\n  title?: string;\n}\nexport default {\n  emits: [\"catalogueChanged\"],\n  data() {\n    return {\n      itemField: null as any,\n    };\n  },\n  props: {\n    item: {\n      type: Object as PropType<EditorBase & (BSIConstraint | BSICondition)>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    childForces: {\n      type: Boolean,\n      default: false,\n    },\n    childSelections: {\n      type: Boolean,\n      default: false,\n    },\n    shared: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    getNameExtra,\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n\n    fieldChanged() {\n      this.item.field = this.itemField.value;\n      this.changed();\n    },\n\n    showCatalogue(opt: EditorSearchItem): boolean {\n      if (!opt.catalogue) {\n        return false;\n      }\n      if (opt.catalogue === this.item.catalogue?.getName()) {\n        return false;\n      }\n      return true;\n    },\n  },\n\n  computed: {\n    instanceOf() {\n      return [\"instanceOf\", \"notInstanceOf\"].includes(this.item?.type);\n    },\n\n    fieldTypes() {\n      const res: {\n        name: string;\n        type: string | null;\n        value: string | undefined;\n      }[] = [];\n      if (this.instanceOf) {\n        res.push({\n          name: \"\",\n          value: undefined,\n          type: null,\n        });\n      }\n      res.push({\n        name: \"Selections\",\n        value: \"selections\",\n        type: \"bullet\",\n      });\n      res.push({\n        name: \"Forces\",\n        value: \"forces\",\n        type: \"bullet\",\n      });\n      for (const costType of this.costTypes) {\n        res.push({\n          name: costType.name,\n          value: costType.id,\n          type: \"cost\",\n        });\n        if (this.item.scope === \"roster\") {\n          res.push({\n            name: `${costType.name} Limit`,\n            value: `limit::${costType.id}`,\n            type: \"cost\",\n          });\n        }\n      }\n      return res;\n    },\n\n    includeCategories() {\n      if (this.item.field === \"forces\") {\n        return false;\n      }\n      return true;\n    },\n\n    includeForces() {\n      return true;\n    },\n\n    includeSelections() {\n      if (this.item.field == \"forces\") {\n        return false;\n      }\n      return true;\n    },\n\n    parent() {\n      return (this.item as any as EditorBase).parent;\n    },\n\n    costTypes() {\n      let res: BSICostType[] = [];\n      for (let elt of this.catalogue.iterateCostTypes()) {\n        res.push(elt);\n      }\n      return res;\n    },\n\n    allSelections(): EditorSearchItem[] {\n      if (!this.includeSelections) {\n        return [];\n      }\n      return getParentUnitHierarchy(this.item);\n    },\n\n    allCategories(): EditorSearchItem[] {\n      if (!this.includeCategories) {\n        return [];\n      }\n      return getSearchCategories(this.catalogue);\n    },\n\n    allForces(): EditorSearchItem[] {\n      if (!this.includeForces) {\n        return [];\n      }\n      return getSearchElements(this.catalogue, \"forcesIterator\");\n    },\n\n    allScopes(): ScopeChoice[] {\n      let res = [\n        {\n          id: \"force\",\n          name: \"Force\",\n          editorTypeName: \"bullet\",\n        },\n        {\n          id: \"roster\",\n          name: \"Roster\",\n          editorTypeName: \"bullet\",\n        },\n      ];\n\n      if (this.item.field != \"forces\" && [\"condition\"].includes(this.item.editorTypeName)) {\n        res = [\n          {\n            id: \"self\",\n            name: \"Self\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"parent\",\n            name: \"Parent\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"ancestor\",\n            name: \"Ancestor\",\n            editorTypeName: \"bullet\",\n            title: \"checks the condition in all parents\",\n          },\n          {\n            id: \"primary-category\",\n            name: \"Primary Category\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"force\",\n            name: \"Force\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"roster\",\n            name: \"Roster\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"primary-catalogue\",\n            name: \"Primary Catalogue\",\n            editorTypeName: \"bullet\",\n          },\n        ] as ScopeChoice[];\n      }\n\n      if (this.item.field !== \"forces\" && [\"repeat\", \"constraint\"].includes(this.item.editorTypeName)) {\n        res = [\n          {\n            id: \"parent\",\n            name: \"Parent\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"force\",\n            name: \"Force\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"roster\",\n            name: \"Roster\",\n            editorTypeName: \"bullet\",\n          },\n          {\n            id: \"primary-catalogue\",\n            name: \"Primary Catalogue\",\n            editorTypeName: \"bullet\",\n          },\n        ];\n      }\n\n      return res.concat(this.allSelections).concat(this.allCategories).concat(this.allForces);\n    },\n  },\n\n  watch: {\n    \"item.field\": {\n      handler() {\n        if (this.item.field == \"forces\") {\n          this.item.scope = \"roster\";\n        }\n        this.itemField = this.fieldTypes.find((elt) => {\n          return elt.value == this.item.field;\n        });\n      },\n      immediate: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.constraint {\n  display: grid;\n  grid-template-columns: 1fr 50px max-content;\n}\n\n.checks {\n  display: grid;\n  grid-gap: 10px;\n  grid-auto-flow: column;\n}\n\n.query {\n  display: grid;\n  grid-gap: 5px;\n  grid-template-columns: auto max-content 1fr;\n  align-items: center;\n}\n\n@import \"@/shared_components/css/vars.scss\";\n.catalogueName {\n  color: rgb(144, 152, 197);\n  font-style: italic;\n}\n\n.shared {\n  color: $gray;\n  font-style: italic;\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>Quick Modifiers</legend>\n    <div class=\"columns\">\n      <template v-if=\"type === 'constraint'\">\n        <div class=\"buttonList\">\n          <button class=\"bouton\" @click=\"add('id', 'increment', 1)\">\n            <img src=\"/assets/icons/iconeplus.png\" />INCREMENT 1\n          </button>\n          <button class=\"bouton\" @click=\"add('id', 'set', 1)\"> <img src=\"/assets/icons/iconeplus.png\" />SET 1 </button>\n        </div>\n        <div class=\"buttonList\">\n          <button class=\"bouton\" @click=\"add('id', 'decrement', 1)\">\n            <img src=\"/assets/icons/iconeplus.png\" />DECREMENT 1\n          </button>\n          <button class=\"bouton\" @click=\"add('id', 'set', 0)\"> <img src=\"/assets/icons/iconeplus.png\" />SET 0 </button>\n        </div>\n      </template>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  setup() {\n    return { store: useEditorStore() };\n  },\n  props: {\n    item: {\n      type: Object as PropType<ItemTypes>,\n      required: true,\n    },\n\n    withCategory: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    type() {\n      return this.item.editorTypeName;\n    },\n    parent() {\n      return (this.item as EditorBase).parent;\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n    add(field: string, type: string, value: string | number) {\n      if (field === \"id\") {\n        field = (this.item as EditorBase).id;\n      }\n\n      let parent = this.item as EditorBase;\n      if (this.type === \"constraint\") {\n        parent = this.parent!;\n      }\n      this.store.create_child(\"modifiers\", parent, {\n        field: field,\n        type: type,\n        value: value,\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.columns {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 10px;\n}\n\n.bouton {\n  width: 100%;\n}\n\n.buttonList {\n  display: grid;\n  grid-gap: 10px;\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>Filter By</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Of:</td>\n        <td>\n          <span v-if=\"child\">\n            <img class=\"mr-1 align-middle\" :src=\"`./assets/bsicons/${child.editorTypeName}.png`\" />\n            {{ child.name }}</span\n          >\n        </td>\n      </tr>\n      <tr>\n        <td>Child ID:</td>\n        <td><input type=\"text\" v-model=\"childId\" @change=\"changed\" /></td>\n      </tr>\n      <tr>\n        <td>Child:</td>\n        <td>\n          <UtilAutocomplete\n            v-model=\"childId\"\n            :placeholder=\"`Search Child...`\"\n            :options=\"availableTargets\"\n            valueField=\"id\"\n            filterField=\"name\"\n            @change=\"changed\"\n            :default=\"child\"\n            lazy\n          >\n            <template #option=\"opt\">\n              <div v-if=\"opt.option\">\n                <template v-if=\"opt.option.indent >= 1 && !opt.selected\">\n                  <span v-for=\"n of opt.option.indent\">&nbsp;&nbsp;&nbsp;</span>\n                </template>\n                <img class=\"mr-1 align-middle\" :src=\"`./assets/bsicons/${opt.option.editorTypeName}.png`\" />\n\n                {{ opt.option.name }}\n                <span class=\"gray\">{{ getNameExtra(opt.option, false) }}</span>\n                <span class=\"shared\" v-if=\"opt.option.shared\"> (shared) </span>\n                <span class=\"catalogueName\" v-if=\"showCatalogue(opt.option)\"> [{{ opt.option.catalogue }}]</span>\n              </div>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n    </table>\n    <input type=\"checkbox\" v-model=\"item.shared\" id=\"shared\" @change=\"changed\" />\n    <label for=\"shared\">Shared?</label>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSICondition } from \"~/assets/shared/battlescribe/bs_types\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nimport {\n  EditorSearchItem,\n  getSearchElements,\n  getSearchCategories,\n  getFilterSelections,\n  getSearchCatalogues,\n  scopeIsId,\n} from \"@/assets/ts/catalogue/catalogue_helpers\";\nimport { getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nconst baseItems = [\n  {\n    id: \"any\",\n    name: \"Anything\",\n    editorTypeName: \"bullet\",\n    indent: 0,\n    catalogue: null,\n    shared: false,\n  },\n  {\n    id: \"unit\",\n    name: \"Unit\",\n    editorTypeName: \"bullet\",\n    indent: 0,\n    catalogue: null,\n    shared: false,\n  },\n  {\n    id: \"model\",\n    name: \"Model\",\n    editorTypeName: \"bullet\",\n    indent: 0,\n    catalogue: null,\n    shared: false,\n  },\n  {\n    id: \"upgrade\",\n    name: \"Upgrade\",\n    editorTypeName: \"bullet\",\n    indent: 0,\n    catalogue: null,\n    shared: false,\n  },\n];\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSICondition & EditorBase>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    getNameExtra,\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n\n    showCatalogue(opt: EditorSearchItem): boolean {\n      if (!opt.catalogue) {\n        return false;\n      }\n      if (opt.catalogue === this.item.catalogue?.getName()) {\n        return false;\n      }\n      return true;\n    },\n    availableTargets() {\n      return [...baseItems, ...this.allCategories, ...this.allEntries, ...this.allForces, ...this.allCatalogues];\n    },\n  },\n\n  watch: {\n    \"item.scope\"() {\n      if (!this.child) {\n        this.item.childId = this.availableTargets()[0]?.id || undefined;\n      }\n    },\n  },\n\n  computed: {\n    childId: {\n      get() {\n        return this.item.childId;\n      },\n      set(id: string) {\n        const old = this.item.childId;\n        this.item.childId = id;\n        this.catalogue.updateCondition(this.item, old);\n      },\n    },\n    child() {\n      if (!this.item.childId) {\n        return null;\n      }\n\n      const base = this.availableTargets().find((elt) => elt.id === this.item.childId);\n      if (base) {\n        return base;\n      }\n      return this.catalogue.findOptionById(this.item.childId) as any as EditorSearchItem;\n    },\n\n    instanceOf() {\n      return [\"instanceOf\", \"notInstanceOf\"].includes(this.item?.type);\n    },\n\n    allEntries(): EditorSearchItem[] {\n      if (!this.includeSelections) {\n        return [];\n      }\n      return getFilterSelections(this.item, this.catalogue);\n    },\n\n    allCategories(): EditorSearchItem[] {\n      if (!this.includeCategories) {\n        return [];\n      }\n      return getSearchCategories(this.catalogue);\n    },\n\n    allForces(): EditorSearchItem[] {\n      if (!this.includeForces) {\n        return [];\n      }\n      return getSearchElements(this.catalogue, \"forcesIterator\");\n    },\n\n    allCatalogues(): EditorSearchItem[] {\n      if (!this.includeCatalogues) {\n        return [];\n      }\n      return getSearchCatalogues(this.catalogue);\n    },\n\n    includeSelections() {\n      if (this.instanceOf && this.item.scope === \"primary-catalogue\") {\n        return false;\n      }\n      if (this.instanceOf && this.item.scope === \"primary-category\") {\n        return false;\n      }\n\n      return true;\n    },\n\n    includeCategories() {\n      if (this.instanceOf && this.item.scope === \"primary-catalogue\") {\n        return false;\n      }\n\n      if (this.item.field === \"forces\") {\n        return false;\n      }\n      return true;\n    },\n\n    includeForces() {\n      if (this.item.scope == \"self\") {\n        return false;\n      }\n      if (this.item.scope == \"parent\") {\n        return false;\n      }\n      if (this.item.scope == \"ancestor\") {\n        return true;\n      }\n      if (this.instanceOf && this.item.scope === \"primary-catalogue\") {\n        return false;\n      }\n      if (this.instanceOf && this.item.scope === \"primary-category\") {\n        return false;\n      }\n\n      if (scopeIsId(this.item)) {\n        return false;\n      }\n\n      return true;\n    },\n\n    includeCatalogues() {\n      return this.instanceOf && this.item.scope === \"primary-catalogue\";\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n.catalogueName {\n  color: rgb(144, 152, 197);\n  font-style: italic;\n}\n\n.shared {\n  color: $gray;\n  font-style: italic;\n}\n</style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsConstraint\n    :catalogue=\"catalogue\"\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    class=\"section\"\n  />\n  <CatalogueRightPanelFieldsQuery\n    :catalogue=\"catalogue\"\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    class=\"section\"\n    childForces\n    childSelections\n    shared\n  />\n  <FilterBy v-if=\"showFilterBy\" class=\"section\" :item=\"item\" @catalogueChanged=\"changed\" :catalogue=\"catalogue\" />\n  <CatalogueRightPanelFieldsQuickModifiers\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    :withCategory=\"false\"\n    class=\"section\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { getModifierOrConditionParent } from \"~/assets/shared/battlescribe/bs_modifiers\";\nimport { Base } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport FilterBy from \"./fields/FilterBy.vue\";\nimport QuickModifiers from \"./fields/QuickModifiers.vue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Base>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  computed: {\n    showFilterBy() {\n      const key = getModifierOrConditionParent(this.item as EditorBase)?.parentKey;\n      return key === \"associations\";\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  components: { FilterBy, QuickModifiers },\n};\n</script>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <fieldset>\n    <legend>Condition Group</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Type</td>\n        <td>\n          <select v-model=\"item.type\" @change=\"changed\">\n            <option value=\"or\">Or</option>\n            <option value=\"and\">And</option>\n          </select>\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIConditionGroup } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIConditionGroup & EditorBase>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <ConditionGroup :item=\"item\" @catalogueChanged=\"changed\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport ConditionGroup from \"./fields/ConditionGroup.vue\";\nimport { BSIConditionGroup } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIConditionGroup>,\n      required: true,\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  components: { ConditionGroup },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Condition</legend>\n    <div class=\"condition\">\n      <select v-model=\"item.type\" @change=\"changed\">\n        <template v-if=\"allowNonInstanceOf\">\n          <option value=\"lessThan\">Less Than</option>\n          <option value=\"greaterThan\">Greater Than</option>\n          <option value=\"equalTo\">Equal To</option>\n          <option value=\"notEqualTo\">Not Equal To</option>\n          <option value=\"atLeast\">At Least</option>\n          <option value=\"atMost\">At Most</option>\n        </template>\n        <option value=\"instanceOf\">Instance Of</option>\n        <option value=\"notInstanceOf\">Not Instance Of</option>\n      </select>\n      <UtilNumberInput v-model=\"item.value\" @change=\"changed\" />\n      <div>\n        <input id=\"percent\" type=\"checkbox\" v-model=\"item.percentValue\" @change=\"changed\" />\n        <label for=\"percent\">Percentage?</label>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSICondition } from \"~/assets/shared/battlescribe/bs_types\";\nimport NumberInput from \"~/components/util/NumberInput.vue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSICondition>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  computed: {\n    allowNonInstanceOf() {\n      return [\"primary-category\", \"ancestor\"].includes(this.item.scope) == false;\n    },\n  },\n  components: { NumberInput },\n  watch: {\n    \"item.scope\"() {\n      const allowed = [\"instanceOf\", \"notInstanceOf\"];\n      if (!this.allowNonInstanceOf && !allowed.includes(this.item.type)) {\n        this.item.type = allowed[0] as any;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.condition {\n  display: grid;\n  grid-template-columns: 1fr 100px max-content;\n  align-items: center;\n  grid-gap: 5px;\n}\n</style>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n\n    <Condition class=\"section\" :item=\"item\" @catalogueChanged=\"changed\" :catalogue=\"catalogue\" />\n\n    <CatalogueRightPanelFieldsQuery\n      class=\"section\"\n      :item=\"item\"\n      @catalogueChanged=\"changed\"\n      :catalogue=\"catalogue\"\n      childForces\n      childSelections\n    />\n\n    <FilterBy class=\"section\" :item=\"item\" @catalogueChanged=\"changed\" :catalogue=\"catalogue\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { BSICondition } from \"~/assets/shared/battlescribe/bs_types\";\nimport Condition from \"./fields/Condition.vue\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport FilterBy from \"./fields/FilterBy.vue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSICondition & EditorBase>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  components: { Condition, FilterBy },\n};\n</script>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsQuickConditions\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    :withCategory=\"false\"\n    class=\"section\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Base } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Base>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n    <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n    <CatalogueRightPanelFieldsReference\n      :catalogue=\"catalogue\"\n      :item=\"item\"\n      @catalogueChanged=\"changed\"\n      class=\"section\"\n    />\n    <CatalogueRightPanelFieldsHidden :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n      Constraints\n    </CatalogueRightPanelFieldsHidden>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIInfoGroup } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIInfoGroup>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Selection Entry Group</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Default Selection:</td>\n        <td>\n          <UtilAutocomplete\n            v-if=\"children.length\"\n            v-model=\"item.defaultSelectionEntryId\"\n            :placeholder=\"`Search Children...`\"\n            :options=\"children\"\n            valueField=\"id\"\n            filterField=\"name\"\n            @change=\"changed\"\n          >\n            <template #option=\"opt\">\n              <div>\n                <template v-if=\"opt.option.indent >= 2 && !opt.selected\"\n                  ><span v-for=\"n of opt.option.indent - 1\">&nbsp;&nbsp;&nbsp;</span></template\n                >\n                <img class=\"mr-1 align-middle\" :src=\"`./assets/bsicons/${opt.option.editorTypeName}.png`\" />\n                {{ opt.option.name }}\n                <span class=\"gray\">{{ getNameExtra(opt.option, false) }}</span>\n              </div>\n            </template>\n          </UtilAutocomplete>\n\n          <span v-else class=\"merror\">This group does not have any child Selection Entries</span>\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Group } from \"~/assets/shared/battlescribe/bs_main\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Group>,\n      required: true,\n    },\n  },\n\n  methods: {\n    getNameExtra,\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n\n  computed: {\n    children() {\n      let res: { name: string; id: undefined | null; editorTypeName: string }[] = [\n        {\n          name: \"None\",\n          id: undefined,\n          editorTypeName: \"bullet\",\n        },\n      ];\n\n      for (let entry of this.item.entriesIterator()) {\n        if (!entry.isGroup()) {\n          res.push(entry as any);\n        }\n      }\n      return res;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.merror {\n  color: $red;\n  font-style: italic;\n}\n</style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" @catalogueChanged=\"changed\" class=\"section\" />\n  <CatalogueRightPanelFieldsDefaultSelection\n    :item=\"item\"\n    :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\"\n    class=\"section\"\n  />\n\n  <CatalogueRightPanelFieldsBooleans\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    :fields=\"[\n      { field: 'hidden', enabled: true, name: 'Hidden' },\n      { field: 'collective', enabled: false, name: 'Collective' },\n      { field: 'import', enabled: true, name: 'Import' },\n    ]\"\n    class=\"section\"\n  >\n    Entry\n  </CatalogueRightPanelFieldsBooleans>\n\n  <CatalogueRightPanelFieldsCategories\n    :item=\"item\"\n    :catalogue=\"catalogue\"\n    @catalogueChanged=\"changed\"\n    class=\"section\"\n  />\n\n  <CatalogueRightPanelFieldsQuickConstraints\n    :item=\"item\"\n    @catalogueChanged=\"changed\"\n    :withCategory=\"false\"\n    class=\"section\"\n  >\n  </CatalogueRightPanelFieldsQuickConstraints>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Base, Group, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase, Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<ItemTypes & EditorBase & (Base | Link<Group>)>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Revision</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Revision Number:</td>\n        <td><input type=\"number\" v-model=\"item.revision\" @change=\"changed\" /></td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Catalogue</legend>\n    <input type=\"checkbox\" v-model=\"item.library\" @change=\"changed\" id=\"library\" />\n    <label\n      class=\"hastooltip\"\n      for=\"library\"\n      title=\"indicates that this catalogue is used to store data, no forces may be created from it if true.\"\n      >Library</label\n    >\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Information</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Author Name:</td>\n        <td><input type=\"text\" v-model=\"item.authorName\" @change=\"changed\" /></td>\n      </tr>\n      <tr>\n        <td>Author Contact:</td>\n        <td><UtilEditableDiv v-model=\"item.authorContact\" /></td>\n      </tr>\n      <tr>\n        <td>Author Website:</td>\n        <td><input type=\"text\" v-model=\"item.authorUrl\" @change=\"changed\" /></td>\n      </tr>\n      <tr>\n        <td>Readme:</td>\n        <td><UtilEditableDiv type=\"text\" v-model=\"item.readme\" @change=\"changed\" /></td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n    <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n    <CatalogueRightPanelFieldsReference\n      :catalogue=\"catalogue\"\n      :item=\"item\"\n      @catalogueChanged=\"changed\"\n      class=\"section\"\n    />\n    <CatalogueRightPanelFieldsHidden :item=\"item\" @catalogueChanged=\"changed\" class=\"section\">\n      Constraints\n    </CatalogueRightPanelFieldsHidden>\n    <CatalogueRightPanelFieldsRevision :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n    <CatalogueRightPanelFieldsCatalogue :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n    <CatalogueRightPanelFieldsInformation :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Repeat</legend>\n    <div class=\"condition\">\n      <UtilNumberInput v-model=\"item.repeats\" @change=\"changed\" />\n      <label>times for every </label>\n      <UtilNumberInput v-model=\"item.value\" @change=\"changed\" />\n    </div>\n    <div class=\"bools\">\n      <div>\n        <input id=\"percent\" type=\"checkbox\" v-model=\"item.percentValue\" @change=\"changed\" />\n        <label for=\"percent\">Percentage?</label>\n      </div>\n      <div>\n        <input id=\"percent\" type=\"checkbox\" v-model=\"item.roundUp\" @change=\"changed\" />\n        <label for=\"percent\">Round up?</label>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIRepeat } from \"~/assets/shared/battlescribe/bs_types\";\nimport NumberInput from \"~/components/util/NumberInput.vue\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIRepeat>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  components: { NumberInput },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.condition {\n  display: grid;\n  grid-template-columns: 1fr max-content 1fr max-content;\n  align-items: center;\n  grid-gap: 5px;\n}\n\n.bools {\n  display: flex;\n  div {\n    margin-right: 5px;\n  }\n}\n</style>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n    <CatalogueRightPanelFieldsRepeat :catalogue=\"catalogue\" :item=\"item\" @catalogueChanged=\"changed\" />\n    <CatalogueRightPanelFieldsQuery\n      class=\"section\"\n      :item=\"item\"\n      :catalogue=\"catalogue\"\n      @catalogueChanged=\"changed\"\n      childForces\n      childSelections\n    />\n    <CatalogueRightPanelFieldsFilterBy\n      class=\"section\"\n      :item=\"item\"\n      :catalogue=\"catalogue\"\n      @catalogueChanged=\"changed\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIRepeat } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<BSIRepeat>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <p class=\"info\">\n      Associations are a New Recruit specific feature allowing you to associate an entry to another, such as a unit to a\n      bataillon.\n      <br />\n      Be aware that associations are currently in the beta phase and may undergo modifications.\n      <br />\n      Feel free to offer feedback or ask questions on our <a href=\"https://discord.gg/cCtqGbugwb\">Discord server</a>.\n    </p>\n\n    <CatalogueRightPanelFieldsComment :item=\"item\" @catalogueChanged=\"changed\" />\n    <CatalogueRightPanelFieldsBasics :item=\"item\" @catalogueChanged=\"changed\" class=\"section\" />\n    <FilterBy class=\"section\" :item=\"item\" @catalogueChanged=\"changed\" :catalogue=\"catalogue\" />\n    <fieldset class=\"section\">\n      <legend>Temporary</legend>\n      <table class=\"editorTable\">\n        <tr>\n          <td>min: (may be moved to child constraints)</td\n          ><td><input @input=\"changed\" v-model=\"item.min\" type=\"number\" /></td>\n        </tr>\n        <tr>\n          <td>max: (may be moved to child constraints)</td\n          ><td><input @input=\"changed\" v-model=\"item.max\" type=\"number\" /></td>\n        </tr>\n        <tr>\n          <td>label: (will be moved to name)</td><td><input @input=\"changed\" v-model=\"item.label\" type=\"text\" /></td>\n        </tr>\n        <tr>\n          <td>labelMembers:</td><td><input @input=\"changed\" v-model=\"item.labelMembers\" type=\"text\" /></td>\n        </tr>\n        <tr>\n          <td>of: (may be moved to ChildID to reuse filterBy)</td\n          ><td><input @input=\"changed\" v-model=\"item.of\" type=\"text\" /></td>\n        </tr>\n        <tr>\n          <td>type: (will be removed, only affects conditions)</td>\n          <td>\n            <select @change=\"changed\" v-model=\"item.type\">\n              <option value=\"or\">or</option>\n              <option value=\"and\">and</option>\n            </select>\n          </td>\n        </tr>\n        <tr>\n          <td>scope: </td><td><input @input=\"changed\" v-model=\"item.scope\" type=\"text\" /></td>\n        </tr>\n        <tr>\n          <td\n            class=\"underline\"\n            title=\"Ids are a string[], used by associationConstraints on entries, eg: to have a maximum number of commanders in a bataillion\"\n          >\n            ids:\n          </td>\n          <td><input v-model=\"item.ids\" @input=\"changed\" type=\"text\" /></td>\n        </tr>\n      </table>\n    </fieldset>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport FilterBy from \"./fields/FilterBy.vue\";\nimport { NRAssociation } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  emits: [\"catalogueChanged\"],\n  props: {\n    item: {\n      type: Object as PropType<NRAssociation>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  computed: {\n    ids: {\n      get(): string {\n        return this.item.ids?.join(\", \") || \"\";\n      },\n      set(v: string) {\n        this.item.ids = v.split(\",\").map((o) => o.trim());\n      },\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"catalogueChanged\");\n    },\n  },\n  components: { FilterBy },\n};\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-center\"><span class=\"gray\">References to</span> {{ label }}</h2>\n    <p class=\"ml-10px info\"> Click Load All to have refs from all other catalogues appear. </p>\n    <table class=\"mb-20px\">\n      <tr>\n        <th> Catalogue </th>\n        <th> Name </th>\n      </tr>\n      <tr v-for=\"link of links\">\n        <td class=\"gray\">\n          {{ link.isCatalogue() ? link.getName() : link.catalogue?.getName() }}\n        </td>\n        <td>\n          <template v-if=\"show_link_name\">\n            {{ link.getName() }}\n          </template>\n          <template v-else>\n            {{ link.parent?.getName() }}\n          </template>\n        </td>\n        <td>\n          <button @click=\"store.goto(gotoTarget(link))\">Goto</button>\n        </td>\n      </tr>\n    </table>\n\n    <div v-if=\"other_links.length\">\n      <h3> From conditions/constraints/modifiers/repeats: </h3>\n      <table class=\"mb-20px\">\n        <tr>\n          <th> Catalogue </th>\n          <th> Name </th>\n          <th> Type </th>\n          <th> Details </th>\n        </tr>\n        <tr v-for=\"link of other_links\">\n          <td class=\"gray\">\n            {{ link.isCatalogue() ? link.getName() : link.catalogue?.getName() }}\n          </td>\n          <td>\n            {{ parentEntry(link)?.getName() || \"No parent (likely a bug)\" }}\n          </td>\n          <td>\n            {{ link.editorTypeName }}\n          </td>\n          <td> {{ link.type }} {{ link.value }} </td>\n          <td>\n            <button @click=\"store.goto(link)\">Goto</button>\n          </td>\n        </tr>\n      </table>\n    </div>\n  </div>\n  <!-- <button class=\"bouton\"> Load from all catalogues </button> -->\n</template>\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { findParentWhere } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { getName } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { ProfileType } from \"~/assets/shared/battlescribe/bs_main\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<EditorBase>,\n      required: true,\n    },\n  },\n  setup() {\n    return { store: useEditorStore() };\n  },\n  methods: {\n    gotoTarget(link: EditorBase) {\n      if (link.isCategory()) {\n        return link.parent!;\n      }\n      return link;\n    },\n    parentEntry(link: EditorBase) {\n      return findParentWhere(link, (o) => o.getName());\n    },\n  },\n  computed: {\n    show_link_name() {\n      if (this.item instanceof ProfileType) return true;\n      return false;\n    },\n    links() {\n      return this.item?.links || [];\n    },\n    other_links() {\n      return this.item?.other_links || [];\n    },\n    label() {\n      return getName(this.item);\n    },\n  },\n};\n</script>\n<style scope>\ntd {\n  padding: 1px 4px 1px 4px !important;\n  text-align: left !important;\n}\n</style>\n","<template>\n  <div class=\"rightPanel h-full\" v-if=\"item\">\n    <template v-if=\"store.mode === 'edit'\">\n      <CatalogueRightPanelPublicationPanel v-if=\"typeName == 'publication'\" :item=\"item\" @catalogueChanged=\"changed\" />\n\n      <CatalogueRightPanelCostTypesPanel v-else-if=\"typeName == 'costType'\" :item=\"item\" @catalogueChanged=\"changed\">\n      </CatalogueRightPanelCostTypesPanel>\n\n      <CatalogueRightPanelProfileTypesPanel\n        v-else-if=\"typeName == 'profileType'\"\n        :item=\"item\"\n        @catalogueChanged=\"changed\"\n      >\n      </CatalogueRightPanelProfileTypesPanel>\n\n      <CatalogueRightPanelCategoryEntriesPanel\n        v-else-if=\"typeName == 'category'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelForceEntriesPanel\n        v-else-if=\"typeName == 'force'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelProfilesPanel\n        v-else-if=\"typeName == 'profile'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelRulesPanel\n        v-else-if=\"typeName == 'rule'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelSelectionEntryPanel\n        v-else-if=\"typeName == 'selectionEntry'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelLinkPanel\n        v-else-if=\"links.includes(typeName)\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n        :type=\"'entry'\"\n      />\n      <CatalogueRightPanelLinkPanel\n        v-else-if=\"infoLinks.includes(typeName)\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n        :type=\"'info'\"\n      />\n      <CatalogueRightPanelModifierPanel\n        v-else-if=\"typeName == 'modifier'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelConstraintPanel\n        v-else-if=\"typeName == 'constraint'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelConditionGroupPanel\n        v-else-if=\"typeName == 'conditionGroup'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelConditionPanel\n        v-else-if=\"typeName == 'condition'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelLinkPanel\n        v-else-if=\"typeName == 'categoryLink'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n        type=\"category\"\n      />\n      <CatalogueRightPanelModifierGroupPanel\n        v-else-if=\"typeName == 'modifierGroup'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelInfoGroupPanel\n        v-else-if=\"typeName == 'infoGroup'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelSelectionEntryGroupPanel\n        v-else-if=\"typeName == 'selectionEntryGroup'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n      />\n      <CatalogueRightPanelLinkPanel\n        v-else-if=\"typeName == 'catalogueLink'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n        type=\"catalogue\"\n      />\n      <CatalogueRightPanelCataloguePanel\n        v-else-if=\"typeName == 'catalogue' || typeName == 'gameSystem'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n        type=\"catalogue\"\n      />\n      <CatalogueRightPanelRepeatPanel\n        v-else-if=\"typeName == 'repeat'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n        type=\"catalogue\"\n      />\n      <CatalogueRightPanelAssociationPanel\n        v-else-if=\"typeName == 'association'\"\n        :item=\"item\"\n        :catalogue=\"catalogue\"\n        @catalogueChanged=\"changed\"\n        type=\"catalogue\"\n      />\n\n      <div class=\"min-h-100px\"> </div>\n    </template>\n    <template v-else-if=\"store.mode === 'references'\">\n      <CatalogueRightPanelReferencesPanel :item=\"item\" :catalogue=\"catalogue\" />\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  setup() {\n    return { store: useEditorStore() };\n  },\n  emits: [\"catalogueChanged\"],\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      links: [\"link\", \"selectionEntryLink\", \"selectionEntryGroupLink\"],\n      infoLinks: [\"infoLink\", \"profileLink\", \"ruleLink\", \"infoGroupLink\"],\n    };\n  },\n\n  methods: {\n    changed() {\n      this.store.set_catalogue_changed(this.item?.catalogue || this.catalogue);\n    },\n  },\n\n  computed: {\n    item() {\n      return this.store.get_selected();\n    },\n\n    typeName() {\n      return this.item?.editorTypeName as any as string;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.editorTable {\n  width: 100%;\n  td {\n    border: none;\n    text-align: left;\n    &:first-child {\n      white-space: nowrap;\n      width: fit-content;\n      text-align: right;\n    }\n    &:last-child {\n      width: 100%;\n    }\n  }\n\n  select,\n  input[type=\"text\"] {\n    width: 100% !important;\n  }\n}\n\n.rightPanel {\n  overflow-y: auto;\n  padding-top: 10px;\n  padding-right: 10px;\n  padding-left: 5px;\n}\n</style>\n","<template>\n  <div class=\"h-full\">\n    <Head>\n      <Title>{{ loading ? \"Loading...\" : [cat?.getName(), `NR-Editor`].filter((o) => o).join(\" - \") }}</Title>\n    </Head>\n    <template v-if=\"error\">\n      <span>\n        {{ error }}\n      </span>\n    </template>\n    <template v-else-if=\"loading\">\n      <Loading :progress=\"loading_progress\" :progress_max=\"loading_progress_max\" :progress_msg=\"loading_progress_msg\" />\n    </template>\n    <template v-else-if=\"cat\">\n      <SplitView class=\"h-full\" draggable showMiddle id=\"catalogueView\">\n        <template #left>\n          <LeftPanel ref=\"leftpanel\" class=\"h-full\" :catalogue=\"cat\" :defaults=\"defaults\" :key=\"key\" keepalive />\n        </template>\n        <template #middle>\n          <CatalogueRightPanel class=\"h-full overflow-y-auto\" :catalogue=\"cat\" v-if=\"store.selectedItem != null\" />\n        </template>\n      </SplitView>\n    </template>\n\n    <Teleport to=\"#titlebar-content\" v-if=\"cat && route_is_catalogue\">\n      <span class=\"ml-10px\">\n        Editing {{ cat.name }} <span class=\"text-slate-300\">v{{ cat.revision }}</span>\n      </span>\n      <template v-if=\"store.unsavedCount\">\n        <button class=\"bouton save ml-10px\" @click=\"save_all\"> Save All </button>\n      </template>\n      <template v-else-if=\"failed\">\n        <span class=\"status mx-2 text-red\">failed to save</span>\n      </template>\n      <template v-else>\n        <span class=\"status mx-2\">saved</span>\n      </template>\n      <template v-if=\"systemFiles && !systemFiles.allLoaded\">\n        <button class=\"bouton load ml-10px\" @click=\"load_all\"\n          >Load all\n          <span v-if=\"loading_all\">({{ loading_progress }} / {{ loading_progress_max }})</span>\n        </button>\n      </template>\n    </Teleport>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport LeftPanel, { LeftPanelDefaults } from \"~/components/catalogue/left_panel/LeftPanel.vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useCataloguesStore } from \"~/stores/cataloguesState\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { useEditorUIState } from \"~/stores/editorUIState\";\nimport { showMessageBox, closeWindow } from \"~/electron/node_helpers\";\nimport { getNextRevision } from \"~/assets/shared/battlescribe/github\";\nimport { GameSystemFiles } from \"~/assets/shared/battlescribe/local_game_system\";\n\nexport default defineComponent({\n  components: { LeftPanel },\n  data() {\n    return {\n      error: null as string | null,\n      item: null as ItemTypes | null,\n      systemFiles: null as GameSystemFiles | null,\n      loading: false,\n      loading_all: false,\n      loading_progress: 0,\n      loading_progress_max: 0,\n      loading_progress_msg: \"\",\n      saving: false,\n      failed: false,\n      id: \"\",\n      cat: null as Catalogue | null,\n      defaults: {} as Partial<typeof LeftPanelDefaults>,\n      key: 1,\n    };\n  },\n  setup() {\n    return { cataloguesStore: useCataloguesStore(), store: useEditorStore(), uistate: useEditorUIState() };\n  },\n  mounted() {\n    this.store.init(this);\n    (globalThis as any).$catalogue = this.cat;\n\n    window.addEventListener(\"beforeunload\", this.beforeUnload);\n    document.addEventListener(\"keydown\", this.onKeydown, true);\n  },\n  updated() {\n    this.store.init(this);\n    (globalThis as any).$catalogue = this.cat;\n  },\n  unmounted() {\n    window.removeEventListener(\"beforeunload\", this.beforeUnload);\n    document.removeEventListener(\"keydown\", this.onKeydown, true);\n  },\n  activated() {\n    window.addEventListener(\"beforeunload\", this.beforeUnload);\n  },\n  deactivated() {\n    window.removeEventListener(\"beforeunload\", this.beforeUnload);\n  },\n  beforeRouteUpdate() {\n    if (this.id) {\n      this.store.save_state();\n    }\n  },\n  beforeRouteLeave() {\n    if (this.id) {\n      this.store.save_state();\n    }\n  },\n\n  computed: {\n    changed() {\n      if (!this.cat) return false;\n      return this.store.get_catalogue_state(this.cat as Catalogue)?.changed || false;\n    },\n    unsaved() {\n      if (!this.cat) return false;\n      return this.store.get_catalogue_state(this.cat as Catalogue)?.unsaved || false;\n    },\n    query() {\n      return {\n        gameSystemId: this.$route.query.systemId,\n        catalogueId: this.$route.query.id || this.$route.query.systemId,\n      };\n    },\n    route_is_catalogue() {\n      return this.$route.name === \"catalogue\";\n    },\n  },\n  watch: {\n    query: {\n      async handler(newVal) {\n        if (!this.route_is_catalogue) return;\n        const { gameSystemId, catalogueId } = newVal;\n        this.id = catalogueId || gameSystemId;\n        this.store.unselect();\n        try {\n          await this.load(gameSystemId, this.id);\n          this.error = null;\n\n          // Resolve a promise in the store so that code elsewhere can wait for this to load\n          this.$nextTick(() => {\n            this.store.$nextTickResolve && this.store.$nextTickResolve();\n          });\n        } catch (e: any) {\n          console.error(e);\n          this.error = e;\n        }\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    async load_all() {\n      if (this.systemFiles) {\n        try {\n          this.loading_all = true;\n          await new Promise((resolve) => setTimeout(resolve, 0));\n          await this.systemFiles.loadAll(async (current, max, msg) => {\n            this.loading_progress = current;\n            this.loading_progress_max = max;\n            this.loading_progress_msg = msg;\n            await new Promise((resolve) => setTimeout(resolve, 0));\n          });\n          this.loading_progress = 0;\n          this.loading_progress_max = 0;\n          this.loading_progress_msg = \"\";\n        } catch (e) {\n          console.error(e);\n        } finally {\n          this.loading_all = true;\n        }\n      }\n    },\n    async save_all() {\n      try {\n        this.failed = await this.store.save_all(this.cat?.getSystemId());\n      } finally {\n        this.saving = false;\n      }\n    },\n    async save() {\n      try {\n        const incremented = await this.store.save_catalogue(this.systemFiles as GameSystemFiles, this.cat as Catalogue);\n        if (incremented) {\n          notify(\"Incremented 1 catalogue's revision\");\n        }\n        this.failed = false;\n      } catch (e) {\n        this.failed = true;\n      }\n    },\n    async test() {\n      if (!this.systemFiles?.github) {\n        console.error(\"no github set\");\n        return;\n      }\n      console.log(\"revision\", await getNextRevision(this.systemFiles.github, this.cat as Catalogue));\n    },\n    async beforeUnload(event: BeforeUnloadEvent) {\n      if (globalThis._closeWindow) return;\n      if (!this.loading) {\n        this.store.save_state();\n      }\n\n      if (this.unsaved || this.store.unsavedCount) {\n        const message = \"You have unsaved changes that will be lost\";\n        event.returnValue = message;\n        if (electron) {\n          setTimeout(async () => {\n            const result = await showMessageBox({\n              message: \"You have unsaved changes that will be lost?\",\n              buttons: [\"Cancel\", \"Leave\"],\n              defaultId: 0,\n              cancelId: 0,\n              type: \"question\",\n            });\n            if (result === 1) {\n              globalThis._closeWindow = true;\n              closeWindow();\n            }\n          });\n        }\n        return false;\n      }\n    },\n    onKeydown(e: KeyboardEvent) {\n      if (e.ctrlKey && e.key.toLowerCase() == \"s\") {\n        e.preventDefault();\n        e.stopPropagation();\n        this.save();\n      }\n    },\n    load_state(data: Record<string, any>) {\n      this.defaults = data;\n    },\n    async load(systemId: string, catalogueId?: string) {\n      if (!catalogueId && !systemId) {\n        throw new Error(\"couldn't load catalogue: no id\");\n      }\n      try {\n        this.loading = true;\n        const system = await this.store.get_or_load_system(systemId);\n        let loaded = system.getLoadedCatalogue({ targetId: catalogueId || systemId });\n        if (!loaded) {\n          loaded = await system.loadCatalogue({\n            targetId: catalogueId || systemId,\n          });\n        }\n        loaded.processForEditor();\n        for (const imported of loaded.imports) {\n          imported.processForEditor();\n        }\n        this.systemFiles = system;\n        this.cat = loaded;\n        if (loaded) {\n          const data = this.uistate.get_data(loaded.id);\n          this.load_state(data);\n        }\n      } finally {\n        this.loading = false;\n      }\n    },\n  },\n});\n</script>\n\n<style scoped>\n.save {\n  width: 100px;\n}\n.load {\n  width: 150px;\n}\n\n.status {\n  color: lightgray;\n}\n</style>\n"],"names":["removeUndefinedProps","props","value","setupForUseMeta","metaFactory","renderChild","ctx","useHead","_b","_a","Title","defineComponent","_","slots","_c","Head","_props","_sfc_main$R","e","s","text","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","args","_sfc_main$Q","str","__nuxt_component_0","_hoisted_1","$event","_sfc_main$P","generateBattlescribeId","id","obj","catalogue","_imports_0$2","_createElementVNode","_hoisted_2","_hoisted_4","_hoisted_5","_imports_0","_hoisted_3","_withDirectives","_vModelText","_hoisted_7","_sfc_main$O","_hoisted_6","_sfc_main$N","_Fragment","_createVNode","_component_CatalogueRightPanelFieldsComment","_component_CatalogueRightPanelFieldsBasics","_component_CatalogueRightPanelFieldsPublication","_sfc_main$M","_vModelCheckbox","_sfc_main$L","_component_CatalogueRightPanelFieldsHidden","__nuxt_component_2","_sfc_main$K","o","ind","_imports_1$1","_withScopeId","_pushScopeId","_popScopeId","_imports_1","_renderList","t","_vModelSelect","_createTextVNode","_hoisted_8","_hoisted_9","_hoisted_10","_sfc_main$J","_component_CatalogueRightPanelFieldsProfileType","_sfc_main$I","regex","result","data","end","i","cur","val","query","regexStr","opt","res","found","item","_resolveDirective","_renderSlot","_normalizeProps","_mergeProps","_toDisplayString","option","_sfc_main$H","sortByAscending","getNameExtra","getName","_component_UtilAutocomplete","_withCtx","_imports_0$1","_imports_2","_hoisted_11","_hoisted_13","_hoisted_14","_resolveComponent","_normalizeClass","_component_ErrorIcon","_component_CatalogueEntry","_createCommentVNode","_hoisted_12","_sfc_main$G","useEditorStore","type","scope","_sfc_main$F","_component_CatalogueRightPanelFieldsReference","_component_CatalogueRightPanelFieldsQuickConstraints","_sfc_main$E","_sfc_main$D","existing","c","elt","__nuxt_component_1","char","_component_UtilEditableDiv","_sfc_main$C","_component_CatalogueRightPanelFieldsCharacteristics","_sfc_main$B","_sfc_main$A","_component_CatalogueRightPanelFieldsDescription","_sfc_main$z","_createStaticVNode","_sfc_main$y","_sfc_main$x","_sfc_main$w","defaultValue","cost","_createBlock","_component_UtilNumberInput","_sfc_main$v","parentkey","f","field","_sfc_main$u","useSettingsStore","cat","primary","links","link","idx","cl","targetLinks","targetIdx","setPrototype","target","categories","category","_sfc_main$t","_component_CatalogueRightPanelFieldsEntryType","_component_CatalogueRightPanelFieldsCreation","_component_CatalogueRightPanelFieldsCosts","_component_CatalogueRightPanelFieldsBooleans","_component_CatalogueRightPanelFieldsCategories","_sfc_main$s","all","entry","sysId","_hoisted_15","_hoisted_20","_hoisted_21","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_22","_hoisted_23","_sfc_main$r","_component_CatalogueRightPanelFieldsLink","_sfc_main$q","_directive_click_outside","availableModifiers","availableTypes","_sfc_main$p","ErrorIcon","first","op","getModifierOrConditionParent","available","additional","costType","constraint","_component_UtilIconSelect","error","_sfc_main$o","parent","_sfc_main$n","_component_CatalogueRightPanelFieldsModifier","_component_CatalogueRightPanelFieldsQuickConditions","_sfc_main$m","recursive","current","iterator","indent","child","getFirstAncestor","recursiveWithFilter","cb","getSearchElements","getSearchSelections","includeRootSelectionEntries","getSearchSelectionsWithCategory","getSearchCategories","getSearchCatalogues","getDataObject","itemDepth","getParentUnitHierarchy","rootDepth","getParentSelections","parentElements","scopeIsId","getFilterSelections","_sfc_main$l","n","_sfc_main$k","baseItems","_sfc_main$j","old","base","_sfc_main$i","FilterBy","QuickModifiers","_component_CatalogueRightPanelFieldsConstraint","_component_CatalogueRightPanelFieldsQuery","_component_FilterBy","_component_CatalogueRightPanelFieldsQuickModifiers","_sfc_main$h","_sfc_main$g","ConditionGroup","_component_ConditionGroup","_sfc_main$f","NumberInput","allowed","_sfc_main$e","Condition","_component_Condition","_sfc_main$d","_sfc_main$c","__nuxt_component_3","_sfc_main$b","_sfc_main$a","_component_CatalogueRightPanelFieldsDefaultSelection","_sfc_main$9","_sfc_main$8","_sfc_main$7","_sfc_main$6","_component_CatalogueRightPanelFieldsInformation","__nuxt_component_6","_component_CatalogueRightPanelFieldsRevision","_component_CatalogueRightPanelFieldsCatalogue","_sfc_main$5","_sfc_main$4","_component_CatalogueRightPanelFieldsFilterBy","_component_CatalogueRightPanelFieldsRepeat","_sfc_main$3","v","_sfc_main$2","findParentWhere","ProfileType","_sfc_main$1","_component_CatalogueRightPanelReferencesPanel","__nuxt_component_19","_component_CatalogueRightPanelPublicationPanel","_component_CatalogueRightPanelCostTypesPanel","_component_CatalogueRightPanelProfileTypesPanel","_component_CatalogueRightPanelCategoryEntriesPanel","_component_CatalogueRightPanelForceEntriesPanel","_component_CatalogueRightPanelProfilesPanel","_component_CatalogueRightPanelRulesPanel","_component_CatalogueRightPanelSelectionEntryPanel","_component_CatalogueRightPanelLinkPanel","_component_CatalogueRightPanelModifierPanel","_component_CatalogueRightPanelConstraintPanel","_component_CatalogueRightPanelConditionGroupPanel","_component_CatalogueRightPanelConditionPanel","_component_CatalogueRightPanelModifierGroupPanel","_component_CatalogueRightPanelInfoGroupPanel","_component_CatalogueRightPanelSelectionEntryGroupPanel","_component_CatalogueRightPanelCataloguePanel","_component_CatalogueRightPanelRepeatPanel","_component_CatalogueRightPanelAssociationPanel","_sfc_main","LeftPanel","useCataloguesStore","useEditorUIState","newVal","gameSystemId","catalogueId","resolve","max","msg","getNextRevision","event","message","showMessageBox","closeWindow","systemId","system","loaded","imported","_component_SplitView","__nuxt_component_4","_component_Head","_component_Title","_component_Loading","_component_LeftPanel","_component_CatalogueRightPanel","_Teleport"],"mappings":"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","x_google_ignoreList":[0]}