import{a8 as _,x as m,a as g,o as h,b as a,i as d,t as f,l as n,F as p,D as A,s as y,a9 as w,P as u,m as c}from"./entry.fd0de611.js";import{u as v}from"./editorStore.f6f8e70a.js";const V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wcODic7b6se5AAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAEgSURBVDjLtZOxTsMwFEWvk2eaEokSVVUUUTEFscLGxIzEzCfAytcwMTP1N5gYCBOiYgGpqsTIEIXYTswQgYpje0Dt3Xz9fPV8/Mxg6HI2JcYg4ZDW4LcXC7XqkVlUfykWDQlHhwe9gKf5K8pSMtMPsAb1Qt4ePpXvQFF89PbpajYlWSsmhG4BoK4E94XkeTzIbxpJgzAAgPFoVxMYJI8IPOqK4h1vBrIsqXqdALBCBIAWDQKEv2sX7MAPLPwf2LW8zsZDGLOX0w8cUzaIxcvcHqI1eFkqJmU3J0oIPknjytXN8/tiyLcgI+rmZG+cajI/0/412rM0dl7p/hE17qCBpumc5YbAnhwn5DtwfsrJCnZVo3hbu2ADQJZMNLD8430DxUxYqJ3Wfq0AAAAASUVORK5CYII=",x={props:{errors:{type:Array,default:[]},showNumber:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1}},data(){return{show:!1}},methods:{display(){if(!this.clickable)return;this.show=!0;const t=()=>{this.show=!1};addEventListener("click",t,{capture:!0,once:!0})},errorToText(t){return _(t.msg)},errorExtraText(t){return t.extra},getErrorImage(t){let e=t.severity==="warning",i=!t.severity||t.severity==="error",r=!t.severity||t.severity==="info";return i?"assets/icons/error_exclamation.png":e?"assets/icons/warning_exclamation.png":r?"assets/icons/info_exclamation.png":"assets/icons/error_exclamation.png"},gotoError(t){const e=v();t.source?e.goto(t.source):console.warn("Couldn't goto error: no source attached"),this.show=!1}},computed:{computedShowNumber(){return!(this.showNumber===!1||this.showNumber===void 0||this.showNumber===null)},getImage(){let t=this.errors.find(r=>r.severity==="warning"),e=this.errors.find(r=>!r.severity||r.severity==="error"),i=this.errors.find(r=>!r.severity||r.severity==="info");return e?"assets/icons/error_exclamation.png":t?"assets/icons/warning_exclamation.png":i?"assets/icons/info_exclamation.png":"assets/icons/error_exclamation.png"},numErrors(){var t;return((t=this.errors)==null?void 0:t.length)||0},errorText(){return m(this.errors||[],t=>t.msg).map(t=>`â€¢ ${this.errorToText(t)}
`).join("").trim()}}};const W=["title"],b=["src"],E={key:0,class:"ml-4px align-middle"},k={key:0,class:"fixed bg text"},L=["onClick"],I=["src"],B={key:0,class:"grey"};function T(t,e,i,r,l,s){return s.numErrors?(h(),a("span",{key:0,class:"cursor-pointer my-auto",title:s.errorText},[d("span",{onClick:e[0]||(e[0]=o=>s.display()),class:"gap-4px"},[d("img",{src:s.getImage,class:"my-auto align-text-bottom"},null,8,b),s.computedShowNumber?(h(),a("span",E,f(s.numErrors),1)):n("",!0)]),l.show?(h(),a("div",k,[(h(!0),a(p,null,A(i.errors,o=>(h(),a("div",{onClick:C=>s.gotoError(o),class:"border py-3px px-10px hover-darken"},[d("img",{src:s.getErrorImage(o),class:"my-auto align-text-bottom"},null,8,I),y(" "+f(s.errorToText(o))+" ",1),s.errorExtraText(o)?(h(),a("span",B,f(s.errorExtraText(o)),1)):n("",!0)],8,L))),256))])):n("",!0)],8,W)):n("",!0)}const Y=g(x,[["render",T],["__scopeId","data-v-63518030"]]),S=w("ui",{state:()=>({}),persist:{storage:globalThis.localStorage},actions:{get(t,e){return this.$state[`${t}-${e}`]},set(t,e,i){this.$state[`${t}-${e}`]=i}}});function M(t){const e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY}}const N={props:{showLeft:{type:Boolean,default:!0},showMiddle:{type:Boolean,default:!1},showRight:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},leftWidth:{type:[String,Number],default:"auto"},rightWidth:{type:[String,Number],default:"auto"},clamp:{type:Number,default:250},id:{type:String,required:!0}},data(){return{_leftWidth:typeof this.leftWidth=="number"?this.leftWidth:0,_rightWidth:typeof this.rightWidth=="number"?this.rightWidth:0,dragging:!1,height:0,staticLeft:!1,staticRight:!1}},setup(){return{store:S()}},mounted(){var t,e;if(this.draggable){if(this.id){const i=this.store.get(this.id,"left");i&&(this._leftWidth=i)}if(!this._leftWidth&&this.$refs.left&&((t=this.$refs.left)!=null&&t.offsetWidth)&&(this._leftWidth=this.$refs.left.offsetWidth),this._leftWidth<this.clamp&&(this._leftWidth=this.do_clamp(typeof this.leftWidth=="number"?this.leftWidth:0)),this.id){const i=this.store.get(this.id,"right");i&&(this._rightWidth=i)}!this._rightWidth&&((e=this.$refs.right)!=null&&e.offsetWidth)&&(this._rightWidth=this.$refs.right.offsetWidth),this._rightWidth<this.clamp&&(this._rightWidth=this.do_clamp(typeof this.rightWidth=="number"?this.rightWidth:0))}addEventListener("resize",this.update),this.$nextTick(this.update)},unmounted(){removeEventListener("resize",this.update)},updated(){this.update()},computed:{left_draggable(){return this.staticLeft?!1:this.draggable&&this.showLeft&&(this.showMiddle||this.showRight)},right_draggable(){return this.draggable&&this.showMiddle&&this.showRight},left(){var t;return((t=this.$el)==null?void 0:t.offsetLeft)||0},leftw(){return this._leftWidth-this.left},right(){var t;return((t=this.$el)==null?void 0:t.offsetRight)||0},rightw(){return this._rightWidth-this.right},hasMiddle(){return!!this.$slots.middle},totalWidth(){return this.$el.clientWidth}},watch:{leftWidth(t){typeof t!="string"&&(t||(this._leftWidth=this.store.get(this.id,"left")||100,this.staticLeft=!1),t&&(this._leftWidth=t,this.staticLeft=!0))}},methods:{update(){var e;const t=(e=M(this.$el))==null?void 0:e.top;this.height=innerHeight-t},do_clamp(t){return t<this.clamp?this.clamp:t>this.totalWidth-this.clamp?this.totalWidth-this.clamp:t},async drag_left_handle(t){this.dragging=!0;const e=this._leftWidth,i=t.clientX,r=s=>{const o=s.clientX-i;this._leftWidth=this.do_clamp(e+o)};addEventListener("mousemove",r);const l=()=>{removeEventListener("mousemove",r),this.$nextTick(()=>{this.dragging=!1,this.id&&this.store.set(this.id,"left",this._leftWidth)})};addEventListener("mouseup",l,{once:!0,capture:!0})},async drag_right_handle(t){this.dragging=!0;const e=this._rightWidth,i=t.clientX,r=s=>{const o=s.clientX-i;this._rightWidth=this.do_clamp(e-o)};addEventListener("mousemove",r);const l=()=>{removeEventListener("mousemove",r),this.$nextTick(()=>{this.dragging=!1,this.id&&this.store.set(this.id,"right",this._rightWidth)})};addEventListener("mouseup",l,{once:!0,capture:!0})}}};const U={key:2,ref:"middle",class:"middle grow relative overflow-x-auto overflow-y-auto scrollbarstyle"};function X(t,e,i,r,l,s){return h(),a("div",{class:"splitView",style:u(l.height>0?{height:`${l.height}px`}:{})},[i.showLeft?(h(),a("div",{key:0,class:"left relative",ref:"left",style:u({width:s.leftw>0?`${s.leftw}px`:i.leftWidth})},[c(t.$slots,"left",{},void 0,!0)],4)):n("",!0),s.left_draggable?(h(),a("div",{key:1,class:"between unselectable",onMousedown:e[0]||(e[0]=(...o)=>s.drag_left_handle&&s.drag_left_handle(...o))},null,32)):n("",!0),i.showMiddle?(h(),a("div",U,[c(t.$slots,"middle",{},void 0,!0)],512)):n("",!0),s.right_draggable?(h(),a("div",{key:3,class:"between unselectable",onMousedown:e[1]||(e[1]=(...o)=>s.drag_right_handle&&s.drag_right_handle(...o))},null,32)):n("",!0),i.showRight?(h(),a("span",{key:4,ref:"right",class:"right relative",style:u({width:`${s.rightw}px`})},[c(t.$slots,"right",{},void 0,!0)],4)):n("",!0)],4)}const P=g(N,[["render",X],["__scopeId","data-v-1064dea4"]]),q=""+globalThis.__publicAssetsURL("assets/icons/warning_sign.png");export{V as _,Y as a,q as b,P as c};
//# sourceMappingURL=warning_sign.2a092da1.js.map
