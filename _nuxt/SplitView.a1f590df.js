import{I as g,a as u,o as l,f as a,J as f,r as n,q as o}from"./entry.9e3411b5.js";const w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wcODic7b6se5AAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAEgSURBVDjLtZOxTsMwFEWvk2eaEokSVVUUUTEFscLGxIzEzCfAytcwMTP1N5gYCBOiYgGpqsTIEIXYTswQgYpje0Dt3Xz9fPV8/Mxg6HI2JcYg4ZDW4LcXC7XqkVlUfykWDQlHhwe9gKf5K8pSMtMPsAb1Qt4ePpXvQFF89PbpajYlWSsmhG4BoK4E94XkeTzIbxpJgzAAgPFoVxMYJI8IPOqK4h1vBrIsqXqdALBCBIAWDQKEv2sX7MAPLPwf2LW8zsZDGLOX0w8cUzaIxcvcHqI1eFkqJmU3J0oIPknjytXN8/tiyLcgI+rmZG+cajI/0/412rM0dl7p/hE17qCBpumc5YbAnhwn5DtwfsrJCnZVo3hbu2ADQJZMNLD8430DxUxYqJ3Wfq0AAAAASUVORK5CYII=",c=g("ui",{state:()=>({}),persist:{storage:globalThis.localStorage},actions:{get(t,e){return this.$state[`${t}-${e}`]},set(t,e,i){this.$state[`${t}-${e}`]=i}}});function _(t){const e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY}}const m={props:{showLeft:{type:Boolean,default:!0},showMiddle:{type:Boolean,default:!1},showRight:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},leftWidth:{type:[String,Number],default:"auto"},rightWidth:{type:[String,Number],default:"auto"},clamp:{type:Number,default:250},id:{type:String,required:!0}},data(){return{_leftWidth:typeof this.leftWidth=="number"?this.leftWidth:0,_rightWidth:typeof this.rightWidth=="number"?this.rightWidth:0,dragging:!1,height:0,staticLeft:!1,staticRight:!1}},setup(){return{store:c()}},mounted(){var t,e;if(this.draggable){if(this.id){const i=this.store.get(this.id,"left");i&&(this._leftWidth=i)}if(!this._leftWidth&&this.$refs.left&&((t=this.$refs.left)!=null&&t.offsetWidth)&&(this._leftWidth=this.$refs.left.offsetWidth),this._leftWidth<this.clamp&&(this._leftWidth=this.do_clamp(typeof this.leftWidth=="number"?this.leftWidth:0)),this.id){const i=this.store.get(this.id,"right");i&&(this._rightWidth=i)}!this._rightWidth&&((e=this.$refs.right)!=null&&e.offsetWidth)&&(this._rightWidth=this.$refs.right.offsetWidth),this._rightWidth<this.clamp&&(this._rightWidth=this.do_clamp(typeof this.rightWidth=="number"?this.rightWidth:0))}addEventListener("resize",this.update),this.$nextTick(this.update)},unmounted(){removeEventListener("resize",this.update)},updated(){this.update()},computed:{left_draggable(){return this.staticLeft?!1:this.draggable&&this.showLeft&&(this.showMiddle||this.showRight)},right_draggable(){return this.draggable&&this.showMiddle&&this.showRight},left(){var t;return((t=this.$el)==null?void 0:t.offsetLeft)||0},leftw(){return this._leftWidth-this.left},right(){var t;return((t=this.$el)==null?void 0:t.offsetRight)||0},rightw(){return this._rightWidth-this.right},hasMiddle(){return!!this.$slots.middle},totalWidth(){return this.$el.clientWidth}},watch:{leftWidth(t){typeof t!="string"&&(t||(this._leftWidth=this.store.get(this.id,"left")||100,this.staticLeft=!1),t&&(this._leftWidth=t,this.staticLeft=!0))}},methods:{update(){var e;const t=(e=_(this.$el))==null?void 0:e.top;this.height=innerHeight-t},do_clamp(t){return t<this.clamp?this.clamp:t>this.totalWidth-this.clamp?this.totalWidth-this.clamp:t},async drag_left_handle(t){this.dragging=!0;const e=this._leftWidth,i=t.clientX,r=s=>{const h=s.clientX-i;this._leftWidth=this.do_clamp(e+h)};addEventListener("mousemove",r);const d=()=>{removeEventListener("mousemove",r),this.$nextTick(()=>{this.dragging=!1,this.id&&this.store.set(this.id,"left",this._leftWidth)})};addEventListener("mouseup",d,{once:!0,capture:!0})},async drag_right_handle(t){this.dragging=!0;const e=this._rightWidth,i=t.clientX,r=s=>{const h=s.clientX-i;this._rightWidth=this.do_clamp(e-h)};addEventListener("mousemove",r);const d=()=>{removeEventListener("mousemove",r),this.$nextTick(()=>{this.dragging=!1,this.id&&this.store.set(this.id,"right",this._rightWidth)})};addEventListener("mouseup",d,{once:!0,capture:!0})}}};const p={key:2,ref:"middle",class:"middle grow relative"};function A(t,e,i,r,d,s){return l(),a("div",{class:"splitView",style:f(d.height>0?{height:`${d.height}px`}:{})},[i.showLeft?(l(),a("div",{key:0,class:"left relative",ref:"left",style:f({width:s.leftw>0?`${s.leftw}px`:i.leftWidth})},[n(t.$slots,"left",{},void 0,!0)],4)):o("",!0),s.left_draggable?(l(),a("div",{key:1,class:"between unselectable",onMousedown:e[0]||(e[0]=(...h)=>s.drag_left_handle&&s.drag_left_handle(...h))},null,32)):o("",!0),i.showMiddle?(l(),a("div",p,[n(t.$slots,"middle",{},void 0,!0)],512)):o("",!0),s.right_draggable?(l(),a("div",{key:3,class:"between unselectable",onMousedown:e[1]||(e[1]=(...h)=>s.drag_right_handle&&s.drag_right_handle(...h))},null,32)):o("",!0),i.showRight?(l(),a("span",{key:4,ref:"right",class:"right relative",style:f({width:`${s.rightw}px`})},[n(t.$slots,"right",{},void 0,!0)],4)):o("",!0)],4)}const v=u(m,[["render",A],["__scopeId","data-v-4e8d3a3e"]]);export{w as _,v as a};
//# sourceMappingURL=SplitView.a1f590df.js.map
