import{_ as ee,a as ce}from"./CreateSystem.3b055021.js";import{e as T,aq as j,o as u,b as c,i as a,u as C,F as A,s as f,ar as te,as as de,at as se,au as q,Z as m,a as D,w,v as B,av as me,t as p,aw as J,ax as ge,am as H,J as Q,ay as L,az as he,x as W,D as R,E as Z,B as pe,l as g,h as k,H as M,I as X,aA as fe,aB as O,aC as _e,k as ae,aD as ye,aE as v,c as x,q as F,C as be,m as oe,G as ve,z as Ce,ao as we,ap as Ae,aF as ke,aG as I,r as K,T as Se,aH as Ie}from"./entry.d5c722fb.js";import{a as le,b as xe,_ as Fe,c as ne}from"./warning_sign.05a19e18.js";import{_ as Ue}from"./right2.91afc9dd.js";const Ee=["disabled"],Be=T({__name:"UploadJson",emits:["uploaded"],setup(e,{emit:t}){const o=j(null),n=j(!1);async function l(i){var d;try{n.value=!0;const r=[...((d=i.target)==null?void 0:d.files)||[]];if(!r){n.value=!1;return}const _=[];for(const y of r.filter(S=>te(S.name))){const S=de(y.name)?await y.arrayBuffer():await y.text(),U=await se(S,q(y.name));m(U).fullFilePath=y.name,_.push(U)}_.length&&t("uploaded",_),n.value=!1}catch(r){console.error(r),n.value=!1}}async function s(){o.value.click()}return(i,d)=>(u(),c(A,null,[a("input",{type:"file",accept:".gst, .gstz, .xml, .zip, .cat, .catz, .json",multiple:"",onChange:l,class:"invisible",ref_key:"fileinput",ref:o},null,544),a("button",{onClick:s,class:"bouton",disabled:C(n)},[C(n)?(u(),c(A,{key:1},[f(" ... ")],64)):(u(),c(A,{key:0},[f(" Import Catalogues ")],64))],8,Ee)],64))}});const ie=D(Be,[["__scopeId","data-v-959d97f5"]]),Pe=["disabled"],re=T({__name:"ImportFromGithub",emits:["uploaded"],setup(e,{emit:t}){const o=j(""),n=j(!1);async function l(s){if(!s||J(s)!==s){console.log("bad url",s);return}try{n.value=!0;const i=s.split("/").slice(-2).join("/"),d=i.split("/")[1],r=`https://api.github.com/repos/${i}`,_=(await $fetch(r)).default_branch,y=`https://codeload.github.com/${i}/zip/refs/heads/${_}`,S=await $fetch(`https://www.newrecruit.eu/api/proxy?url=${y}`),U=await ge(S,`${d}-${_}`),N=[];for(const[V,b]of Object.entries(U)){const z=q(V);if(te(z))try{const E=await se(b,z);m(E).fullFilePath=V,N.push(E)}catch{continue}}N.length&&t("uploaded",N),o.value=""}catch(i){console.error(i)}finally{n.value=!1}}return(s,i)=>(u(),c(A,null,[w(a("input",{type:"text",class:"bouton !font-normal","onUpdate:modelValue":i[0]||(i[0]=d=>me(o)?o.value=d:null),placeholder:'repo eg: "BSData/wh40k"'},null,512),[[B,C(o)]]),a("button",{onClick:i[1]||(i[1]=d=>l(C(J)(C(o)))),class:"bouton",disabled:C(J)(C(o))==null||C(n)},p(C(n)?"...":"Import from github"),9,Pe)],64))}}),Ne={emits:["new","itemClicked","itemDoubleClicked"],setup(){return{cataloguesStore:H(),store:Q()}},props:{items:{type:Array,required:!0},modelValue:{required:!0}},methods:{debug(e){console.log(e)},getDataObject:m,getType(e){var t;return e.gameSystem?{icon:"assets/icons/system1.png",order:1}:(t=e.catalogue)!=null&&t.library?{icon:"assets/icons/library.png",order:2}:{icon:"assets/icons/book.png",order:3}},elementDoubleClicked(e){this.$emit("itemDoubleClicked",e)},elementClicked(e){this.$emit("itemClicked",e)},changed(e){return this.store.get_catalogue_state(e).isChangedOnDisk},errors(e){var n;const t=[];(n=this.store.get_catalogue_state(e))!=null&&n.unsaved&&t.push({severity:"info",msg:"Unsaved"});const o=m(e).errors;if(o!=null&&o.length){const l={};for(const i of o)i.severity?L(l,i.severity):L(l,"error");let s=[];for(const i in l)s.push(`${l[i]} ${he(i)}${l[i]===1?"":"s"}`);o.find(i=>i.severity==="error")?t.push({severity:"error",msg:`Has ${s.join(", ")}`}):o.find(i=>i.severity==="warning")&&t.push({severity:"warning",msg:`Has ${s.join(", ")}`})}return t},opened(e){return m(e).opened},name(e){return m(e).name},add(){this.$emit("new")}},computed:{sortedItems(){return W(W(this.items,e=>this.name(e)),e=>this.getType(e).order)}},components:{ErrorIcon:le}};const G=e=>(M("data-v-90c402fd"),e=e(),X(),e),ze={class:"items"},De=["onClick","onDblclick","onMouseup"],Ve=["src"],je={class:"error flex flex-row"},Re={key:0,class:"my-auto",title:`This file was changed by another program.
You may want to reload the system through the Systems tab`},Je=G(()=>a("img",{class:"my-auto align-text-bottom",src:xe},null,-1)),Oe=[Je],Le=G(()=>a("img",{class:"w-40px h-40px",src:Fe},null,-1)),Ze=G(()=>a("div",{class:"bold text-blue"},"New",-1)),Te=[Le,Ze];function qe(e,t,o,n,l,s){const i=le;return u(),c("div",ze,[(u(!0),c(A,null,R(s.sortedItems,d=>(u(),c("div",{class:Z(["relative item unselectable",{highlight:s.opened(d),selected:d===o.modelValue}]),onClick:r=>s.elementClicked(d),onDblclick:r=>s.elementDoubleClicked(d),onMouseup:pe(r=>s.debug(d),["middle"])},[a("img",{class:"icon",src:s.getType(d).icon},null,8,Ve),a("div",null,p(s.name(d)),1),a("div",je,[s.changed(d)?(u(),c("span",Re,Oe)):g("",!0),k(i,{errors:s.errors(d)},null,8,["errors"])])],42,De))),256)),a("div",{class:"relative item add unselectable",onClick:t[0]||(t[0]=(...d)=>s.add&&s.add(...d))},Te)])}const ue=D(Ne,[["render",qe],["__scopeId","data-v-90c402fd"]]);async function He(e,t,o){const n=document.createElement("a"),l=new Blob([o],{type:t}),s=URL.createObjectURL(l);n.setAttribute("href",s),n.setAttribute("download",e),n.setAttribute("target","_blank"),n.click()}async function Qe(e,t,o){if(globalThis.showSaveFilePicker){const l=await(await showSaveFilePicker({suggestedName:e})).createWritable();await l.write(o),l.close()}else He(e,t,o)}const Me={emits:["edit","delete"],props:{catalogue:{type:Object,required:!0}},setup(){return{catalogueStore:H(),store:Q()}},data(){return{deletePopup:!1,changeFormatPopup:!1,changeIdsPopup:!1,format:"gst",deleteExistingFiles:!1}},methods:{download_file(){const e=m(this.catalogue),t=this.store.get_system(e.gameSystemId||e.id).getLoadedCatalogue({targetId:e.id}),o=fe(t||e),n=e.fullFilePath?O(_e(e.fullFilePath)):e.name,l=e.gameSystemId?"cat":"gst";Qe(`${n}.${l}`,"application/xml",o)},popup_change_format(){this.changeFormatPopup=!0},popup_change_ids(){this.changeIdsPopup=!0},async change_ids(){const e=m(this.catalogue),o=this.store.get_system(e.gameSystemId||e.id).getAllCatalogueFiles(),n={};for(const l of o){const s=m(l);n[s.id]=ae()}for(const l of o){const s=m(l);s.id=n[s.id],s.gameSystemId&&(s.gameSystemId=n[s.gameSystemId]);for(const i of s.catalogueLinks||[])i.targetId=n[i.targetId]}for(const l of o)this.store.saveCatalogue(l)},async change_format(e,t){const o=m(this.catalogue),l=this.store.get_system(o.gameSystemId||o.id).getAllCatalogueFiles();for(const s of l){const i=m(s),d=i.fullFilePath;if(d){t&&await ye(d);const r=!!s.gameSystem;let _;const y=O(d);switch(e){case"gstz":_=r?"gstz":"catz";break;case"gst":_=r?"gst":"cat";break;case"json":_="json";break}i.fullFilePath=`${y}.${_}`,console.log(i.fullFilePath),this.store.saveCatalogue(s)}}}},computed:{has_duplicate_filename(){const e=m(this.catalogue),o=this.store.get_system(e.gameSystemId||e.id).getAllCatalogueFiles(),n={};for(const l of o){const i=m(l).fullFilePath;i&&L(n,O(i))}return Object.values(n).find(l=>l>1)},is_catalogue(){return!!this.catalogue.catalogue},electron(){return!!globalThis.electron},imports(){return this.cataloguedata.catalogueLinks||[]},refs(){return this.catalogueStore.getDependents(v(this.catalogue))||[]},cataloguedata(){return m(this.catalogue)},isSystem(){return!this.cataloguedata.gameSystemId}}};const h=e=>(M("data-v-cfeaab0d"),e=e(),X(),e),Xe={class:"details"},Ge={key:0},Ye=h(()=>a("span",{class:"grey hastooltip",title:"indicates that this catalogue is used to store data, no forces may be created from it if true."}," Library: ",-1)),We=h(()=>a("span",{class:"grey"},"Id:",-1)),Ke=h(()=>a("span",{class:"grey"},"path:",-1)),$e={style:{"word-break":"break-all"}},et={key:1},tt=h(()=>a("span",{class:"grey"},"authorUrl:",-1)),st=h(()=>a("span",{class:"grey"},"authorContact:",-1)),at=h(()=>a("span",{class:"grey"},"authorName:",-1)),ot={key:2},lt=h(()=>a("span",{class:"bold"},"imports:",-1)),nt={class:"ml-10px"},it={key:3},rt=h(()=>a("span",{class:"bold"},"imported by:",-1)),ut={class:"ml-10px"},ct={class:"section boutons"},dt=h(()=>a("p",{class:"info"}," To quickly edit a catalogue, you can double-click on it. ",-1)),mt=h(()=>a("label",{for:"newFormat"},"New Format:",-1)),gt=h(()=>a("option",{value:"gstz"},".gstz/.catz (Zipped XML)",-1)),ht=h(()=>a("option",{value:"gst"},".gst/.cat (XML)",-1)),pt={key:0,value:"json"},ft={key:0},_t=h(()=>a("span",{class:"gray"},"Note: Cannot convert to json because a catalogue has the same filename as the gst",-1)),yt=[_t],bt=h(()=>a("label",{for:"deleteExisting"},"Delete existing files:",-1)),vt=h(()=>a("div",null,[f(" Are you sure you want to change the ids of all the files in this system?"),a("br"),f(" This will cause new lists for this system to be completely separate from the original."),a("br"),f(" only use for major versions or forks. ")],-1));function Ct(e,t,o,n,l,s){var d;const i=ve;return u(),c("fieldset",Xe,[a("div",null,[a("legend",null,p(s.cataloguedata.name),1),s.is_catalogue?(u(),c("div",Ge,[Ye,f(" "+p(s.cataloguedata.library),1)])):g("",!0),a("div",null,[We,f(" "+p(s.cataloguedata.id),1)]),a("div",null,[Ke,f(),a("span",$e,p(s.cataloguedata.fullFilePath),1)]),s.electron?(u(),c("div",et,[tt,f(" "+p(s.cataloguedata.authorUrl),1)])):g("",!0),a("div",null,[st,f(" "+p(s.cataloguedata.authorContact),1)]),a("div",null,[at,f(" "+p(s.cataloguedata.authorName),1)]),(d=s.cataloguedata.catalogueLinks)!=null&&d.length?(u(),c("div",ot,[lt,a("div",nt,[(u(!0),c(A,null,R(s.cataloguedata.catalogueLinks,r=>(u(),c("div",null,[a("span",{class:Z({grey:!r.importRootEntries})},p(r.name),3)]))),256))])])):g("",!0),s.refs.length&&!s.isSystem?(u(),c("div",it,[rt,a("div",ut,[(u(!0),c(A,null,R(s.refs,r=>(u(),c("div",null,[a("span",{class:Z({grey:!r.importRootEntries})},p(r.sourceName),3)]))),256))])])):g("",!0)]),a("div",ct,[a("button",{class:"bouton",onClick:t[0]||(t[0]=r=>e.$emit("edit",o.catalogue))},"Edit"),a("button",{class:"bouton",onClick:t[1]||(t[1]=r=>l.deletePopup=!0)},"Delete"),s.electron?g("",!0):(u(),c("button",{key:0,class:"bouton",onClick:t[2]||(t[2]=(...r)=>s.download_file&&s.download_file(...r))},"Download")),s.isSystem&&s.electron?(u(),c("button",{key:1,class:"bouton",onClick:t[3]||(t[3]=(...r)=>s.popup_change_format&&s.popup_change_format(...r))},"Change File Format")):g("",!0),s.isSystem&&s.electron?(u(),c("button",{key:2,class:"bouton",onClick:t[4]||(t[4]=(...r)=>s.popup_change_ids&&s.popup_change_ids(...r))},"Change Ids")):g("",!0),dt]),l.deletePopup?(u(),x(i,{key:0,button:"Confirm",text:"Cancel",onButton:t[5]||(t[5]=r=>e.$emit("delete",o.catalogue)),modelValue:l.deletePopup,"onUpdate:modelValue":t[6]||(t[6]=r=>l.deletePopup=r)},{default:F(()=>[a("div",null,"Are you sure you want to delete this "+p(s.is_catalogue?"catalogue":"Game System")+"?",1)]),_:1},8,["modelValue"])):g("",!0),l.changeFormatPopup?(u(),x(i,{key:1,button:"Confirm",text:"Cancel",onButton:t[9]||(t[9]=r=>s.change_format(l.format,l.deleteExistingFiles)),modelValue:l.changeFormatPopup,"onUpdate:modelValue":t[10]||(t[10]=r=>l.changeFormatPopup=r)},{default:F(()=>[a("div",null,[mt,w(a("select",{id:"newFormat","onUpdate:modelValue":t[7]||(t[7]=r=>l.format=r)},[gt,ht,s.has_duplicate_filename?g("",!0):(u(),c("option",pt,".json (JSON)"))],512),[[be,l.format]])]),s.has_duplicate_filename?(u(),c("div",ft,yt)):g("",!0),a("div",null,[bt,w(a("input",{type:"checkbox",id:"deleteExisting","onUpdate:modelValue":t[8]||(t[8]=r=>l.deleteExistingFiles=r)},null,512),[[oe,l.deleteExistingFiles]])])]),_:1},8,["modelValue"])):g("",!0),l.changeIdsPopup?(u(),x(i,{key:2,button:"Confirm",text:"Cancel",onButton:t[11]||(t[11]=r=>s.change_ids()),modelValue:l.changeIdsPopup,"onUpdate:modelValue":t[12]||(t[12]=r=>l.changeIdsPopup=r)},{default:F(()=>[vt]),_:1},8,["modelValue"])):g("",!0)])}const wt=D(Me,[["render",Ct],["__scopeId","data-v-cfeaab0d"]]),At={emits:["create"],props:{catalogue:{type:Object,required:!0}},computed:{cataloguedata(){return m(this.catalogue)}}};const P=e=>(M("data-v-3d1f2a25"),e=e(),X(),e),kt={class:"details"},St={class:"editorTable"},It=P(()=>a("td",null,[a("label",{for:"name"}," name: ")],-1)),xt=P(()=>a("td",null,[a("label",{for:"authorUrl"}," authorUrl: ")],-1)),Ft=P(()=>a("td",null,[a("label",{for:"authorContact"}," authorContact: ")],-1)),Ut=P(()=>a("td",null,[a("label",{for:"authorName"}," authorName: ")],-1)),Et=P(()=>a("td",null,"id:",-1)),Bt=P(()=>a("td",null,[a("label",{for:"library",class:"hastooltip",title:"indicates that this catalogue is used to store data, no forces may be created from it if true."}," library: ")],-1));function Pt(e,t,o,n,l,s){return u(),c("fieldset",kt,[a("legend",null,p(s.cataloguedata.name),1),a("table",St,[a("tr",null,[It,a("td",null,[w(a("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=i=>s.cataloguedata.name=i)},null,512),[[B,s.cataloguedata.name]])])]),a("tr",null,[xt,a("td",null,[w(a("input",{type:"text",id:"authorUrl","onUpdate:modelValue":t[1]||(t[1]=i=>s.cataloguedata.authorUrl=i)},null,512),[[B,s.cataloguedata.authorUrl]])])]),a("tr",null,[Ft,a("td",null,[w(a("input",{type:"text",id:"authorContact","onUpdate:modelValue":t[2]||(t[2]=i=>s.cataloguedata.authorContact=i)},null,512),[[B,s.cataloguedata.authorContact]])])]),a("tr",null,[Ut,a("td",null,[w(a("input",{type:"text",id:"authorName","onUpdate:modelValue":t[3]||(t[3]=i=>s.cataloguedata.authorName=i)},null,512),[[B,s.cataloguedata.authorName]])])]),a("tr",null,[Et,a("td",null,[w(a("input",{type:"text",class:"gray",id:"id","onUpdate:modelValue":t[4]||(t[4]=i=>s.cataloguedata.id=i)},null,512),[[B,s.cataloguedata.id]])])]),a("tr",null,[Bt,a("td",null,[w(a("input",{type:"checkbox",id:"library","onUpdate:modelValue":t[5]||(t[5]=i=>s.cataloguedata.library=i)},null,512),[[oe,s.cataloguedata.library]])])])]),a("button",{class:"bouton",onClick:t[6]||(t[6]=i=>e.$emit("create",o.catalogue))}," Create Catalogue ")])}const Nt=D(At,[["render",Pt],["__scopeId","data-v-3d1f2a25"]]);function $(e){let t=e.replace(/[<>:"/\\|?*\x00-\x1F]/g,"");return t=t.trim().replace(/^[. ]+|[. ]+$/g,""),t.length===0?null:t}const zt=T({components:{UploadJson:ie,CataloguesDetail:wt,ImportFromGithub:re,CataloguesCreate:Nt,SelectFile:ee,IconContainer:ue,SplitView:ne},head(){return{title:"New Recruit - Editor"}},data(){return{msg:"",selectedItem:null,mode:"edit",editingItem:null,failed:!1}},setup(){return{cataloguesStore:H(),store:Q(),settings:Ce()}},created(){this.store.init(this.$router),electron||this.store.load_systems_from_db()},activated(){window.addEventListener("beforeunload",this.beforeUnload)},deactivated(){window.removeEventListener("beforeunload",this.beforeUnload)},computed:{has_unsaved_changes(){const e=this.store.unsavedChanges;for(const t in e)if(e[t].unsaved)return!0;return!1},electron(){return!!globalThis.electron},filter(){var t;const e=(t=this.$route.query)==null?void 0:t.id;if(e)return e.split(",")},systems(){if(this.filter){const e={};for(const t of this.filter){const o=this.store.gameSystems[t];o&&(e[t]=o)}return e}return this.store.gameSystems}},methods:{githubHoverTitle(e){return e.discovered?`using discovered .git repo at ${e.githubUrl}
use a publication name="Github", url="https://github.com/{owner}/{repo}" in the gameSystem to overwrite.`:`using repo at ${e.githubUrl}`},async saveAll(){var t;let e=!1;try{for(const o of Object.values(this.systems)){const n=await this.store.prompt_revision(o);for(const l of o.getAllLoadedCatalogues())(t=this.store.get_catalogue_state(l))!=null&&t.unsaved&&this.store.save_catalogue(o,l,n)}}catch{e=!0}this.failed=e},async beforeUnload(e){if(!globalThis._closeWindow){if(this.store.unsavedCount){const t="You have unsaved changes that will be lost";e.returnValue=t,electron&&setTimeout(async()=>{await we({message:"You have unsaved changes that will be lost?",buttons:["Cancel","Leave"],defaultId:0,cancelId:0,type:"question"})===1&&(globalThis._closeWindow=!0,Ae())})}return!1}},systemAndCatalogues(e){let t=[];return e.gameSystem&&t.push(e.gameSystem),e.catalogueFiles&&t.push(...Object.values(e.catalogueFiles)),t},itemClicked(e){this.selectedItem=e,this.mode="edit"},itemDoubleClicked(e){const t=m(e).id,o=m(e).gameSystemId||t;this.$router.push({name:"catalogue",query:{systemId:o,id:t}})},newCatalogue(e){if(!e.gameSystem)return;const t=e.gameSystem.gameSystem;this.mode="create",this.selectedItem={catalogue:{library:!1,id:ae(),name:"New Catalogue",gameSystemId:t.id,gameSystemRevision:t.revision,revision:1}}},getCatExtension(e){switch(q(e)){case"json":return"json";case"gstz":return"catz";default:case"gst":return"cat"}},createCatalogue(e){const t=this.store.get_system(e.catalogue.gameSystemId),o=JSON.parse(JSON.stringify(e));if(o.catalogue.battleScribeVersion="2.03",!$(o.catalogue.name))throw new Error("Cannot create catalogue: couldn't create filename using provided name (only invalid chars)");if(electron){if(!t.gameSystem)throw new Error("Cannot create catalogue: no game system");const l=m(t.gameSystem).fullFilePath;if(!l)throw new Error("Cannot create catalogue: game system has no path set");const s=o.catalogue.name;if(!s)throw new Error("Cannot create catalogue: no name provided");const i=$(s);if(!i)throw new Error("Cannot create catalogue: couldn't create filename using provided name (invalid chars)");const d=ke(l);m(o).fullFilePath=`${d}/${i}.${this.getCatExtension(l)}`}t.setCatalogue(o),this.cataloguesStore.setEdited(v(o),!0),this.store.set_catalogue_changed(o,!0),this.store.get_catalogue_state(o).incremented=!0,this.selectedItem=o,electron||I.catalogues.put({content:o,id:v(e)}),this.mode="edit"},deleteCatalogue(e){console.log("Deleted catalogue",e);const t=m(e),o=t.gameSystemId||t.id;if(e.catalogue)this.store.get_system(o).removeCatalogue(e),electron||I.catalogues.delete(v(e));else if(e.gameSystem){const n=this.store.get_system(o);for(const l of Object.values(n.catalogueFiles)){const s=v(l);I.catalogues.delete(s)}I.catalogues.delete(v(n.gameSystem)),I.systems.delete(v(n.gameSystem)),this.store.delete_system(o)}this.selectedItem=null},filesUploaded(e){console.log("Uploaded",e.length,"files",e);const t=e.filter(n=>n.gameSystem);for(const n of t){const l=n.gameSystem.id,s=v(n);this.store.get_system(l).setSystem(n),electron||I.systems.put({content:n,id:s}),this.cataloguesStore.updateCatalogue(n.gameSystem),this.cataloguesStore.setEdited(s,!1)}const o=e.filter(n=>n.catalogue);for(const n of o){const l=n.catalogue.gameSystemId;this.store.get_system(l).setCatalogue(n),electron||I.catalogues.put({content:n,id:v(n)}),this.cataloguesStore.updateCatalogue(n.catalogue),this.cataloguesStore.setEdited(v(n),!1)}delete this.$route.query.id},async editCatalogue(e){const t=m(e).id,o=m(e).gameSystemId||t;this.$router.push({name:"catalogue",query:{systemId:o,id:t}})}}}),Dt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAKa8AACmvAUYJFJkAAAJdSURBVFhHvddNiE1hHMfxy1yS8VYMm1mwklhYoBRqrLCgWCkvCysxXiIrS4tZmVkrCyWZTF6WSEo2SMhLFt6KsuAOMUNJ+P6cc29//55z7/Oce8evPp1zp3me+z/Pec5znltpkW7sxDk8xzh+ooY7GMRaTEJHMw3HMYrfER5gAzqSJXiK0Be1choqvnRW4BNCnce6Ad26qNh7twh3Me/vp3/zBJehkdE8WIDV2Io58LmEbVBBUZmM2/BX8xabUZSZGIAmpm+7F9HZDt/BI+hKY7IFP2Db60kJjU4wD+Eb9yIl+2D7kKNomWXwDfcjNZpP92D70ePZMgdgG33FdJTJLti+fmEuCqPJpxGw0WT8lp0m53p+rEejsjQ7DUcFzM9OG3mZH8vkPXzxTSeyCvDRsLUT377pe0IFfMxOG1mYH8tEi9iM7LSRD/kxGBWg1c1mDaZmp8lZnx9tnuXHwiyHnbmyG2VyE7Yff3GFUZW24Ts0fXwCCa2meqVHZQ9841vQWh8T3bYx2PZfEHqxBdOF+7AdyGOsRFGqOIjv8G2PISnaiHyG70iP1TXo7bYO2jNswgm8hv//urPQhSWlD34o26G9pEYpKavwBqEOyziP5CJm4SS0rIY69V7hlPubNYzkIpQeaJJdhVa0eofaAb3AGWgzUu/8COwXWxcwBW1FO97ZaHY1hxEqQEbQdhExOQQ9PaEiLuK/FKGNTlER2jWXfd8kpR9FRVxBNXmhSIx+Z2iDuxF+X7AYtYkuQFEReoK0evoi/F5kQqOl3N+OpB8vncgO6NeW3pRDlUql6w9PQiGMhlvIAAAAAABJRU5ErkJggg==",Vt="data:image/png;base64,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";const jt={key:0,class:"p-10px"},Rt={class:"box"},Jt=a("h3",null,"My Catalogues",-1),Ot={class:"boutons"},Lt={key:0},Zt=a("p",{class:"info"},[f(" To return to this page, simply click on the 'New Recruit' icon located in the top-left corner of the screen. "),a("br"),f(" Returning to this page will not cause you to lose your changes. ")],-1),Tt={class:"mx-10px box h-full pb-200px"},qt={class:"scrollable"},Ht={class:"section"},Qt={class:"systemLegend"},Mt=a("img",{class:"w-24px h-24px",src:Dt,title:"Search"},null,-1),Xt=["href"],Gt=["title"],Yt=a("img",{class:"w-24px h-24px",src:Ue,title:"Scripts"},null,-1),Wt={key:0,class:"scrollable"},Kt={key:1,class:"status mx-2 text-red"},$t={key:2,class:"status mx-2"};function es(e,t,o,n,l,s){const i=ee,d=ie,r=re,_=ce,y=Ie,S=ue,U=K("CataloguesCreate"),N=K("CataloguesDetail"),V=ne;return u(),c(A,null,[e.electron?g("",!0):(u(),c("div",jt,[a("div",Rt,[Jt,a("div",Ot,[e.electron?(u(),x(i,{key:0,onUploaded:e.filesUploaded},null,8,["onUploaded"])):g("",!0),k(d,{onUploaded:e.filesUploaded},null,8,["onUploaded"]),k(r,{onUploaded:e.filesUploaded},null,8,["onUploaded"]),k(_)]),e.electron?(u(),c("div",Lt," Note: if you modify an already imported file in another program, you will need to import it again ")):g("",!0)])])),Zt,a("div",Tt,[k(V,{showMiddle:"",showRight:"",rightWidth:400,id:"systemView"},{middle:F(()=>[a("div",qt,[(u(!0),c(A,null,R(e.systems,b=>{var z,E;return u(),c("fieldset",Ht,[a("legend",Qt,[k(y,{to:`/search/${b.getId()}`,class:"align-bottom imgBt inline-block"},{default:F(()=>[Mt]),_:2},1032,["to"]),(z=b.github)!=null&&z.githubUrl?(u(),c("a",{key:0,href:b.github.githubUrl,target:"_blank",class:"ml-5px align-bottom imgBt inline-block"},[a("img",{class:"w-24px h-24px",src:Vt,title:e.githubHoverTitle(b.github)},null,8,Gt)],8,Xt)):g("",!0),k(y,{to:`/scripts/${b.getId()}`,class:"align-bottom imgBt inline-block"},{default:F(()=>[Yt]),_:2},1032,["to"]),f(" "+p(((E=b.gameSystem)==null?void 0:E.gameSystem.name)||"Unknown GameSystem"),1)]),k(S,{items:e.systemAndCatalogues(b),onItemClicked:e.itemClicked,onItemDoubleClicked:e.itemDoubleClicked,onNew:Y=>e.newCatalogue(b),modelValue:e.selectedItem,"onUpdate:modelValue":t[0]||(t[0]=Y=>e.selectedItem=Y)},null,8,["items","onItemClicked","onItemDoubleClicked","onNew","modelValue"])])}),256))])]),right:F(()=>[e.selectedItem?(u(),c("div",Wt,[e.mode==="create"?(u(),x(U,{key:0,onCreate:e.createCatalogue,catalogue:e.selectedItem},null,8,["onCreate","catalogue"])):(u(),x(N,{key:1,onDelete:e.deleteCatalogue,onEdit:e.editCatalogue,catalogue:e.selectedItem},null,8,["onDelete","onEdit","catalogue"]))])):g("",!0)]),_:1}),e.has_unsaved_changes&&e.$route.name=="index"?(u(),x(Se,{key:0,to:"#titlebar-content"},[e.has_unsaved_changes?(u(),c("button",{key:0,class:"bouton save ml-10px !w-100px",onClick:t[1]||(t[1]=(...b)=>e.saveAll&&e.saveAll(...b))},"Save All")):e.failed?(u(),c("span",Kt,"failed to save")):(u(),c("span",$t,"saved"))])):g("",!0)])],64)}const ls=D(zt,[["render",es]]);export{ls as default};
//# sourceMappingURL=index.e0157cb5.js.map
