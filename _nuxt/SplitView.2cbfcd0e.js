import{I as f,a as u,o as l,f as n,i as c,r as a,J as g,q as o}from"./entry.d789f7f4.js";const v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wcODic7b6se5AAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAEgSURBVDjLtZOxTsMwFEWvk2eaEokSVVUUUTEFscLGxIzEzCfAytcwMTP1N5gYCBOiYgGpqsTIEIXYTswQgYpje0Dt3Xz9fPV8/Mxg6HI2JcYg4ZDW4LcXC7XqkVlUfykWDQlHhwe9gKf5K8pSMtMPsAb1Qt4ePpXvQFF89PbpajYlWSsmhG4BoK4E94XkeTzIbxpJgzAAgPFoVxMYJI8IPOqK4h1vBrIsqXqdALBCBIAWDQKEv2sX7MAPLPwf2LW8zsZDGLOX0w8cUzaIxcvcHqI1eFkqJmU3J0oIPknjytXN8/tiyLcgI+rmZG+cajI/0/412rM0dl7p/hE17qCBpumc5YbAnhwn5DtwfsrJCnZVo3hbu2ADQJZMNLD8430DxUxYqJ3Wfq0AAAAASUVORK5CYII=",A=f("ui",{state:()=>({}),persist:{storage:globalThis.localStorage},actions:{get(t,e){return this.$state[`${t}-${e}`]},set(t,e,i){this.$state[`${t}-${e}`]=i}}});function m(t){const e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY}}const _={props:{showLeft:{type:Boolean,default:!0},showMiddle:{type:Boolean,default:!1},showRight:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},leftWidth:{type:String,default:"auto"},rightWidth:{type:String,default:"auto"},clamp:{type:Number,default:250},id:{type:String}},data(){return{_leftWidth:0,_rightWidth:0,dragging:!1,height:0}},setup(){return{store:A()}},mounted(){if(this.draggable){if(this.id){const t=this.store.get(this.id,"left");t&&(this._leftWidth=t)}if(!this._leftWidth&&this.$refs.left){const e=this.$refs.left.offsetWidth;this._leftWidth=e}if(this.id){const t=this.store.get(this.id,"right");t&&(this._rightWidth=t)}if(!this._rightWidth&&this.$refs.right){const e=this.$refs.right.offsetWidth;this._rightWidth=e}}addEventListener("resize",this.update),this.$nextTick(this.update)},unmounted(){removeEventListener("resize",this.update)},updated(){this.update()},computed:{left(){var t;return((t=this.$el)==null?void 0:t.offsetLeft)||0},leftw(){return this._leftWidth-this.left},right(){var t;return((t=this.$el)==null?void 0:t.offsetRight)||0},rightw(){return this._rightWidth-this.right},hasMiddle(){return!!this.$slots.middle},totalWidth(){return this.$el.clientWidth}},methods:{update(){var e;const t=(e=m(this.$el))==null?void 0:e.top;this.height=innerHeight-t},do_clamp(t){return t<this.clamp?this.clamp:t>this.totalWidth-this.clamp?this.totalWidth-this.clamp:t},async drag_left_handle(t){this.dragging=!0;const e=this._leftWidth,i=t.clientX,d=s=>{const h=s.clientX-i;this._leftWidth=this.do_clamp(e+h)};addEventListener("mousemove",d);const r=()=>{removeEventListener("mousemove",d),this.$nextTick(()=>{this.dragging=!1,this.id&&this.store.set(this.id,"left",this._leftWidth)})};addEventListener("mouseup",r,{once:!0,capture:!0})},async drag_right_handle(t){this.dragging=!0;const e=this._rightWidth,i=t.clientX,d=s=>{const h=s.clientX-i;this._rightWidth=this.do_clamp(e-h)};addEventListener("mousemove",d);const r=()=>{removeEventListener("mousemove",d),this.$nextTick(()=>{this.dragging=!1,this.id&&this.store.set(this.id,"right",this._rightWidth)})};addEventListener("mouseup",r,{once:!0,capture:!0})}}};const w={key:1,ref:"middle",class:"middle grow"};function p(t,e,i,d,r,s){return i.showLeft?(l(),n("div",{key:0,class:"splitView",style:g(r.height>0?{height:`${r.height}px`}:{})},[c("div",{class:"left",ref:"left",style:g({width:s.leftw>0?`${s.leftw}px`:i.leftWidth})},[a(t.$slots,"left",{},void 0,!0)],4),i.draggable&&i.showLeft&&(i.showMiddle||i.showRight)?(l(),n("div",{key:0,class:"between unselectable",onMousedown:e[0]||(e[0]=(...h)=>s.drag_left_handle&&s.drag_left_handle(...h))},null,32)):o("",!0),i.showMiddle?(l(),n("div",w,[a(t.$slots,"middle",{},void 0,!0)],512)):o("",!0),i.draggable&&i.showMiddle&&i.showRight?(l(),n("div",{key:2,class:"between unselectable",onMousedown:e[1]||(e[1]=(...h)=>s.drag_right_handle&&s.drag_right_handle(...h))},null,32)):o("",!0),i.showRight?(l(),n("div",{key:3,ref:"right",class:"right",style:g({width:`${s.rightw}px`})},[a(t.$slots,"right",{},void 0,!0)],4)):o("",!0)],4)):o("",!0)}const y=u(_,[["render",p],["__scopeId","data-v-5a951198"]]);export{v as _,y as a};
//# sourceMappingURL=SplitView.2cbfcd0e.js.map
