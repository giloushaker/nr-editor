{"version":3,"file":"catalogue.8807e302.js","sources":["../../../../node_modules/nuxt/dist/head/runtime/components.js","../../../../components/catalogue/right_panel/fields/Comment.vue","../../../../components/catalogue/right_panel/fields/InputStringArray.vue","../../../../components/catalogue/right_panel/fields/Basics.vue","../../../../assets/icons/back.png","../../../../components/catalogue/right_panel/fields/Publication.vue","../../../../components/catalogue/right_panel/PublicationPanel.vue","../../../../components/catalogue/right_panel/fields/Hidden.vue","../../../../components/catalogue/right_panel/CostTypesPanel.vue","../../../../assets/shared/battlescribe/sortorder.ts","../../../../components/catalogue/right_panel/fields/SortOrder.vue","../../../../components/catalogue/right_panel/fields/ProfileType.vue","../../../../components/catalogue/right_panel/ProfileTypesPanel.vue","../../../../components/catalogue/right_panel/fields/CharacteristicType.vue","../../../../components/catalogue/right_panel/CharacteristicTypePanel.vue","../../../../components/catalogue/right_panel/fields/Reference.vue","../../../../assets/bsicons/publication.png","../../../../components/catalogue/right_panel/fields/Description.vue","../../../../components/catalogue/right_panel/fields/QuickConstraints.vue","../../../../assets/bsicons/constraint.png","../../../../components/catalogue/right_panel/CategoryEntriesPanel.vue","../../../../components/util/NumberInput.vue","../../../../components/catalogue/right_panel/fields/Costs.vue","../../../../assets/bsicons/cost.png","../../../../components/catalogue/right_panel/fields/Booleans.vue","../../../../assets/bsicons/link.png","../../../../components/catalogue/right_panel/fields/Readme.vue","../../../../components/catalogue/right_panel/ForceEntriesPanel.vue","../../../../components/catalogue/right_panel/fields/Characteristics.vue","../../../../components/catalogue/right_panel/fields/Attributes.vue","../../../../components/catalogue/right_panel/ProfilesPanel.vue","../../../../components/catalogue/right_panel/RulesPanel.vue","../../../../components/catalogue/right_panel/fields/EntryType.vue","../../../../components/catalogue/right_panel/fields/Creation.vue","../../../../components/catalogue/edit_v2/Tag.vue","../../../../components/util/AutocompleteTags.vue","../../../../components/dialog/ContextMenu.vue","../../../../components/catalogue/edit_v2/Categories.vue","../../../../components/catalogue/right_panel/fields/Category.vue","../../../../components/catalogue/right_panel/fields/Categories.vue","../../../../components/catalogue/left_panel/Entry.vue","../../../../components/catalogue/right_panel/fields/SortChilds.vue","../../../../components/catalogue/right_panel/SelectionEntryPanel.vue","../../../../components/catalogue/right_panel/fields/Link.vue","../../../../assets/icons/error_exclamation.png","../../../../components/catalogue/right_panel/LinkPanel.vue","../../../../components/util/IconSelect.vue","../../../../components/catalogue/right_panel/fields/Modifier.vue","../../../../assets/ts/catalogue/catalogue_helpers.ts","../../../../components/catalogue/right_panel/fields/ComplexQuery.vue","../../../../components/catalogue/right_panel/fields/QuickConditions.vue","../../../../assets/bsicons/condition.png","../../../../components/catalogue/right_panel/ModifierPanel.vue","../../../../components/catalogue/right_panel/fields/Constraint.vue","../../../../components/catalogue/right_panel/fields/Query.vue","../../../../components/catalogue/right_panel/fields/QuickModifiers.vue","../../../../assets/bsicons/modifier.png","../../../../components/catalogue/right_panel/fields/FilterBy.vue","../../../../components/catalogue/right_panel/ConstraintPanel.vue","../../../../components/catalogue/right_panel/fields/ConditionGroup.vue","../../../../components/catalogue/right_panel/ConditionGroupPanel.vue","../../../../components/catalogue/right_panel/fields/Condition.vue","../../../../components/catalogue/right_panel/ConditionPanel.vue","../../../../components/catalogue/right_panel/fields/Repeat.vue","../../../../components/catalogue/right_panel/LocalConditionGroupPanel.vue","../../../../components/catalogue/right_panel/ModifierGroupPanel.vue","../../../../components/catalogue/right_panel/InfoGroupPanel.vue","../../../../components/catalogue/right_panel/fields/DefaultSelection.vue","../../../../components/catalogue/right_panel/SelectionEntryGroupPanel.vue","../../../../components/catalogue/right_panel/fields/Revision.vue","../../../../components/catalogue/right_panel/fields/Catalogue.vue","../../../../components/catalogue/right_panel/fields/Information.vue","../../../../components/catalogue/right_panel/CataloguePanel.vue","../../../../components/catalogue/right_panel/RepeatPanel.vue","../../../../components/catalogue/right_panel/AssociationPanel.vue","../../../../components/catalogue/right_panel/ReferencesPanel.vue","../../../../components/catalogue/right_panel/RightPanel.vue","../../../../components/Separator.vue","../../../../components/catalogue/left_panel/components/EditorCollapsibleBox.vue","../../../../components/catalogue/left_panel/components/CatalogueLabel.vue","../../../../assets/bsicons/profileType.png","../../../../assets/bsicons/profile.png","../../../../components/catalogue/left_panel/components/CatalogueEntry.vue","../../../../assets/bsicons/forceEntry.png","../../../../assets/bsicons/categoryEntryLink.png","../../../../assets/bsicons/selectionEntry.png","../../../../assets/bsicons/selectionEntryGroup.png","../../../../assets/bsicons/selectionEntryLink.png","../../../../assets/bsicons/selectionEntryGroupLink.png","../../../../assets/bsicons/profileLink.png","../../../../assets/bsicons/ruleLink.png","../../../../assets/bsicons/infoGroupLink.png","../../../../assets/bsicons/forceEntryLink.png","../../../../assets/bsicons/rule.png","../../../../assets/bsicons/infoGroup.png","../../../../assets/bsicons/association.png","../../../../assets/bsicons/characteristicType.png","../../../../assets/bsicons/attributeType.png","../../../../assets/bsicons/conditionGroup.png","../../../../assets/bsicons/repeat.png","../../../../assets/bsicons/modifierGroup.png","../../../../assets/icons/redcross.png","../../../../components/catalogue/left_panel/LeftPanel.vue","../../../../../../../../../assets/icons/undo.svg","../../../../../../../../../assets/icons/redo.svg","../../../../../../../../../assets/icons/vertical-alignment-24.png","../../../../assets/icons/collapse-all.svg","../../../../pages/catalogue.vue"],"sourcesContent":["import { defineComponent } from \"vue\";\nimport { useHead } from \"@unhead/vue\";\nconst removeUndefinedProps = (props) => Object.fromEntries(Object.entries(props).filter(([, value]) => value !== void 0));\nconst setupForUseMeta = (metaFactory, renderChild) => (props, ctx) => {\n  useHead(() => metaFactory({ ...removeUndefinedProps(props), ...ctx.attrs }, ctx));\n  return () => renderChild ? ctx.slots.default?.() : null;\n};\nconst globalProps = {\n  accesskey: String,\n  autocapitalize: String,\n  autofocus: {\n    type: Boolean,\n    default: void 0\n  },\n  class: [String, Object, Array],\n  contenteditable: {\n    type: Boolean,\n    default: void 0\n  },\n  contextmenu: String,\n  dir: String,\n  draggable: {\n    type: Boolean,\n    default: void 0\n  },\n  enterkeyhint: String,\n  exportparts: String,\n  hidden: {\n    type: Boolean,\n    default: void 0\n  },\n  id: String,\n  inputmode: String,\n  is: String,\n  itemid: String,\n  itemprop: String,\n  itemref: String,\n  itemscope: String,\n  itemtype: String,\n  lang: String,\n  nonce: String,\n  part: String,\n  slot: String,\n  spellcheck: {\n    type: Boolean,\n    default: void 0\n  },\n  style: String,\n  tabindex: String,\n  title: String,\n  translate: String\n};\nexport const NoScript = defineComponent({\n  name: \"NoScript\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    title: String,\n    body: Boolean,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((props, { slots }) => {\n    const noscript = { ...props };\n    const textContent = (slots.default?.() || []).filter(({ children }) => children).map(({ children }) => children).join(\"\");\n    if (textContent) {\n      noscript.children = textContent;\n    }\n    return {\n      noscript: [noscript]\n    };\n  })\n});\nexport const Link = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Link\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    as: String,\n    crossorigin: String,\n    disabled: Boolean,\n    fetchpriority: String,\n    href: String,\n    hreflang: String,\n    imagesizes: String,\n    imagesrcset: String,\n    integrity: String,\n    media: String,\n    prefetch: {\n      type: Boolean,\n      default: void 0\n    },\n    referrerpolicy: String,\n    rel: String,\n    sizes: String,\n    title: String,\n    type: String,\n    /** @deprecated **/\n    methods: String,\n    /** @deprecated **/\n    target: String,\n    body: Boolean,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((link) => ({\n    link: [link]\n  }))\n});\nexport const Base = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Base\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    href: String,\n    target: String\n  },\n  setup: setupForUseMeta((base) => ({\n    base\n  }))\n});\nexport const Title = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Title\",\n  inheritAttrs: false,\n  setup: setupForUseMeta((_, { slots }) => {\n    const title = slots.default?.()?.[0]?.children || null;\n    if (process.dev && title && typeof title !== \"string\") {\n      console.error(\"<Title> can only take a string in its default slot.\");\n    }\n    return {\n      title\n    };\n  })\n});\nexport const Meta = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Meta\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    charset: String,\n    content: String,\n    httpEquiv: String,\n    name: String,\n    body: Boolean,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((props) => {\n    const meta = { ...props };\n    if (meta.httpEquiv) {\n      meta[\"http-equiv\"] = meta.httpEquiv;\n      delete meta.httpEquiv;\n    }\n    return {\n      meta: [meta]\n    };\n  })\n});\nexport const Style = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Style\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    type: String,\n    media: String,\n    nonce: String,\n    title: String,\n    /** @deprecated **/\n    scoped: {\n      type: Boolean,\n      default: void 0\n    },\n    body: Boolean,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((props, { slots }) => {\n    const style = { ...props };\n    const textContent = slots.default?.()?.[0]?.children;\n    if (textContent) {\n      if (process.dev && typeof textContent !== \"string\") {\n        console.error(\"<Style> can only take a string in its default slot.\");\n      }\n      style.children = textContent;\n    }\n    return {\n      style: [style]\n    };\n  })\n});\nexport const Head = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Head\",\n  inheritAttrs: false,\n  setup: (_props, ctx) => () => ctx.slots.default?.()\n});\nexport const Html = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Html\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    manifest: String,\n    version: String,\n    xmlns: String,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((htmlAttrs) => ({ htmlAttrs }), true)\n});\nexport const Body = defineComponent({\n  // eslint-disable-next-line vue/no-reserved-component-names\n  name: \"Body\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    renderPriority: [String, Number]\n  },\n  setup: setupForUseMeta((bodyAttrs) => ({ bodyAttrs }), true)\n});\n","<template>\n  <fieldset>\n    <legend>Comment</legend>\n    <UtilEditableDiv v-model=\"comment\" />\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { type BSIOption } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSIOption & EditorBase>,\n      required: true,\n    },\n  },\n  computed: {\n    comment: {\n      get(): string {\n        return (Array.isArray(this.item.comment) ? this.item.comment[0] : this.item.comment) || \"\";\n      },\n      set(str: string) {\n        this.item.comment = str ? str : undefined;\n      },\n    },\n  },\n  methods: {\n    changed() {\n      this.item.getCatalogue()?.refreshErrors(this.item);\n    },\n  },\n};\n</script>\n","<template>\n  <EditableDiv v-model=\"_value\" @change=\"$emit('update:modelValue', toValue(_value))\" />\n</template>\n<script lang=\"ts\">\nimport EditableDiv from \"~/components/util/EditableDiv.vue\";\nexport default defineComponent({\n  components: { EditableDiv },\n  emits: [\"update:modelValue\"],\n  props: {\n    modelValue: { type: Array<String> },\n  },\n  data() {\n    return { _value: \"\" };\n  },\n  watch: {\n    modelValue: {\n      immediate: true,\n      handler(newVal) {\n        this._value = newVal ? newVal.join(\"\\n\") : \"\";\n      },\n    },\n  },\n  methods: {\n    toValue(valueStr: string) {\n      const arr = valueStr.split(\"\\n\").filter((o) => o);\n      if (!arr.length) return undefined;\n      return arr;\n    },\n  },\n});\n</script>\n","<template>\n  <fieldset>\n    <legend>Basics</legend>\n    <div class=\"mr-8px\">\n      <table class=\"editorTable\">\n        <tr>\n          <td>Unique ID:</td>\n          <td class=\"flex gap-2px\">\n            <input type=\"text\" v-model=\"id\" @change=\"idchanged\" class=\"flex flex-shrink\" />\n            <button class=\"btn !w-34px flex items-center\" @click=\"refresh\">\n              <span>\n                <img class=\"h-20px w-20px icon\" src=\"/assets/icons/back.png\" title=\"Generate Id\" />\n              </span>\n            </button>\n          </td>\n        </tr>\n        <tr>\n          <td>Name:</td>\n          <td class=\"flex gap-2px items-center\">\n            <input type=\"text\" v-model=\"item.name\" />\n            <template v-if=\"sortable\">\n              <span> Position: </span>\n              <input type=\"number\" class=\"w-50px inline-block\" v-model=\"item.sortIndex\" />\n            </template>\n          </td>\n        </tr>\n        <tr v-if=\"item.editorTypeName === 'forceEntry'\">\n          <td>Child Forces Label:</td>\n          <td><input type=\"text\" v-model=\"(item as BSIForce).childForcesLabel\" placeholder=\"Forces\" /></td>\n        </tr>\n        <template v-if=\"aliases\">\n          <tr>\n            <td class=\"hastooltip\" title=\"Additional Aliases for in-text reference matching, case insensitive.\none per line\">\n              Aliases:\n            </td>\n            <td>\n              <InputStringArray v-model=\"item.alias\" />\n            </td>\n          </tr>\n          <tr>\n            <td class=\"hastooltip\" title=\"Disable indexing the name of this node for in-text references.\">No Index</td>\n            <td><input type=\"checkbox\" v-model=\"item.noindex\" /></td>\n          </tr>\n        </template>\n      </table>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { generateBattlescribeId } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIOption, BSINamed, BSIAliasable, BSIForce } from \"~/assets/shared/battlescribe/bs_types\";\nimport InputStringArray from \"./InputStringArray.vue\";\nimport { Force } from \"~/assets/shared/battlescribe/bs_main\";\n\nexport default {\n  components: { InputStringArray },\n  emits: [\"idchanged\"],\n  props: {\n    item: {\n      type: Object as PropType<EditorBase & Partial<BSIAliasable>>,\n      required: true,\n    },\n    aliases: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    idchanged() {\n      this.changed();\n    },\n    refresh() {\n      this.id = generateBattlescribeId();\n      this.idchanged();\n    },\n  },\n  computed: {\n    id: {\n      get(): string {\n        return this.item.id;\n      },\n      set(id: string) {\n        const obj = this.item as EditorBase;\n        const catalogue = obj.getCatalogue();\n        catalogue.removeFromIndex(obj);\n        obj.id = id;\n        catalogue.addToIndex(obj);\n      },\n    },\n    typeName() {\n      return (this.item as EditorBase).editorTypeName;\n    },\n    sortable() {\n      return [\n        \"forceEntry\",\n        \"forceEntryLink\",\n        \"selectionEntry\",\n        \"selectionEntryGroup\",\n        \"selectionEntryLink\",\n        \"selectionEntryGroupLink\",\n      ].includes(this.typeName);\n    },\n  },\n};\n</script>\n<style>\n.btn {\n  border: 1px solid var(--box-border, #aaa);\n  background-color: var(--input-background);\n  box-shadow: 2px 2px 5px -2px var(--box-border, #aaa);\n}\n</style>\n","export default \"__VITE_ASSET__b03bf360__\"","<template>\n  <fieldset>\n    <legend>Publication</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Short Name</td>\n        <td>\n          <input type=\"text\" v-model=\"item.shortName\" />\n        </td>\n      </tr>\n      <tr>\n        <td>Publication:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.publisher\" />\n        </td>\n      </tr>\n      <tr>\n        <td>Publication Date:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.publicationDate\" />\n        </td>\n      </tr>\n      <tr>\n        <td>Publication URL:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.publisherUrl\" />\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { BSIPublication } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSIPublication>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" class=\"section\" />\n  <CatalogueRightPanelFieldsPublication class=\"section\" :item=\"item\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<Publication>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>\n      <slot />\n    </legend>\n    <input id=\"hidden\" type=\"checkbox\" v-model=\"item.hidden\" />\n    <label for=\"hidden\">Hidden</label>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { BSIHidden } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSIHidden>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" />\n    <CatalogueRightPanelFieldsBasics :item=\"item\" class=\"section\" />\n    <CatalogueRightPanelFieldsHidden :item=\"item\" class=\"section\"> Cost Types </CatalogueRightPanelFieldsHidden>\n\n    <div class=\"section\">\n      <fieldset>\n        <legend>Limit</legend>\n        <table class=\"editorTable\">\n          <tr>\n            <td>Default Cost Limit: </td>\n            <td>\n              <input type=\"number\" v-model=\"item.defaultCostLimit\" />\n              <span class=\"gray ml-10px\">-1 = No limit</span>\n            </td>\n          </tr>\n        </table>\n      </fieldset>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { BSICostType } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSICostType>,\n      required: true,\n    },\n  },\n};\n</script>\n","import { sortByAscendingInplace, sortByAscending } from \"~/assets/shared/battlescribe/bs_helpers\";\n\ntype StrOrRegex = string | RegExp;\nconst t = sortByAscending([], (o) => o);\n\nfunction isLineCondition(line: StrOrRegex[][]) {\n  const token = line[0][0] as string;\n  return line.length > 1 || [\"type\"].includes(token);\n}\nfunction parseAutoSortConfig(str: string): StrOrRegex[][][] {\n  const lines = str\n    .split(\"\\n\")\n    .map((o) => o.trim())\n    .filter((o) => o);\n  const result = [];\n  for (const line of lines) {\n    const ands = line\n      .split(\"&\")\n      .map((o) => o.trim())\n      .filter((o) => o);\n    const split = ands.map((o) =>\n      o\n        .split(\":\")\n        .map((o) => o.trim())\n        .map((o) => {\n          const regexResult = /^\\/(.*?)\\/([gimuy]*)$/.exec(o);\n          if (regexResult) {\n            return RegExp(regexResult[1], regexResult[2]);\n          }\n          return o;\n        }),\n    );\n    result.push(split);\n  }\n  return result.reverse();\n}\n\nexport interface AutoSortable {\n  getCosts: () => Array<{ name: string; value: number }>;\n  getName: () => string;\n  isGroup: () => boolean;\n  isEntry: () => boolean;\n  getType: () => string;\n}\nexport interface defaultItem extends AutoSortable {\n  sortIndex?: number;\n}\nexport class AutoSortConfig<T extends AutoSortable> {\n  set: (obj: T, index: number) => unknown;\n  get: (obj: T) => number | undefined;\n  del: (obj: T) => unknown;\n  config: string;\n  parsed?: StrOrRegex[][][];\n  constructor(\n    config: string,\n    get: (obj: T) => number | undefined = (obj: defaultItem) => obj.sortIndex,\n    set: (obj: T, index: number) => unknown = (obj: defaultItem, val) => (obj.sortIndex = val),\n    del: (obj: T) => unknown = (obj: defaultItem) => delete obj.sortIndex,\n  ) {\n    this.set = set;\n    this.get = get;\n    this.del = del;\n    this.config = config;\n  }\n\n  fixup(items: T[]) {\n    let i = 1;\n    for (const item of items) {\n      if (this.get(item) !== undefined) {\n        this.set(item, i);\n        i++;\n      }\n    }\n  }\n  setConfig(config: string) {\n    this.config = config;\n    delete this.parsed;\n  }\n  evalLine(element: T, line: StrOrRegex[][]) {\n    let result = 0;\n    for (const rule of line) {\n      const token = rule[0];\n      switch (token) {\n        case \"type\":\n          const type = rule[1];\n          switch (type) {\n            case \"group\":\n              result = element.isGroup() ? 0 : 1;\n              break;\n            case \"entry\":\n              result = element.isEntry() ? 0 : 1;\n              break;\n            default:\n              result = element.getType() === type ? 0 : 1;\n          }\n          break;\n        case \"name\":\n          result = (rule[1] as RegExp).exec(element.getName()) ? 0 : 1;\n          break;\n      }\n      if (result === 1) return result;\n    }\n    return result;\n  }\n\n  doAutoSort(childs: T[], config: StrOrRegex[][][]): number {\n    for (const line of config) {\n      if (isLineCondition(line)) {\n        sortByAscendingInplace(childs, (o) => this.evalLine(o, line));\n      } else {\n        const token = line[0][0] as string;\n        switch (token) {\n          case \"cost\":\n            const costName = (line[0][1] as string).toLowerCase();\n            sortByAscendingInplace(\n              childs,\n              (o) => o.getCosts().find((cost) => cost.name.toLowerCase() === costName)?.value ?? 0,\n            );\n            break;\n          case \"name\":\n            sortByAscendingInplace(childs, (o) => o.getName());\n            break;\n        }\n      }\n    }\n    let i = 1;\n    let affected = 0;\n    for (const child of childs) {\n      if (this.get(child) !== i) {\n        affected += 1;\n      }\n      this.set(child, i);\n      i += 1;\n    }\n    return affected;\n  }\n  autoSort(childs: T[]) {\n    if (!this.parsed) {\n      this.parsed = parseAutoSortConfig(this.config);\n    }\n    return this.doAutoSort(childs, this.parsed);\n  }\n}\n","<template>\n  <div class=\"scrollable max-h-60vh p-10px\">\n    <div class=\"mb-10px\" v-if=\"autosort\">\n      <button class=\"bouton\" id=\"auto-sort\" @click=\"autoSort(items)\">\n        AutoSort\n        <img src=\"/assets/icons/filtre.png\" class=\"cursor-pointer hover-darken right-icon\"\n          @click.stop.prevent=\"configure = true\" />\n      </button>\n      <PopupDialog v-if=\"massSort\" v-model=\"massSort\" button=\"Sort\" text=\"Cancel\" @button=\"autoSortAllIn(massSortIn)\">\n\n\n        <div class=\"text-center\" id=\"auto-sort-all-in\"> In <select v-model=\"massSortIn\">\n            <option value=\"catalogue\">Catalogue</option>\n            <option value=\"catalogue&imports\">Catalogue & Imports</option>\n            <option value=\"all\">All Catalogues</option>\n          </select>\n        </div>\n      </PopupDialog>\n      <PopupDialog v-if=\"configure\" v-model=\"configure\" button=\"Mass Sort\" @button=\"massSort = true\">\n        <div>\n\n          Enter rules for sorting below:\n          <br />Possible rules:\n        </div>\n        <div>\n          <span class=\"cost\">type:model</span><span class=\"cost\">type:upgrade</span><span\n            class=\"cost\">type:unit</span><span class=\"cost\">type:mount</span><span class=\"cost\">type:crew</span><span\n            class=\"cost\">type:entry</span><span class=\"cost\">type:group</span><br />\n          <span class=\"cost\">cost:{name}</span><br />\n          <span class=\"cost\">name</span><span class=\"cost\">name:/{regex}/i</span><br />\n        </div>\n        <div>\n          Multiple rules may be combined on the same line with <span class=\"cost\">&</span>\n          eg: <span class=\"cost\">type:group & name:/options/i</span>\n          <br />Higher rules take priority.\n        </div>\n\n        <UtilEditableDiv v-model=\"settings.autosort.config\" style=\"font-family: monospace;\" spellcheck=\"false\" />\n      </PopupDialog>\n    </div>\n    <div v-for=\"item, i in sorted\" class=\"p-4px border-solid -mt-1px border-1px hover-darken unselectable 0px drop-item\"\n      draggable=\"true\" @dragstart=\"dragStart(item)\" @dragover.prevent @drop=\"drop(realDropIndex)\"\n      @dragenter=\"dragEnter($event, i)\" @dragover=\"dragEnter($event, i)\" :class=\"{\n        'drop-target-is-above': realDropIndex === i && !same(i),\n        'drop-target-is-below': realDropIndex === i + 1 && !same_below(i + 1),\n        'dragging': item === dragging\n      }\">\n      <template v-if=\"get(item) === undefined\">\n        <span :class=\"{ gray: get(item) === undefined }\"\n          title=\"Will not be ordered specifically (but will be after anything with an index set)\">\n          [?]\n        </span>\n\n      </template>\n      <template v-else>\n        <span>\n          [{{ get(item) }}]\n        </span>\n\n      </template>\n      <slot v-bind=\"{ item }\" name=\"item\"></slot>\n      <span v-if=\"get(item) !== undefined\" class=\"px-4px py-1px hover-brighten cursor-pointer unselectable float-right\"\n        @click.stop=\"del(item)\">x</span>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { PropType } from 'nuxt/dist/app/compat/capi';\nimport { sortByAscending, sortByAscendingInplace } from '~/assets/shared/battlescribe/bs_helpers';\nimport { Base } from '~/assets/shared/battlescribe/bs_main';\nimport { EditorBase } from '~/assets/shared/battlescribe/bs_main_catalogue';\nimport { GameSystemFiles } from '~/assets/shared/battlescribe/local_game_system';\nimport { AutoSortConfig } from '~/assets/shared/battlescribe/sortorder';\nimport { useSettingsStore } from '~/stores/settingsState';\ntype StrOrRegex = string | RegExp\nexport default defineComponent({\n  props: {\n    items: {\n      type: Array<Base>,\n      required: true,\n    },\n    get: {\n      type: Function as PropType<(item: any) => number | undefined>,\n      required: true,\n    },\n    set: {\n      type: Function as PropType<(item: any, val: number) => unknown>,\n      required: true,\n    },\n    del: {\n      type: Function as PropType<(item: any) => unknown>,\n      required: true,\n    },\n    autosort: {\n      type: Boolean,\n      default: true,\n    },\n    parent: {\n      type: Object as PropType<EditorBase>\n    }\n  },\n  setup() {\n    return { settings: useSettingsStore() }\n  },\n  data() {\n    return {\n      dragging: null as null | any,\n      dropIndex: null as null | number,\n      configure: false,\n      massSort: false,\n      massSortIn: \"catalogue\" as \"catalogue\" | \"catalogue&imports\" | \"all\"\n    }\n  },\n  computed: {\n    sorted() {\n      return sortByAscending(this.items, (o) => this.get(o) ?? 10000)\n    },\n\n    realDropIndex() {\n      if (this.dropIndex === null) return null;\n      return Math.min(this.sorted.filter(o => this.get(o) !== undefined).length, this.dropIndex)\n    },\n  },\n  methods: {\n    same(index: number) {\n      const item = this.sorted[index];\n      if (!this.get(item)) return false;\n      if (item !== this.dragging && this.sorted[index - 1] !== this.dragging) return false;\n      return true;\n    },\n    same_below(index: number) {\n      const item = this.sorted[index - 1];\n      if (!this.get(item)) return false;\n      if (item !== this.dragging && this.sorted[index] !== this.dragging) return false;\n      return true;\n    },\n    dragStart(item: any) {\n      this.dragging = item;\n    },\n    dragEnter(e: DragEvent, index: number) {\n      const target = (e.target as HTMLElement).closest(\".drop-item\")!\n      const rect = target.getBoundingClientRect()\n      const half = (rect.top + rect.bottom) / 2\n      if (e.clientY > half) {\n        index += 1;\n      }\n      if (this.dragging !== index) {\n        this.dropIndex = index;\n      } else {\n        this.dropIndex = null;\n      }\n    },\n    drop(index: number | null) {\n      if (index === null) return;\n      const visual_index = index + 1\n      this.dropIndex = null;\n      if (this.dragging !== null) {\n        const itemsWithIndex = []\n        for (const item of this.sorted) {\n          const idx = this.get(item)\n          if (idx !== undefined) {\n            itemsWithIndex.push({ item, idx })\n          }\n        }\n        if (itemsWithIndex.find(o => o.idx === visual_index)) {\n          for (const { item, idx } of itemsWithIndex) {\n            if (idx >= visual_index) {\n              this.set(item, idx + 1)\n            }\n          }\n        }\n        this.set(this.dragging, visual_index)\n        this.fixup()\n        this.dragging = null;\n      }\n    },\n    fixup() {\n      let i = 1;\n      for (const item of this.sorted) {\n        if (this.get(item) !== undefined) {\n          this.set(item, i);\n          i++;\n        }\n      }\n    },\n    autoSort(childs: Base[]) {\n      const autosorter = new AutoSortConfig(this.settings.autosort.config, this.get, this.set, this.del,)\n      autosorter.autoSort(childs)\n    },\n    async autoSortAllIn(all_in: \"catalogue\" | \"catalogue&imports\" | \"all\") {\n      if (this.parent) {\n        const catalogue = this.parent.catalogue\n        const manager = this.parent.catalogue.manager as GameSystemFiles;\n        const autosorter = new AutoSortConfig(this.settings.autosort.config, this.get, this.set, this.del)\n\n        const whitelist = new Set([\n          \"sharedSelectionEntries\",\n          \"sharedSelectionEntryGroups\",\n          \"selectionEntries\",\n          \"selectionEntryGroups\"\n        ])\n\n        const catalogues = []\n        switch (all_in) {\n          case \"catalogue&imports\":\n            catalogues.push(...this.parent.catalogue.imports)\n          case \"catalogue\":\n            catalogues.push(catalogue)\n            break;\n          case \"all\":\n            if (all_in === \"all\") {\n              await manager.loadAll()\n              catalogues.push(...manager.getAllLoadedCatalogues())\n            }\n        }\n\n        let affected = 0;\n        for (const catalogue of catalogues) {\n          catalogue.forEachObjectWhitelist((obj: Base) => {\n            const childs = [...obj.localSelectionsIterator()]\n            if (childs.length > 1) {\n              affected += autosorter.autoSort(childs);\n            }\n          }, whitelist)\n        }\n        notify(`Affected ${affected} entries.`);\n\n      }\n    }\n  }\n})\n</script>\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.drop-target-is-above {\n  border-top: 4px solid rgb(101, 161, 101);\n}\n\n.drop-target-is-below {\n  border-bottom: 4px solid rgb(101, 161, 101);\n}\n\n.drop-target-is-below+.drop-target-is-above {\n  border-top: unset;\n}\n\n.dragging {\n  color: gray;\n  border-style: dashed;\n  border-width: 2px;\n}\n\n[draggable=\"true\"] {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\n.right-icon {\n  left: unset;\n  right: -6px;\n  top: -1px;\n  border: 1px solid $box_border;\n  padding: 5px 5px 6px 5px\n}\n\n.cost {\n  font-family: monospace;\n  line-height: 1.5em;\n}\n</style>\n","<template>\n  <fieldset class=\"section\">\n    <legend>Profile Kind</legend>\n    <div class=\"mr-8px\">\n      <table class=\"editorTable\">\n        <tr>\n          <td>Kind:</td>\n          <td class=\"flex gap-2px\">\n            <select v-model=\"item.kind\">\n              <option :value=\"undefined\">Not defined</option>\n              <option value=\"model\">Model stats</option>\n              <option value=\"weapon\">Weapon</option>\n              <option value=\"spell\">Spell</option>\n              <option value=\"ability\">Ability</option>\n              <option value=\"rule\">Rule</option>\n              <option value=\"tag\">Tag</option>\n            </select>\n          </td>\n        </tr>\n      </table>\n    </div>\n  </fieldset>\n  <fieldset class=\"section\">\n    <legend> Profiles Order </legend><button class=\"bouton inline\" @click=\"orderPopup = true\">Change</button>\n  </fieldset>\n  <PopupDialog v-if=\"orderPopup\" v-model=\"orderPopup\">\n    <div class=\"text-center\">Drag & Drop to change profileTypes order</div>\n    <SortOrder :items=\"get_profile_types()\" :get=\"get\" :set=\"set\" :del=\"del_sort\" :autosort=\"false\">\n      <template #item=\"{ item }\">{{ item.name }}</template>\n    </SortOrder>\n  </PopupDialog>\n</template>\n\n<script lang=\"ts\">\nimport { BSIProfileType } from \"~/assets/shared/battlescribe/bs_types\";\nimport { PropType } from \"vue\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport SortOrder from \"./SortOrder.vue\";\nimport { GameSystemFiles } from \"~/assets/shared/battlescribe/local_game_system\";\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSIProfileType & EditorBase>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      orderPopup: false,\n    };\n  },\n  setup() {\n    return { store: useEditorStore() };\n  },\n  methods: {\n    get(item: BSIProfileType & EditorBase) {\n      return item.sortIndex;\n    },\n    set(item: BSIProfileType & EditorBase, v: number) {\n      item.sortIndex = v;\n      this.store.set_catalogue_changed(item.catalogue, true);\n    },\n    del_sort(item: BSIProfileType & EditorBase) {\n      delete item.sortIndex;\n      this.store.set_catalogue_changed(item.catalogue, true);\n    },\n    get_profile_types() {\n      const files = ((this.item as any as EditorBase).catalogue.manager as GameSystemFiles).getAllLoadedCatalogues();\n      const found = [];\n      for (const file of files) {\n        for (const profileType of file.profileTypes || []) {\n          found.push(profileType);\n        }\n      }\n      return found as Array<BSIProfileType & EditorBase>;\n    },\n  },\n  components: { SortOrder },\n};\n</script>","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" class=\"section\" />\n  <CatalogueRightPanelFieldsProfileType class=\"section\" :item=\"item\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIProfileType } from \"~/assets/shared/battlescribe/bs_types\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSIProfileType & EditorBase>,\n      required: true,\n    },\n  },\n  setup() {\n    return { store: useEditorStore() };\n  },\n};\n</script>\n","<template>\n  <fieldset class=\"section\">\n    <legend>Characteristic Kind</legend>\n    <div class=\"mr-8px\">\n      <table class=\"editorTable\">\n        <tr>\n          <td>Kind:</td>\n          <td class=\"flex gap-2px\">\n            <select v-model=\"item.kind\">\n              <option :value=\"undefined\">Not defined</option>\n              <option value=\"longText\">Long Text</option>\n              <option value=\"annotation\">Annotation</option>\n            </select>\n          </td>\n        </tr>\n      </table>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { BSIProfileType } from \"~/assets/shared/battlescribe/bs_types\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSIProfileType & EditorBase>,\n      required: true,\n    },\n  },\n};\n</script>","<template>\n    <CatalogueRightPanelFieldsBasics :item=\"item\" class=\"section\" />\n    <CatalogueRightPanelFieldsCharacteristicType class=\"section\" :item=\"item\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIAttributeType, BSICharacteristicType } from \"~/assets/shared/battlescribe/bs_types\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\n\nexport default {\n    props: {\n        item: {\n            type: Object as PropType<(BSICharacteristicType | BSIAttributeType) & EditorBase>,\n            required: true,\n        },\n    },\n    setup() {\n        return { settings: useSettingsStore(), store: useEditorStore() };\n    },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend> <img src=\"assets/bsicons/publication.png\" /> Reference</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Publication:</td>\n        <td>\n          <UtilAutocomplete\n            :options=\"publications\"\n            :filterField=\"(o: Publication) => o.getName()\"\n            valueField=\"id\"\n            v-model=\"item.publicationId\"\n            nullable\n          >\n            <template #option=\"{ option }\">\n              <div class=\"flex align-items flex-row\">\n                <template v-if=\"option\">\n                  <img class=\"mr-1 my-auto\" :src=\"`assets/bsicons/${option.editorTypeName}.png`\" />\n                  <span class=\"inline\">\n                    {{ getName(option) }} <span class=\"grey\">{{ getNameExtra(option) }}</span>\n                  </span>\n                </template>\n                <template v-else>\n                  <img class=\"mr-1 my-auto\" :src=\"`assets/bsicons/bullet.png`\" />\n                  <span class=\"inline\">None</span>\n                </template>\n              </div>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n      <tr>\n        <td>Page:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.page\" />\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { getName, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { sortByAscending } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { Base } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<Base>,\n      required: true,\n    },\n  },\n  computed: {\n    publications() {\n      return sortByAscending([...this.catalogue.iteratePublications()], (o) => o?.name || \"\");\n    },\n  },\n  methods: {\n    getNameExtra,\n    getName,\n  },\n};\n</script>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0UrDhaU4pChOlkQFXHUKhShQqkVWnUwufQLmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi6uKk6CIl/i8ptIjx4Lgf7+497t4BQqPCVLNrHFA1y0gn4mI2tyoGXxFAL4KIYFBipj6XSiXhOb7u4ePrXYxneZ/7c/QpeZMBPpF4lumGRbxBPL1p6Zz3icOsJCnE58RjBl2Q+JHrsstvnIsOCzwzbGTS88RhYrHYwXIHs5KhEk8RRxVVo3wh67LCeYuzWqmx1j35C0N5bWWZ6zSHkcAilpCCCBk1lFGBhRitGikm0rQf9/BHHH+KXDK5ymDkWEAVKiTHD/4Hv7s1C5MTblIoDgRebPtjBAjuAs26bX8f23bzBPA/A1da219tADOfpNfbWvQI6N8GLq7bmrwHXO4AQ0+6ZEiO5KcpFArA+xl9Uw4YuAV61tzeWvs4fQAy1FXyBjg4BEaLlL3u8e7uzt7+PdPq7wcllnKI7QJDVQAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFCwgaM9maQ54AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACEElEQVQ4y52RzWsTQRiHn9luvsBCFpomtISSBFRICAgeApUeipcWT176n/Tc/yPneggI3rwJfkCwhnoTP+LuyWw8JBnS2DXszoyHdbcJXtT3NHP4PfO8vxEAz1+8ND+Da/5mSuUKD+7fE8ndBrj+seD44SFaa4wxaK2JogilFEoptNYADIdDvvsj3gzemwRiARhj0mASMMaglCIMQ5bLJUEQsFgsePzomPHoG6/fXZrUQCuFZVn0+33y+TytVovBYEA2myWXyzGZTGi1WkynU87PzwHof3VvVtBaI4Sg0+mkNsk5sQjDkP39fbTWFAoFXvXfrgMAut0u5XKZdrvN2dkZhUKBer2O4zicnJzQ6/UolUo0m800YwMoFRscHR1hjKFara6FXdclk8lweBgXvbu7y4cv8QpWDFAIIfB9HyklQoi18Gg0YmNjg/F4jJQSy7JQSq0Y6Biws7MTUy2L09PTtI/kh6rVKkopbNtG6VVAFAHgeR7FYpG9vT0uLi7I5XIATKdTDg4O8DyPWq0WA35n7NUV6vU6QGqTvF4sFhFC0Gg0MMasrWABRFGEEAIpJb7vr/WxXC7TXjzPS8/RqkEYhgghcBwHx3HWDADy+fwfhmEY3gDm8zmu6yKlZDabpX1UKhWCICAIAgCklCl0Pp/HsCdPn5nPnz6yuLriX+bW5ia379zF3ipts1Xa5n/nF4VfO8AW+/8fAAAAAElFTkSuQmCC\"","<template>\n  <fieldset>\n    <legend>Description<span class=\"gray\" v-if=\"link\"> (from target)</span></legend>\n    <UtilEditableDiv v-model=\"item.description\" />\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<{ description: string }>,\n      required: true,\n    },\n    link: {\n      type: Boolean,\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend><img src=\"assets/bsicons/constraint.png\" /> Quick Constraints</legend>\n    <div class=\"columns\">\n      <div class=\"column\">\n        <button class=\"bouton\" @click=\"add('min', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MIN 1 IN PARENT</span>\n        </button>\n        <button class=\"bouton\" v-if=\"withCategory\" @click=\"add('min', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MIN 1 IN CATEGORY</span>\n        </button>\n        <button class=\"bouton\" @click=\"add('min', 'force')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MIN 1 IN FORCE</span>\n        </button>\n        <button class=\"bouton\" @click=\"add('min', 'roster')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MIN 1 IN ROSTER</span>\n        </button>\n      </div>\n      <div class=\"column\">\n        <button class=\"bouton\" @click=\"add('max', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MAX 1 IN PARENT</span>\n        </button>\n        <button class=\"bouton\" v-if=\"withCategory\" @click=\"add('max', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MAX 1 IN CATEGORY</span>\n        </button>\n        <button class=\"bouton\" @click=\"add('max', 'force')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MAX 1 IN FORCE</span>\n        </button>\n        <button class=\"bouton\" @click=\"add('max', 'roster')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">MAX 1 IN ROSTER</span>\n        </button>\n      </div>\n      <div class=\"column\">\n        <button class=\"bouton\" @click=\"add('exactly', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">EXACTLY 1 IN PARENT</span>\n        </button>\n        <button class=\"bouton\" v-if=\"withCategory\" @click=\"add('exactly', 'parent')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">EXACTLY 1 IN CATEGORY</span>\n        </button>\n        <button class=\"bouton\" @click=\"add('exactly', 'force')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">EXACTLY 1 IN FORCE</span>\n        </button>\n        <button class=\"bouton\" @click=\"add('exactly', 'roster')\">\n          <img src=\"/assets/icons/iconeplus.png\" /><span class=\"text\">EXACTLY 1 IN ROSTER</span>\n        </button>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  setup() {\n    return { store: useEditorStore() };\n  },\n  props: {\n    item: {\n      type: Object as PropType<ItemTypes>,\n      required: true,\n    },\n\n    withCategory: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    add(type: string, scope: string) {\n      this.store.create_child(\"constraints\", this.item as EditorBase, {\n        type: type,\n        scope: scope,\n        value: 1,\n        select: false,\n        includeChildSelections: [\"roster\"].includes(scope) ? true : false\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.columns {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n\n.column {\n  flex: 1;\n  flex-wrap: wrap;\n}\n\n.bouton {\n  width: 100%;\n  font-size: 15px !important;\n  text-align: left !important;\n}\n\n.text {\n  margin-left: 28px;\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkTlIA0EYhb9EJeKBhQFFLLZQKwOiIpYaBREUQlTwKtzdmChkN2E3wcZSsA1YeDRehY21tha2giB4gNjaWCnaiKz/bIQEIYIDw3y8mfeYeQPBg7RpudU9YNk5Jz4W1Wbn5rXQMzXUE6KNFt10s8Ox2AQVx8ctAbXeRFQW/xuNiWXXhIAmPGRmnZzwkvDAWi6reEc4bK7oCeFT4W5HLih8r3SjyC+KUz4HVWbYmY6PCIeFtVQZG2VsrjiWcL9wR8KyJT84W+SE4nXFVjpv/txTvbBh2Z6ZUrrMdsYYZ5IYGgZ5VkmTIyKrLYpLXPajFfxtvj8mLkNcq5jiGCWDhe77UX/wu1s32ddbTGqIQs2T5711QmgLvgqe93noeV9HUPUIF3bJnzmAwXfRCyWtYx+aNuDssqQZ23C+Ca0PWd3RfalKZjCZhNcT+aY5aL6GuoVibz/7HN/BtHQ1cQW7e9CVkuzFCu+uLe/tzzN+f0S/ASWWcoi7xtRwAAAACXBIWXMAAC4iAAAuIgGq4t2SAAAAzElEQVQ4T2NkwAIWLFiw6+hzX1col8FacvPuhIQENyiXMAAZENfw9D+IhgpRF6A4O7/r2n9DsVO7V5zSc40wu4RBn39l5jqxTAurV8FOhTKxAgx5ZAGjkO3/oUysAFkerE/Tez08UIi1GUSD9DEou67+D8IgQRiNCyCrA2Gm//8ZGWqjv+4GCcJoXABZHUgfilNV3DbhtRlZHsOLxPoZBpigNBisPsDhClKgH3gCHIjoNEgeqpSGAGSTbfwD0tM2SINj8sv/MIzdAAYGAB1Xk+VGE8P2AAAAAElFTkSuQmCC\"","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n  <CatalogueRightPanelFieldsHidden :item=\"item\" class=\"section\">\n    Entry\n  </CatalogueRightPanelFieldsHidden>\n  <CatalogueRightPanelFieldsDescription class=\"section\" :item=\"item\" :catalogue=\"catalogue\" />\n  <CatalogueRightPanelFieldsQuickConstraints :item=\"item\" :withCategory=\"false\" class=\"section\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Category } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase, Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<Category & EditorBase>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <input v-model=\"stringValue\" type=\"number\" @change=\"update\" :required=\"required\" :min=\"min\" :max=\"max\" step=\"any\" />\n</template>\n\n<script lang=\"ts\">\nexport default {\n  props: {\n    modelValue: {\n      type: [Number, String],\n    },\n    required: {\n      type: Boolean,\n      required: false,\n    },\n    min: {\n      type: Number,\n      required: false,\n    },\n    max: {\n      type: Number,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      stringValue: null as string | null,\n      intValue: 0,\n    };\n  },\n\n  watch: {\n    modelValue() {\n      this.refresh();\n    },\n  },\n\n  created() {\n    this.refresh();\n  },\n\n  methods: {\n    refresh() {\n      this.intValue = this.modelValue || 0;\n      this.stringValue = \"\" + this.modelValue;\n    },\n\n    update() {\n      if (this.stringValue != null) {\n        this.intValue = parseFloat(this.stringValue);\n        this.$emit(\"update:modelValue\", this.intValue);\n        const event = new CustomEvent(\"change\", {\n          bubbles: true,\n        });\n        this.$el?.dispatchEvent(event);\n      }\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend><img src=\"assets/bsicons/cost.png\" /> Costs</legend>\n    <div class=\"costs\">\n      <div v-for=\"cost of costTypes\">\n        <label>{{ cost.name }}: </label>\n        <UtilNumberInput v-if=\"selectedCosts[cost.id] != null\" v-model=\"selectedCosts[cost.id].value\" class=\"input\" @change=\"changed\" placeholder=\"unset\" />\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSICost, BSICostType } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  data() {\n    return {\n      selectedCosts: {} as Record<string, BSICost>,\n    };\n  },\n\n  created() {\n    this.update();\n  },\n\n  props: {\n    item: {\n      type: Object as PropType<{ costs?: BSICost[] }>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  computed: {\n    costTypes() {\n      let res: BSICostType[] = [];\n      for (let elt of this.catalogue.iterateCostTypes()) {\n        res.push(elt);\n      }\n      return res;\n    },\n  },\n\n  methods: {\n    changed() {\n      this.item.costs = Object.values(this.selectedCosts).filter((o) => isFinite(o.value));\n    },\n\n    update() {\n      this.selectedCosts = {};\n      const defaultValue = ((this.item as EditorBase).isLink() ? undefined : 0) as number;\n      for (let cost of Object.values(this.costTypes)) {\n        this.selectedCosts[cost.id] = {\n          name: cost.name,\n          typeId: cost.id,\n          value: defaultValue,\n        };\n      }\n\n      if (this.item.costs) {\n        for (let cost of this.item.costs) {\n          this.selectedCosts[cost.typeId] = {\n            name: cost.name,\n            typeId: cost.typeId,\n            value: cost.value,\n          };\n        }\n      }\n    },\n  },\n\n  watch: {\n    item() {\n      this.update();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.costs {\n  display: flex;\n  > div {\n    margin-right: 10px;\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n}\n\n.input {\n  max-width: 100px;\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9bi1IqIu0g4pChumhBVMRRq1CECqFWaNXB5NIvaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIq4uToouU+L+k0CLGg+N+vLv3uHsH+BsVpppd44CqWUY6mRCyuVWh+xVBhNCPUUQkZupzopiC5/i6h4+vd3Ge5X3uz9Gr5E0G+ATiWaYbFvEG8fSmpXPeJ46ykqQQnxOPGXRB4keuyy6/cS467OeZUSOTnieOEgvFDpY7mJUMlXiKOKaoGuX7sy4rnLc4q5Uaa92TvzCc11aWuU5zCEksYgkiBMiooYwKLMRp1Ugxkab9hId/0PGL5JLJVQYjxwKqUCE5fvA/+N2tWZiccJPCCSD4Ytsfw0D3LtCs2/b3sW03T4DAM3Cltf3VBjDzSXq9rcWOgL5t4OK6rcl7wOUOMPCkS4bkSAGa/kIBeD+jb8oBkVsgtOb21trH6QOQoa5SN8DBITBSpOx1j3f3dPb275lWfz9cmHKeGGO3IgAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFChEuDQiaUlgAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACRElEQVQoz52Sz0tUURiGn3vvuTqNdU3noiiYZYQgSgYGhiFCRAYWUYFGf0GL/A9atwnaVBtrmWZllouSJAlqEVmLcuGi0JiZmh+W5jRzdeacc2+LscGplX1wFud7z/vwfh/HePpkLNjI/OB/KuREEOs/lzlzbgjty22ZLdPm8cQ9hO8HSJVnavzutgCnBy/i+wHC9zVaKVpaWqipqys9WE6liC4t4TgO+1tbMS2rpK2m02il8H2NqbVCaYXWGqe2tnRezs4ipSQcDjMzPV2maa03PQpTa42SEqUU6WSSZ48mSSeTmIZJc3MzpmmS/ZUt05RSKCnRWiOULCaQUrKrupq+k/3FJdkCz/OIRqNkc9kybTkeR2mFkgqhtUKpIm05kSjN2dvXR3J+lAP1Idr21vJ1fhxUhgojQ/67gVIH0Voh/sRfXFykauE+DU0u2tiBl8tTyMQ4OjhMIZcjGVvADgq47k6mJj6WxhCe52GaBscGBoi/jdPTf6JkyK34zM/Nkc8XSCdiVAqIuA772nswTQPP8xAFM8zIjVsAVHifqNzdhNY+2TWPencPHYc7ikC3EjtYwXUFd26/IPVqjXCkEdF76gKpxDeklHx+fp2u7rbNBBvElqK8e2OVgJZhE0/bhBqPcKjjPPUNjRhbf9fNa1eCiBXFDoURlk3sS5xLw2e37KCYYGR0lctXJw0AsRXQdXyITGaNICje88mHPBibwQ5VISyB2jCQ6ymMmk5gEqA8wd/1+v2HwMvl/uk7jkN3Z7sB8BurPj/243CaIgAAAABJRU5ErkJggg==\"","<template>\n  <fieldset>\n    <legend>\n      <slot></slot>\n    </legend>\n    <div class=\"booleans\">\n      <div v-for=\"field of fields.filter((f) => f.status != -1)\">\n        <img v-if=\"isDifferentOnTarget(field)\" :title=\"`${String(field.field)} is ${Boolean(item.target![field.field])} on target`\" style=\"vertical-align: text-top; margin-left: 4px; margin-top: 1px\" class=\"typeIcon\" src=\"assets/bsicons/link.png\" />\n        <input :class=\"{ 'cursor-pointer': field.status !== 0 }\" :id=\"(field.field as string)\" type=\"checkbox\" :checked=\"getCheckedValue(field)\" @change=\"handleChange($event, field)\" :disabled=\"field.status == 0\" />\n        <label :class=\"{ 'cursor-pointer': field.status !== 0, gray: field.status == 0, hastooltip: Boolean(field.title) }\" :for=\"(field.field as string)\" :title=\"field.title\">\n          {{ field.name }}\n        </label>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Base } from \"~/assets/shared/battlescribe/bs_main\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nenum BOOLEAN_STATUS {\n  UNAVAILABLE = -1,\n  DISABLED = 0,\n  AVAILABLE = 1,\n}\ninterface BooleanField {\n  name: string;\n  status: BOOLEAN_STATUS;\n  field: \"hidden\" | \"exportable\" | \"import\" | \"flatten\" | \"collapsible\" | \"collective\";\n  title?: string;\n  default?: boolean;\n}\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<Base & EditorBase>,\n      required: true,\n    },\n  },\n\n  methods: {\n    isDifferentOnTarget(field: BooleanField) {\n      if (!this.item.target) return false;\n      const selfValue = this.item[field.field] ?? field.default\n      const targetValue = this.item.target[field.field] ?? field.default\n      if (selfValue === targetValue) return false;\n      return targetValue !== field.default\n    },\n    getCheckedValue(field: BooleanField) {\n      if (this.item[field.field] === undefined) {\n        return field.default ?? false\n      }\n      return Boolean(this.item[field.field]);\n    },\n    handleChange(event: Event, field: BooleanField) {\n      const target = event.target as HTMLInputElement;\n      if (target.checked === field.default) {\n        delete this.item[field.field];\n      } else {\n        this.item[field.field] = target.checked;\n      }\n    },\n  },\n\n  computed: {\n    fields() {\n      return [\n        {\n          name: \"Hidden\",\n          status: this.hidden,\n          field: \"hidden\",\n        },\n        {\n          name: \"Collective\",\n          status: this.collective,\n          field: \"collective\",\n          title: \"indicates that multiple instances of this entry may be combined into one entry with an amount\",\n          default: false,\n        },\n        {\n          name: \"Import\",\n          status: this.import,\n          field: \"import\",\n          title: \"If this is checked, may be imported by other catalogues\",\n          default: true,\n        },\n        {\n          name: \"Flatten\",\n          status: this.flatten,\n          field: \"flatten\",\n          title: \"If this is checked, the group box will not be displayed.\",\n          default: false,\n        },\n        {\n          name: \"Collapsible\",\n          status: this.collapsible,\n          field: \"collapsible\",\n          title: \"If this is checked, the group box will always be collapsible\",\n          default: false,\n        },\n        {\n          name: \"Exportable\",\n          status: this.exportable,\n          field: \"exportable\",\n          title: \"prevents from showing up in various exports if unchecked\",\n          default: true,\n        },\n      ] as BooleanField[];\n    },\n\n    hidden() {\n      return true;\n    },\n\n    flatten() {\n      if (this.item.editorTypeName === \"selectionEntryGroup\") {\n        return 1;\n      }\n      if (this.item.editorTypeName === \"selectionEntryGroupLink\") {\n        return 1;\n      }\n      return BOOLEAN_STATUS.UNAVAILABLE;\n    },\n\n    collapsible() {\n      if (this.item.editorTypeName === \"selectionEntry\") {\n        return 1;\n      }\n      if (this.item.editorTypeName === \"selectionEntryLink\") {\n        return 1;\n      }\n      if (this.item.editorTypeName === \"selectionEntryGroup\") {\n        return 1;\n      }\n      if (this.item.editorTypeName === \"selectionEntryGroupLink\") {\n        return 1;\n      }\n      return BOOLEAN_STATUS.UNAVAILABLE;\n    },\n\n    collective() {\n      if (this.item.parent?.isCatalogue()) {\n        const parentkey = this.item.parentKey;\n        if (parentkey === \"selectionEntries\" || parentkey === \"entryLinks\") return 0;\n      }\n\n      switch (this.item.editorTypeName) {\n        case \"selectionEntryLink\":\n          return 1;\n        case \"selectionEntryGroupLink\":\n          return 1;\n        case \"selectionEntry\":\n          return 1;\n        case \"selectionEntryGroup\":\n          return 1;\n      }\n      return BOOLEAN_STATUS.UNAVAILABLE;\n    },\n\n    exportable() {\n      return 1;\n    },\n\n    import() {\n      if (this.item.parent?.isCatalogue()) {\n        return 1;\n      }\n\n      switch (this.item.editorTypeName) {\n        case \"selectionEntryLink\":\n          return 0;\n        case \"selectionEntryGroupLink\":\n          return 0;\n        case \"selectionEntry\":\n          return 0;\n        case \"selectionEntryGroup\":\n          return 0;\n\n        case \"categoryLink\":\n          return BOOLEAN_STATUS.UNAVAILABLE;\n        case \"infoLink\":\n          return BOOLEAN_STATUS.UNAVAILABLE;\n        case \"profileLink\":\n          return BOOLEAN_STATUS.UNAVAILABLE;\n        case \"ruleLink\":\n          return BOOLEAN_STATUS.UNAVAILABLE;\n        case \"infoGroupLink\":\n          return BOOLEAN_STATUS.UNAVAILABLE;\n      }\n      return 0;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.booleans {\n  display: flex;\n\n  > div {\n    margin-right: 10px;\n\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9Tix9UOlhBikOG6mRBVMRRq1CECqFWaNXB5PoJTRqSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxdXFSdJES/5cUWsR4cNyPd/ced+8AoVFhqtk1DqiaZaQScTGTXRW7XxHAIHoRQkRmpj4nSUl4jq97+Ph6F+NZ3uf+HP25vMkAn0g8y3TDIt4gnt60dM77xGFWknPE58RjBl2Q+JHristvnIsOCzwzbKRT88RhYrHYwUoHs5KhEk8RR3OqRvlCxuUc5y3OaqXGWvfkLwzmtZVlrtMcRgKLWIIEEQpqKKMCCzFaNVJMpGg/7uGPOH6JXAq5ymDkWEAVKmTHD/4Hv7s1C5MTblIwDgRebPtjBOjeBZp12/4+tu3mCeB/Bq60tr/aAGY+Sa+3tegRENoGLq7bmrIHXO4AQ0+6bMiO5KcpFArA+xl9UxYYuAX61tzeWvs4fQDS1FXyBjg4BEaLlL3u8e6ezt7+PdPq7wcvuHKMRIsU1QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFFQkWEGZMN3sAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABVElEQVQoz93Ry0oCARjF8f/kpC0mZYoupJZWWhSouUopy0fQxxF9kagXKNpEtLZVQajdFl28kVp2mRFGiS4zTLsiqkXLOtvf4nx8B/58BID84bHZaNTRX/V3ELtFnE4XAD9ZOBQQhINcwaxUyng9Y/TJMlarFcMweFAUcvkCAOG50BcrV6p4veMI6xubptvt5PjoiPOLS3TDYGR4CFmWP53aarW4bt4iWixM+X0EgkFqtQZdWltDkiQUVSWVzgAQjUZYXFwgkUiQTCaJx+PEYjEAUukMiqoiSRJaW0NYWV0zPaPj1Os17pU7NE1Df3n+9mGi1YbdbmegfxCXy031qoywtb1j7u/tMTsTwuPx4XDIPD52KJXOODnNA/xo85EIwmW5au5ms1ycn/H0/NHcY7MxMTkJQKlY/GL+qWmWlpcR6jdNs9PuoBv6r/YXLSJSr8Q/yBspXJbfdFchHAAAAABJRU5ErkJggg==\"","<template>\n  <fieldset>\n    <legend>Information</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Readme:</td>\n        <td>\n          <UtilEditableDiv type=\"text\" v-model=\"item.readme\" />\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n  <CatalogueRightPanelFieldsCosts :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsBooleans :item=\"item\"> Entry </CatalogueRightPanelFieldsBooleans>\n  <CatalogueRightPanelFieldsReadme :item=\"item\" class=\"section\" />\n  <CatalogueRightPanelFieldsQuickConstraints :item=\"item\" :withCategory=\"true\" class=\"section\">\n  </CatalogueRightPanelFieldsQuickConstraints>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Force } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<Force & EditorBase>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Characteristics<span class=\"gray\" v-if=\"link\"> (from target)</span></legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Profile Type: </td>\n\n        <td>\n          <UtilAutocomplete :options=\"profileTypes\" :filterField=\"(o: any) => o.getName()\" valueField=\"id\" v-model=\"item.typeId\" @change=\"changedType\">\n            <template #option=\"{ option }\">\n              <div class=\"flex align-items flex-row\" style=\"white-space: nowrap\">\n                <img class=\"mr-1 my-auto\" :src=\"`assets/bsicons/${option.editorTypeName}.png`\" /><span class=\"inline\">\n                  {{ getName(option) }} <span class=\"grey\">{{ getNameExtra(option) }}</span>\n                </span>\n              </div>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n    </table>\n    <table class=\"editorTable\">\n      <tr v-for=\"char of characteristics\">\n        <td>{{ char.name }}: </td>\n        <td>\n          <UtilEditableDiv v-model=\"char.$text\" @change=\"changed\" :beforePaste=\"settings.autoFormatCharacteristics ? fixEndlines : undefined\" />\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { getName, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Link, Profile, ProfileType } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\n\nexport default {\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<Profile>,\n      required: true,\n    },\n    link: {\n      type: Boolean,\n    },\n  },\n  setup() {\n    return { settings: useSettingsStore(), store: useEditorStore() };\n  },\n  methods: {\n    getName,\n    getNameExtra,\n    changedType(newType: ProfileType & EditorBase, oldOption: ProfileType & EditorBase): void {\n      this.item.getCatalogue().refreshErrors(this.item as EditorBase & (Profile | Link<Profile>));\n\n      if (oldOption) {\n        this.catalogue.removeRef(this.item as Profile & EditorBase, oldOption);\n      }\n      if (newType) {\n        this.catalogue.addRef(this.item as Profile & EditorBase, newType);\n      }\n      this.item.characteristics = this.characteristics;\n    },\n\n    changed(): void {\n      const characteristics = this.characteristics;\n      this.store.edit_node(this.item as Profile & EditorBase, { characteristics });\n    },\n\n    fixEndlines(updatedDescription: string): string {\n      console.log(\"Fixing\");\n      updatedDescription = updatedDescription.replace(/([^.:])\\n/g, \"$1 \");\n\n      updatedDescription = updatedDescription.replace(/([.:]\\n)/g, \"$1\\n\");\n\n      // Add newline before dashes not preceded by newline\n      updatedDescription = updatedDescription.replace(/([^\\n])(?=[^\\n])/g, \"$1\\n \");\n\n      // Ensure there are no more than two consecutive newline characters\n      updatedDescription = updatedDescription.replace(/\\n\\n\\n*/g, \"\\n\\n\");\n\n      return updatedDescription.replace(/ +/g, \" \");\n    },\n  },\n\n  computed: {\n    profileTypes() {\n      return [...this.catalogue.iterateProfileTypes()];\n    },\n\n    characteristics() {\n      const existing = {} as Record<string, any>;\n      for (const c of this.item.characteristics || []) {\n        existing[c.name] = c.$text;\n      }\n      if (!this.item.typeId) return [];\n      const type = this.catalogue.findOptionById(this.item.typeId) as ProfileType;\n      if (!this.item.isLink()) {\n        this.item.typeName = type?.name;\n      }\n\n      const result = type?.characteristicTypes?.map((elt) => ({\n        name: elt.name,\n        typeId: elt.id,\n        $text: existing[elt.name] || \"\",\n      }));\n      return result;\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n","<template>\n  <fieldset v-if=\"attributes?.length\">\n    <legend>Attributes<span class=\"gray\" v-if=\"link\"> (from target)</span></legend>\n    <table class=\"editorTable\">\n      <tr v-for=\"char of attributes\">\n        <td>{{ char.name }}: </td>\n        <td>\n          <UtilEditableDiv v-model=\"char.$text\" @change=\"changed\" />\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { getName, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Link, Profile, ProfileType } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\n\nexport default {\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<Profile>,\n      required: true,\n    },\n    link: {\n      type: Boolean,\n    },\n  },\n  setup() {\n    return { settings: useSettingsStore(), store: useEditorStore() };\n  },\n  methods: {\n    getName,\n    getNameExtra,\n    changedType(newType: ProfileType & EditorBase, oldOption: ProfileType & EditorBase): void {\n      this.item.getCatalogue().refreshErrors(this.item as EditorBase & (Profile | Link<Profile>));\n\n      if (oldOption) {\n        this.catalogue.removeRef(this.item as Profile & EditorBase, oldOption);\n      }\n      if (newType) {\n        this.catalogue.addRef(this.item as Profile & EditorBase, newType);\n      }\n      this.item.attributes = this.attributes;\n    },\n\n    changed(): void {\n      this.store.edit_node(this.item as Profile & EditorBase, { attributes: this.attributes });\n    },\n  },\n\n  computed: {\n    profileTypes() {\n      return [...this.catalogue.iterateProfileTypes()];\n    },\n\n    attributes() {\n      const existing = {} as Record<string, any>;\n      for (const c of this.item.attributes || []) {\n        existing[c.name] = c.$text;\n      }\n      if (!this.item.typeId) return [];\n      const type = this.catalogue.findOptionById(this.item.typeId) as ProfileType;\n      if (!this.item.isLink()) {\n        this.item.typeName = type?.name;\n      }\n\n      const result = type?.attributeTypes?.map((elt) => ({\n        name: elt.name,\n        typeId: elt.id,\n        $text: existing[elt.name] || \"\",\n      }));\n      return result;\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" class=\"section\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" class=\"section\" aliases />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n  <CatalogueRightPanelFieldsHidden :item=\"item\" class=\"section\">\n    Constraints\n  </CatalogueRightPanelFieldsHidden>\n\n  <CatalogueRightPanelFieldsCharacteristics class=\"section\" :item=\"item\" :catalogue=\"catalogue\" />\n  <CatalogueRightPanelFieldsAttributes class=\"section\" :item=\"item\" :catalogue=\"catalogue\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIProfile } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<BSIProfile>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" class=\"section\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" class=\"section\" aliases />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n  <CatalogueRightPanelFieldsHidden :item=\"item\" class=\"section\">\n    Constraints\n  </CatalogueRightPanelFieldsHidden>\n\n  <CatalogueRightPanelFieldsDescription class=\"section\" :item=\"item\" :catalogue=\"catalogue\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Rule } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<Rule>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>\n      <slot />\n    </legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Type:</td>\n        <td>\n          <select v-model=\"type\">\n            <option value=\"model\">Model</option>\n            <option value=\"upgrade\">Upgrade</option>\n            <option value=\"unit\">Unit</option>\n            <option value=\"unit-group\">Unit Group</option>\n            <option value=\"mount\">Mount</option>\n            <option value=\"crew\">Crew</option>\n          </select>\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<{\n        type: \"model\" | \"unit\" | \"upgrade\";\n        subType?: \"mount\" | \"crew\" | \"unit-group\";\n      }>,\n      required: true,\n    },\n  },\n  computed: {\n    type: {\n      get() {\n        return this.item.subType ?? this.item.type;\n      },\n      set(val: \"model\" | \"unit\" | \"upgrade\" | \"mount\" | \"crew\" | \"unit-group\") {\n        switch (val) {\n          case \"model\":\n          case \"upgrade\":\n          case \"unit\":\n            this.item.type = val;\n            delete this.item.subType;\n            break;\n          default:\n          case \"unit-group\":\n            this.item.type = \"unit\";\n            this.item.subType = val;\n            break;\n          case \"mount\":\n          case \"crew\":\n            this.item.type = \"model\";\n            this.item.subType = val;\n            break;\n        }\n      },\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Creation</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td\n          >Default Amount (split by <code style=\"background-color: #aaaaaa40; border-radius: 3px\">,</code> for multiple\n          stacks):\n        </td>\n        <td>\n          <input class=\"input\" type=\"text\" v-model=\"item.defaultAmount\" :placeholder=\"placeholder\" pattern=\"[0-9,]*\" />\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<{\n        defaultAmount?: number;\n        isLink(): boolean;\n        getDefaultAmount(): number | undefined;\n      }>,\n      required: true,\n    },\n  },\n  computed: {\n    placeholder(): string {\n      return `${this.item.isLink() ? this.item.getDefaultAmount() || \"unset\" : \"unset\"}`;\n    },\n  },\n};\n</script>\n<style scoped>\n.input {\n  max-width: 100px;\n}\n</style>\n","<template>\n  <svg\n    aria-hidden=\"true\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    version=\"1.1\"\n    width=\"16\"\n    data-view-component=\"true\"\n    class=\"octicon octicon-tag\"\n  >\n    <path\n      d=\"M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z\"\n    ></path>\n  </svg>\n</template>\n","<template>\n  <div class=\"autocomplete relative\" @keydown.down.prevent=\"onDown\" @keydown.up.prevent=\"onUp\" @keydown.enter.prevent=\"onEnter\" @keyup.enter.prevent=\"onEnterUp\" @keydown.escape=\"blur()\">\n    <input class=\"input autocomplete-input\" type=\"text\" ref=\"edit\" autofocus @input=\"suggest\" @click=\"maySuggest\" @focus=\"startEditing\" v-model=\"searchPattern\" :placeholder=\"placeholder\" v-click-outside=\"onClickOutside\" v-if=\"editing\" />\n    <div v-else @click=\"startEditing\" class=\"autocomplete-input\">\n      <span class=\"gray\">{{ placeholder }}</span>\n      <span class=\"float-right bold\">+</span>\n    </div>\n    <div class=\"suggestions\" v-show=\"editing\" :class=\"{ hidden: !editing }\" ref=\"suggestions\">\n      <template v-for=\"(option, i) in foundOptions\">\n        <div class=\"suggestion selected\" v-if=\"i === boundedSelected\" @click.capture.stop=\"targetSelected(option)\" @contextmenu.capture=\"targetSelectedRightClick($event, option)\">\n          <slot v-bind=\"{ ...option, selected: true }\" name=\"option\"></slot>\n        </div>\n        <div class=\"suggestion\" v-else @click.stop=\"targetSelected(option)\" @contextmenu.prevent=\"targetSelectedRightClick($event, option)\">\n          <slot v-bind=\"option\" name=\"option\"></slot>\n        </div>\n      </template>\n      <div v-if=\"always\" class=\"suggestion\" :class=\"{ selected: selected === foundOptions.length }\" @click=\"$emit('always', searchPattern)\" @contextmenu.prevent=\"$emit('always-special', searchPattern)\">\n        <slot name=\"always\" v-bind=\"{ input: searchPattern }\"></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { inBounds } from \"~/assets/shared/battlescribe/bs_helpers\";\n\nexport default {\n  props: {\n    modelValue: String,\n    placeholder: {\n      type: String,\n      default: \"Search...\",\n    },\n\n    min: {\n      type: Number,\n      default: 0,\n    },\n    max: {\n      type: Number,\n      default: 1000,\n    },\n\n    options: {\n      type: [Array, Function],\n      required: true,\n    },\n\n    filterField: {\n      type: [String, Function],\n      default: \"\",\n    },\n\n    lazy: {\n      type: Boolean,\n      default: false,\n    },\n    focus: {\n      type: Boolean,\n      default: false,\n    },\n\n    nullable: {\n      type: Boolean,\n      default: false,\n    },\n\n    always: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  created() {\n    if (!this.lazy) {\n      this.reset();\n    }\n  },\n\n  data() {\n    return {\n      searchPattern: \"\",\n      selected: 0,\n      lastSearch: null as string | null,\n      editing: false,\n      sleeping: this.lazy,\n      bounce: false,\n    };\n  },\n\n  computed: {\n    boundedSelected() {\n      return inBounds(this.selected, 0, this.always ? this.foundOptions.length : this.foundOptions.length - 1);\n    },\n    computedOptions(): any[] {\n      if (Array.isArray(this.options)) return this.options;\n      return this.sleeping ? [] : this.options();\n    },\n    foundOptions(): { option: any }[] {\n      const regex = this.textSearchRegex(this.searchPattern);\n      const result = [];\n      if (this.nullable) {\n        result.push({ option: undefined });\n      }\n      const data = this.computedOptions;\n      const end = this.max || data.length;\n      for (let i = 0; i < data.length; i++) {\n        const cur = data[i];\n        let val = this.getField(cur);\n        if (val && val.match && val.match(regex)) {\n          result.push({ option: cur });\n          if (result.length >= end - 1) break;\n        }\n      }\n      return result;\n    },\n  },\n\n  methods: {\n    fix(n: number) {\n      return inBounds(n, 0, this.always ? this.foundOptions.length : this.foundOptions.length - 1);\n    },\n    blur() {\n      this.editing = false;\n      this.$emit(\"blur\");\n    },\n    onUp() {\n      this.selected = this.fix(this.selected - 1);\n      this.$nextTick(() => {\n        const el = (this.$refs.suggestions as HTMLDivElement)!.getElementsByClassName(\"selected\")[0];\n        el?.scrollIntoView({ block: \"nearest\", inline: \"nearest\" });\n      });\n    },\n    onDown() {\n      this.selected = this.fix(this.selected + 1);\n      this.$nextTick(() => {\n        const el = (this.$refs.suggestions as HTMLDivElement)!.getElementsByClassName(\"selected\")[0];\n        el?.scrollIntoView({ block: \"nearest\", inline: \"nearest\" });\n      });\n    },\n    onEnter() {\n      if (this.bounce) return;\n      this.bounce = true;\n      if (this.always && this.selected === this.foundOptions.length) {\n        this.$emit(\"always\", this.searchPattern);\n      } else {\n        this.targetSelected(this.foundOptions[this.boundedSelected]);\n      }\n      this.reset();\n    },\n    onEnterUp() {\n      this.bounce = false;\n    },\n    getField(cur: any) {\n      if (!this.filterField) return cur;\n      if (this.filterField instanceof Function) {\n        return this.filterField(cur);\n      }\n      return cur[this.filterField];\n    },\n    escapeRegex(str: string) {\n      return str.replace(/([.?*+^$[\\]\\\\(){}|-])/g, \"\\\\$1\");\n    },\n\n    textSearchRegex(query: string) {\n      const words = this.escapeRegex(query).split(\" \");\n      const regexStr = `^(?=.*\\\\b${words.join(\".*)(?=.*\\\\b\")}).*$`;\n      const regx = new RegExp(regexStr, \"i\");\n      return regx;\n    },\n\n    targetSelected(opt: any) {\n      console.log(\"selected\", opt);\n      this.$emit(\"add\", opt.option);\n    },\n\n    targetSelectedRightClick(event: Event, opt: any) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      console.log(\"selected (right click)\", opt);\n      this.$emit(\"add-special\", opt.option);\n    },\n    emitNativeChangeEvent(a1: any, a2: any) {\n      const event = new CustomEvent('change', {\n        bubbles: true,\n        detail: { value: a1, old: a2 }\n      })\n      this.$el?.dispatchEvent(event)\n    },\n    reset() {\n      this.searchPattern = \"\";\n    },\n\n    onClickOutside() {\n      this.blur();\n    },\n\n    suggest() {\n      if (this.searchPattern.length < this.min) {\n        this.editing = false;\n      } else {\n        this.startEditing();\n      }\n    },\n\n    maySuggest() {\n      this.sleeping = false;\n      this.searchPattern = \"\";\n      if (this.min == 0) {\n        this.suggest();\n      }\n    },\n\n    startEditing() {\n      if (!this.editing) {\n        this.sleeping = false;\n        this.editing = true;\n        this.searchPattern = \"\";\n      }\n    },\n  },\n\n  mounted() {\n    if (this.focus) {\n      setTimeout(() => {\n        (this.$refs.edit as HTMLInputElement)?.focus();\n        this.startEditing();\n      }, 0);\n    }\n  },\n  watch: {\n    options() {\n      if (!this.lazy) {\n        this.reset();\n      }\n    },\n    searchPattern(_new, _old) {\n      if ((_new ?? \"\") !== (_old ?? \"\")) {\n        this.selected = 0;\n        this.$emit(\"update:modelValue\", _new);\n        this.$emit(\"change\");\n      }\n    },\n    modelValue: {\n      immediate: true,\n      handler(v) {\n        this.searchPattern = v ?? \"\";\n      },\n    },\n    async editing() {\n      if (this.editing) {\n        await this.$nextTick();\n        if (this.$refs.edit) {\n          (this.$refs.edit as any).focus();\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/shared_components/css/vars.scss\";\n\n.suggestions {\n  position: absolute;\n  top: 100%;\n  margin-top: 3px;\n  max-height: 300px;\n\n  overflow-y: auto;\n  z-index: 1;\n  // width: 100%;\n  display: grid;\n  box-shadow: rgba(22, 1, 1, 0.74) 0px 3px 8px;\n  background-color: var(--input-background);\n  border-top: 1px $box_border;\n  border-bottom: 1px $box_border;\n\n  > * {\n    background-color: var(--input-background);\n    border-left: 1px $box_border;\n    border-right: 1px $box_border;\n    border-bottom: none;\n    padding: 5px;\n\n    &:hover {\n      background-color: $blue;\n    }\n  }\n\n  // overflow-x: hidden;\n}\n\n.suggestions {\n  cursor: pointer !important;\n}\n\n.suggestion.selected {\n  background-color: $blue;\n  color: white;\n  fill: white;\n\n  :deep(.icon) {\n    filter: unset !important;\n  }\n}\n\n.suggestion:hover {\n  background-color: var(--input-highlights);\n  color: white;\n  fill: white;\n\n  :deep(.icon) {\n    filter: unset !important;\n  }\n}\n\n.view {\n  background-color: var(--input-background);\n}\n\n.container {\n  position: relative;\n}\n\n.hidden {\n  display: none;\n}\n\n// .autocomplete-input::before {\n//   content: \"\";\n//   position: absolute;\n//   top: 50%;\n//   right: 10px;\n//   transform: translateY(-50%);\n//   width: 0;\n//   height: 0;\n//   border-left: 5px solid transparent;\n//   border-right: 5px solid transparent;\n//   border-top: 5px solid #000;\n//   filter: var(--image-filter);\n// }\n.autocomplete-input,\n.autocomplete {\n  min-width: 300px;\n}\n</style>\n","<template>\n  <span :context-menu-id=\"id\" style=\"display: none\">\n    <Teleport to=\"#dialogs\" v-show=\"visible\">\n      <li\n        ref=\"context-menu\"\n        class=\"context-menu\"\n        :style=\"style\"\n        v-show=\"visible\"\n        @mousemove=\"hover($event, $event.target)\"\n        @mouseleave=\"hover($event, null)\"\n      >\n        <slot :payload=\"payload\" />\n      </li>\n    </Teleport>\n  </span>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  name: \"ContextMenu\",\n  data() {\n    return {\n      left: 100,\n      top: 100,\n      bottom: 100,\n      right: 100,\n      width: 200,\n      height: 200,\n      visible: false,\n      isDown: false,\n      isRight: false,\n      payload: undefined,\n      hoveredElement: null as Element | null,\n      nestedContextMenus: {} as Record<string, typeof this>,\n    };\n  },\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: true,\n    },\n    id: {\n      type: String,\n      required: false,\n    },\n  },\n  methods: {\n    hover(event: Event, e: Element | null) {\n      if (this.hoveredElement !== e) {\n        const div = e?.closest(\".context-menu > *\");\n        for (const nested of div?.querySelectorAll(\"[context-menu-id]\") || []) {\n          const id = nested.getAttribute(\"context-menu-id\");\n          if (id) {\n            for (const key in this.nestedContextMenus)\n              if (key === id) {\n                this.nestedContextMenus[key]?.show(event);\n              } else {\n                this.nestedContextMenus[key]?.close(event);\n              }\n          }\n        }\n      }\n      this.hoveredElement = e;\n    },\n    do_update(e: MouseEvent) {\n      this.width = this.el?.clientWidth || this.width;\n      this.height = this.el?.clientHeight || this.height;\n      this.top = e.clientY;\n      this.left = e.clientX;\n\n      if (this.avoid) {\n        const avoid = this.avoid as any;\n        const avoidLeft = avoid.offsetLeft;\n        this.left = avoidLeft + avoid.offsetWidth;\n        const target = e.target as HTMLDivElement;\n        var targetPos = target.getBoundingClientRect();\n        this.top = targetPos.top - 1;\n      }\n\n      this.left = Math.min(this.left, window.innerWidth - this.width) + 2;\n      this.top = Math.min(this.top, window.innerHeight - 7 - this.height);\n      this.bottom = window.innerHeight - this.top;\n      this.right = window.innerWidth - this.left;\n    },\n    update(e: MouseEvent) {\n      e.preventDefault();\n      this.do_update(e);\n      this.$nextTick(() => {\n        this.do_update(e);\n      });\n    },\n    show(e: MouseEvent, payload?: any) {\n      this.payload = payload;\n      this.visible = true;\n      this.update(e);\n      this.$emit(\"update:modelValue\", true);\n    },\n    close() {\n      this.visible = false;\n      this.$emit(\"update:modelValue\", false);\n    },\n    get_parent_context() {\n      let parent = this.$parent;\n      while (parent) {\n        if (parent.$options.name === this.$options.name) return parent;\n        parent = parent.$parent;\n      }\n      return null;\n    },\n  },\n  mounted() {\n    addEventListener(\"click\", this.close, { capture: true });\n    addEventListener(\"contextmenu\", this.close, { capture: true });\n    addEventListener(\"scroll\", this.close, { capture: true });\n    if (this.id) {\n      const parent = this.get_parent_context();\n      if (parent && parent.nestedContextMenus) {\n        parent.nestedContextMenus[this.id] = this;\n      }\n    }\n  },\n  unmounted() {\n    addEventListener(\"click\", this.close, { capture: true });\n    removeEventListener(\"contextmenu\", this.close, { capture: true });\n    removeEventListener(\"scroll\", this.close, { capture: true });\n    if (this.id) {\n      const parent = this.get_parent_context();\n      if (parent && parent.nestedContextMenus) {\n        delete parent.nestedContextMenus[this.id];\n      }\n    }\n  },\n  computed: {\n    el() {\n      return this.$refs[\"context-menu\"] as HTMLDivElement;\n    },\n    style() {\n      const result = {} as Record<string, string>;\n      result.top = `${this.top}px`;\n      result.left = `${this.left}px`;\n      return result;\n    },\n    avoid() {\n      return (this.$el as HTMLDivElement).parentElement?.closest(\".context-menu\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n.fixed {\n  position: fixed;\n}\n.context-menu {\n  z-index: 10000000;\n  display: block;\n  // fle x-direction: column;\n\n  position: absolute;\n  box-sizing: border-box;\n  justify-content: center;\n  background-color: $background_color;\n  color: $fontColor;\n  text-decoration: none;\n  font-size: 14px;\n  border: 1px solid $box_border;\n\n  min-width: 200px;\n  width: fit-content;\n  height: fit-content;\n  right: 0;\n  bottom: 0;\n\n  > div {\n    display: flex;\n    align-items: center;\n    padding: 4px;\n  }\n\n  cursor: pointer;\n\n  > :hover,\n  > :focus {\n    background: $blue;\n  }\n}\n</style>\n","<template>\n  <div :class=\"{ dark: settings.isDarkTheme }\">\n    <div>\n      <template v-if=\"ownCategories?.length || ownPrimaryCategories?.length\">\n        <div\n          v-for=\"category in ownPrimaryCategories\"\n          class=\"label hover-brighten\"\n          @contextmenu.stop=\"context($event, category)\"\n        >\n          <span class=\"primary bold\"> Primary </span>\n          <span class=\"name\">{{ category.getName() }} </span\n          ><span class=\"cursor-pointer hover-darken px-5px rounded-8px\" @click=\"removeCategory(item, category)\"\n            >&times;</span\n          >\n        </div>\n        <div v-for=\"category in ownCategories\" class=\"label\" @contextmenu.stop=\"context($event, category)\">\n          <span class=\"name\">{{ category.getName() }} </span\n          ><span class=\"cursor-pointer hover-darken px-5px rounded-8px\" @click=\"removeCategory(item, category)\"\n            >&times;</span\n          >\n        </div>\n      </template>\n      <template v-else>\n        <span class=\"gray\"> None </span>\n      </template>\n      <span class=\"py-1px rounded-8px bg-lime-400\"\n        ><span\n          class=\"px-5px py-1px rounded-8px cursor-pointer hover-darken\"\n          @click=\"adding = true\"\n          :style=\"{ color: settings.isDarkTheme ? 'black' : 'white' }\"\n          v-if=\"!adding\"\n          >+</span\n        >\n      </span>\n      <AutocompleteTags\n        v-if=\"adding\"\n        v-model=\"input\"\n        @blur=\"adding = false\"\n        focus\n        class=\"inline-block\"\n        lazy\n        :always=\"Boolean(input.trim()) && !allCategories().find((o) => o.name === input)\"\n        :options=\"allCategories\"\n        :dark=\"settings.isDarkTheme\"\n        placeholder=\"Search... (Right click = Primary)\"\n        :filterField=\"(o: Category) => o.getName()\"\n        @add=\"addCategory\"\n        @add-special=\"addCategoryAndMakePrimary\"\n        @always=\"createCategory\"\n        @always-special=\"createPrimaryCategory\"\n      >\n        <template #option=\"{ option, selected }\">\n          <div class=\"flex align-items flex-row\" style=\"white-space: nowrap\">\n            <template v-if=\"option?.name\">\n              <Tag class=\"icon\" />\n              <span>\n                &nbsp;{{ option.name }}\n                <span class=\"gray\" v-if=\"option.comment\"> #&nbsp;{{ option.comment }}</span>\n                <span class=\"gray\"> [{{ option.catalogue.name }}]</span>\n              </span>\n            </template>\n          </div>\n        </template>\n        <template #always=\"{ input }\">\n          <div class=\"flex align-items flex-row\" style=\"white-space: nowrap\">\n            <span>Create: </span>&nbsp; <Tag class=\"icon\" /><span>&nbsp;{{ input }}</span>\n          </div>\n        </template>\n      </AutocompleteTags>\n    </div>\n\n    <div class=\"align-top mt-4px\" v-if=\"targetCategories.length || targetPrimaryCategories.length\">\n      <img src=\"assets/bsicons/link.png\" />\n      From Target:\n      <span\n        v-for=\"category in targetPrimaryCategories\"\n        class=\"label\"\n        @contextmenu.stop=\"linked_context($event, category)\"\n      >\n        <span class=\"primary bold\"> Primary </span>\n        <span class=\"name\">{{ category.getName() }} </span>&nbsp;<span\n          class=\"cursor-pointer hover-darken px-3px rounded-2px\"\n          @click=\"removeCategory((item as EditorBase & Link).target, category)\"\n          >&times;</span\n        >\n      </span>\n      <span v-for=\"category in targetCategories\" class=\"label\" @contextmenu.stop=\"linked_context($event, category)\">\n        <span class=\"name\">{{ category.getName() }} </span>&nbsp;<span\n          class=\"cursor-pointer hover-darken px-3px rounded-2px\"\n          @click=\"removeCategory((item as EditorBase & Link).target, category)\"\n          >&times;</span\n        >\n      </span>\n    </div>\n    <ContextMenu\n      v-if=\"contextmenuopen && selectedCategory && selectedCategoryParent\"\n      v-model=\"contextmenuopen\"\n      ref=\"contextmenu\"\n    >\n      <div v-if=\"!selectedCategory.primary\" @click=\"makePrimary(selectedCategory, selectedCategoryParent)\">\n        Make Primary: {{ selectedCategory.getName() }}\n      </div>\n      <div v-if=\"selectedCategory.primary\" @click=\"makeSecondary(selectedCategory)\">\n        Make Secondary: {{ selectedCategory.getName() }}\n      </div>\n      <div @click=\"gotoCategory(selectedCategory)\">\n        Goto {{ selectedCategory.getName() }}\n        <span class=\"gray\"> &nbsp;({{ selectedCategory.catalogue?.getName() }}) </span>\n      </div>\n      <div @click=\"($event) => store.copy($event, selectedCategory)\"> Copy {{ selectedCategory.getName() }} </div>\n    </ContextMenu>\n  </div>\n</template>\n<script lang=\"ts\">\nimport Tag from \"./Tag.vue\";\nimport AutocompleteTags from \"~/components/util/AutocompleteTags.vue\";\nimport { Base, Category, CategoryLink, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport ContextMenu from \"~/components/dialog/ContextMenu.vue\";\nimport { getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport { generateBattlescribeId } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\n\nexport default defineComponent({\n  components: { AutocompleteTags, Tag, ContextMenu },\n  props: {\n    item: {\n      type: Object as PropType<EditorBase>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      input: \"\",\n      adding: false,\n      contextmenuopen: false,\n      selectedCategory: null as (EditorBase & CategoryLink) | null,\n      selectedCategoryParent: null as Base | null,\n    };\n  },\n  setup() {\n    return { store: useEditorStore(), settings: useSettingsStore() };\n  },\n\n  computed: {\n    catalogue() {\n      return this.item.catalogue;\n    },\n    targetCategories(): Array<CategoryLink & EditorBase> {\n      return (this.item.target?.categoryLinks || []).filter((o) => !o.primary) as Array<CategoryLink & EditorBase>;\n    },\n    ownCategories(): Array<CategoryLink & EditorBase> {\n      return (this.item.categoryLinks || []).filter((o) => !o.primary) as Array<CategoryLink & EditorBase>;\n    },\n    targetPrimaryCategories(): Array<CategoryLink & EditorBase> {\n      return (this.item.target?.categoryLinks || []).filter((o) => o.primary) as Array<CategoryLink & EditorBase>;\n    },\n    ownPrimaryCategories(): Array<CategoryLink & EditorBase> {\n      return (this.item.categoryLinks || []).filter((o) => o.primary) as Array<CategoryLink & EditorBase>;\n    },\n  },\n  methods: {\n    getNameExtra,\n    makePrimary(category: EditorBase & CategoryLink, parent: Base) {\n      for (const cl of parent.categoryLinks || []) {\n        this.store.edit_node(cl as EditorBase & CategoryLink, { primary: false });\n      }\n      this.store.edit_node(category, { primary: true });\n    },\n    makeSecondary(category: EditorBase & CategoryLink) {\n      this.store.edit_node(category, { primary: false });\n    },\n    context(event: Event, category: CategoryLink & EditorBase) {\n      this.contextmenuopen = true;\n      this.selectedCategory = category;\n      this.selectedCategoryParent = this.item;\n      this.$nextTick(() => {\n        (this.$refs.contextmenu as { show: (event: Event) => unknown })?.show(event);\n      });\n    },\n    linked_context(event: Event, category: CategoryLink & EditorBase) {\n      if (!this.item.target) {\n        console.error(\"Cant open context menu for a category on the target: Couldn't find target\");\n        return;\n      }\n      this.contextmenuopen = true;\n      this.selectedCategory = category;\n      this.selectedCategoryParent = this.item.target;\n      this.$nextTick(() => {\n        (this.$refs.contextmenu as { show: (event: Event) => unknown })?.show(event);\n      });\n    },\n    refreshCategories(item: Link & EditorBase, cat: Category | null, primary: boolean) {\n      if (!item.categoryLinks) item.categoryLinks = [];\n      const links = item.categoryLinks;\n      if (primary) {\n        links.forEach((o) => (o.primary = false));\n      }\n      if (cat) {\n        const found = links.find((o) => o.targetId === cat?.id);\n        if (found && primary) {\n          found.primary = true;\n        } else if (found) {\n          this.removeLink(this.item, found);\n        } else {\n          this.addLink(this.item, cat, primary);\n        }\n      }\n    },\n    removeLink(parent: EditorBase, link: Link) {\n      this.store.del_node(link);\n    },\n    addLink(parent: EditorBase, cat: Category, primary = false) {\n      if (!cat.isCategory()) {\n        throw Error(\"Invalid argument, target must be a category\");\n      }\n      const added = this.store.add_node(\"categoryLinks\", parent, {\n        targetId: cat.id,\n        id: this.item.catalogue.generateNonConflictingId(),\n        primary: primary,\n        name: cat.name,\n      });\n      return added;\n    },\n    allCategories() {\n      const current = new Set<string>();\n      for (const category of this.item.categoryLinks || []) {\n        current.add(category.getId());\n      }\n      const result = [];\n      for (const category of this.item.catalogue.iterateCategoryEntries()) {\n        if (!current.has(category.getId())) {\n          result.push(category);\n        }\n      }\n      return result;\n    },\n    addCategory(category: Category) {\n      if (!this.item.categoryLinks) this.item.categoryLinks = [];\n      const links = this.item.categoryLinks;\n      const found = links.find((o) => o.targetId === category.getId());\n      if (found) {\n        return found;\n      }\n      return this.addLink(this.item, category, false);\n    },\n    addCategoryAndMakePrimary(category: Category) {\n      const cl = this.addCategory(category);\n      this.makePrimary(cl, this.item);\n    },\n    removeCategory(parent: Base, category: CategoryLink) {\n      const links = parent.categoryLinks || [];\n      const found = links.find((o) => o.targetId === category.getId());\n      if (found) {\n        return this.removeLink(this.item, found);\n      }\n    },\n    async createCategory(name: string, primary = false) {\n      const parent = this.item.catalogue as Catalogue & EditorBase;\n      const key = \"categoryEntries\";\n      const obj = {\n        ...this.store.get_initial_object(key, parent),\n        name,\n        id: generateBattlescribeId(),\n      };\n      await this.store.add(obj, key, parent);\n      const added = this.item.catalogue.categoryEntries?.find((o) => o.name === name);\n      if (added) {\n        if (primary) {\n          return this.addCategoryAndMakePrimary(added);\n        } else {\n          return this.addCategory(added);\n        }\n      }\n    },\n    async createPrimaryCategory(name: string) {\n      await this.createCategory(name, true);\n    },\n    gotoCategory(category: EditorBase & CategoryLink) {\n      const entry = this.catalogue.findOptionById(category.targetId ?? category.id);\n      if (entry) {\n        this.store.goto(entry as EditorBase);\n      }\n    },\n  },\n});\n</script>\n<style scoped>\n.label {\n  background-color: #80808080;\n  display: inline-block;\n  padding: 2px 0px 2px 4px;\n  border-radius: 5px;\n  margin: 2px;\n}\n\n.dark * .plus {\n  color: white;\n}\n</style>\n","<template>\n  <div class=\"category\" @contextmenu.stop=\"contextmenu.show\">\n    <div>\n      <input\n        name=\"primary\"\n        type=\"radio\"\n        :checked=\"hasCategory(category) == 2\"\n        @change=\"$emit('primaryChanged', category)\"\n      />\n      Primary?\n    </div>\n    <div>\n      <input\n        :id=\"`category-${category.id}`\"\n        type=\"checkbox\"\n        :checked=\"hasCategory(category) != 0\"\n        @change=\"$emit('secondaryChanged', category)\"\n      />\n      <label :for=\"`category-${category.id}`\">\n        {{ category.name }}\n        <span class=\"gray\" v-if=\"category.comment\"> #&nbsp;{{ category.comment }} </span>\n        <span class=\"gray\"> [{{ category.catalogue.name }}]</span>\n      </label>\n    </div>\n    <ContextMenu v-if=\"contextmenuopen\" v-model=\"contextmenuopen\" ref=\"contextmenu\">\n      <div @click=\"store.goto(category)\">\n        Goto {{ category.getName() }}\n        <span class=\"gray\"> &nbsp;({{ category.catalogue?.getName() }}) </span>\n      </div>\n    </ContextMenu>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { Category, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport ContextMenu from \"~/components/dialog/ContextMenu.vue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default defineComponent({\n  props: {\n    category: {\n      required: true,\n      type: Object as PropType<Category>,\n    },\n    item: {\n      type: Object as PropType<Link & EditorBase>,\n      required: true,\n    },\n  },\n  setup() {\n    return { store: useEditorStore() };\n  },\n  data() {\n    return { contextmenuopen: false };\n  },\n  methods: {\n    menu(ref: string) {\n      return {\n        show: (event: MouseEvent, e: any) => {\n          this.contextmenuopen = true;\n          this.$nextTick(() => {\n            (this.$refs[ref] as any)?.show(event, e);\n          });\n        },\n        close: (event: MouseEvent, e: any) => {\n          (this.$refs[ref] as any)?.close(event, e);\n          this.contextmenuopen = false;\n        },\n      };\n    },\n    hasCategory(cat: Category) {\n      let link = this.item.categoryLinks?.find((elt) => elt.target?.id === cat.id);\n      if (!link) {\n        return 0;\n      }\n      if (link.primary) {\n        return 2;\n      }\n      return 1;\n    },\n  },\n  computed: {\n    contextmenu() {\n      return this.menu(\"contextmenu\");\n    },\n  },\n  components: { ContextMenu },\n});\n</script>\n<style>\n.category {\n  display: grid;\n  grid-template-columns: max-content max-content;\n  grid-gap: 20px;\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>\n      <div class=\"inline\">\n        <Tag class=\"icon\" />\n      </div>\n      Categories ({{ count }})\n    </legend>\n    <template v-if=\"settings.useNewCategoriesUI\">\n      <CatalogueEditV2Categories :item=\"item\" />\n    </template>\n    <template v-else>\n      <input class=\"section\" type=\"text\" v-model=\"filter\" placeholder=\"Filter categories...\" />\n      <div class=\"section inline\">\n        <input type=\"checkbox\" id=\"onlyEnabled\" v-model=\"settings.showOnlyEnabledCategories\" />\n        <label for=\"onlyEnabled\">Only show selected categories</label>\n      </div>\n      <div class=\"section categoryList\">\n        <div>\n          <input name=\"primary\" type=\"radio\" :checked=\"noPrimary\" @change=\"primaryChanged(null)\" />\n          No Primary\n        </div>\n\n        <Category v-for=\"cat of categories\" :category=\"cat\" :item=\"item\" :key=\"cat.id\" @primaryChanged=\"primaryChanged\" @secondaryChanged=\"secondaryChanged\" />\n\n        <div v-for=\"lnk of badLinks\" class=\"category\" :key=\"lnk.id\">\n          <div>\n            <input name=\"primary\" type=\"radio\" :checked=\"hasCategory(lnk) == 2\" @change=\"primaryChanged(lnk)\" />\n            Primary?\n          </div>\n          <div>\n            <input :id=\"`bad${lnk.id}`\" type=\"checkbox\" :checked=\"true\" @change=\"removeLink(item.categoryLinks!, lnk)\" />\n            <label :for=\"`bad${lnk.id}`\">{{ lnk.name }}</label>\n            <ErrorIcon class=\"ml-5px inline\" :errors=\"[{ msg: `Couldn't find category with id: ${lnk.targetId}`, severity: 'error' }]\" />\n          </div>\n        </div>\n      </div>\n    </template>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Base, Category, CategoryLink, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { setPrototype } from \"~/assets/shared/battlescribe/bs_main_types\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\nimport CategoryVue from \"~/components/catalogue/right_panel/fields/Category.vue\";\nimport Tag from \"../../edit_v2/Tag.vue\";\n\nexport default {\n  components: { Category: CategoryVue, Tag },\n  data() {\n    return {\n      filter: \"\",\n      primaries: new Set<string>(),\n      secondaries: new Set<string>(),\n    };\n  },\n  setup() {\n    return { settings: useSettingsStore() };\n  },\n  props: {\n    item: {\n      type: Object as PropType<Link & EditorBase>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n\n  methods: {\n    hasCategory(cat: Category) {\n      let link = this.item.categoryLinks?.find((elt) => elt.target?.id === cat.id);\n      if (!link) {\n        return 0;\n      }\n      if (link.primary) {\n        return 2;\n      }\n      return 1;\n    },\n    primaryChanged(cat: Category | null) {\n      this.refreshCategories(this.item, cat, true);\n    },\n\n    secondaryChanged(cat: Category) {\n      this.refreshCategories(this.item, cat, false);\n    },\n\n    refreshCategories(item: Link & EditorBase, cat: Category | null, primary: boolean) {\n      if (!item.categoryLinks) item.categoryLinks = [];\n      const links = item.categoryLinks;\n      if (primary) {\n        links.forEach((o) => (o.primary = false));\n      }\n      if (cat) {\n        const found = links.find((o) => o.targetId === cat?.id);\n        if (found && primary) {\n          found.primary = true;\n        } else if (found) {\n          this.removeLink(links, found);\n        } else {\n          this.addLink(links, cat, primary);\n        }\n      }\n      this.changed();\n    },\n    removeLink(links: Array<CategoryLink>, link: Link) {\n      const idx = links.findIndex((o) => o === link);\n      if (idx !== -1) {\n        const [cl] = links.splice(idx, 1);\n        this.catalogue.removeFromIndex(cl as CategoryLink & EditorBase);\n        const targetLinks = (cl.target as Category & EditorBase).refs as Base[];\n        if (targetLinks) {\n          const targetIdx = targetLinks?.findIndex((o) => o === cl);\n          if (targetIdx !== -1) {\n            targetLinks?.splice(targetIdx, 1);\n          }\n        }\n      }\n    },\n    addLink(links: Link[], cat: Category, primary = false) {\n      if (!cat.isCategory()) {\n        throw Error(\"Invalid argument, target must be a category\");\n      }\n      const cl = setPrototype(\n        {\n          targetId: cat.id,\n          target: cat,\n          id: this.catalogue.generateNonConflictingId(),\n          primary: primary,\n          catalogue: this.catalogue,\n          name: cat.name,\n        },\n        \"categoryLinks\"\n      );\n      links.push(cl);\n      this.catalogue.addToIndex(cl);\n      const target = cat as Category & EditorBase;\n      if (!target.refs) {\n        target.refs = [];\n      }\n      target.refs?.push(cl as CategoryLink & EditorBase);\n      return cl;\n    },\n    noPrimary() {\n      let res = true;\n      if (this.item.categoryLinks) {\n        for (let cat of this.item.categoryLinks) {\n          if (cat.primary) {\n            return false;\n          }\n        }\n      }\n      return res;\n    },\n  },\n\n  computed: {\n    badLinks() {\n      const result = [];\n      const categories = new Set<String>();\n      for (const category of this.catalogue.iterateCategoryEntries()) {\n        categories.add(category.id);\n      }\n      for (const cl of this.item.categoryLinks || []) {\n        if (!categories.has(cl.targetId)) {\n          result.push(cl);\n        }\n      }\n      return result;\n    },\n    count() {\n      return this.item.categoryLinks?.length || 0;\n    },\n    categories() {\n      let res: Category[] = [];\n\n      for (let cat of this.catalogue.iterateCategoryEntries()) {\n        if (this.settings.showOnlyEnabledCategories && this.hasCategory(cat) == 0) {\n          continue;\n        }\n        if (cat.getName().toLowerCase().includes(this.filter.toLowerCase())) {\n          res.push(cat);\n        }\n      }\n\n      return res;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.categoryList {\n  max-height: 200px;\n  overflow: auto;\n}\n</style>\n","<template>\n  <span :class=\"{ highlight }\">\n    <span class=\"typeIcon-wrapper\">\n      <img class=\"typeIcon\" :src=\"`assets/bsicons/${item.editorTypeName}.png`\" />\n    </span>\n    <ErrorIcon :errors=\"item.errors\" />\n    <span\n      class=\"primary\"\n      v-if=\"\n        settings.display.primaryCategory &&\n        item.parent?.isCatalogue() &&\n        ['selectionEntries', 'entryLinks'].includes(item.parentKey)\n      \"\n      >[{{ item.getPrimaryCategoryLink()?.target?.name ?? \"Uncategorized\" }}]\n    </span>\n    <span v-if=\"item.sortIndex && !noSortIndex && settings.display.sortIndex\" class=\"gray\">\n      [{{ item.sortIndex }}]\n    </span>\n    <span :class=\"{ imported: imported, filtered: item.highlight }\">{{ getName(item) }}</span>\n    <span\n      v-if=\"getNameExtra(item, settings.display.references, !(grouped && item.parentKey === 'sharedProfiles'))\"\n      class=\"gray\"\n      >&nbsp;\n      {{ getNameExtra(item, settings.display.references, !(grouped && item.parentKey === \"sharedProfiles\")) }}\n    </span>\n    <span class=\"ml-10px\" v-if=\"costs && settings.display.costs\" v-html=\"costs\" />\n  </span>\n</template>\n<script lang=\"ts\">\nimport { getName, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { sortByDescending } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\nexport interface ICost {\n  name: string;\n  value: number;\n  typeId: string;\n}\nfunction round(num: number): number {\n  return Math.round(num * 100) / 100;\n}\nexport function formatCosts(costs: ICost[]): string {\n  let res = \"\";\n  costs = sortByDescending(costs, (c) => c.name);\n  for (const cost of costs) {\n    if (cost.value != 0) {\n      let name = \"\";\n      if (cost.name.length != 0) {\n        name = \" \" + cost.name;\n      }\n      res = `${res}<span class='cost'>${round(cost.value)}${name}</span>`;\n    }\n  }\n  if (res.length == 0) {\n    return res;\n  }\n  return `<span class=\"costList\">${res}</span>`;\n}\nexport default defineComponent({\n  props: {\n    item: { type: Object as PropType<EditorBase>, required: true },\n    noSortIndex: Boolean,\n    imported: Boolean,\n    highlight: Boolean,\n    grouped: Boolean,\n  },\n  setup() {\n    return { settings: useSettingsStore() };\n  },\n  methods: {\n    getNameExtra,\n    getName,\n  },\n  computed: {\n    costs() {\n      const result = [] as ICost[];\n      const catalogue = this.item.getCatalogue();\n      const costs = this.item.getCosts();\n      for (const cost of costs) {\n        const name = catalogue?.findOptionById(cost.typeId)?.name || cost.name || cost.typeId;\n        if (name) {\n          result.push({\n            name: name,\n            value: cost.value,\n            typeId: cost.typeId,\n          });\n        }\n      }\n      return formatCosts(result);\n    },\n  },\n});\n</script>\n<style scoped>\n.typeIcon {\n  max-width: 18px;\n  vertical-align: middle;\n}\n\n.typeIcon-wrapper {\n  display: inline-block;\n  min-width: 20px;\n  min-height: 1px;\n}\n\n.imported {\n  color: rgb(128, 145, 183);\n}\n\n.highlight {\n  background-color: rgba(40, 110, 255, 0.3);\n}\n\n.primary {\n  color: rgb(170, 45, 0);\n}\n</style>\n","<template>\n    <fieldset class=\"mt-10px\" v-if=\"get_sort_items.length > 1\">\n        <legend>Childs Order</legend>\n        <SortOrder :items=\"get_sort_items\" :get=\"get\" :set=\"set\" :del=\"del\" :parent=\"item\">\n            <template #item=\"{ item }\">\n                <Entry :item=\"item\" noSortIndex />\n                <template v-if=\"item.refs?.length > 1\">>1 refs</template>\n            </template>\n        </SortOrder>\n    </fieldset>\n</template>\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport { sortByAscending } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport SortOrder from \"./SortOrder.vue\";\nimport Entry from \"../../left_panel/Entry.vue\";\n\nexport default defineComponent({\n    props: {\n        item: {\n            type: Object as PropType<any>,\n            required: true,\n        },\n        catalogue: {\n            type: Object as PropType<Catalogue>,\n            required: true,\n        },\n    },\n    setup() {\n        return { store: useEditorStore() };\n    },\n    computed: {\n        get_sort_items() {\n            return sortByAscending([...this.item.iterateSelectionEntries()], o => o.getName());\n        }\n    },\n    methods: {\n        get(item: EditorBase) {\n            return item.sortIndex;\n        },\n        set(item: EditorBase, v: number) {\n            item.sortIndex = v;\n            this.store.set_catalogue_changed(item.catalogue, true);\n        },\n        del(item: EditorBase) {\n            delete item.sortIndex;\n            this.store.set_catalogue_changed(item.catalogue, true);\n        },\n    },\n    components: { SortOrder, Entry }\n})\n</script>","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n  <CatalogueRightPanelFieldsEntryType :item=\"item\" class=\"section\">\n    Selection Entry\n  </CatalogueRightPanelFieldsEntryType>\n  <CatalogueRightPanelFieldsCreation :item=\"item\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsCosts :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsBooleans :item=\"item\" class=\"section\">\n    Entry\n  </CatalogueRightPanelFieldsBooleans>\n\n  <CatalogueRightPanelFieldsCategories :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n\n\n  <CatalogueRightPanelFieldsQuickConstraints :item=\"item\" :withCategory=\"false\" class=\"section\">\n  </CatalogueRightPanelFieldsQuickConstraints>\n\n  <CatalogueRightPanelFieldsSortChilds :item=\"item\" :catalogue=\"catalogue\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<any>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n};\n</script>\n<style scoped>\n.typeIcon {\n  max-width: 18px;\n  vertical-align: middle;\n}\n\n.typeIcon-wrapper {\n  display: inline-block;\n  min-width: 20px;\n  min-height: 1px;\n}\n</style>","<template>\n  <fieldset>\n    <legend> <img src=\"assets/bsicons/link.png\" /> Link</legend>\n    <table class=\"editorTable\">\n      <tr v-if=\"type == 'entry'\">\n        <td>Link Type:</td>\n        <td>\n          <select @change=\"typeChanged\" v-model=\"item.type\">\n            <option v-if=\"allowEntries\" value=\"selectionEntry\">Selection Entry</option>\n            <option v-if=\"allowGroups\" value=\"selectionEntryGroup\"> Selection Entry Group </option>\n          </select>\n        </td>\n      </tr>\n      <tr v-if=\"type == 'info'\">\n        <td>Link Type:</td>\n        <td>\n          <select @change=\"typeChanged\" v-model=\"item.type\">\n            <option :value=\"'profile'\">Profile</option>\n            <option :value=\"'rule'\"> Rule </option>\n            <option :value=\"'infoGroup'\"> Info Group </option>\n          </select>\n        </td>\n      </tr>\n      <tr>\n        <td>Link To:</td>\n        <td>\n          <template v-if=\"item.target\">\n            <img class=\"linkIcon\" v-if=\"item.type\" :src=\"`assets/bsicons/${getType(item)}.png`\" />\n            {{ item.target.name }}\n          </template>\n          <template v-else>\n            <img class=\"errIcon\" src=\"/assets/icons/error_exclamation.png\" /> No target selected\n          </template>\n        </td>\n      </tr>\n      <tr>\n        <td>Target ID:</td>\n        <td>\n          <input type=\"text\" v-model=\"item.targetId\" @change=\"targetIdChanged\" />\n        </td>\n      </tr>\n      <tr>\n        <td>Target:</td>\n        <td>\n          <UtilAutocomplete\n            v-model=\"item.targetId\"\n            :placeholder=\"`Search Target...`\"\n            :options=\"availableTargets\"\n            valueField=\"id\"\n            filterField=\"name\"\n            @change.native=\"targetIdChanged\"\n          >\n            <template #option=\"opt\">\n              <div style=\"white-space: nowrap\">\n                <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${opt.option.editorTypeName}.png`\" />\n                {{ opt.option.name }}\n                <span class=\"gray\">{{ getNameExtra(opt.option, false) }}</span>\n                <span class=\"shared\" v-if=\"opt.option.shared\"> (shared)</span>\n                <span class=\"catalogueName\" v-if=\"showCatalogue(opt.option)\"> [{{ opt.option.catalogue.name }}]</span>\n              </div>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n      <tr v-if=\"type === 'catalogue'\">\n        <td></td>\n        <td>\n          <input id=\"importRoot\" type=\"checkbox\" v-model=\"item.importRootEntries\" />\n          <label for=\"importRoot\">Import Root Entries</label>\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { ItemTypes, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { sortByAscending } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { Base, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { EditorSearchItem } from \"~/assets/ts/catalogue/catalogue_helpers\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  setup() {\n    return { store: useEditorStore() };\n  },\n\n  data() {\n    return {\n      filter: \"\",\n      val: null as any,\n    };\n  },\n\n  props: {\n    item: {\n      type: Object as PropType<EditorBase & Link>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    type: {\n      type: String,\n      required: true,\n    },\n  },\n\n  computed: {\n    allowEntries() {\n      return true;\n    },\n\n    allowGroups() {\n      if (this.item.parent?.isCatalogue() && this.item.parentKey === \"entryLinks\") {\n        return false;\n      }\n      return true;\n    },\n  },\n  methods: {\n    getNameExtra,\n    availableTargets() {\n      if (this.type === \"catalogue\") {\n        const id = this.catalogue.gameSystemId || this.catalogue.id;\n        const values = Object.values(this.store.get_system(id).catalogueFiles);\n        const catalogues = values\n          .map((elt) => {\n            return { id: elt.catalogue.id, name: elt.catalogue.name, editorTypeName: \"catalogueLink\" };\n          })\n          .filter((o) => o.id !== this.catalogue.id);\n        return catalogues;\n      }\n      if (this.type === \"force\") {\n        const forces = [];\n        for (const catalogue of [...this.catalogue.imports, this.catalogue]) {\n          for (const force of catalogue.forcesIteratorRecursive()) {\n            forces.push(force);\n          }\n        }\n        return forces;\n      }\n      const all = [];\n      for (const entry of this.catalogue.iterateAllImported()) {\n        if (!this.targetIsValid(entry as ItemTypes)) continue;\n        if (entry.isLink()) continue;\n        all.push(entry);\n      }\n      return sortByAscending(all, (o) => o.name) as Array<Base & EditorBase>;\n    },\n    typeChanged() {},\n\n    targetIdChanged() {\n      this.updateLink();\n    },\n\n    async updateLink() {\n      if (this.type === \"catalogue\" && this.item.targetId) {\n        const oldTarget = this.item.target as (Catalogue & EditorBase) | undefined;\n        if (oldTarget) {\n          this.catalogue.removeRef(this.catalogue as Base as EditorBase, oldTarget);\n        }\n        const sysId = this.catalogue.gameSystemId || this.catalogue.id;\n        await this.catalogue.reload(this.store.get_system(sysId));\n        const target = this.item.target as (Catalogue & EditorBase) | undefined;\n        if (target) {\n          this.catalogue.addRef(this.catalogue as Base as EditorBase, target);\n          this.item.name = target.name;\n          this.item.type = target.editorTypeName;\n        } else {\n          this.item.name = \"Unknown\";\n        }\n      } else {\n        this.catalogue.updateLink(this.item);\n        const target = this.item.target as EditorBase | undefined;\n        if (target) {\n          this.item.name = target.name || \"Unknown\";\n          const type = target.editorTypeName || this.item.type;\n          if (type !== \"categoryEntry\") {\n            this.item.type = type;\n          }\n        }\n      }\n    },\n    getType(item: Link): string {\n      if (!item.target) {\n        return \"bullet\";\n      }\n\n      return (item.target as EditorBase).editorTypeName;\n    },\n\n    itemName(elt: Base) {\n      return elt.name;\n    },\n\n    itemValue(elt: Base) {\n      return elt.name;\n    },\n\n    targetIsValid(target: ItemTypes) {\n      if (this.item.type == undefined || this.item.type === \"category\" || this.item.type === \"categoryEntry\") {\n        return target.editorTypeName == \"categoryEntry\";\n      }\n      return target.editorTypeName == this.item.type;\n    },\n\n    showCatalogue(opt: EditorSearchItem): boolean {\n      if (!opt.catalogue) {\n        return false;\n      }\n      if (opt.catalogue === this.item.catalogue?.getName()) {\n        return false;\n      }\n      return true;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.linkIcon {\n  vertical-align: middle;\n}\n\n.errIcon {\n  vertical-align: -2px;\n}\n\n.catalogueName {\n  color: rgb(144, 152, 197);\n  font-style: italic;\n}\n\n.shared {\n  color: $gray;\n  font-style: italic;\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFKSURBVDhPpZLBSgJRFIbvuTtHXyBaWEG0TRxFCAJd9B6B4CLoXaKVLVr4FK3GTRGEMwvXYYPQI1TQ4D2d/3gVnEFh7IPBc37mHD2/P5kcH63WuVssBmxMT9pjaESUOmPGhnl4miQJtBXrBfNOp/KbZXdS9kUsLAaylGXJY4Xo9jCOv6Hpi374SZpL9CuOosgYa03a7cqojHsc80tAdIUlFgK+OT8MbK2mTx5LdPHDfK81bpbPPppSEF2/NxqhhWHbbt6FzhANrHd7L2RJDx7oX7UndTXxP4ihlPq6NHL+3Drnxr4vMGu3zSwMNzKQI7Li5FATVh5eED1YzbbE04sbnEwm+mxhdBbHb2oiss3Mzyp7bLXqq2Uic7wGWXaDYh2gz2Yz0HhKwnYEC6eOMHwwnX5BKLyIeCJhCIm0dWjqthiWyc342dCWGPMHCdh2fZxOhd0AAAAASUVORK5CYII=\"","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference v-if=\"type != 'catalogue'\" :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsLink :item=\"item\" :catalogue=\"catalogue\" class=\"section\" :type=\"type\" @change=\"linkChanged\" />\n\n  <CatalogueRightPanelFieldsCosts v-if=\"isEntry\" :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n  <CatalogueRightPanelFieldsCreation v-if=\"isEntry\" :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsBooleans :item=\"item\" class=\"section\" v-if=\"type != 'catalogue'\">\n    Entry\n  </CatalogueRightPanelFieldsBooleans>\n\n  <CatalogueRightPanelFieldsCategories v-if=\"isEntryOrGroup\" :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsCharacteristics class=\"mt-10px\" v-if=\"item.target?.isProfile()\" :item=\"(item.target as EditorBase & Profile)\" :catalogue=\"item.target.catalogue\" link />\n  <CatalogueRightPanelFieldsAttributes class=\"mt-10px\" v-if=\"item.target?.isProfile()\" :item=\"(item.target as EditorBase & Profile)\" :catalogue=\"item.target.catalogue\" link />\n  <CatalogueRightPanelFieldsDescription class=\"section\" v-if=\"item.target?.isRule()\" :item=\"(item.target as EditorBase & Rule)\" :catalogue=\"catalogue\" link />\n\n  <CatalogueRightPanelFieldsQuickConstraints :item=\"item\" :withCategory=\"false\" class=\"section\" v-if=\"type == 'entry' || type == 'categoryEntry'\" />\n\n  <CatalogueRightPanelFieldsSortChilds v-if=\"isEntryOrGroup\" :item=\"item\" :catalogue=\"catalogue\" />\n</template>\n\n<script lang=\"ts\">\nimport { link } from \"fs\";\nimport { PropType } from \"vue\";\nimport { Link, Profile, Rule } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<Link & EditorBase>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n\n    type: {\n      type: String,\n      required: true,\n    },\n  },\n\n  setup() {\n    return { settings: useSettingsStore() };\n  },\n\n  methods: {\n    linkChanged() {\n      if (this.settings.autoRenameInfoLinkParent && this.item.parent) {\n        this.item.parent.name = this.item.name;\n      }\n    },\n  },\n  computed: {\n    isEntryOrGroup() {\n      return this.item.editorTypeName == \"selectionEntryLink\" || this.item.editorTypeName == \"selectionEntryGroupLink\";\n    },\n    isGroup() {\n      return this.item.editorTypeName == \"selectionEntryGroupLink\";\n    },\n    isEntry() {\n      return this.item.editorTypeName == \"selectionEntryLink\";\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"select-container\" :class=\"{ disabled: disabled }\">\n    <div @click=\"startEditing\" class=\"iconselect-input\" v-click-outside=\"onClickOutside\">\n      <span class=\"gray\" v-if=\"!selectedOption\">{{ placeholder }}</span>\n      <slot v-else v-bind=\"selectedOption\" name=\"option\"></slot>\n    </div>\n\n    <div class=\"suggestions\" :class=\"{ hidden: !editing }\">\n      <div v-for=\"option of availableOptions\" @click=\"targetSelected(option)\">\n        <slot v-bind=\"option\" name=\"option\"></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\n\ntype OptionArray = Array<{ option: any; selected?: boolean }>;\n\nexport default {\n  props: {\n    modelValue: {\n      type: Object as PropType<any>,\n    },\n\n    placeholder: {\n      type: String,\n      default: \"Search...\",\n    },\n\n    fetch: {\n      type: Function,\n      required: true,\n    },\n\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  created() {\n    this.reset();\n  },\n\n  data() {\n    return {\n      searchPattern: \"\",\n      lastSearch: null as string | null,\n      editing: false,\n      selectedOption: null as { option: any; selected?: boolean } | null,\n      availableOptions: [] as OptionArray,\n    };\n  },\n  watch: {\n    modelValue() {\n      this.reset();\n    },\n  },\n\n  methods: {\n    async foundOptions(): Promise<OptionArray> {\n      const res = await this.fetch();\n      return res.map((elt: any) => {\n        return { option: elt };\n      });\n    },\n\n    targetSelected(opt: any) {\n      let res = opt.option;\n      this.selectedOption = {\n        option: opt.option,\n        selected: true,\n      };\n      this.$emit(\"update:modelValue\", res);\n      this.emitNativeChangeEvent(opt.option);\n      this.editing = false;\n    },\n    emitNativeChangeEvent(a1: any) {\n      const event = new CustomEvent('change', {\n        bubbles: true,\n        detail: { value: a1 }\n      })\n      this.$el?.dispatchEvent(event)\n    },\n    reset() {\n      this.searchPattern = \"\";\n      this.selectedOption = null;\n      if (this.modelValue) {\n        this.selectedOption = {\n          option: this.modelValue,\n          selected: true,\n        };\n      }\n    },\n\n    onClickOutside() {\n      this.editing = false;\n    },\n\n    async startEditing() {\n      if (this.disabled) {\n        return;\n      }\n      this.editing = true;\n      this.availableOptions = (await this.foundOptions()) as Array<{ option: any; selected?: boolean }>;\n    },\n\n    clicked() {\n      this.editing = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/shared_components/css/vars.scss\";\n\n.suggestions {\n  position: absolute;\n  top: 100%;\n  margin-top: 3px;\n  max-height: 300px;\n\n  overflow-y: auto;\n  z-index: 1;\n  width: 100%;\n  display: grid;\n  box-shadow: rgba(22, 1, 1, 0.74) 0px 3px 8px;\n  border-top: 1px $box_border;\n  border-bottom: 1px $box_border;\n\n  > * {\n    background-color: var(--input-background);\n    border-left: 1px $box_border;\n    border-right: 1px $box_border;\n    border-bottom: none;\n    padding: 5px;\n\n    &:hover {\n      background-color: $light_blue;\n    }\n  }\n}\n\n.view {\n  background-color: var(--input-background);\n}\n\n.select-container {\n  position: relative;\n}\n\n.input {\n  width: 100%;\n}\n\n.hidden {\n  display: none;\n}\n\n.select-container {\n  input {\n    height: 33px;\n  }\n}\n\n.iconselect-input {\n  background-color: var(--input-background);\n  width: 100% !important;\n  padding-right: 30px;\n  padding-left: 5px;\n\n  align-items: center;\n  display: flex;\n}\n\n.iconselect-input::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  right: 10px;\n  transform: translateY(-50%);\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid #000;\n  filter: var(--image-filter);\n}\n\n.disabled {\n  color: $gray;\n\n  .iconselect-input::before {\n    border-top: 5px solid $gray;\n  }\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>Modifier</legend>\n    <div class=\"modifier\">\n      <select v-if=\"selectedOperation\" v-model=\"selectedOperation\" @change=\"changed\">\n        <option :value=\"operation\" v-for=\"operation of operations\">\n          {{ operation.name }}\n        </option>\n      </select>\n      <UtilIconSelect class=\"select\" v-model=\"selectedField\" :fetch=\"() => fieldData\" @change=\"fieldChanged\">\n        <template #option=\"opt\">\n          <div class=\"flex align-items flex-row\">\n            <img class=\"mr-1 my-auto\" :src=\"`assets/bsicons/${opt.option.modifierType}.png`\" /><span class=\"inline\">{{\n              opt.option.name\n            }}</span>\n          </div>\n        </template>\n      </UtilIconSelect>\n      <template v-if=\"selectedOperation?.id == 'replace'\">\n        <div>\n          <input @change=\"changed\" type=\"text\" v-model=\"item.arg\" placeholder=\"text to replace\" />\n          <span v-if=\"selectedOperation\" class=\"mx-5px whitespace-nowrap\">\n            {{ selectedOperation.word }}\n            <input @change=\"changed\" type=\"text\" v-model=\"item.value\" />\n          </span>\n        </div>\n      </template>\n      <template v-else-if=\"selectedOperation?.id === 'append' || selectedOperation?.id === 'prepend'\">\n        <div class=\"mx-5px\">\n          {{ selectedOperation.word }}\n          <UtilEditableDiv class=\"inline-block\" @change=\"changed\" type=\"text\" v-model=\"item.value\" />\n        </div>\n        <div>\n          separate by:\n          <UtilEditableDiv class=\"inline-block\" @change=\"changed\" type=\"text\" v-model=\"join\" />\n          (<span class=\"cost !m-0 whitespace-pre\" v-if=\"join.length\">{{ join.replace(\"\\n\", \"\\\\n\") }}</span>\n          <span v-else>nothing</span>)\n        </div>\n      </template>\n      <template v-else>\n        <span v-if=\"selectedOperation\"> {{ selectedOperation.word }} </span>\n        <UtilNumberInput\n          @change=\"changed\"\n          v-if=\"inputType === 'number'\"\n          v-model=\"(item.value as number)\"\n          style=\"width: 60px; margin-left: 3px\"\n        />\n        <select @change=\"changed\" v-if=\"inputType == 'boolean'\" v-model=\"item.value\">\n          <option :value=\"true\">True</option>\n          <option :value=\"false\">False</option>\n        </select>\n        <UtilEditableDiv\n          @change=\"changed\"\n          type=\"text\"\n          v-if=\"inputType.includes('string')\"\n          v-model=\"item.value\"\n          style=\"min-width: 200px\"\n        />\n\n        <UtilAutocomplete\n          class=\"!max-w-350px\"\n          v-if=\"inputType == 'category'\"\n          :options=\"allCategories\"\n          :filterField=\"(o) => o.getName()\"\n          valueField=\"id\"\n          v-model=\"item.value\"\n          @change=\"changed\"\n        >\n          <template #option=\"{ option }\">\n            <div class=\"flex align-items flex-row\" style=\"white-space: nowrap\">\n              <img class=\"mr-1 my-auto\" :src=\"`assets/bsicons/${option.editorTypeName}.png`\" /><span class=\"inline\">\n                {{ getName(option) }} <span class=\"grey\">{{ getNameExtra(option) }}</span>\n              </span>\n            </div>\n          </template>\n        </UtilAutocomplete>\n        <UtilAutocomplete\n          class=\"!max-w-350px\"\n          v-if=\"inputType == 'defaultSelectionEntryId'\"\n          :options=\"allGroupEntries\"\n          :filterField=\"(o) => o.getName()\"\n          valueField=\"id\"\n          v-model=\"item.value\"\n          @change=\"changed\"\n        >\n          <template #option=\"{ option }\">\n            <div class=\"flex align-items flex-row\" style=\"white-space: nowrap\">\n              <img class=\"mr-1 my-auto\" :src=\"`assets/bsicons/${option.editorTypeName}.png`\" /><span class=\"inline\">\n                {{ getName(option) }} <span class=\"grey\">{{ getNameExtra(option) }}</span>\n              </span>\n            </div>\n          </template>\n        </UtilAutocomplete>\n      </template>\n      <template\n        v-if=\"\n          selectedOperation?.id &&\n          selectedField?.type &&\n          ['replace', 'increment', 'decrement', 'multiply', 'divide', 'modulo', 'floor', 'ceil'].includes(\n            selectedOperation.id\n          ) &&\n          ['string', 'string-or-number'].includes(selectedField.type)\n        \"\n      >\n        <div>\n          <span>\n            <span class=\"hastooltip\" title=\"1-Based index of the match to affect. supports negative indexes. 0 = All\">\n              position:\n            </span>\n            <input @change=\"changed\" type=\"number\" v-model=\"item.position\" style=\"width: 60px; margin-left: 3px\" />\n          </span>\n        </div>\n      </template>\n    </div>\n    <div v-for=\"error in errors\" class=\"mt-8px flex items-center\">\n      <img src=\"/assets/icons/error_exclamation.png\" />\n      <span class=\"ml-10px\">{{ error.msg }}</span>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport type { PropType } from \"vue\";\nimport { getModifierOrConditionParent } from \"~/assets/shared/battlescribe/bs_modifiers\";\nimport { getName, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Category, deconstruct_affects_query, Profile, ProfileType } from \"~/assets/shared/battlescribe/bs_main\";\nimport { type EditorBase, Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport type { BSIModifier, BSIModifierType } from \"~/assets/shared/battlescribe/bs_types\";\nimport ErrorIcon from \"~/components/ErrorIcon.vue\";\nimport { first } from \"~/assets/shared/battlescribe/bs_helpers\";\n\ntype FieldTypes =\n  | \"string\"\n  | \"number\"\n  | \"category\"\n  | \"boolean\"\n  | \"string-or-number\"\n  | \"defaultSelectionEntryId\"\n  | \"defaultAmount\"\n  | \"error\"\n  | \"warning\"\n  | \"info\";\nconst availableModifiers: Record<string, string[]> = {\n  selectionEntry: [\n    \"costs\",\n    \"name\",\n    \"annotation\",\n    \"page\",\n    \"hidden\",\n    \"category\",\n    \"constraints\",\n    \"defaultAmount\",\n    \"error\",\n    \"warning\",\n    \"info\",\n  ],\n  selectionEntryLink: [\n    \"costs\",\n    \"name\",\n    \"annotation\",\n    \"page\",\n    \"hidden\",\n    \"category\",\n    \"constraints\",\n    \"defaultAmount\",\n    \"error\",\n    \"warning\",\n    \"info\",\n  ],\n  selectionEntryGroup: [\n    \"name\",\n    \"annotation\",\n    \"page\",\n    \"hidden\",\n    \"category\",\n    \"constraints\",\n    \"defaultSelectionEntryId\",\n    \"error\",\n    \"warning\",\n    \"info\",\n  ],\n  selectionEntryGroupLink: [\n    \"name\",\n    \"annotation\",\n    \"page\",\n    \"hidden\",\n    \"category\",\n    \"constraints\",\n    \"defaultSelectionEntryId\",\n    \"error\",\n    \"warning\",\n    \"info\",\n  ],\n  anyProfile: [\"name\", \"annotation\", \"page\", \"hidden\"],\n  anyEntry: [\"name\", \"costs\", \"category\", \"annotation\", \"page\", \"hidden\", \"error\", \"warning\", \"info\"],\n  profile: [\"characteristics\", \"name\", \"annotation\", \"page\", \"hidden\"],\n  profileLink: [\"characteristics\", \"name\", \"annotation\", \"description\", \"page\", \"hidden\"],\n  rule: [\"name\", \"annotation\", \"description\", \"page\", \"hidden\"],\n  ruleLink: [\"name\", \"annotation\", \"description\", \"page\", \"hidden\"],\n  infoLink: [\"name\", \"annotation\", \"page\", \"hidden\"],\n  infoGroup: [\"name\", \"annotation\", \"page\", \"hidden\"],\n  infoGroupLink: [\"name\", \"annotation\", \"page\", \"hidden\"],\n  forceEntry: [\"name\", \"annotation\", \"page\", \"hidden\", \"constraints\", \"costs\", \"error\", \"warning\", \"info\", \"readme\"],\n  forceEntryLink: [\n    \"name\",\n    \"annotation\",\n    \"page\",\n    \"hidden\",\n    \"constraints\",\n    \"costs\",\n    \"error\",\n    \"warning\",\n    \"info\",\n    \"readme\",\n  ],\n  categoryEntry: [\"name\", \"page\", \"hidden\", \"constraints\"],\n  categoryEntryLink: [\"name\", \"page\", \"hidden\", \"constraints\"],\n  costType: [\"hidden\"],\n};\nconst availableTypes = {\n  costs: \"number\",\n  name: \"string\",\n  annotation: \"string-or-number\",\n  page: \"string\",\n  hidden: \"boolean\",\n  description: \"string\",\n  category: \"category\",\n  defaultSelectionEntryId: \"defaultSelectionEntryId\",\n  defaultAmount: \"defaultAmount\",\n  constraints: \"number\",\n  error: \"string\",\n  warning: \"string\",\n  info: \"string\",\n} as Record<string, FieldTypes>;\nconst nonBullet = new Set([\"cost\", \"categories\", \"constraints\", \"characteristics\", \"error\", \"warning\", \"info\"]);\n\ntype Operation = {\n  id: BSIModifierType;\n  name: string;\n  word: string;\n};\ntype ModifierField = {\n  id: string;\n  name: string;\n  type: FieldTypes;\n  modifierType: string;\n};\n\n// Operation constants\nconst OPERATION_SET: Operation = { id: \"set\", name: \"Set\", word: \"to\" };\nconst OPERATION_MULTIPLY: Operation = { id: \"multiply\", name: \"Multiply\", word: \"by\" };\nconst OPERATION_DIVIDE: Operation = { id: \"divide\", name: \"Divide\", word: \"by\" };\nconst OPERATION_MODULO: Operation = { id: \"modulo\", name: \"Modulo\", word: \"by\" };\nconst OPERATION_POWER: Operation = { id: \"power\", name: \"Power\", word: \"by\" };\nconst OPERATION_INCREMENT: Operation = { id: \"increment\", name: \"Increment\", word: \"by\" };\nconst OPERATION_DECREMENT: Operation = { id: \"decrement\", name: \"Decrement\", word: \"by\" };\nconst OPERATION_CEIL: Operation = { id: \"ceil\", name: \"Ceil\", word: \"to\" };\nconst OPERATION_FLOOR: Operation = { id: \"floor\", name: \"Floor\", word: \"to\" };\nconst OPERATION_APPEND: Operation = { id: \"append\", name: \"Append\", word: \"with\" };\nconst OPERATION_PREPEND: Operation = { id: \"prepend\", name: \"Prepend\", word: \"with\" };\nconst OPERATION_REPLACE: Operation = { id: \"replace\", name: \"Replace\", word: \"with\" };\nconst OPERATION_ADD: Operation = { id: \"add\", name: \"Add\", word: \"\" };\nconst OPERATION_ADD_ERROR: Operation = { id: \"add\", name: \"Add\", word: \"message:\" };\nconst OPERATION_ADD_WARNING: Operation = { id: \"add\", name: \"Add\", word: \"message:\" };\nconst OPERATION_ADD_INFO: Operation = { id: \"add\", name: \"Add\", word: \"message:\" };\nconst OPERATION_REMOVE: Operation = { id: \"remove\", name: \"Remove\", word: \"\" };\nconst OPERATION_SET_PRIMARY: Operation = { id: \"set-primary\", name: \"Set Primary\", word: \"to\" };\nconst OPERATION_UNSET_PRIMARY: Operation = { id: \"unset-primary\", name: \"Unset Primary\", word: \"to\" };\nconst OPERRATION_HIDE: Operation = { id: \"hide\", name: \"Hide\", word: \"\" };\n\nconst operations = {\n  number: [\n    OPERATION_SET,\n    OPERATION_INCREMENT,\n    OPERATION_DECREMENT,\n    OPERATION_MULTIPLY,\n    OPERATION_DIVIDE,\n    OPERATION_MODULO,\n    OPERATION_POWER,\n    OPERATION_CEIL,\n    OPERATION_FLOOR,\n  ],\n  string: [OPERATION_SET, OPERATION_APPEND, OPERATION_PREPEND, OPERATION_REPLACE],\n  \"string-or-number\": [\n    OPERATION_SET,\n    OPERATION_APPEND,\n    OPERATION_PREPEND,\n    OPERATION_REPLACE,\n    OPERATION_INCREMENT,\n    OPERATION_DECREMENT,\n    OPERATION_MULTIPLY,\n    OPERATION_DIVIDE,\n    OPERATION_MODULO,\n    OPERATION_POWER,\n    OPERATION_CEIL,\n    OPERATION_FLOOR,\n  ],\n  boolean: [OPERATION_SET],\n  defaultSelectionEntryId: [OPERATION_SET],\n  category: [OPERATION_ADD, OPERATION_REMOVE, OPERATION_SET_PRIMARY, OPERATION_UNSET_PRIMARY],\n  defaultAmount: [OPERATION_SET],\n  error: [OPERATION_ADD_ERROR],\n  warning: [OPERATION_ADD_WARNING],\n  info: [OPERATION_ADD_INFO],\n} as Record<string, Operation[]>;\n\ntype PossibleTypes = keyof typeof availableTypes;\n\nexport default {\n  components: { ErrorIcon },\n\n  data() {\n    return {\n      value: \"\",\n      selectedField: null as {\n        id: string;\n        name: string;\n        type: FieldTypes;\n        modifierType: string;\n        value?: string | number | boolean;\n      } | null,\n      selectedOperation: null as {\n        word: string;\n        id: BSIModifierType;\n        name: string;\n      } | null,\n      selectedValue: null as any,\n    };\n  },\n  created() {\n    this.update();\n  },\n  props: {\n    item: {\n      type: Object as PropType<BSIModifier>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  methods: {\n    getName,\n    getNameExtra,\n    changed() {\n      if (this.selectedField) {\n        this.item.field = this.selectedField.id;\n      }\n      if (this.selectedOperation) {\n        this.item.type = this.selectedOperation.id;\n      }\n    },\n    getDefaultFieldValue(\n      fieldType: PossibleTypes,\n      fieldTypeName: PossibleTypes,\n      currentValue: string | number | boolean | undefined\n    ) {\n      switch (fieldType) {\n        case \"number\":\n          return typeof currentValue === \"number\" ? currentValue : 0;\n        case \"category\":\n          return this.allCategories[0].id;\n        case \"string\":\n          let _default: string;\n          if (fieldTypeName === \"name\") {\n            const _item = this.item as { getName?: () => string };\n            _default = _item.getName ? _item.getName() || \"\" : \"\";\n          } else {\n            _default = \"\";\n          }\n          return typeof currentValue === \"string\" ? currentValue : _default;\n        case \"string-or-number\":\n          return [\"string\", \"number\"].includes(typeof currentValue) ? currentValue : \"\";\n        case \"boolean\":\n          return typeof currentValue === \"boolean\" ? currentValue : false;\n        case \"defaultSelectionEntryId\":\n          return first(this.allGroupEntries)?.id;\n        case \"defaultAmount\":\n          return typeof currentValue === \"number\" ? String(currentValue) : \"0\";\n        case \"error\":\n        case \"warning\":\n        case \"info\":\n          return currentValue && typeof currentValue === \"string\" ? currentValue : \"{this} is not allowed\";\n        default:\n          throw Error(`fieldType \"${fieldType}\" has no default value set\"`);\n      }\n    },\n    fieldChanged() {\n      this.selectedOperation = this.operations.find((o) => o.id === this.selectedOperation?.id) || this.operations[0];\n      if (this.selectedField) {\n        this.item.value = this.getDefaultFieldValue(this.selectedField.type, this.selectedField.name, this.item.value)!;\n      }\n      this.changed();\n    },\n    update() {\n      this.selectedField = this.fieldData.find((elt) => elt.id === this.item.field) || null;\n      this.selectedOperation = this.operations.find((op) => op.id === this.item.type) || null;\n      if (!this.selectedField) {\n        this.selectedField = this.fieldData[0];\n      }\n      if (!this.selectedOperation) {\n        this.selectedOperation = this.operations[0] || null;\n      }\n    },\n  },\n  watch: {\n    item() {\n      this.update();\n    },\n  },\n  computed: {\n    join: {\n      get() {\n        return this.item.join ?? \" \";\n      },\n      set(val: string) {\n        if (val === \" \") delete this.item.join;\n        this.item.join = val;\n      },\n    },\n    position: {\n      get() {\n        return this.item.position;\n      },\n      set(val: number | string) {\n        this.item.position = val === \"\" ? undefined : Number(val);\n      },\n    },\n    inputType() {\n      if (!this.selectedField) {\n        return \"\";\n      }\n      if (this.selectedField.type === \"category\") {\n        return \"category\";\n      }\n      if (this.selectedField.type === \"defaultSelectionEntryId\") {\n        return \"defaultSelectionEntryId\";\n      }\n      if (this.selectedField.type === \"number\") {\n        return \"number\";\n      }\n      if (this.selectedField.type === \"boolean\") {\n        return \"boolean\";\n      }\n      if (this.selectedOperation?.id === \"increment\" || this.selectedOperation?.id === \"decrement\") {\n        return \"number\";\n      }\n      return \"string\";\n    },\n    parent() {\n      return getModifierOrConditionParent(this.item as any as EditorBase);\n    },\n    allCategories(): Category[] {\n      let res: Category[] = [];\n      for (let elt of this.catalogue.iterateCategoryEntries()) {\n        res.push(elt);\n      }\n      return res;\n    },\n    allGroupEntries() {\n      return [...(this.parent?.selectionsIterator() || [])];\n    },\n    operations(): {\n      id: BSIModifierType;\n      name: string;\n      word: string;\n    }[] {\n      if (!this.selectedField) {\n        return [];\n      }\n      return operations[this.selectedField.type] || [];\n    },\n    errors() {\n      return [];\n    },\n    costs(): ModifierField[] {\n      const result = [];\n      for (const costType of this.catalogue.iterateCostTypes()) {\n        result.push({\n          id: costType.id,\n          name: costType.name,\n          type: \"number\" as const,\n          modifierType: \"cost\",\n        });\n      }\n      return result;\n    },\n    constraints(): ModifierField[] {\n      const result = [];\n      if (!this.parent) return [];\n      for (const constraint of this.parent.constraintsIterator())\n        result.push({\n          id: constraint.id,\n          name: getName(constraint),\n          type: \"number\" as const,\n          modifierType: \"constraint\",\n        });\n      return result;\n    },\n    type() {\n      if (this.item.affects && this.item.affects !== \"self\") {\n        const what = deconstruct_affects_query(this.item.affects).affectsWhat || \"entries\";\n        const split = what.split(\".\");\n        const index = split.indexOf(\"profiles\");\n        if (index !== -1) {\n          const which = split[index + 1];\n          if (which === undefined || which === \"all\") {\n            return { type: \"anyProfile\" };\n          } else if (this.parent) {\n            for (const type of this.parent.getCatalogue().iterateProfileTypes()) {\n              if (type.getName().toLowerCase() === which.toLowerCase()) {\n                return { type: \"profile\", value: type };\n              }\n            }\n          }\n          return { type: \"invalid\" };\n        }\n        return { type: \"anyEntry\" };\n      } else if (this.item.scope) {\n        const found = this.parent?.getCatalogue().findOptionById(this.item.scope) as EditorBase | null;\n        if (found && found.editorTypeName) {\n          return { type: found.editorTypeName };\n        }\n      }\n    },\n    fieldData() {\n      if (!this.parent) {\n        return [];\n      }\n      let available: string[] = availableModifiers[this.type?.type || this.parent.editorTypeName];\n      const additional: ModifierField[] = [];\n      if (!available) {\n        return [];\n      }\n      if (available.includes(\"costs\")) {\n        additional.push(...this.costs);\n      }\n      if (available.includes(\"constraints\")) {\n        additional.push(...this.constraints);\n      }\n      if (available.includes(\"characteristics\")) {\n        let target: ProfileType | Profile | undefined = this.type?.value;\n        if (!target && this.parent.isProfile()) {\n          target = this.parent.isLink() ? this.parent.target : this.parent;\n        }\n        if (target) {\n          if ((target as Profile)?.characteristics) {\n            additional.push(\n              ...(target as Profile).characteristics.map((o) => ({\n                id: o.typeId,\n                name: o.name,\n                type: \"string-or-number\" as const,\n                modifierType: \"characteristic\",\n                value: o.$text,\n              }))\n            );\n          }\n          if ((target as ProfileType)?.characteristicTypes) {\n            additional.push(\n              ...(target as ProfileType).characteristicTypes.map((o) => ({\n                id: o.id,\n                name: o.name,\n                type: \"string-or-number\" as const,\n                modifierType: \"characteristic\",\n              }))\n            );\n          }\n        }\n      }\n      if (available.includes(\"category\")) {\n        additional.push({\n          id: \"category\",\n          name: \"Category\",\n          type: \"category\",\n          modifierType: \"category\",\n        });\n      }\n      if (available.includes(\"error\")) {\n        additional.push({\n          id: \"error\",\n          name: \"Error\",\n          type: \"error\",\n          modifierType: \"error\",\n        });\n      }\n      if (available.includes(\"warning\")) {\n        additional.push({\n          id: \"warning\",\n          name: \"Warning\",\n          type: \"warning\",\n          modifierType: \"warning\",\n        });\n      }\n      if (available.includes(\"info\")) {\n        additional.push({\n          id: \"info\",\n          name: \"Info\",\n          type: \"info\",\n          modifierType: \"info\",\n        });\n      }\n      // Filter out special fields\n      available = available.filter((elt) => !nonBullet.has(elt));\n      return available\n        .map((elt) => {\n          return {\n            id: elt,\n            name: elt,\n            type: availableTypes[elt],\n            modifierType: \"bullet\",\n          };\n        })\n        .concat(additional);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.modifier {\n  display: flex;\n  gap: 5px;\n  align-items: center;\n  flex-wrap: wrap;\n}\n\n.select {\n  min-width: 200px;\n  max-width: fit-content;\n}\n</style>\n","import { getModifierOrConditionParent } from \"~/assets/shared/battlescribe/bs_modifiers\";\nimport { Base, getDataObject } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase, getAllPossibleParents } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSICondition, BSIDataCatalogue } from \"~/assets/shared/battlescribe/bs_types\";\nimport { GameSystemFiles } from \"~/assets/shared/battlescribe/local_game_system\";\nimport { findSelfOrParentWhere, sortByAscendingInplace } from \"~/assets/shared/battlescribe/bs_helpers\";\n\nexport interface EditorSearchItem {\n  id: string;\n  name: string;\n  editorTypeName: string;\n  indent: number;\n  catalogue: string | null;\n  shared: boolean;\n  rootId?: string;\n}\nfunction getCatalogueName(obj: Base) {\n  return obj.catalogue?.getName() ?? null;\n}\nfunction getRoot(entry?: EditorBase) {\n  if (!entry?.parent) return;\n  while (entry?.parent && !entry.parent.isCatalogue()) {\n    entry = entry.parent\n  }\n  return entry;\n}\nfunction getRootIndent(entry?: EditorBase) {\n  let count = 0\n  if (!entry?.parent) return count;\n\n  while (entry?.parent && !entry.parent.isCatalogue()) {\n    entry = entry.parent\n    count++;\n  }\n  return count\n}\n\nfunction recursive(current: Catalogue | EditorBase, iterator: string, result: EditorSearchItem[], indent = 0) {\n  for (const child of (current as any)[iterator]()) {\n    result.push({\n      name: child.name,\n      editorTypeName: child.editorTypeName,\n      id: child.id,\n      indent: indent,\n      catalogue: getCatalogueName(child),\n      rootId: getRoot(child)?.id,\n      shared: child.parentKey?.includes(\"shared\") || false,\n    });\n    recursive(child, iterator, result, indent + 1);\n  }\n}\n\nfunction recursiveWithFilter(\n  current: Catalogue | EditorBase,\n  iterator: string,\n  cb: (current: EditorBase) => unknown,\n  result: EditorSearchItem[],\n  indent = 0\n) {\n  for (const child of (current as any)[iterator]()) {\n    result.push({\n      name: child.name,\n      editorTypeName: child.editorTypeName,\n      id: child.id,\n      indent: indent,\n      rootId: getRoot(child)?.id,\n      catalogue: getCatalogueName(child),\n      shared: child.parentKey?.includes(\"shared\") || false,\n    });\n    recursive(child, iterator, result, indent + 1);\n  }\n}\n\nexport function getSearchElements(\n  catalogue: Catalogue | EditorBase,\n  type: keyof Catalogue | EditorBase\n): EditorSearchItem[] {\n  let res: EditorSearchItem[] = [];\n  for (const imported of (catalogue as Catalogue).imports || []) {\n    recursive(imported, type as string, res);\n  }\n  recursive(catalogue, type as string, res);\n  return res;\n}\n\nexport function getParentScopes(\n  item: EditorBase\n): EditorSearchItem[] {\n  const result = [] as EditorSearchItem[]\n  const entry = findSelfOrParentWhere(getModifierOrConditionParent(item)!, o => !o.isInfoGroup() && !o.isProfile() && !o.isRule())\n  if (!entry) return result;\n  for (const possibleParent of getAllPossibleParents(entry)) {\n    const root = getRoot(possibleParent)\n    result.push({\n      name: possibleParent.name,\n      editorTypeName: possibleParent.editorTypeName,\n      id: possibleParent.id,\n      indent: getRootIndent(possibleParent),\n      catalogue: getCatalogueName(possibleParent),\n      rootId: root?.id,\n      shared: possibleParent.parentKey?.includes(\"shared\") || false,\n    })\n  }\n  return result;\n}\n\nexport function getSearchSelections(\n  catalogue: Catalogue | EditorBase,\n  includeRootSelectionEntries: boolean\n): EditorSearchItem[] {\n  const res: EditorSearchItem[] = [];\n  const iterator = includeRootSelectionEntries ? \"iterateSelectionEntriesWithRoot\" : \"iterateSelectionEntries\";\n  for (const imported of (catalogue as Catalogue).imports || []) {\n    recursive(imported, iterator, res);\n  }\n  recursive(catalogue, iterator, res);\n  return res;\n}\n\nexport function getSearchSelectionsWithCategory(\n  item: EditorBase,\n  catalogue: Catalogue | EditorBase\n): EditorSearchItem[] {\n  const res: EditorSearchItem[] = [];\n  const primary = item.getPrimaryCategory();\n  recursiveWithFilter(\n    catalogue,\n    \"iterateAllRootEntries\",\n    (o) => getFirstAncestor(o).getPrimaryCategory() === primary,\n    res\n  );\n  return res;\n}\n\nexport function getSearchCategories(catalogue: Catalogue): EditorSearchItem[] {\n  const res: EditorSearchItem[] = [];\n  for (let elt of catalogue.iterateCategoryEntries()) {\n    const child = elt as any;\n    if (child.isCatalogue()) {\n      continue;\n    }\n    res.push({\n      name: child.name,\n      editorTypeName: child.editorTypeName,\n      id: child.id,\n      indent: 0,\n      catalogue: getCatalogueName(child),\n      shared: getFirstAncestor(child)?.parentKey?.includes(\"shared\") || false,\n    });\n  }\n  return res;\n}\n\nexport function getSearchCatalogues(catalogue: Catalogue): EditorSearchItem[] {\n  const res: EditorSearchItem[] = [];\n  for (const elt of Object.values((catalogue.manager as GameSystemFiles).getAllCatalogueFiles())) {\n    if (!(elt as BSIDataCatalogue).catalogue) continue;\n    const obj = getDataObject(elt);\n    res.push({\n      name: obj.name,\n      editorTypeName: \"catalogue\",\n      id: obj.id,\n      indent: 0,\n      catalogue: null,\n      shared: false,\n    });\n  }\n  return res;\n}\n\nexport function itemDepth(item: EditorBase): number {\n  let res = 0;\n  let parent = getModifierOrConditionParent(item);\n  while (parent) {\n    res++;\n    parent = parent.parent;\n  }\n  return res;\n}\n\nexport function getParentUnitHierarchy(item: EditorBase): EditorSearchItem[] {\n  let res: EditorSearchItem[] = [];\n  let parent: EditorBase | undefined = item;\n  let i = 0;\n  const rootDepth = itemDepth(item) - 1;\n  parent = getModifierOrConditionParent(item);\n  while (parent != null && !parent.isCatalogue()) {\n    if (parent.editorTypeName === \"selectionEntry\") {\n      res.push({\n        name: parent.name,\n        id: parent.id,\n        editorTypeName: parent.editorTypeName,\n        indent: i,\n        rootId: getRoot(parent)?.id,\n        catalogue: getCatalogueName(parent),\n        shared: getFirstAncestor(parent)?.parentKey?.includes(\"shared\") || false,\n      });\n      i++;\n    }\n    parent = parent.parent;\n  }\n  res = res.reverse();\n  res.forEach((elt, ind) => {\n    elt.indent = ind + rootDepth;\n  });\n  return res;\n}\n\nexport function getParentSelections(item: EditorBase): EditorSearchItem[] {\n  const parentElements = getSearchElements(item, \"iterateRootEntries\");\n  parentElements.splice(0, 1);\n  return parentElements;\n}\n\nexport function scopeIsId(item: BSICondition) {\n  return (\n    [\"self\", \"parent\", \"ancestor\", \"primary-category\", \"primary-catalogue\", \"force\", \"roster\"].includes(item.scope) ==\n    false\n  );\n}\n\nexport function getFirstAncestor(item: EditorBase): EditorBase {\n  let parent = item;\n  while (\n    parent.parent != null &&\n    parent.parent.editorTypeName != \"gameSystem\" &&\n    parent.parent.editorTypeName != \"catalogue\"\n  ) {\n    parent = parent.parent;\n  }\n  return parent;\n}\n\nexport function getFilterSelections(item: BSICondition & EditorBase, catalogue: Catalogue): EditorSearchItem[] {\n  const includeAllRootEntries = [\"primary-catalogue\", \"roster\", \"force\", \"ancestor\"];\n  if (includeAllRootEntries.includes(item.scope)) {\n    return getSearchSelections(catalogue, true);\n  }\n\n  const res = getSearchSelections(catalogue, false);\n  if (item.scope == \"self\") {\n    const parent: EditorBase | undefined = getModifierOrConditionParent(item);\n    return parent ? res.concat(getParentSelections(parent)) : res;\n  }\n\n  // if (item.scope == \"ancestor\") {\n  //   return res;\n  // }\n\n  if (item.scope == \"parent\") {\n    // It looks like first level elements of shared entries and groups consider the Roster as their parent\n    if (getFirstAncestor(item)) {\n      return getSearchSelections(catalogue, true);\n    }\n\n    const parent: EditorBase | undefined = getModifierOrConditionParent(item);\n    return parent?.parent ? res.concat(getParentSelections(parent.parent)) : res;\n  }\n\n  if (item.scope == \"primary-category\") {\n    return getSearchSelectionsWithCategory(getFirstAncestor(item), catalogue);\n  }\n\n  const parent = catalogue.findOptionById(item.scope) as EditorBase;\n  if (parent) {\n    return res.concat(getParentSelections(parent));\n  }\n  return res;\n}\n\nexport function getFilterForces(item: EditorBase, catalogue: Catalogue, scope: string): EditorSearchItem[] {\n  return [];\n}\n","<template>\n  <fieldset>\n    <legend>Query</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Scope:</td>\n        <td>\n          <UtilAutocomplete\n            v-model=\"item.scope\"\n            placeholder=\"Search Scope...\"\n            :options=\"allScopes\"\n            valueField=\"id\"\n            filterField=\"name\"\n            :default=\"allScopes[0]\"\n          >\n            <template #option=\"opt\">\n              <div style=\"white-space: nowrap\">\n                <template v-if=\"opt.option.indent >= 2 && !opt.selected\">\n                  <span v-for=\"n of opt.option.indent - 1\">&nbsp;&nbsp;&nbsp;</span>\n                </template>\n                <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${opt.option.editorTypeName || 'bullet'}.png`\" />\n                {{ opt.option.name }}\n                <span class=\"gray\">{{ getNameExtra(opt.option, false) }}</span>\n                <span class=\"shared\" v-if=\"opt.option.shared\"> (shared)</span>\n                <span class=\"catalogueName\" v-if=\"showCatalogue(opt.option)\"> [{{ opt.option.catalogue }}]</span>\n              </div>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n      <tr>\n        <td>Affects: </td>\n        <td>\n          <UtilAutocomplete\n            v-model=\"fields.affectsWhat\"\n            placeholder=\"Entries\"\n            :options=\"allAffects\"\n            valueField=\"value\"\n            filterField=\"name\"\n          >\n            <template #option=\"opt\">\n              <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${opt.option.editorTypeName || 'bullet'}.png`\" />\n              <span style=\"white-space: nowrap\"> {{ opt.option.name }} </span>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n      <tr>\n        <td>Filter By: </td>\n        <td>\n          <UtilAutocomplete\n            v-model=\"fields.filterBy\"\n            :placeholder=\"`Search Child...`\"\n            :options=\"allFilterBy\"\n            valueField=\"id\"\n            filterField=\"name\"\n            :default=\"filterBySelected\"\n            lazy\n          >\n            <template #option=\"opt\">\n              <div v-if=\"opt.option\" style=\"white-space: nowrap\">\n                <template v-if=\"opt.option.indent >= 1 && !opt.selected\">\n                  <span v-for=\"n of opt.option.indent\">&nbsp;&nbsp;&nbsp;</span>\n                </template>\n                <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${opt.option.editorTypeName}.png`\" />\n\n                {{ opt.option.name }}\n                <span class=\"gray\">{{ getNameExtra(opt.option, false) }}</span>\n                <span class=\"shared\" v-if=\"opt.option.shared\"> (shared) </span>\n                <span class=\"gray\" v-if=\"opt.option.rootId === rootId\"> (same ancestor)</span>\n                <span class=\"catalogueName\" v-if=\"showCatalogue(opt.option)\"> [{{ opt.option.catalogue }}]</span>\n              </div>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n    </table>\n    <div>\n      <div class=\"checks\">\n        <div>\n          <input @change=\"changed\" id=\"includeSelf\" type=\"checkbox\" v-model=\"fields.self\" />\n          <label for=\"includeSelf\">Include self(scope)</label>\n        </div>\n        <div>\n          <input @change=\"changed\" id=\"includeChildSelections\" type=\"checkbox\" v-model=\"fields.entries\" />\n          <label for=\"includeChildSelections\">Include child Selections</label>\n        </div>\n        <div>\n          <input @change=\"changed\" id=\"includeChildForces\" type=\"checkbox\" v-model=\"fields.forces\" />\n          <label for=\"includeChildForces\">Include child Forces</label>\n        </div>\n        <div>\n          <input @change=\"changed\" id=\"recursive\" type=\"checkbox\" v-model=\"fields.recursive\" />\n          <label for=\"recursive\">Recursive</label>\n        </div>\n      </div>\n    </div>\n  </fieldset>\n</template>\n<script lang=\"ts\">\nimport PopupDialog from \"~/shared_components/PopupDialog.vue\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSICostType, BSIModifier } from \"~/assets/shared/battlescribe/bs_types\";\nimport {\n  EditorSearchItem,\n  getParentUnitHierarchy,\n  getSearchCategories,\n  getSearchElements,\n  getParentScopes,\n} from \"~/assets/ts/catalogue/catalogue_helpers\";\nimport { filterByItems, getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport {\n  AffectsQuery,\n  construct_affects_query,\n  deconstruct_affects_query,\n  Modifier,\n} from \"~/assets/shared/battlescribe/bs_main\";\nconst scopes = {\n  self: { id: undefined, name: \"Self\" },\n  parent: { id: \"parent\", name: \"Parent\" },\n  roster: { id: \"roster\", name: \"Roster\" },\n  force: { id: \"force\", name: \"Force\" },\n  category: { id: \"category\", name: \"Category\" },\n  ancestor: { id: \"ancestor\", name: \"Ancestor\" },\n  parents: { id: \"ancestor\", name: \"All Parents\" },\n  primaryCategory: { id: \"primary-category\", name: \"Primary Category\" },\n  primaryCatalogue: { id: \"primary-catalogue\", name: \"Primary Catalogue\" },\n  rootEntry: { id: \"root-entry\", name: \"Root Entry\" },\n  unit: { id: \"unit\", name: \"Type: Unit\" },\n  model: { id: \"model\", name: \"Type: Model\" },\n  upgrade: { id: \"upgrade\", name: \"Type: Upgrade\" },\n  modelOrUnit: { id: \"model-or-unit\", name: \"Type: Model or Unit\" },\n} as const;\ninterface ScopeChoice {\n  id: string;\n  name: string;\n  editorTypeName?: string;\n  title?: string;\n}\n\nexport default defineComponent({\n  components: { PopupDialog },\n  props: {\n    item: { type: Object as PropType<BSIModifier & EditorBase>, required: true },\n  },\n  data: () => ({\n    fields: {\n      self: true,\n      entries: false,\n      forces: false,\n      recursive: false,\n      filterBy: \"any\",\n      affectsWhat: \"entries\",\n    } as AffectsQuery,\n  }),\n  methods: {\n    getNameExtra,\n    showCatalogue(opt: EditorSearchItem): boolean {\n      if (!opt.catalogue) {\n        return false;\n      }\n      if (opt.catalogue === this.item.catalogue?.getName()) {\n        return false;\n      }\n      return true;\n    },\n  },\n  mounted() {\n    this.fields = deconstruct_affects_query(this.item.affects);\n  },\n  computed: {\n    scope: {\n      get() {\n        return this.item.scope ?? \"self\";\n      },\n      set(val: string) {\n        if (val === \"self\") delete this.item.scope;\n        else this.item.scope = val;\n      },\n    },\n    catalogue() {\n      return this.item.getCatalogue();\n    },\n    type() {\n      return this.item.editorTypeName;\n    },\n    costTypes() {\n      let res: BSICostType[] = [];\n      for (let elt of this.catalogue.iterateCostTypes()) {\n        res.push(elt);\n      }\n      return res;\n    },\n    rootId() {\n      let item = this.item as any;\n      if (!item?.parent) return;\n      while (item?.parent && !item.parent.isCatalogue()) {\n        item = item.parent;\n      }\n      return item.id;\n    },\n\n    allSelections(): EditorSearchItem[] {\n      return getParentUnitHierarchy(this.item);\n    },\n\n    allCategories(): EditorSearchItem[] {\n      return getSearchCategories(this.catalogue);\n    },\n\n    allForces(): EditorSearchItem[] {\n      return getSearchElements(this.catalogue, \"forceEntriesIterator\");\n    },\n\n    allEntries(): EditorSearchItem[] {\n      return getSearchElements(this.catalogue, \"entriesIterator\");\n    },\n\n    allParents(): EditorSearchItem[] {\n      return getParentScopes(this.item);\n    },\n\n    allAffects(): Array<any> {\n      return [\n        {\n          name: \" Entries \",\n          value: \"entries\",\n        },\n        ...[...this.catalogue.iterateProfileTypes()].map((type) => ({\n          name: `Profiles (${type.name})`,\n          value: `profiles.${type.name}`,\n          editorTypeName: \"profileType\",\n        })),\n        {\n          name: \"Rules\",\n          value: \"rules\",\n          editorTypeName: \"rule\",\n        },\n      ];\n    },\n    allScopes(): Array<ScopeChoice | EditorSearchItem> {\n      const result = [scopes.self, scopes.parent, scopes.force, scopes.roster, scopes.primaryCatalogue] as Array<\n        ScopeChoice | EditorSearchItem\n      >;\n      if (this.type !== \"forceEntry\") {\n        result.push(scopes.rootEntry, scopes.unit, scopes.model, scopes.upgrade, scopes.modelOrUnit);\n      }\n      result.push(...this.allParents);\n      if (this.type !== \"forceEntry\") {\n        result.push(...this.allCategories);\n      }\n      result.push(...this.allForces);\n      return result;\n    },\n    allFilterBy() {\n      const result = [...filterByItems, ...this.allCategories, ...this.allEntries];\n      return result;\n    },\n\n    filterBySelected() {\n      if (!this.fields.filterBy || this.fields.filterBy === \"any\") {\n        return this.allFilterBy[0];\n      }\n\n      const base = this.allFilterBy.find((elt) => elt.id === this.fields.filterBy);\n      if (base) {\n        return base;\n      }\n      return this.catalogue.findOptionById(this.fields.filterBy) as any as EditorSearchItem;\n    },\n  },\n  watch: {\n    fields: {\n      deep: true,\n      handler(fields) {\n        const built = construct_affects_query(fields);\n        if (!built || built === \"self\") {\n          delete this.item.affects;\n        } else {\n          this.item.affects = built;\n        }\n        console.log(built);\n      },\n    },\n  },\n});\n</script>\n<style scoped lang=\"scss\">\n.checks > div {\n  display: inline-block;\n  margin-right: 10px;\n}\n</style>\n","<template>\n  <fieldset>\n    <legend><img src=\"assets/bsicons/condition.png\" /> Quick Conditions</legend>\n    <div class=\"columns\">\n      <div class=\"buttonList\">\n        <button class=\"bouton\" @click=\"add('self', 'selections', 'instanceOf', 1)\" v-if=\"item.editorTypeName === 'localConditionGroup'\">\n          <img src=\"/assets/icons/iconeplus.png\" />SELF INSTANCE OF\n        </button>\n        <button class=\"bouton\" @click=\"add('parent', 'selections', 'atLeast', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />PARENT ATLEAST 1\n        </button>\n        <button class=\"bouton\" @click=\"add('force', 'selections', 'atLeast', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />FORCE ATLEAST 1\n        </button>\n        <button class=\"bouton\" @click=\"add('roster', 'selections', 'atLeast', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />ROSTER ATLEAST 1\n        </button>\n        <button class=\"bouton\" @click=\"add('ancestor', 'selections', 'instanceOf', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />ANCESTOR INSTANCE OF\n        </button>\n      </div>\n      <div class=\"buttonList\">\n        <button class=\"bouton\" @click=\"add('self', 'selections', 'notInstanceOf', 1)\" v-if=\"item.editorTypeName === 'localConditionGroup'\">\n          <img src=\"/assets/icons/iconeplus.png\" />SELF NOT INSTANCE OF\n        </button>\n        <button class=\"bouton\" @click=\"add('parent', 'selections', 'lessThan', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />PARENT LESS THAN 1\n        </button>\n        <button class=\"bouton\" @click=\"add('force', 'selections', 'lessThan', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />FORCE LESS THAN 1\n        </button>\n        <button class=\"bouton\" @click=\"add('roster', 'selections', 'lessThan', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />ROSTER LESS THAN 1\n        </button>\n        <button class=\"bouton\" @click=\"add('ancestor', 'selections', 'notInstanceOf', 1)\">\n          <img src=\"/assets/icons/iconeplus.png\" />ANCESTOR NOT INSTANCE OF\n        </button>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { scopeIsId } from \"~/assets/ts/catalogue/catalogue_helpers\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  setup() {\n    return { store: useEditorStore() };\n  },\n  props: {\n    item: {\n      type: Object as PropType<EditorBase>,\n      required: true,\n    },\n\n    withCategory: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    type() {\n      return this.item.editorTypeName;\n    },\n    parent() {\n      return (this.item as EditorBase).parent;\n    },\n  },\n  methods: {\n    add(scope: string, field: string, type: string, value: string | number) {\n      if (field === \"id\") {\n        field = (this.item as EditorBase).id;\n      }\n\n      let parent = this.item as EditorBase;\n      this.store.create_child(\"conditions\", parent, {\n        scope: scope,\n        field: field,\n        type: type,\n        value: value,\n        childId: \"any\",\n        includeChildSelections: [\"roster\"].includes(scope) ? true : false,\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.columns {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 10px;\n}\n\n.bouton {\n  width: 100%;\n}\n\n.buttonList {\n  display: grid;\n  grid-gap: 10px;\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAABgmlDQ1BJQ0MgUHJvZmlsZQAAKM+VkU0oRFEcxX9miDSizEKyeAusTIRkyVCToqZBGSy898YMNe+Z3hvZWCrbKQsfG18LG2u2FrZKKR8lWxsrYiM9//tGzaRGuXW7v86953TvuRA4yJqWW90Dlp13ErGoNpOc1WqfqSFEE90EddPNDcfj41QcH7dUqfUmorL432hILbomVGnCQ2bOyQsvCA+s5XOKd4TD5pKeEj4V7nLkgsL3SjeK/KI443NAZYadqcSIcFhYy5SxUcbmkmMJ9wu3pyxb8gMzRU4pXldsZVfNn3uqF4YW7elJpctsI8YYE8TRMFhlmSx5IrLaorgkZD9awd/q++PiMsS1jCmOUVaw0H0/6g9+d+um+3qLSaEo1Dx53lsH1G7BV8HzPg897+sIgo9wYZf8Kwcw+C56oaS170PjBpxdljRjG843oeUhpzu6LwVlBtJpeD2Rb0pC8zXUzxV7+9nn+A6mpKvxK9jdg86MZM9XeHddeW9/nvH7I/oNQUlyk6fcG6sAAAAJcEhZcwAALiIAAC4iAari3ZIAAAH9SURBVDhPnZJPaBNBFMa//ZPNpgHT0HartRD/IKJSRIoFLd5VPEmPBgQtXgqCnooIohRE8CBe9CZCTx48evGioKlKpCGiFUWxNmnS3eomNNnN7mafM2NZXNKTD37L8L3ve7MzjIQt6vrDdbIaJNaDGQm3Lg30+GLC5bsrdPRgGsfG0hgZUoVWNQMUyi28+9jCvaujvRtN31yirz/bFAQB+b4fg2u8xz2b9r81deUNff7eJNd1yXEcmsy/iLGwWBc97uFenpH5Z+JQGqOGAjYdbDryZ3YIThzZhmaziYXSmuhxDz8KL+Xk9DO6OLUPmbQEIhLsz2nIGSF+VBoolH4hNxxie38btt3AQDaFmnzqhrxccbFrpA9hGMLzPJimhWq1huevV/HgSRUTYwYunN0NWVbZUGA4q4BnZFXtA5jgOB1Ylo1OJ4CiJHDnsQ1JSmFuZg9c14OqagJip+MZeW9uEF+W22i1PBbQkEjogsL8cYHndSONs2oBPCM/vT8uvSz60PUUNC0ZcXqmIvhXSybZwDLAM+JWi0syzAYPpqLJup4RxHZbT6L8TRO3GlV+9je9/+BQve5QrebQxkYg4GuuvS216RzzbNrjT443xg9omDycwE6D/QyzrZhdvFr0UfzkY/52NvL3vj1W56+ZtGYrYm30d/FobmhL338U8AdLygpqJt/tXAAAAABJRU5ErkJggg==\"","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" />\n  <CatalogueRightPanelFieldsModifier class=\"section\" :item=\"item\" :catalogue=\"catalogue\" />\n  <CatalogueRightPanelFieldsComplexQuery v-if=\"allowQuery\" :item=\"item\" class=\"section\" />\n  <CatalogueRightPanelFieldsQuickConditions :item=\"item\" :withCategory=\"false\" class=\"section\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue, EditorBase, Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { getModifierOrConditionParent } from \"~/assets/shared/battlescribe/bs_modifiers\";\nimport { BSIModifier } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    item: {\n      type: Object as PropType<BSIModifier & EditorBase>,\n      required: true,\n    },\n  },\n  computed: {\n    parent() {\n      return getModifierOrConditionParent(this.item as any as EditorBase);\n    },\n    allowQuery() {\n      if (!this.parent) return false;\n      if (\n        [\n          \"forceEntry\",\n          \"selectionEntry\",\n          \"selectionEntryGroup\",\n          \"selectionEntryLink\",\n          \"selectionEntryGroupLink\",\n        ].includes(this.parent.editorTypeName)\n      )\n        return true;\n      return false;\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Constraint</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Unique ID:</td>\n        <td><input type=\"text\" v-model=\"item.id\" /></td>\n      </tr>\n    </table>\n    <div class=\"constraint\">\n      <select v-model=\"item.type\">\n        <option value=\"min\">Minimum</option>\n        <option value=\"max\">Maximum</option>\n        <option value=\"exactly\">Exactly</option>\n      </select>\n      <UtilNumberInput v-model=\"item.value\" />\n      <div>\n        <input id=\"percent\" type=\"checkbox\" v-model=\"item.percentValue\" />\n        <label for=\"percent\">Percentage</label>\n        <input id=\"negative\" type=\"checkbox\" v-model=\"item.negative\" />\n        <label for=\"negative\">Negative</label>\n        <input id=\"automatic\" type=\"checkbox\" v-model=\"item.automatic\" />\n        <label for=\"automatic\">Automatic</label>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { BSIConstraint } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSIConstraint>,\n      required: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.constraint {\n  display: grid;\n  grid-template-columns: 1fr 100px max-content;\n  align-items: center;\n  grid-gap: 5px;\n}\n.checkbox {\n  margin-left: 5px;\n}\n</style>\n","<template>\n  <fieldset>\n    <legend>Query</legend>\n    <div class=\"query\">\n      <UtilIconSelect\n        v-model=\"itemField\"\n        :fetch=\"() => fieldTypes\"\n        @change=\"fieldChanged\"\n        class=\"modType\"\n        :disabled=\"instanceOf || association\"\n      >\n        <template #option=\"opt\">\n          <div>\n            <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${opt.option.type}.png`\" />\n            {{ opt.option.name }}\n          </div>\n        </template>\n      </UtilIconSelect>\n\n      <span> in </span>\n\n      <UtilAutocomplete\n        v-model=\"item.scope\"\n        :placeholder=\"`Search Scope...`\"\n        :options=\"allScopes\"\n        valueField=\"id\"\n        filterField=\"name\"\n        @change=\"scopeChanged\"\n        :disabled=\"itemField?.value?.startsWith('limit::')\"\n      >\n        <template #option=\"opt\">\n          <div style=\"white-space: nowrap\">\n            <template v-if=\"opt.option.indent >= 2 && !opt.selected\">\n              <span v-for=\"n of opt.option.indent - 1\">&nbsp;&nbsp;&nbsp;</span>\n            </template>\n            <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${opt.option.editorTypeName}.png`\" />\n            {{ opt.option.name }}\n            <span class=\"gray\">{{ getNameExtra(opt.option, false) }}</span>\n            <span class=\"shared\" v-if=\"opt.option.shared\"> (shared)</span>\n            <span class=\"catalogueName\" v-if=\"showCatalogue(opt.option)\"> [{{ opt.option.catalogue }}]</span>\n          </div>\n        </template>\n      </UtilAutocomplete>\n\n      <div class=\"checks\" v-if=\"!isCostType\">\n        <div v-if=\"shared\">\n          <input id=\"shared\" type=\"checkbox\" v-model=\"item.shared\" />\n          <label for=\"shared\" class=\"hastooltip\" :title=\"sharedTooltip\">Shared</label>\n        </div>\n        <div v-if=\"childSelections\">\n          <input id=\"childSelections\" type=\"checkbox\" v-model=\"item.includeChildSelections\" />\n          <label for=\"childSelections\">And all child Selections</label>\n        </div>\n        <div v-if=\"childForces\">\n          <input id=\"childForces\" type=\"checkbox\" v-model=\"item.includeChildForces\" />\n          <label for=\"childForces\">And all child Forces</label>\n        </div>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Condition, Constraint } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase, getAllPossibleParents } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { getModifierOrConditionParent } from \"~/assets/shared/battlescribe/bs_modifiers\";\nimport { BSICondition, BSIConstraint, BSICostType } from \"~/assets/shared/battlescribe/bs_types\";\nimport {\n  EditorSearchItem,\n  getSearchCategories,\n  getSearchElements,\n  getParentUnitHierarchy,\n  getParentScopes,\n} from \"~/assets/ts/catalogue/catalogue_helpers\";\ninterface ScopeChoice {\n  id: string;\n  name: string;\n  editorTypeName: string;\n  title?: string;\n}\nexport default {\n  data() {\n    return {\n      itemField: null as any,\n    };\n  },\n  props: {\n    item: {\n      type: Object as PropType<EditorBase & (BSIConstraint | BSICondition)>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    childForces: {\n      type: Boolean,\n      default: false,\n    },\n    childSelections: {\n      type: Boolean,\n      default: false,\n    },\n    shared: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    getNameExtra,\n\n    scopeChanged() {\n      if (this.item.scope === \"roster\") {\n        this.item.includeChildSelections = true;\n        this.item.includeChildForces = true;\n      }\n      if (this.item.scope === \"force\") {\n        this.item.includeChildSelections = true;\n      }\n      this.item.catalogue.updateCondition(this.item as EditorBase & (Condition | Constraint));\n      this.changed();\n    },\n    fieldChanged() {\n      this.item.field = this.itemField.value;\n      if (this.item.field.startsWith(\"limit::\") && this.item.editorTypeName !== \"constraint\") {\n        this.item.childId = \"any\";\n      }\n\n      this.changed();\n    },\n\n    showCatalogue(opt: EditorSearchItem): boolean {\n      if (!opt.catalogue) {\n        return false;\n      }\n      if (opt.catalogue === this.item.catalogue?.getName()) {\n        return false;\n      }\n      return true;\n    },\n  },\n\n  computed: {\n    association() {\n      return this.item.editorTypeName == \"association\";\n    },\n\n    sharedTooltip() {\n      if (this.item.editorTypeName !== \"constraint\") {\n        return `Its recommended to keep shared checked on ${this.item.editorTypeName}s`;\n      }\n      return `Indicates that constraints on links should be evaluated as if they are on their target, usually only relevant if the scope is above \"parent\"\n\neg: a unit has a Leader and a Model which have a link to the same entry, with a max 1 constraint on the links scoped to the unit.\nassuming both have selected 1 of that entry:\n- a shared constraint would error as its evaluating the target of the links\n- a non-shared constraint would not error as it would be evaluating the amount of the links themselves\n\nnote: shared=false on BS will also limit the constraint to it's parent rootSelectionEntry ID\n`;\n    },\n    instanceOf() {\n      return [\"instanceOf\", \"notInstanceOf\"].includes(this.item?.type);\n    },\n    parent() {\n      return getModifierOrConditionParent(this.item as EditorBase);\n    },\n    isCostType() {\n      return this.parent?.editorTypeName === \"costType\";\n    },\n    isForceEntry() {\n      return [\"forceEntryLink\", \"forceEntry\"].includes(this.parent?.editorTypeName!);\n    },\n    fieldTypes() {\n      const res: {\n        name: string;\n        type: string | null;\n        value: string | undefined;\n      }[] = [];\n      if (this.instanceOf) {\n        res.push({\n          name: \"\",\n          value: undefined,\n          type: null,\n        });\n      }\n      res.push({\n        name: \"Selections\",\n        value: \"selections\",\n        type: \"bullet\",\n      });\n      res.push({\n        name: \"Forces\",\n        value: \"forces\",\n        type: \"bullet\",\n      });\n      for (const costType of this.costTypes) {\n        res.push({\n          name: costType.name,\n          value: costType.id,\n          type: \"cost\",\n        });\n        if (this.item.scope === \"roster\") {\n          res.push({\n            name: `${costType.name} Limit`,\n            value: `limit::${costType.id}`,\n            type: \"cost\",\n          });\n        }\n      }\n      return res;\n    },\n\n    includeCategories() {\n      if (this.item.field === \"forces\") {\n        return false;\n      }\n      return true;\n    },\n\n    includeForces() {\n      return true;\n    },\n\n    includeSelections() {\n      if (this.item.field == \"forces\") {\n        return false;\n      }\n      return true;\n    },\n\n    costTypes() {\n      let res: BSICostType[] = [];\n      for (let elt of this.catalogue.iterateCostTypes()) {\n        res.push(elt);\n      }\n      return res;\n    },\n\n    allSelections(): EditorSearchItem[] {\n      if (!this.includeSelections) {\n        return [];\n      }\n      return getParentUnitHierarchy(this.item);\n    },\n\n    allCategories(): EditorSearchItem[] {\n      if (!this.includeCategories) {\n        return [];\n      }\n      return getSearchCategories(this.catalogue);\n    },\n\n    allForces(): EditorSearchItem[] {\n      if (!this.includeForces) {\n        return [];\n      }\n      return getSearchElements(this.catalogue, \"forceEntriesIterator\");\n    },\n\n    allParents(): EditorSearchItem[] {\n      return getParentScopes(this.item);\n    },\n\n    allScopes(): ScopeChoice[] {\n      const SCOPE_SELF = {\n        id: \"self\",\n        name: \"Self\",\n        editorTypeName: \"bullet\",\n      };\n      const SCOPE_PARENT = {\n        id: \"parent\",\n        name: \"Parent\",\n        editorTypeName: \"bullet\",\n      };\n      const SCOPE_FORCE = {\n        id: \"force\",\n        name: \"Force\",\n        editorTypeName: \"bullet\",\n      };\n      const SCOPE_ROSTER = {\n        id: \"roster\",\n        name: \"Roster\",\n        editorTypeName: \"bullet\",\n      };\n      const SCOPE_ANCESTOR = {\n        id: \"ancestor\",\n        name: \"Ancestor\",\n        editorTypeName: \"bullet\",\n        title: \"checks the condition in all parents\",\n      };\n      const SCOPE_PRIMARY_CATALOGUE = {\n        id: \"primary-catalogue\",\n        name: \"Primary Catalogue\",\n        editorTypeName: \"bullet\",\n      };\n      const SCOPE_PRIMARY_CATEGORY = {\n        id: \"primary-category\",\n        name: \"Primary Category\",\n        editorTypeName: \"bullet\",\n      };\n      if (this.isForceEntry) {\n        return [SCOPE_SELF, SCOPE_PARENT, SCOPE_FORCE, SCOPE_ROSTER, SCOPE_PRIMARY_CATALOGUE, SCOPE_ANCESTOR];\n      }\n      if (this.isCostType) {\n        return [SCOPE_SELF, SCOPE_PARENT];\n      }\n      const common = [SCOPE_FORCE, SCOPE_ROSTER, SCOPE_PRIMARY_CATALOGUE];\n      const common_non_forces_field = [\n        {\n          id: \"root-entry\",\n          name: \"Root Entry\",\n          editorTypeName: \"bullet\",\n        },\n        {\n          id: \"unit\",\n          name: \"Type: Unit\",\n          editorTypeName: \"bullet\",\n        },\n        {\n          id: \"model\",\n          name: \"Type: Model\",\n          editorTypeName: \"bullet\",\n        },\n        {\n          id: \"upgrade\",\n          name: \"Type: Upgrade\",\n          editorTypeName: \"bullet\",\n        },\n        {\n          id: \"model-or-unit\",\n          name: \"Type: Model or Unit\",\n          editorTypeName: \"bullet\",\n        },\n      ];\n      if (this.item.field != \"forces\") {\n        common.push(...common_non_forces_field);\n      }\n      let res = [] as ScopeChoice[];\n      if (this.item.field != \"forces\") {\n        if ([\"condition\", \"localConditionGroup\", \"association\"].includes(this.item.editorTypeName)) {\n          res = [SCOPE_SELF, SCOPE_PARENT, SCOPE_ANCESTOR, SCOPE_PRIMARY_CATEGORY];\n        }\n        if ([\"repeat\", \"constraint\"].includes(this.item.editorTypeName)) {\n          res = [SCOPE_SELF, SCOPE_PARENT];\n        }\n      }\n\n      return [...res, ...common]\n        .concat(this.allParents)\n        .concat(this.allSelections)\n        .concat(this.allCategories)\n        .concat(this.allForces);\n    },\n  },\n\n  watch: {\n    \"item.field\": {\n      handler() {\n        this.itemField = this.fieldTypes.find((elt) => {\n          return elt.value == this.item.field;\n        });\n      },\n      immediate: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.constraint {\n  display: grid;\n  grid-template-columns: 1fr 50px max-content;\n}\n\n.checks {\n  display: grid;\n  grid-gap: 10px;\n  grid-auto-flow: column;\n}\n\n.query {\n  display: grid;\n  grid-gap: 5px;\n  grid-template-columns: auto max-content 1fr;\n  align-items: center;\n}\n\n@import \"@/shared_components/css/vars.scss\";\n\n.catalogueName {\n  color: rgb(144, 152, 197);\n  font-style: italic;\n}\n\n.shared {\n  color: $gray;\n  font-style: italic;\n}\n</style>\n","<template>\n  <fieldset>\n    <legend><img src=\"assets/bsicons/modifier.png\" /> Quick Modifiers</legend>\n    <div class=\"columns\">\n      <template v-if=\"type === 'constraint'\">\n        <div class=\"buttonList\">\n          <button class=\"bouton\" @click=\"add('id', 'increment', 1)\">\n            <img src=\"/assets/icons/iconeplus.png\" />INCREMENT 1\n          </button>\n          <button class=\"bouton\" @click=\"add('id', 'set', 1)\"> <img src=\"/assets/icons/iconeplus.png\" />SET 1 </button>\n        </div>\n        <div class=\"buttonList\">\n          <button class=\"bouton\" @click=\"add('id', 'decrement', 1)\">\n            <img src=\"/assets/icons/iconeplus.png\" />DECREMENT 1\n          </button>\n          <button class=\"bouton\" @click=\"add('id', 'set', 0)\"> <img src=\"/assets/icons/iconeplus.png\" />SET 0 </button>\n        </div>\n      </template>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\n\nexport default {\n  setup() {\n    return { store: useEditorStore() };\n  },\n  props: {\n    item: {\n      type: Object as PropType<ItemTypes>,\n      required: true,\n    },\n\n    withCategory: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    type() {\n      return this.item.editorTypeName;\n    },\n    parent() {\n      return (this.item as EditorBase).parent;\n    },\n  },\n  methods: {\n    add(field: string, type: string, value: string | number) {\n      if (field === \"id\") {\n        field = (this.item as EditorBase).id;\n      }\n\n      let parent = this.item as EditorBase;\n      if (this.type === \"constraint\") {\n        parent = this.parent!;\n      }\n      this.store.create_child(\"modifiers\", parent, {\n        field: field,\n        type: type,\n        value: value,\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.columns {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 10px;\n}\n\n.bouton {\n  width: 100%;\n}\n\n.buttonList {\n  display: grid;\n  grid-gap: 10px;\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAYAAADwMZRfAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkTlIA0EYhb9EJeKBhQFFLLZQKwOiIpYaBREUQlTwKtzdmChkN2E3wcZSsA1YeDRehY21tha2giB4gNjaWCnaiKz/bIQEIYIDw3y8mfeYeQPBg7RpudU9YNk5Jz4W1Wbn5rXQMzXUE6KNFt10s8Ox2AQVx8ctAbXeRFQW/xuNiWXXhIAmPGRmnZzwkvDAWi6reEc4bK7oCeFT4W5HLih8r3SjyC+KUz4HVWbYmY6PCIeFtVQZG2VsrjiWcL9wR8KyJT84W+SE4nXFVjpv/txTvbBh2Z6ZUrrMdsYYZ5IYGgZ5VkmTIyKrLYpLXPajFfxtvj8mLkNcq5jiGCWDhe77UX/wu1s32ddbTGqIQs2T5711QmgLvgqe93noeV9HUPUIF3bJnzmAwXfRCyWtYx+aNuDssqQZ23C+Ca0PWd3RfalKZjCZhNcT+aY5aL6GuoVibz/7HN/BtHQ1cQW7e9CVkuzFCu+uLe/tzzN+f0S/ASWWcoi7xtRwAAAACXBIWXMAAC4iAAAuIgGq4t2SAAAB+UlEQVQ4T5WTz2sTQRTHv7M/6iH4m7aXTTZnqY1E1JBSsChW1KJSYijiwZN4Lo1/giZetHhWiaHaH9aoNbEHtb8sCagtChWTNNAt9eaWellpDs+ZaSwGbZJ+4PFm38z77O7sDkOdTM68p59ra3LcdfZMRZ9SzlUZe5WmHboG/yEfrCWrXN0GbycmaWp6inK5bxSNxahcrqDmk9g/bOzetROp9DhuRCKbr/F4cIhGk8+ltKbE+eVgfb2EtmAAN29FZVP8UYLa24JwHEeuqSkplUoyVldtnDzRgTt3+ylw7AgWFr5ifm5Orqn6dVKvx+n7ygpMjwGXy4WGBp1XGZasZWQyWdyORWX/lpKxVJosy0JrywFMz8zCtu3yzAZ/BIL/SpIvXtKyEBxswfznL/B6vTjfdW7LG/6zJyOjz6hYLMLX6sOHj59gGEZVgaBCMjj8lIqLiwgcDWI2k4Hh9qD74oWqAsGmZODJEBUKeXQcP413E29gmibCoe6aAoGUxBMDlM/l+ZkI8Z8qCQ8X9IRDdQkEysN4ggr5AsKXrmJ4JAGTb+KVyz11CwSst6+Prl+L4P6De2hubsSpzk4oigLGQ+S/Q1V5nW2MGWMyN+7bw5g4A9lsFm63G37/YSiqCk3joWo8a1B56PwEy2tdlzUxrygql6po2r+X/QZc4Kt8vjU1QAAAAABJRU5ErkJggg==\"","<template>\n  <fieldset>\n    <legend>Filter By</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Of:</td>\n        <td>\n          <span v-if=\"child\">\n            <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${child.editorTypeName}.png`\" />\n            {{ child.name }}</span\n          >\n        </td>\n      </tr>\n      <tr>\n        <td>Child ID:</td>\n        <td><input type=\"text\" v-model=\"childId\" /> </td\n      ></tr>\n\n      <tr>\n        <td>Child:</td>\n        <td>\n          <UtilAutocomplete\n            v-model=\"childId\"\n            :placeholder=\"`Search Child...`\"\n            :options=\"availableTargets\"\n            valueField=\"id\"\n            filterField=\"name\"\n            :default=\"child\"\n            lazy\n          >\n            <template #option=\"opt\">\n              <div v-if=\"opt.option\" style=\"white-space: nowrap\">\n                <template v-if=\"opt.option.indent >= 1 && !opt.selected\">\n                  <span v-for=\"n of opt.option.indent\">&nbsp;&nbsp;&nbsp;</span>\n                </template>\n                <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${opt.option.editorTypeName}.png`\" />\n\n                {{ opt.option.name }}\n                <span class=\"gray\">{{ getNameExtra(opt.option, false) }}</span>\n                <span class=\"shared\" v-if=\"opt.option.shared\"> (shared) </span>\n                <span class=\"gray\" v-if=\"opt.option.rootId === rootId\"> (same ancestor)</span>\n                <span class=\"catalogueName\" v-if=\"showCatalogue(opt.option)\"> [{{ opt.option.catalogue }}]</span>\n              </div>\n            </template>\n          </UtilAutocomplete>\n        </td>\n      </tr>\n    </table>\n    <span v-if=\"!hideshared\">\n      <input :disabled=\"noshared && item.shared\" type=\"checkbox\" v-model=\"item.shared\" id=\"shared\" />\n      <label\n        :class=\"{ gray: noshared && item.shared }\"\n        class=\"hastooltip\"\n        :title=\"`Its recommended to keep shared checked on ${item.editorTypeName}s`\"\n        for=\"shared\"\n        >Shared?</label\n      >\n    </span>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSICondition } from \"~/assets/shared/battlescribe/bs_types\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nimport {\n  EditorSearchItem,\n  getSearchElements,\n  getSearchCategories,\n  getFilterSelections,\n  getSearchCatalogues,\n  scopeIsId,\n} from \"@/assets/ts/catalogue/catalogue_helpers\";\nimport { getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { filterByItems } from \"~/assets/shared/battlescribe/bs_editor\";\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSICondition & EditorBase>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n\n    hideshared: {\n      type: Boolean,\n      default: false,\n    },\n    noshared: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    getNameExtra,\n    showCatalogue(opt: EditorSearchItem): boolean {\n      if (!opt.catalogue) {\n        return false;\n      }\n      if (opt.catalogue === this.item.catalogue?.getName()) {\n        return false;\n      }\n      return true;\n    },\n    availableTargets() {\n      const result = [\n        ...filterByItems,\n        ...this.allCategories,\n        ...this.allEntries,\n        ...this.allForces,\n        ...this.allCatalogues,\n      ];\n      return result;\n    },\n  },\n\n  watch: {\n    \"item.scope\"() {\n      if (!this.child) {\n        this.item.childId = this.availableTargets()[0]?.id || undefined;\n      }\n    },\n  },\n\n  computed: {\n    childId: {\n      get() {\n        return this.item.childId;\n      },\n      set(id: string) {\n        const old = this.item.childId;\n        this.item.childId = id;\n        this.catalogue.updateCondition(this.item, old);\n      },\n    },\n    child() {\n      if (!this.item.childId) {\n        return null;\n      }\n\n      const base = this.availableTargets().find((elt) => elt.id === this.item.childId);\n      if (base) {\n        return base;\n      }\n      return this.catalogue.findOptionById(this.item.childId) as any as EditorSearchItem;\n    },\n\n    instanceOf() {\n      return [\"instanceOf\", \"notInstanceOf\"].includes(this.item?.type);\n    },\n\n    allEntries(): EditorSearchItem[] {\n      if (!this.includeSelections) {\n        return [];\n      }\n      return getFilterSelections(this.item, this.catalogue);\n    },\n    rootId() {\n      let item = this.item as any;\n      if (!item?.parent) return;\n      while (item?.parent && !item.parent.isCatalogue()) {\n        item = item.parent;\n      }\n      return item.id;\n    },\n    allCategories(): EditorSearchItem[] {\n      if (!this.includeCategories) {\n        return [];\n      }\n      return getSearchCategories(this.catalogue);\n    },\n\n    allForces(): EditorSearchItem[] {\n      if (!this.includeForces) {\n        return [];\n      }\n      return getSearchElements(this.catalogue, \"forceEntriesIterator\");\n    },\n\n    allCatalogues(): EditorSearchItem[] {\n      if (!this.includeCatalogues) {\n        return [];\n      }\n      return getSearchCatalogues(this.catalogue);\n    },\n\n    includeSelections() {\n      if (this.instanceOf && this.item.scope === \"primary-catalogue\") {\n        return false;\n      }\n      if (this.instanceOf && this.item.scope === \"primary-category\") {\n        return false;\n      }\n\n      return true;\n    },\n\n    includeCategories() {\n      if (this.instanceOf && this.item.scope === \"primary-catalogue\") {\n        return false;\n      }\n\n      if (this.item.field === \"forces\") {\n        return false;\n      }\n      return true;\n    },\n\n    includeForces() {\n      if (this.item.scope == \"self\") {\n        return false;\n      }\n      if (this.item.scope == \"parent\") {\n        return false;\n      }\n      if (this.item.scope == \"ancestor\") {\n        return true;\n      }\n      if (this.instanceOf && this.item.scope === \"primary-catalogue\") {\n        return false;\n      }\n      if (this.instanceOf && this.item.scope === \"primary-category\") {\n        return false;\n      }\n\n      if (scopeIsId(this.item)) {\n        return false;\n      }\n\n      return true;\n    },\n\n    includeCatalogues() {\n      return this.instanceOf && this.item.scope === \"primary-catalogue\";\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.catalogueName {\n  color: rgb(144, 152, 197);\n  font-style: italic;\n}\n\n.shared {\n  color: $gray;\n  font-style: italic;\n}\n</style>\n","<template>\n  <span @change=\"changed\">\n    <CatalogueRightPanelFieldsComment :item=\"item\" />\n    <CatalogueRightPanelFieldsConstraint :catalogue=\"catalogue\" :item=\"item\" class=\"section\" />\n    <CatalogueRightPanelFieldsQuery :catalogue=\"catalogue\" :item=\"item\" class=\"section\" childForces childSelections shared />\n    <FilterBy v-if=\"showFilterBy\" class=\"section\" :item=\"item\" :catalogue=\"catalogue\" />\n    <CatalogueRightPanelFieldsQuickModifiers :item=\"item\" :withCategory=\"false\" class=\"section\" />\n  </span>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { getModifierOrConditionParent } from \"~/assets/shared/battlescribe/bs_modifiers\";\nimport { Base, Condition, Constraint } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport FilterBy from \"./fields/FilterBy.vue\";\nimport QuickModifiers from \"./fields/QuickModifiers.vue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<Constraint & EditorBase>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  computed: {\n    showFilterBy() {\n      const key = getModifierOrConditionParent(this.item as EditorBase)?.parentKey;\n      return key === \"associations\";\n    },\n  },\n  methods: {\n    changed() {\n      this.catalogue.updateCondition(this.item as EditorBase & Condition);\n    },\n  },\n  components: { FilterBy, QuickModifiers },\n};\n</script>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" />\n  <fieldset>\n    <legend>Condition Group</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Type</td>\n        <td>\n          <select v-model=\"item.type\" @change=\"onChange\">\n            <option value=\"or\">Or</option>\n            <option value=\"and\">And</option>\n            <option value=\"not\">Not</option>\n            <option value=\"count\">Count</option>\n\n            <!-- Numeric operations -->\n            <option disabled>== Numeric ==</option>\n            <option value=\"add\">Add</option>\n            <option value=\"subtract\">Subtract</option>\n            <option value=\"multiply\">Multiply</option>\n            <option value=\"divide\">Divide</option>\n            <option value=\"modulo\">Modulo</option>\n            <option value=\"power\">Power</option>\n            <option value=\"min\">Min</option>\n            <option value=\"max\">Max</option>\n            <!-- Comparison operators -->\n            <option disabled>== Comparison ==</option>\n            <option value=\"greater\">Greater</option>\n            <option value=\"greaterOrEqual\">Greater or Equal</option>\n            <option value=\"less\">Less</option>\n            <option value=\"lessOrEqual\">Less or Equal</option>\n            <option value=\"equal\">Equal</option>\n            <option value=\"notEqual\">Not Equal</option>\n          </select>\n        </td>\n      </tr>\n      <template v-if=\"item.type === 'count'\">\n        <tr>\n          <td>Min</td>\n          <td>\n            <input type=\"number\" v-model=\"item.min\" />\n          </td>\n        </tr>\n        <tr>\n          <td>Max</td>\n          <td>\n            <input type=\"number\" v-model=\"item.max\" />\n          </td>\n        </tr>\n      </template>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIConditionGroup } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSIConditionGroup & EditorBase>,\n      required: true,\n    },\n  },\n  methods: {\n    onChange() {\n      if (this.item.type !== \"count\") {\n        delete this.item.min;\n        delete this.item.max;\n      }\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <ConditionGroup :item=\"item\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport ConditionGroup from \"./fields/ConditionGroup.vue\";\nimport { BSIConditionGroup } from \"~/assets/shared/battlescribe/bs_types\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSIConditionGroup & EditorBase>,\n      required: true,\n    },\n  },\n  components: { ConditionGroup },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Condition</legend>\n    <div class=\"condition\">\n      <select v-model=\"item.type\">\n        <template v-if=\"allowNonInstanceOf\">\n          <option value=\"lessThan\">Less Than</option>\n          <option value=\"greaterThan\">Greater Than</option>\n          <option value=\"equalTo\">Equal To</option>\n          <option value=\"notEqualTo\">Not Equal To</option>\n          <option value=\"atLeast\">At Least</option>\n          <option value=\"atMost\">At Most</option>\n          <option value=\"always\">Always</option>\n          <option value=\"never\">Never</option>\n        </template>\n        <template v-if=\"allowInstanceOf\">\n          <option value=\"instanceOf\">Instance Of</option>\n          <option value=\"notInstanceOf\">Not Instance Of</option>\n        </template>\n        <template v-if=\"allowPositional\">\n          <option value=\"before\">Is Before</option>\n        </template>\n      </select>\n      <UtilNumberInput :disabled=\"instanceOf\" v-model=\"item.value\" />\n      <div>\n        <input :disabled=\"instanceOf\" id=\"percent\" type=\"checkbox\" v-model=\"item.percentValue\" />\n        <label :class=\"{ disabled: instanceOf }\" for=\"percent\">Percentage?</label>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { findParentWhere } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { Base } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { getModifierOrConditionParent } from \"~/assets/shared/battlescribe/bs_modifiers\";\nimport { BSICondition } from \"~/assets/shared/battlescribe/bs_types\";\nimport NumberInput from \"~/components/util/NumberInput.vue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<EditorBase & BSICondition>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  computed: {\n    allowNonInstanceOf() {\n      if (this.parent?.editorTypeName === \"costType\") return false;\n      if (this.item.scope === \"ancestor\") return false;\n      return true;\n    },\n    allowInstanceOf() {\n      if ((this.item as Base as EditorBase).editorTypeName === \"localConditionGroup\") return false;\n      return true;\n    },\n    allowPositional() {\n      return Boolean(\n        findParentWhere(this.item as Base as EditorBase, (p) => p.editorTypeName === \"localConditionGroup\")\n      );\n    },\n    instanceOf() {\n      return this.item.type?.includes(\"instance\");\n    },\n    parent() {\n      return getModifierOrConditionParent(this.item as Base as EditorBase);\n    },\n  },\n  components: { NumberInput },\n  watch: {\n    \"item.scope\"() {\n      const allowed = [\"instanceOf\", \"notInstanceOf\"];\n      if (!this.allowNonInstanceOf && !allowed.includes(this.item.type)) {\n        this.item.type = allowed[0] as any;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.condition {\n  display: grid;\n  grid-template-columns: 1fr 100px max-content;\n  align-items: center;\n  grid-gap: 5px;\n}\n</style>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" />\n\n    <Condition class=\"section\" :item=\"item\" :catalogue=\"catalogue\" />\n\n    <CatalogueRightPanelFieldsQuery class=\"section\" :item=\"item\" :catalogue=\"catalogue\" childForces childSelections />\n\n    <FilterBy v-if=\"item.field?.startsWith('limit::') == false && item.editorTypeName !== 'localConditionGroup'\" noshared class=\"section\" :item=\"item\" :catalogue=\"catalogue\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport ConditionVue from \"./fields/Condition.vue\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport FilterBy from \"./fields/FilterBy.vue\";\nimport { Condition } from \"~/assets/shared/battlescribe/bs_main\";\nimport { BSICondition } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSICondition & EditorBase>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  components: { Condition: ConditionVue, FilterBy },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Repeat</legend>\n    <div class=\"condition\">\n      <UtilNumberInput v-model=\"item.repeats\" />\n      <label>times for every </label>\n      <UtilNumberInput v-model=\"item.value\" />\n    </div>\n    <div class=\"bools\">\n      <div>\n        <input id=\"percent\" type=\"checkbox\" v-model=\"item.percentValue\" />\n        <label for=\"percent\">Percentage?</label>\n      </div>\n      <div>\n        <input id=\"percent\" type=\"checkbox\" v-model=\"item.roundUp\" />\n        <label for=\"percent\">Round up?</label>\n      </div>\n    </div>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIRepeat } from \"~/assets/shared/battlescribe/bs_types\";\nimport NumberInput from \"~/components/util/NumberInput.vue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSIRepeat>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  components: { NumberInput },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.condition {\n  display: grid;\n  grid-template-columns: 1fr max-content 1fr max-content;\n  align-items: center;\n  grid-gap: 5px;\n}\n\n.bools {\n  display: flex;\n  div {\n    margin-right: 5px;\n  }\n}\n</style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" />\n  <CatalogueRightPanelFieldsRepeat :catalogue=\"catalogue\" :item=\"item\" />\n  <CatalogueRightPanelFieldsCondition class=\"section\" :item=\"item\" :catalogue=\"catalogue\" />\n  <CatalogueRightPanelFieldsQuery class=\"section\" :item=\"item\" :catalogue=\"catalogue\" childForces childSelections />\n  <CatalogueRightPanelFieldsQuickConditions :item=\"item\" :withCategory=\"false\" class=\"section\" />\n</template>\n\n<script lang=\"ts\">\nimport { Base, LocalConditionGroup } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { getModifierOrConditionParent } from \"~/assets/shared/battlescribe/bs_modifiers\";\nimport { BSILocalConditionGroup } from \"~/assets/shared/battlescribe/bs_types\";\nimport NumberInput from \"~/components/util/NumberInput.vue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<LocalConditionGroup>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  computed: {\n    allowNonInstanceOf() {\n      if (this.parent?.editorTypeName === \"costType\") return false;\n      if (this.item.scope === \"ancestor\") return false;\n      return true;\n    },\n    allowInstanceOf() {\n      return false;\n    },\n    instanceOf() {\n      return this.item.type?.includes(\"instance\");\n    },\n    parent() {\n      return getModifierOrConditionParent(this.item as Base as EditorBase);\n    },\n  },\n  components: { NumberInput },\n  watch: {\n    \"item.scope\"() {\n      const allowed = [\"instanceOf\", \"notInstanceOf\"];\n      if (!this.allowNonInstanceOf && !allowed.includes(this.item.type)) {\n        this.item.type = allowed[0] as BSILocalConditionGroup[\"type\"];\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.condition {\n  display: grid;\n  grid-template-columns: 1fr 100px max-content;\n  align-items: center;\n  grid-gap: 5px;\n}\n</style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" />\n  <CatalogueRightPanelFieldsQuickConditions :item=\"item\" :withCategory=\"false\" class=\"section\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Base } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<Base>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" />\n    <CatalogueRightPanelFieldsBasics :item=\"item\" class=\"section\" />\n    <CatalogueRightPanelFieldsReference :catalogue=\"catalogue\" :item=\"item\" class=\"section\" />\n    <CatalogueRightPanelFieldsHidden :item=\"item\" class=\"section\">\n      Constraints\n    </CatalogueRightPanelFieldsHidden>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIInfoGroup } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSIInfoGroup>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Selection Entry Group</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Default Selection:</td>\n        <td>\n          <UtilAutocomplete\n            v-if=\"children.length\"\n            v-model=\"item.defaultSelectionEntryId\"\n            :placeholder=\"`Search Children...`\"\n            :options=\"children\"\n            valueField=\"id\"\n            filterField=\"name\"\n          >\n            <template #option=\"opt\">\n              <div style=\"white-space: nowrap\">\n                <template v-if=\"opt.option.indent >= 2 && !opt.selected\"\n                  ><span v-for=\"n of opt.option.indent - 1\">&nbsp;&nbsp;&nbsp;</span></template\n                >\n                <img class=\"mr-1 align-middle\" :src=\"`assets/bsicons/${opt.option.editorTypeName}.png`\" />\n                {{ opt.option.name }}\n                <span class=\"gray\">{{ getNameExtra(opt.option, false) }}</span>\n              </div>\n            </template>\n          </UtilAutocomplete>\n\n          <span v-else class=\"merror\">This group does not have any child Selection Entries</span>\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { getNameExtra } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Group } from \"~/assets/shared/battlescribe/bs_main\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<Group>,\n      required: true,\n    },\n  },\n\n  methods: {\n    getNameExtra,\n  },\n\n  computed: {\n    children() {\n      type entry = { name: string; id: undefined | string; editorTypeName: string };\n      const res = [\n        {\n          name: \"Unset\",\n          id: undefined,\n          editorTypeName: \"bullet\",\n        },\n        {\n          name: \"None\",\n          id: \"none\",\n          editorTypeName: \"bullet\",\n        },\n      ] as entry[];\n\n      for (const entry of this.item.entriesIterator()) {\n        if (!entry.isGroup()) {\n          res.push(entry as any);\n        }\n      }\n      return res;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.merror {\n  color: $red;\n  font-style: italic;\n}\n</style>\n","<template>\n  <CatalogueRightPanelFieldsComment :item=\"item\" />\n  <CatalogueRightPanelFieldsBasics :item=\"item\" class=\"section\" />\n  <CatalogueRightPanelFieldsReference :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n  <CatalogueRightPanelFieldsDefaultSelection :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsBooleans :item=\"item\" :fields=\"[\n    { field: 'hidden', enabled: true, name: 'Hidden' },\n    { field: 'collective', enabled: false, name: 'Collective' },\n    { field: 'import', enabled: true, name: 'Import' },\n  ]\" class=\"section\">\n    Entry\n  </CatalogueRightPanelFieldsBooleans>\n\n  <CatalogueRightPanelFieldsCategories :item=\"item\" :catalogue=\"catalogue\" class=\"section\" />\n\n  <CatalogueRightPanelFieldsQuickConstraints :item=\"item\" :withCategory=\"false\" class=\"section\">\n  </CatalogueRightPanelFieldsQuickConstraints>\n  <CatalogueRightPanelFieldsSortChilds :item=\"item\" :catalogue=\"catalogue\" />\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { Base, Group, Link } from \"~/assets/shared/battlescribe/bs_main\";\nimport { Catalogue, EditorBase, Publication } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<ItemTypes & EditorBase & (Base | Link<Group>)>,\n      required: true,\n    },\n\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Revision</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Revision Number:</td>\n        <td><input type=\"number\" v-model=\"item.revision\" /></td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Catalogue</legend>\n    <input type=\"checkbox\" v-model=\"item.library\" id=\"library\" />\n    <label\n      class=\"hastooltip\"\n      for=\"library\"\n      title=\"indicates that this catalogue is used to store data, no forces may be created from it if true.\"\n      >Library</label\n    >\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <fieldset>\n    <legend>Information</legend>\n    <table class=\"editorTable\">\n      <tr>\n        <td>Author Name:</td>\n        <td><input type=\"text\" v-model=\"item.authorName\" /></td>\n      </tr>\n      <tr>\n        <td>Author Contact:</td>\n        <td>\n          <UtilEditableDiv v-model=\"item.authorContact\" />\n        </td>\n      </tr>\n      <tr>\n        <td>Author Website:</td>\n        <td><input type=\"text\" v-model=\"item.authorUrl\" /></td>\n      </tr>\n      <tr>\n        <td>Readme:</td>\n        <td>\n          <UtilEditableDiv type=\"text\" v-model=\"item.readme\" />\n        </td>\n      </tr>\n    </table>\n  </fieldset>\n</template>\n\n<script lang=\"ts\">\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" />\n    <CatalogueRightPanelFieldsBasics :item=\"item\" class=\"section\" />\n    <CatalogueRightPanelFieldsReference :catalogue=\"catalogue\" :item=\"item\" class=\"section\" />\n    <CatalogueRightPanelFieldsHidden :item=\"item\" class=\"section\">\n      Constraints\n    </CatalogueRightPanelFieldsHidden>\n    <CatalogueRightPanelFieldsRevision :item=\"item\" class=\"section\" />\n    <CatalogueRightPanelFieldsCatalogue :item=\"item\" class=\"section\" />\n    <CatalogueRightPanelFieldsInformation :item=\"item\" class=\"section\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <CatalogueRightPanelFieldsComment :item=\"item\" />\n    <CatalogueRightPanelFieldsRepeat :catalogue=\"catalogue\" :item=\"item\" />\n    <CatalogueRightPanelFieldsQuery class=\"section\" :item=\"item\" :catalogue=\"catalogue\" childForces childSelections />\n    <CatalogueRightPanelFieldsFilterBy class=\"section\" :item=\"item\" :catalogue=\"catalogue\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { BSIRepeat } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<BSIRepeat>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <p class=\"info\">\n      Associations are a New Recruit specific feature allowing you to associate an entry to another, such as a unit to a\n      bataillon.\n      <br />\n      Feel free to offer feedback or ask questions on our <a href=\"https://discord.gg/cCtqGbugwb\">Discord server</a>.\n    </p>\n\n    <CatalogueRightPanelFieldsComment :item=\"item\" />\n    <CatalogueRightPanelFieldsBasics :item=\"item\" class=\"section\" />\n    <CatalogueRightPanelFieldsQuery :catalogue=\"catalogue\" childSelctions :item=\"item\" class=\"section\" childSelections childForces />\n    <FilterBy class=\"section\" :item=\"item\" :catalogue=\"catalogue\" hideshared />\n    <fieldset class=\"section\">\n      <legend>Constraints</legend>\n      <table class=\"editorTable\">\n        <tr>\n          <td>Min</td>\n          <td><input @input=\"changed\" v-model=\"item.min\" type=\"number\" /></td>\n        </tr>\n        <tr>\n          <td>Max</td>\n          <td><input @input=\"changed\" v-model=\"item.max\" type=\"number\" /></td>\n        </tr>\n      </table>\n    </fieldset>\n    <!-- <fieldset class=\"section\">\n      <legend>Association</legend>\n      <table class=\"editorTable\">\n        <tr>\n          <td class=\"underline\"\n            title=\"split by `,`; used by associationConstraints on entries, eg: to have a maximum number of commanders in a bataillion\">\n            ids:\n          </td>\n          <td><input v-model=\"item.ids\" @input=\"changed\" type=\"text\" /></td>\n        </tr>\n      </table>\n    </fieldset> -->\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport FilterBy from \"./fields/FilterBy.vue\";\nimport { NRAssociation } from \"~/assets/shared/battlescribe/bs_types\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<NRAssociation & EditorBase>,\n      required: true,\n    },\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  computed: {\n    ids: {\n      get(): string {\n        return this.item.ids?.join(\", \") || \"\";\n      },\n      set(v: string) {\n        this.item.ids = v.split(\",\").map((o) => o.trim());\n      },\n    },\n  },\n  components: { FilterBy },\n};\n</script>\n","<template>\n  <div class=\"mb-50px\">\n    <h2 class=\"text-center\"><span class=\"gray\">References to</span> {{ label }} <span class=\"gray\">({{ item.editorTypeName\n    }})</span> </h2>\n    <div v-if=\"links.length\" class=\"mr-60px\">\n      <!-- <table class=\"mb-20px\">\n        <tr>\n          <th> Catalogue </th>\n          <th> Name </th>\n        </tr>\n        <tr v-for=\"link of links\">\n          <td class=\"gray\">\n            {{ link.isCatalogue() ? link.getName() : link.catalogue?.getName() }}\n          </td>\n          <td>\n            <template v-if=\"show_link_name\">\n              {{ link.getName() }}\n            </template>\n            <template v-else>\n              {{ link.parent?.getName() }}\n            </template>\n          </td>\n          <td>\n            <button @click=\"store.goto(gotoTarget(link))\">Goto</button>\n          </td>\n        </tr>\n      </table> -->\n      <div>\n        <div v-for=\"link of links\">\n          <NodePath :path=\"path(link)\" @click=\"store.goto(link)\" class=\"hover-darken cursor-pointer p-1px\" />\n        </div>\n      </div>\n    </div>\n    <div v-if=\"other_links.length\" class=\"mr-60px\">\n      <h3> From conditions/constraints/modifiers/repeats: </h3>\n      <div>\n        <div v-for=\"link of other_links\">\n          <NodePath :path=\"other_path(link)\" @click=\"store.goto(link)\" class=\"hover-darken cursor-pointer p-1px mb-3px\" />\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- <button class=\"bouton\"> Load from all catalogues </button> -->\n</template>\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { findParentWhere, sortByAscending } from \"~/assets/shared/battlescribe/bs_helpers\";\nimport { getEntryPathInfo, getName } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { ProfileType } from \"~/assets/shared/battlescribe/bs_main\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport NodePath from \"~/components/util/NodePath.vue\";\n\nexport default {\n  props: {\n    item: {\n      type: Object as PropType<EditorBase>,\n      required: true,\n    },\n  },\n  setup() {\n    return { store: useEditorStore() };\n  },\n  methods: {\n    gotoTarget(link: EditorBase) {\n      if (link.isCategory()) {\n        return link.parent!;\n      }\n      return link;\n    },\n    parentEntry(link: EditorBase) {\n      return findParentWhere(link, (o) => o.getName());\n    },\n    path(link: EditorBase) {\n      const path = getEntryPathInfo(link);\n\n      if (this.item.editorTypeName !== \"profileType\") {\n        path.pop();\n      }\n      return path;\n    },\n    other_path(link: EditorBase) {\n      return getEntryPathInfo(link);\n    },\n  },\n  computed: {\n    show_link_name() {\n      if (this.item instanceof ProfileType) return true;\n      return false;\n    },\n    links() {\n      return sortByAscending(this.item?.refs || [], (o) => o.catalogue?.name);\n    },\n    other_links() {\n      return sortByAscending(this.item?.other_refs || [], (o) => o.catalogue?.name);\n    },\n    label() {\n      return getName(this.item);\n    },\n  },\n  components: { NodePath },\n};\n</script>\n<style scope>\ntd {\n  padding: 1px 4px 1px 4px !important;\n  text-align: left !important;\n}\n</style>\n","<template>\n  <div class=\"rightPanel\" v-if=\"item\" :key=\"key\" @change=\"store.changed(item)\" @changed=\"store.changed(item)\">\n    <NodePath :path=\"path(item)\" class=\"inline p-1px pl-2px\" @nodeclick=\"clicked\" />\n    <template v-if=\"store.mode === 'edit'\">\n      <CatalogueRightPanelPublicationPanel v-if=\"typeName == 'publication'\" :item=\"item\" />\n\n      <CatalogueRightPanelCostTypesPanel v-else-if=\"typeName == 'costType'\" :item=\"item\">\n      </CatalogueRightPanelCostTypesPanel>\n\n      <CatalogueRightPanelProfileTypesPanel v-else-if=\"typeName == 'profileType'\" :item=\"item\" />\n      <CatalogueRightPanelCharacteristicTypePanel v-else-if=\"typeName == 'characteristicType' || typeName === 'attributeType'\" :item=\"item\" />\n      <CatalogueRightPanelCategoryEntriesPanel v-else-if=\"typeName == 'categoryEntry'\" :item=\"item\" :catalogue=\"catalogue\" />\n      <CatalogueRightPanelForceEntriesPanel v-else-if=\"typeName == 'forceEntry'\" :item=\"item\" :catalogue=\"catalogue\" />\n      <CatalogueRightPanelProfilesPanel v-else-if=\"typeName == 'profile'\" :item=\"item\" :catalogue=\"catalogue\" />\n      <CatalogueRightPanelRulesPanel v-else-if=\"typeName == 'rule'\" :item=\"item\" :catalogue=\"catalogue\" />\n      <CatalogueRightPanelSelectionEntryPanel v-else-if=\"typeName == 'selectionEntry'\" :item=\"item\" :catalogue=\"catalogue\" />\n      <CatalogueRightPanelLinkPanel v-else-if=\"typeName == 'forceEntryLink'\" :item=\"item\" :catalogue=\"catalogue\" :type=\"'force'\" />\n      <CatalogueRightPanelLinkPanel v-else-if=\"links.includes(typeName)\" :item=\"item\" :catalogue=\"catalogue\" :type=\"'entry'\" />\n      <CatalogueRightPanelLinkPanel v-else-if=\"infoLinks.includes(typeName)\" :item=\"item\" :catalogue=\"catalogue\" :type=\"'info'\" />\n      <CatalogueRightPanelModifierPanel v-else-if=\"typeName == 'modifier'\" :item=\"item\" :catalogue=\"catalogue\" />\n      <CatalogueRightPanelConstraintPanel v-else-if=\"typeName == 'constraint'\" :item=\"item\" :catalogue=\"catalogue\" />\n      <CatalogueRightPanelConditionGroupPanel v-else-if=\"typeName == 'conditionGroup'\" :item=\"item\" :catalogue=\"catalogue\" />\n      <CatalogueRightPanelConditionPanel v-else-if=\"typeName == 'condition'\" :item=\"item\" :catalogue=\"catalogue\" />\n      <CatalogueRightPanelLocalConditionGroupPanel v-else-if=\"typeName === 'localConditionGroup'\" :item=\"item\" :catalogue=\"catalogue\" />\n      <CatalogueRightPanelLinkPanel v-else-if=\"typeName == 'categoryLink'\" :item=\"item\" :catalogue=\"catalogue\" type=\"category\" />\n      <CatalogueRightPanelModifierGroupPanel v-else-if=\"typeName == 'modifierGroup'\" :item=\"item\" :catalogue=\"catalogue\" />\n      <CatalogueRightPanelInfoGroupPanel v-else-if=\"typeName == 'infoGroup'\" :item=\"item\" :catalogue=\"catalogue\" />\n      <CatalogueRightPanelSelectionEntryGroupPanel v-else-if=\"typeName == 'selectionEntryGroup'\" :item=\"item\" :catalogue=\"catalogue\" />\n      <CatalogueRightPanelLinkPanel v-else-if=\"typeName == 'catalogueLink'\" :item=\"item\" :catalogue=\"catalogue\" type=\"catalogue\" />\n      <CatalogueRightPanelCataloguePanel v-else-if=\"typeName == 'catalogue' || typeName == 'gameSystem'\" :item=\"item\" :catalogue=\"catalogue\" type=\"catalogue\" />\n      <CatalogueRightPanelRepeatPanel v-else-if=\"typeName == 'repeat'\" :item=\"item\" :catalogue=\"catalogue\" type=\"catalogue\" />\n      <CatalogueRightPanelAssociationPanel v-else-if=\"typeName == 'association'\" :item=\"item\" :catalogue=\"catalogue\" type=\"catalogue\" />\n\n      <div class=\"min-h-100px\"> </div>\n    </template>\n    <template v-else-if=\"store.mode === 'references'\">\n      <CatalogueRightPanelReferencesPanel :item=\"item\" :catalogue=\"catalogue\" />\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from \"vue\";\nimport { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport NodePath from \"~/components/util/NodePath.vue\";\nimport { EntryPathEntryExtended, getAtEntryPath, getEntryPathInfo } from \"~/assets/shared/battlescribe/bs_editor\";\nexport default {\n  components: { NodePath },\n  setup() {\n    return { store: useEditorStore() };\n  },\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      links: [\"link\", \"entryLink\", \"selectionEntryLink\", \"selectionEntryGroupLink\", \"forceEntryLink\"],\n      infoLinks: [\"infoLink\", \"profileLink\", \"ruleLink\", \"infoGroupLink\"],\n      key: 0,\n    };\n  },\n\n  methods: {\n    clicked(payload: { path: EntryPathEntryExtended[] }) {\n      if (!payload.path.length) return;\n      const catalogueId = payload.path[0].id;\n      if (!catalogueId) return;\n      const catalogue = this.catalogue.findOptionById(catalogueId) as Catalogue | undefined;\n      if (!catalogue) {\n        notify({ text: `Couldn't find catalogue with id ${catalogueId}`, type: \"error\" });\n        return;\n      }\n      const node = getAtEntryPath(catalogue, payload.path.slice(1));\n      this.store.goto(node);\n    },\n    path(link: EditorBase) {\n      const path = getEntryPathInfo(link);\n      return path;\n    },\n    changed() {\n      this.store.changed(this.item || this.catalogue);\n    },\n  },\n\n  computed: {\n    item() {\n      return this.store.get_selected();\n    },\n\n    typeName() {\n      return this.item?.editorTypeName as any as string;\n    },\n  },\n  watch: {\n    item() {\n      this.key++;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.editorTable {\n  width: 100%;\n\n  td {\n    border: none;\n    text-align: left;\n\n    &:first-child {\n      white-space: nowrap;\n      width: fit-content;\n      text-align: right;\n    }\n\n    &:last-child {\n      width: 100%;\n    }\n  }\n\n  select,\n  input[type=\"text\"] {\n    width: 100% !important;\n  }\n}\n\n.rightPanel {\n  padding-top: 10px;\n  padding-right: 10px;\n  padding-left: 5px;\n}\n</style>\n","<template>\n  <hr style=\"width: 100%; height: 0px; text-align: left; margin: 0; padding: 0\" />\n</template>\n<style lang=\"scss\" scoped>\n@import \"@/shared_components/css/vars.scss\";\nhr {\n  border-top: 1px;\n  border-color: $box_border;\n}\n</style>\n","<template>\n  <div\n    :class=\"{ box, nobox, nocollapse, collapsed, opened }\"\n    class=\"collapsible-box\"\n    @contextmenu=\"do_rightcllick_select\"\n  >\n    <h3\n      ref=\"title\"\n      v-if=\"!notitle\"\n      class=\"title\"\n      :class=\"{\n        selected,\n        arrowTitle: collapsible,\n        normalTitle: !collapsible,\n        collapsed: collapsible && collapsed,\n        alt: alt && altclickable,\n      }\"\n      @click.stop=\"do_select\"\n      @click.ctrl.stop=\"$emit('ctrlclick')\"\n      @click.alt.stop=\"$emit('altclick')\"\n      @dblclick=\"collapseSwitch($event.shiftKey)\"\n      @paste=\"paste\"\n      @copy=\"paste\"\n      @cut=\"paste\"\n      :style=\"{\n        'padding-left': indent,\n        'z-index': `${100 - depth}`,\n        ...(settings.stickyScroll ? { top: `${depth * 20}px`, left: `0px`, position: 'sticky' } : {}),\n      }\"\n    >\n      <span class=\"title-before\" :style=\"{ width: indent }\" v-if=\"depth > 0\" />\n      <div class=\"arrow-wrap\" @click.stop=\"collapseSwitch($event.shiftKey)\">\n        <img :class=\"{ hide }\" :src=\"dropdownSrc\" class=\"arrow icon\" />\n      </div>\n\n      <slot name=\"title\" />\n    </h3>\n    <div v-if=\"initiated\" v-show=\"!collapsed || !collapsible\" class=\"content\">\n      <slot name=\"content\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { get_ctx, get_base_from_vue_el, useEditorStore } from \"~/stores/editorStore\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\n\nexport default {\n  name: \"EditorCollapsibleBox\",\n  props: {\n    payload: {},\n\n    collapsible: {\n      type: Boolean,\n      default: true,\n    },\n\n    nobox: {\n      type: Boolean,\n      default: false,\n    },\n    defcollapsed: {\n      type: Boolean,\n      default: true,\n    },\n\n    notitle: {\n      type: Boolean,\n      default: false,\n    },\n\n    title: {\n      type: String,\n      required: false,\n      default: \"titreCategory\",\n    },\n\n    titleCollapse: {\n      type: Boolean,\n      default: true,\n    },\n    modelValue: {\n      default: true,\n    },\n    altclickable: {\n      default: false,\n    },\n    vshow: {\n      default: false,\n      type: Boolean,\n    },\n    depth: {\n      default: 0,\n      type: Number,\n    },\n  },\n\n  data() {\n    return {\n      collapsed: true,\n      initiated: this.vshow,\n      selected: false,\n      alt: false,\n      sticky: false,\n    };\n  },\n\n  created() {\n    if (this.defcollapsed == false) {\n      this.collapseSwitch();\n    }\n  },\n  setup() {\n    return { store: useEditorStore(), settings: useSettingsStore() };\n  },\n  mounted() {\n    addEventListener(\"keydown\", this.handleKeyDown);\n    addEventListener(\"keyup\", this.handleKeyUp);\n    this.$el.vnode = this;\n    this.init(this.payload);\n  },\n\n  updated() {\n    this.$el.vnode = this;\n  },\n  unmounted() {\n    // console.log(\"unmounted\", this.depth);\n    removeEventListener(\"keydown\", this.handleKeyDown);\n    removeEventListener(\"keyup\", this.handleKeyUp);\n  },\n  watch: {\n    payload(data) {\n      this.init(data);\n    },\n    collapsed(newVal) {\n      if (newVal !== this.modelValue) {\n        this.$emit(\"update:modelValue\", newVal);\n      }\n    },\n    modelValue(modelValue) {\n      if (modelValue != this.collapsed) {\n        this.collapsed = modelValue;\n      }\n    },\n  },\n  computed: {\n    dropdownSrc() {\n      let n = 2;\n      let images = [`assets/icons/right${n}.png`, `assets/icons/down${n}.png`];\n      let index = this.collapsed ? 0 : 1;\n      return images[index];\n    },\n    hide() {\n      return !this.collapsible;\n    },\n    nocollapse() {\n      return !this.collapsible;\n    },\n    box() {\n      return !this.nobox;\n    },\n    opened() {\n      return this.collapsible && !this.collapsed;\n    },\n    indent() {\n      return `${this.depth * 20}px`;\n    },\n  },\n\n  methods: {\n    cut() {\n      console.log(\"cut\");\n    },\n    copy() {\n      console.log(\"copy\");\n    },\n    paste() {\n      console.log(\"paste\");\n    },\n    init(data: any) {\n      if (data?.select !== undefined) {\n        if (data.select) {\n          const parentBox = this.$parent?.$parent as { open?: () => unknown };\n          parentBox.open && parentBox.open();\n          this.store.do_select(null, this as any);\n          this.store.scrollto(get_base_from_vue_el(this));\n        }\n        delete data?.select;\n      }\n    },\n    select() {\n      this.selected = true;\n      this.store.select(this, () => this.unselect(), this.payload);\n    },\n    unselect() {\n      this.selected = false;\n    },\n    open() {\n      this.initiated = true;\n\n      if (this.collapsed) {\n        this.collapsed = false;\n        this.$emit(\"open\");\n      }\n    },\n    async open_recursive() {\n      this.open();\n      await this.$nextTick();\n      const el = this.$el as HTMLDivElement;\n      if (el) {\n        for (const nested of el.getElementsByClassName(\"collapsible-box\")) {\n          await get_ctx(nested)?.open_recursive();\n        }\n      }\n    },\n    close() {\n      this.initiated = true;\n\n      if (!this.collapsed) {\n        this.collapsed = true;\n        this.$emit(\"close\");\n      }\n    },\n    async close_recursive() {\n      const el = this.$el as HTMLDivElement;\n      if (el) {\n        for (const nested of el.getElementsByClassName(\"collapsible-box\")) {\n          get_ctx(nested)?.close_recursive();\n        }\n      }\n      await this.$nextTick();\n      this.close();\n    },\n    do_select(e: MouseEvent) {\n      this.store.do_select(e, this as any);\n      this.$el.focus();\n    },\n    do_rightcllick_select(e: MouseEvent) {\n      this.store.do_rightclick_select(e, this as any);\n    },\n    async collapseSwitch(deep?: boolean) {\n      this.collapsed = !this.collapsed;\n      this.initiated = true;\n      if (this.collapsed == false) {\n        deep ? await this.open_recursive() : this.open();\n      } else {\n        deep ? await this.close_recursive() : this.close();\n      }\n    },\n    handleKeyDown(event: KeyboardEvent) {\n      if (event.key === \"Alt\") {\n        this.alt = true;\n        event.preventDefault();\n      }\n    },\n    handleKeyUp(event: KeyboardEvent) {\n      if (event.key === \"Alt\") {\n        this.alt = false;\n        event.preventDefault();\n      }\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.arrowTitle {\n  cursor: pointer;\n  position: relative;\n\n  img.arrow {\n    margin-left: 4px;\n    margin-right: 4px;\n  }\n}\n\n.title {\n  white-space: nowrap;\n  min-height: 23px;\n  vertical-align: middle;\n  display: flex;\n  align-items: center;\n  position: relative;\n  background-color: rgb(var(--bg-r), var(--bg-g), var(--bg-b));\n}\n.title-before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: 11px;\n  bottom: 0;\n  background-image: linear-gradient(to left, transparent 95%, #88888888 5%);\n  background-size: 20px;\n}\nh3 {\n  font-size: 16px;\n  font-weight: normal;\n}\n\n.arrow {\n  height: 12px;\n}\n\n.arrow-wrap {\n  vertical-align: middle;\n\n  display: inline-block;\n  min-height: 1px;\n  min-width: 22px;\n  margin-left: 2px;\n}\n\n// indent\n\n.selected::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: -9999px;\n  /* extend far to the left */\n  right: 0;\n  bottom: 0;\n  background: rgba(125, 125, 125, 0.3);\n  z-index: -1;\n}\n\n.title:hover::before {\n  background-color: var(--hover-darken-color, rgba(0, 0, 0, 0.15));\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: -9999px;\n  right: 0;\n  bottom: 0;\n  z-index: -1;\n}\n\n.hide {\n  display: none;\n}\n\n.alt:hover {\n  text-decoration: underline;\n  cursor: pointer;\n}\n</style>\n","<template>\n  <div class=\"item unselectable\" @click.middle.stop=\"debug\" @contextmenu.stop=\"contextmenu.show\">\n    <EditorCollapsibleBox\n      nobox\n      :group=\"[]\"\n      :depth=\"depth\"\n      :collapsible=\"true\"\n      :class=\"[`depth-${depth}`, `label-${label}`]\"\n      vshow\n    >\n      <template #title\n        ><img src=\"/assets/bsicons/profileType.png\" />\n        <span class=\"gray\"> {{ label }}</span>\n      </template>\n      <template #content>\n        <slot />\n      </template>\n    </EditorCollapsibleBox>\n    <ContextMenu v-if=\"contextmenuopen\" v-model=\"contextmenuopen\" ref=\"contextmenu\">\n      <template #default=\"{ payload }\">\n        <template v-if=\"typeItem\">\n          <div v-if=\"typeItem\" @click=\"store.goto(typeItem)\"> Goto ({{ typeItem.getName() }} </div>\n          <Separator />\n          <div\n            @click=\"\n              store.create_child('sharedProfiles', catalogue as EditorBase, {\n                typeName: typeItem?.getName(),\n                typeId: typeItem?.getId(),\n              })\n            \"\n          >\n            <img class=\"pr-4px\" src=\"assets/bsicons/profile.png\" />\n            Profile <span class=\"gray\">&nbsp;({{ typeItem?.getName() }})</span>\n          </div>\n        </template>\n        <template v-else>\n          <div> Nothing </div>\n        </template>\n      </template>\n    </ContextMenu>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport ContextMenu from \"~/components/dialog/ContextMenu.vue\";\nimport EditorCollapsibleBox from \"~/components/catalogue/left_panel/components/EditorCollapsibleBox.vue\";\nimport { useEditorUIState } from \"~/stores/editorUIState\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\nimport { EntryPathEntry } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\n\nexport default {\n  name: \"CatalogueEntry\",\n  components: {\n    ContextMenu,\n    EditorCollapsibleBox,\n  },\n  setup() {\n    return { store: useEditorStore(), state: useEditorUIState(), settings: useSettingsStore() };\n  },\n  props: {\n    depth: {\n      type: Number,\n      default: 0,\n    },\n    label: {\n      type: String,\n      required: true,\n    },\n    catalogue: {\n      type: Object,\n      required: true,\n    },\n    path: {\n      type: Array,\n    },\n    typeItem: {\n      type: Object as PropType<EditorBase>,\n    },\n  },\n  data() {\n    return {\n      groups: {} as Record<string, any>,\n      contextmenuopen: false,\n      open: false,\n      open_categories: undefined as Set<string> | undefined,\n      name: \"\",\n    };\n  },\n  mounted() {\n    if (this.catalogue) {\n      this.catalogue.processForEditor();\n    }\n  },\n  methods: {\n    menu(ref: string) {\n      return {\n        show: (event: MouseEvent, e: any) => {\n          this.contextmenuopen = true;\n          this.$nextTick(() => {\n            (this.$refs[ref] as any)?.show(event, e);\n          });\n        },\n        close: (event: MouseEvent, e: any) => {\n          (this.$refs[ref] as any)?.close(event, e);\n          this.contextmenuopen = false;\n        },\n      };\n    },\n    should_be_open() {\n      const fullPath = [\n        ...(this.path || []),\n        {\n          key: `label-${this.label}`,\n          index: 0,\n        },\n      ] as EntryPathEntry[];\n      this.open = this.state.get(this.catalogue.id, fullPath);\n    },\n    debug() {\n      console.log(this.typeItem?.name, this.typeItem?.editorTypeName, toRaw(this.typeItem));\n      (globalThis as any).$debugOption = this.typeItem;\n      (globalThis as any).$debugElement = this;\n    },\n  },\n\n  computed: {\n    contextmenu() {\n      return this.menu(\"contextmenu\");\n    },\n    nestedcontextmenu() {\n      return this.menu(\"nestedcontextmenu\");\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.imported {\n  color: rgb(128, 145, 183);\n  // font-style: italic;\n}\n\n.filtered {\n  background-color: rgba(10, 80, 255, 0.15);\n}\n\n.typeIcon {\n  max-width: 18px;\n}\n\n.typeIcon-wrapper {\n  display: inline-block;\n  min-width: 20px;\n  min-height: 1px;\n}\n\n.head {\n  margin-left: -20px;\n}\n\n.text-orange {\n  color: rgb(153 31 31);\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkTlIA0EYhT8TRRFFJClELLZQGw2IilhqFESIEKKCV+HuxsRAdg27ERtLwVaw8Gi8ChtrbS1sBUHwALG1sVK0kbD+sxEShAgODPPxZt5j5g0EDrOm5Vb3gGXnncRYVJuZndNqX6ihnma6COmmmxuOx2NUHJ93VKn1NqKy+N9oTC65JlRpwkNmzskLLwoPrOVzineFw+aynhQ+E+525ILCD0o3ivyqOO1zQGWGnanEiHBYWEuXsVHG5rJjCfcLtyctW/IDM0VOKl5XbGVXzZ97qhc2LNnTk0qX2cYY40wQR8NglQxZ8kRktUVxSch+tIK/1ffHxWWIK4MpjlFWsNB9P+oPfnfrpvp6i0kNUah59rz3DqjdhsKW530deV7hGIJPcGmX/CuHMPgh+lZJaz+Apg04vyppxg5cbELLY053dF8KygykUvB2Kt80C6EbqJ8v9vazz8k9TElXsWvY24fOtGQvVHh3XXlvf57x+yP6DVyYcp4hKAl2AAAA5FBMVEVVWVszNTY1NzdKSktaWlpJTE5HSEhTU1NVVVVUVFRSUlIpKitRUVFNTU1PT08kJSY9PT1HR0fu7u7ExMRGRkZNUFI8PD1JSUlzc3N0dHSurq7q6uptbW02OTpMTEygoKDS0tJcXFw0NDV5eXnf399wcHAzMzQcHh5WVlbc3Ny3t7caGxxHS0wdHh/n5+fFxcUjJCUsLS1KSkrDw8OxsbE7OztBQUFQUFBDQ0M8PDzH0NMKCgpeXl5dXV1ZWVlCQkKnrrJSVlcBAQEICAkSExMcHR0bHBwREhLL1Nizu7+vt7oAAABxoPDUAAAATHRSTlP///////////////////////////////////////////////////////////////////////////////////////////////////8Ano3kzAAAAAlwSFlzAAAuIgAALiIBquLdkgAAALlJREFUKFNNyGkXgUAAheGhiJqpRLLvlCXGUJItspT+//9xmuS4H+55zwMiOpDJpEU/y7Ask6VJIZfnCkU+n/uBAJEoIiikIMklRVHKFVn6glrVavVGs1VVvxC1OxB2e/123BSiARyOxhOaCejGdFbQaSYwNzrImNOMYWFyaLlCvLlIAK8JQZst0sgax4AtyyY7xxE1e2/hCLgH2yEcezydeeJcDi7wrjf//pAEAT9f/u3qgSB8/y0MPiLnM6aRQB6+AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkUsoRFEcxn8ziBhJZiFZ3AVKUUKyZCgpahqjxmPh3jtmqLl3pntHNpbKVll4bLwWNtZsLWyVUh4lWxsrYiNd/3NHzaRGOXU6v75zvq9zvgPBg4xpuZU9YNl5JzYW0RIzs1r1M1XU0Ugtnbrp5oaj0QnKjo9bAmq96VZZ/G/UJxddEwKa8JCZc/LCC8IDq/mc4h3hsLmkJ4VPhbscuaDwvdKNAr8oTvscVJlhJx4bEQ4La+kSNkrYXHIs4X7htqRlS34wUeCk4jXFVmbF/LmnemFo0Z6eUrrMVsYYZ5IoGgYrLJMhT7estiguMdmPlPG3+P6ouAxxLWOKY5QsFrrvR/3B727dVF9vISkUgaonz3trh+ot+Nr0vM9Dz/s6gopHuLCL/uwBDL6LvlnU2vahYR3OLouasQ3nG9D8kNMd3ZcqZAZTKXg9kW+agaZrqJ0r9Pazz/EdxKWriSvY3YOOtGTPl3l3TWlvf57x+yPyDUN6cpTX8RfMAAAAmVBMVEVAQUE9PT1YWFg9Pj5VVVVUVFQrKytZWVkpKSpERERRUVFQUFBDQ0NYWVo+Pz9TU1NSUlI4OTlXV1cgISFdXV04ODk4ODhRUlMhIiInJycuLi5KSkpJSUkoKCk7OztBQUE8PDzj5ugLCwtaWlpeXl5CQkK/wcNdX18BAQEJCQkUFRUfICAuLy8fHx8TFBTn6uzNz9HIyswAAABWGAQaAAAAM3RSTlP//////////////////////////////////////////////////////////////////wBxnr2OAAAACXBIWXMAAC4hAAAuIQEHW/z/AAAAmUlEQVQoU03MyRKCMBBF0RDSBBUICMgQAUFlUBTM/3+clbRF+TZ96yyaKBzZAo9FqYWFYDMGYJtEcDgD6pg04O72DA6eu4GP4G+gAsEgDEwiqOgIEdYP4gRiLITU4nBKTWrIcqGfhnmGUJRSajjLstBQ1XWD0FzqSpG2azwprreEh9K7dy3ph3F6PN15rl7vaRx6sqyfv63LF52MIsEsSTP4AAAAAElFTkSuQmCC\"","<template>\n  <div class=\"item unselectable\" @click.middle.stop=\"debug\" @contextmenu.stop=\"contextmenu.show\">\n    <template v-if=\"item.editorTypeName === 'catalogue' || item.editorTypeName === 'gameSystem'\">\n      <div class=\"head\">\n        <EditorCollapsibleBox :depth=\"0\" :payload=\"catalogue\" nobox :collapsible=\"false\">\n          <template #title\n            ><img src=\"/assets/bsicons/catalogue.png\" />\n            {{ catalogue.name }}\n            <span v-if=\"getNameExtra(catalogue)\" class=\"gray\">&nbsp;{{ getNameExtra(catalogue) }} </span>\n          </template>\n          <template #content></template>\n        </EditorCollapsibleBox>\n      </div>\n\n      <template v-for=\"category of groupedCategories\" :key=\"category.type\">\n        <EditorCollapsibleBox\n          :depth=\"depth\"\n          :altclickable=\"store.can_follow(item) || imported\"\n          @altclick=\"onctrlclick\"\n          :collapsible=\"category.items.length > 0\"\n          :payload=\"category.type\"\n          @contextmenu.stop=\"contextmenu.show($event, category.type)\"\n          :class=\"[category.type, category.links, `depth-${depth}`]\"\n          nobox\n          :defcollapsed=\"!should_be_open(category.type)\"\n          :path=\"[{ key: category.type, index: 0 }]\"\n        >\n          <template #title>\n            <span>\n              <span class=\"typeIcon-wrapper\">\n                <img class=\"typeIcon\" :src=\"`assets/bsicons/${category.icon}`\" />\n              </span>\n              {{ category.name }}\n            </span>\n          </template>\n          <template #content>\n            <template v-if=\"should_be_grouped(category.type)\">\n              <template v-for=\"{ label, type, items } of display_groups(category.type, category.items)\">\n                <CatalogueLabel :label=\"label\" :depth=\"depth + 1\" :catalogue=\"catalogue\" :typeItem=\"type\">\n                  <template v-for=\"entry of items\" :key=\"key(entry.item)\">\n                    <CatalogueEntry\n                      :item=\"entry.item\"\n                      :forceShowRecursive=\"forceShow\"\n                      :imported=\"entry.imported\"\n                      :depth=\"depth + 2\"\n                      noType\n                      grouped\n                    />\n                  </template>\n                </CatalogueLabel>\n              </template>\n            </template>\n            <template v-else>\n              <template v-for=\"entry of category.items\" :key=\"key(entry.item)\">\n                <CatalogueEntry\n                  :item=\"entry.item\"\n                  :forceShowRecursive=\"forceShow\"\n                  :imported=\"entry.imported\"\n                  :depth=\"depth + 1\"\n                />\n              </template>\n            </template>\n          </template>\n        </EditorCollapsibleBox>\n      </template>\n    </template>\n    <template v-else>\n      <EditorCollapsibleBox\n        :depth=\"depth\"\n        :altclickable=\"store.can_follow(item) || imported\"\n        @altclick=\"onctrlclick\"\n        :collapsible=\"mixedChildren && mixedChildren.length > 0\"\n        :empty=\"!mixedChildren || mixedChildren.length == 0\"\n        :payload=\"item\"\n        :class=\"[item.parentKey, `depth-${depth}`]\"\n        :defcollapsed=\"!open\"\n        nobox\n      >\n        <template #title>\n          <CatalogueLeftPanelEntry :item=\"item\" :imported=\"imported\" :highlight=\"item.highlight\" :grouped=\"grouped\" />\n          <!-- \n\n            <span>\n              <span class=\"typeIcon-wrapper\">\n                <img class=\"typeIcon\" :src=\"`assets/bsicons/${item.editorTypeName}.png`\" />\n              </span>\n              <span v-if=\"primary\" class=\"text-orange\">{{ primary }}</span>\n              <ErrorIcon :errors=\"item.errors\" />\n              <span v-if=\"item.sortIndex\" class=\"gray\">[{{ item.sortIndex }}]&nbsp;</span>\n              <span :class=\"{ imported: imported, filtered: item.highlight }\">\n                {{ name }}\n              </span>\n              <span v-if=\"getNameExtra(item, true, !noType)\" class=\"gray\">&nbsp;{{ getNameExtra(item, true, !noType) }}\n              </span>\n              <span class=\"ml-10px\" v-if=\"costs\" v-html=\"costs\" />\n          </span>\n            -->\n        </template>\n        <template #content>\n          <CatalogueEntry\n            v-for=\"child of mixedChildren\"\n            :key=\"key(child.item)\"\n            :item=\"child.item\"\n            :forceShowRecursive=\"forceShow\"\n            :imported=\"imported || child.imported\"\n            :depth=\"depth + 1\"\n          />\n        </template>\n      </EditorCollapsibleBox>\n    </template>\n\n    <ContextMenu v-if=\"contextmenuopen\" v-model=\"contextmenuopen\" ref=\"contextmenu\">\n      <template #default=\"{ payload }\">\n        <template v-if=\"!payload && item\">\n          <div v-if=\"store.can_follow(item)\" @click=\"store.follow(link)\">\n            Follow\n            <span class=\"gray\" v-if=\"link.target.getCatalogue() !== item.getCatalogue()\">\n              &nbsp;[{{ link.target.getCatalogue()?.getName() || link.target.getName() }}]\n            </span>\n            <span class=\"gray right\">Alt+Click</span>\n          </div>\n          <div v-if=\"imported\" @click=\"store.goto(item)\">\n            Goto\n            <span class=\"gray\"> &nbsp;({{ item.getCatalogue()?.getName() }}) </span>\n            <span class=\"gray right\">Alt+Click</span>\n          </div>\n          <div\n            v-if=\"item.isProfile() && item.typeId && item.getCatalogue().findOptionById(item.typeId)\"\n            @click=\"store.goto(item.getCatalogue().findOptionById(item.typeId) as EditorBase & ProfileType)\"\n          >\n            Goto {{ item.typeName }}\n            <span class=\"gray\">\n              &nbsp;[{{ item.getCatalogue().findOptionById(item.typeId)!.getCatalogue().getName() }}]\n            </span>\n            <span class=\"gray right\">Alt+Click</span>\n          </div>\n          <div v-if=\"child && store.can_goto(child)\" @click=\"store.goto(child)\">\n            Goto {{ child.getName() }}\n            <span class=\"gray\" v-if=\"item.getCatalogue() !== child.getCatalogue()\">\n              &nbsp;[{{ child.getCatalogue().getName() }}]\n            </span>\n            <span class=\"gray right\">Alt+Click</span>\n          </div>\n          <div v-if=\"(item.refs?.length ?? 0) + (item.other_refs?.length ?? 0)\" @click=\"store.mode = 'references'\">\n            References ({{ (item.refs?.length ?? 0) + (item.other_refs?.length ?? 0) }})\n          </div>\n          <div v-if=\"store.filter && !item.showChildsInEditor\" @click=\"store.toggle_selections\">\n            Show All Childs<span class=\"gray right\">Space</span>\n          </div>\n          <Separator v-if=\"item.isLink() || item.refs || imported\" />\n        </template>\n        <template v-if=\"payload\">\n          <div @click=\"store.create(payload)\">\n            <img class=\"pr-4px\" :src=\"`assets/bsicons/${getTypeName(payload)}.png`\" />\n            {{ getTypeLabel(getTypeName(payload)) }}\n          </div>\n          <div @click=\"store.create('entryLinks', { type: 'selectionEntry' })\" v-if=\"payload === 'selectionEntries'\">\n            <img class=\"pr-4px\" :src=\"`assets/bsicons/link.png`\" />\n            Link\n          </div>\n          <div @click=\"store.create('infoLinks', { type: 'rule' })\" v-if=\"payload === 'rules'\">\n            <img class=\"pr-4px\" :src=\"`assets/bsicons/link.png`\" />\n            Link\n          </div>\n          <Separator />\n        </template>\n        <template v-else>\n          <div @click=\"store.create('forceEntries')\" v-if=\"allowed('forceEntries')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/forceEntry.png\" />\n            Force\n          </div>\n          <div @click=\"store.create('categoryLinks')\" v-if=\"allowed('categoryLinks') && item.isForce()\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/categoryEntryLink.png\" />\n            Category\n          </div>\n          <Separator v-if=\"allowed(['forces', 'categoryLinks'])\" />\n          <div @click=\"store.create('selectionEntries')\" v-if=\"allowed('selectionEntries')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/selectionEntry.png\" />\n            Entry\n          </div>\n          <div @click=\"store.create('selectionEntryGroups')\" v-if=\"allowed('selectionEntryGroups')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/selectionEntryGroup.png\" />\n            Group\n          </div>\n          <div\n            @click=\"store.create('entryLinks', { type: 'selectionEntry' })\"\n            v-if=\"allowed(['entryLinks', 'infoLinks', 'forceEntryLinks'])\"\n          >\n            <img class=\"pr-4px\" src=\"assets/bsicons/link.png\" />\n            Link\n            <span class=\"right\"></span>\n            <ContextMenu id=\"link_contextmenu\">\n              <template v-if=\"allowed('entryLinks')\">\n                <div @click=\"store.create('entryLinks', { type: 'selectionEntry' })\">\n                  <img class=\"pr-4px\" src=\"assets/bsicons/selectionEntryLink.png\" />\n                  Entry\n                </div>\n                <div @click=\"store.create('entryLinks', { type: 'selectionEntryGroup' })\">\n                  <img class=\"pr-4px\" src=\"assets/bsicons/selectionEntryGroupLink.png\" />\n                  Group\n                </div>\n              </template>\n              <template v-if=\"allowed('infoLinks')\">\n                <div @click=\"store.create('infoLinks', { type: 'profile' })\">\n                  <img class=\"pr-4px\" src=\"assets/bsicons/profileLink.png\" />\n                  Profile\n                </div>\n                <div @click=\"store.create('infoLinks', { type: 'rule' })\">\n                  <img class=\"pr-4px\" src=\"assets/bsicons/ruleLink.png\" />\n                  Rule\n                </div>\n                <div @click=\"store.create('infoLinks', { type: 'infoGroup' })\">\n                  <img class=\"pr-4px\" src=\"assets/bsicons/infoGroupLink.png\" />\n                  InfoGroup\n                </div>\n              </template>\n              <template v-if=\"allowed('forceEntryLinks')\">\n                <div @click=\"store.create('forceEntryLinks')\">\n                  <img class=\"pr-4px\" src=\"assets/bsicons/forceEntryLink.png\" />\n                  Force\n                </div>\n              </template>\n            </ContextMenu>\n          </div>\n          <Separator v-if=\"allowed(['selectionEntries', 'selectionEntryGroups', 'entryLinks'])\" />\n          <div @click=\"store.create_child('profiles', item)\" v-if=\"allowed('profiles')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/profile.png\" />\n            Profile\n            <template v-if=\"profileTypes.length\">\n              <span class=\"right\"></span>\n              <ContextMenu id=\"profile_contextmenu\">\n                <div\n                  v-for=\"type of profileTypes\"\n                  @click=\"store.create_child('profiles', item, { typeId: type.id, typeName: type.name })\"\n                >\n                  <img class=\"pr-4px\" src=\"assets/bsicons/profile.png\" />\n                  <span>{{ type.getName() }}</span>\n                  <span v-if=\"getNameExtra(type)\" class=\"gray\"> &nbsp;{{ getNameExtra(type, false) }}</span>\n                </div>\n              </ContextMenu>\n            </template>\n          </div>\n          <div @click=\"store.create('rules')\" v-if=\"allowed('rules')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/rule.png\" />\n            Rule\n          </div>\n          <div @click=\"store.create('infoGroups')\" v-if=\"allowed('infoGroups')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/infoGroup.png\" />\n            Info Group\n          </div>\n          <div @click=\"store.create('associations')\" v-if=\"allowed('associations')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/association.png\" />\n            Association\n          </div>\n          <Separator v-if=\"allowed(['profiles', 'rules', 'infoGroups', 'infoLinks'])\" />\n          <div @click=\"store.create('characteristicTypes')\" v-if=\"allowed('characteristicTypes')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/characteristicType.png\" />\n            Characteristic Type\n          </div>\n          <div @click=\"store.create('attributeTypes')\" v-if=\"allowed('attributeTypes')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/attributeType.png\" />\n            Attribute Type\n          </div>\n          <Separator v-if=\"allowed(['attributeTypes', 'characteristicTypes'])\" />\n          <div @click=\"store.create('conditions')\" v-if=\"allowed('conditions')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/condition.png\" />\n            Condition\n          </div>\n          <div @click=\"store.create('conditionGroups')\" v-if=\"allowed('conditionGroups')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/conditionGroup.png\" />\n            Condition Group\n          </div>\n          <div @click=\"store.create('localConditionGroups')\" v-if=\"allowed('localConditionGroups')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/conditionGroup.png\" />\n            Local Condition Group\n          </div>\n          <div @click=\"store.create('repeats')\" v-if=\"allowed('repeats')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/repeat.png\" />\n            Repeat\n          </div>\n          <Separator v-if=\"allowed(['conditions', 'conditionGroups', 'repeats'])\" />\n          <div @click=\"store.create_child('constraints', item)\" v-if=\"allowed('constraints')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/constraint.png\" />\n            Constraint\n          </div>\n          <div @click=\"store.create('modifiers')\" v-if=\"allowed('modifiers')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/modifier.png\" />\n            Modifier\n          </div>\n          <div\n            v-if=\"item.editorTypeName === 'constraint' && item.parent\"\n            @click=\"store.create_child('modifiers', item.parent, { field: item.id, value: 0 })\"\n          >\n            <img class=\"pr-4px\" src=\"assets/bsicons/modifier.png\" />\n            Modifier\n          </div>\n          <div @click=\"store.create('modifierGroups')\" v-if=\"allowed('modifierGroups')\">\n            <img class=\"pr-4px\" src=\"assets/bsicons/modifierGroup.png\" />\n            Modifier Group\n          </div>\n          <Separator\n            v-if=\"allowed(['constraints', 'modifiers', 'modifierGroups']) || item.editorTypeName === 'constraint'\"\n          />\n        </template>\n\n        <div @click=\"store.cut\" v-if=\"!payload\">Cut<span class=\"gray right\">Ctrl+X</span> </div>\n        <div @click=\"store.copy\" v-if=\"!payload\">Copy<span class=\"gray right\">Ctrl+C</span> </div>\n        <div @click=\"store.paste\">Paste<span class=\"gray right\">Ctrl+V</span> </div>\n        <div @click=\"store.duplicate\" v-if=\"!payload\">Duplicate<span class=\"gray right\">Ctrl+D</span></div>\n\n        <div v-if=\"!sortable(item.parent)\" @click=\"store.move_up(item)\">\n          <span> Move Up </span>\n          <span class=\"gray right\">Alt+</span>\n        </div>\n        <div v-if=\"!sortable(item.parent)\" @click=\"store.move_down(item)\">\n          <span> Move Down </span>\n          <span class=\"gray right\">Alt+</span>\n        </div>\n        <template v-if=\"!payload && store.get_move_targets(item)?.length\">\n          <div>\n            <span> Move To </span>\n            <span class=\"right\"></span>\n            <ContextMenu id=\"moveto_contextmenu\">\n              <div\n                v-for=\"target of store.get_move_targets(item)\"\n                @click=\"store.move(item, catalogue, target.target, target.type)\"\n              >\n                <img class=\"pr-4px\" src=\"assets/bsicons/catalogue.png\" />\n                {{ target.target.name }} -\n                {{ target.type }}\n              </div>\n            </ContextMenu>\n          </div>\n        </template>\n        <template v-if=\"!payload && store.get_context_actions().length\">\n          <div>\n            <span> Scripts </span>\n            <span class=\"right\"></span>\n            <ContextMenu id=\"moveto_contextmenu\">\n              <div v-for=\"action of store.get_context_actions()\">\n                <img class=\"pr-4px\" src=\"assets/icons/right2.png\" />\n                {{ action }}\n              </div>\n            </ContextMenu>\n          </div>\n        </template>\n        <div\n          @click=\"\n            store.create_child('entryLinks', catalogue, {\n              targetId: item.id,\n              type: 'selectionEntry',\n              name: item.getName(),\n            })\n          \"\n          v-if=\"item.parentKey === 'sharedSelectionEntries'\"\n        >\n          Add Root Link<span class=\"gray\" v-if=\"hasRootLink(catalogue, item)\">&nbsp;(already has one)</span>\n        </div>\n        <Separator v-if=\"!payload\" />\n        <div @click=\"store.remove()\" v-if=\"!payload\">\n          <img class=\"w-12px pr-4px\" src=\"/assets/icons/redcross.png\" />Remove<span class=\"gray right\">Del</span>\n        </div>\n      </template>\n    </ContextMenu>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport type { PropType } from \"vue\";\nimport type { CatalogueEntryItem } from \"@/stores/editorStore\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport {\n  type ItemKeys,\n  type ItemTypes,\n  getName,\n  getTypeLabel,\n  getTypeName,\n  systemCategories,\n  catalogueCategories,\n  getNameExtra,\n  getEntryPath,\n} from \"~/assets/shared/battlescribe/bs_editor\";\nimport type { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { Base, Condition, Link, ProfileType } from \"~/assets/shared/battlescribe/bs_main\";\nimport {\n  generateBattlescribeId,\n  sortByAscending,\n  sortByDescending,\n  escapeXml,\n  groupBy,\n  addObj,\n  sortByAscendingInplace,\n} from \"~/assets/shared/battlescribe/bs_helpers\";\n\nimport { useEditorUIState } from \"~/stores/editorUIState\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\nimport { allowed_children } from \"~/assets/shared/battlescribe/bs_convert\";\nimport { getModifiedField } from \"~/assets/shared/battlescribe/bs_modifiers\";\n\nimport ContextMenu from \"~/components/dialog/ContextMenu.vue\";\nimport CatalogueLabel from \"~/components/catalogue/left_panel/components/CatalogueLabel.vue\";\nimport EditorCollapsibleBox from \"~/components/catalogue/left_panel/components/EditorCollapsibleBox.vue\";\nimport { entries } from \"~/assets/shared/battlescribe/entries\";\nexport interface ICost {\n  name: string;\n  value: number;\n  typeId: string;\n}\nfunction round(num: number): number {\n  return Math.round(num * 100) / 100;\n}\nexport function formatCosts(costs: ICost[]): string {\n  let res = \"\";\n  costs = sortByDescending(costs, (c) => c.name);\n  for (const cost of costs) {\n    if (cost.value != 0) {\n      let name = \"\";\n      if (cost.name.length != 0) {\n        name = \" \" + cost.name;\n      }\n      res = `${res}<span class='cost'>${round(cost.value)}${name}</span>`;\n    }\n  }\n  if (res.length == 0) {\n    return res;\n  }\n  return `<span class=\"costList\">${res}</span>`;\n}\nconst order: Record<string, number> = {\n  link: 1,\n  selectionEntry: 1,\n  entryLink: 1,\n  characteristicType: 1,\n  attributeType: 2,\n  selectionEntryGroup: 2,\n  entryGroupLink: 2,\n  constraint: 3,\n  forceEntry: 4,\n  forceEntryLink: 4,\n  profile: 5,\n  rule: 6,\n  infoGroup: 7,\n  infoLink: 8,\n  modifier: 9,\n  modifierGroup: 10,\n  categoryLink: 11,\n  association: 12,\n};\nconst preferOpen = new Set([\"modifierGroups\", \"conditionGroups\", \"localConditionGroups\"]);\nconst hiddenTypes = new Set([\"characteristics\", \"attributes\", \"costs\"]);\nconst avoidSorting = new Set([\n  \"forceEntry\",\n  \"profileType\",\n  \"condition\",\n  \"conditionGroup\",\n  \"repeat\",\n  \"localConditionGroup\",\n]);\nexport default {\n  name: \"CatalogueEntry\",\n  components: {\n    ContextMenu,\n    EditorCollapsibleBox,\n    CatalogueLabel,\n  },\n  setup() {\n    return { store: useEditorStore(), state: useEditorUIState(), settings: useSettingsStore() };\n  },\n  props: {\n    item: {\n      type: Object as PropType<EditorBase>,\n      required: true,\n    },\n    forceShowRecursive: {\n      type: Boolean,\n      default: false,\n    },\n    showImported: {\n      type: Boolean,\n    },\n    imported: {\n      type: Boolean,\n    },\n    depth: {\n      type: Number,\n      default: 0,\n    },\n    noType: {\n      type: Boolean,\n      default: false,\n    },\n    grouped: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      contextmenuopen: false,\n      open: false,\n      open_categories: undefined as Set<string> | undefined,\n      name: \"\",\n    };\n  },\n  created() {\n    if (this.catalogue) {\n      this.catalogue.processForEditor();\n      if (!this.imported) {\n        this.open = this.should_be_open();\n        if (this.item.isCatalogue()) {\n          const openCategories = new Set<string>();\n          for (const category of this.categories) {\n            if (this.state.get_root(this.catalogue.id, category.type)) {\n              openCategories.add(category.type);\n            }\n          }\n          this.open_categories = openCategories;\n        }\n      }\n    }\n  },\n  watch: {\n    \"scope.name\"(_new) {\n      this.name = getName(this.item);\n    },\n    _name: {\n      immediate: true,\n      handler(_new) {\n        this.name = _new;\n      },\n    },\n  },\n  methods: {\n    escapeXml,\n    getTypeName,\n    getTypeLabel,\n    getName,\n    getNameExtra,\n    key(entry: EditorBase | any): string {\n      if (entry.id) {\n        return entry.id;\n      } else if (entry[\"$id\"]) {\n        return entry[\"$id\"];\n      } else {\n        entry[\"$id\"] = `temp-${generateBattlescribeId()}`;\n        return entry[\"$id\"];\n      }\n    },\n    should_be_grouped(category: string) {\n      return category === \"sharedProfiles\";\n    },\n    display_groups(category: string, items: CatalogueEntryItem[]) {\n      const result = [];\n      for (const [id, group] of Object.entries(groupBy(items, (o) => o.item.typeId ?? \"Untyped\"))) {\n        const type = group[0].item.catalogue.findOptionById(id) as EditorBase;\n        const label = type?.name ?? id;\n        result.push({ type, label, items: group });\n      }\n      return result;\n    },\n    should_be_open(category?: string): boolean {\n      if (category) {\n        return this.open_categories !== undefined && this.open_categories.has(category);\n      }\n      return preferOpen.has(this.item.parentKey) || this.state.get(this.catalogue.id, getEntryPath(this.item));\n    },\n    sortable(entry?: EditorBase) {\n      if (this.settings.sort === \"none\") return false;\n      if (!entry) return true;\n      if (avoidSorting.has(entry.editorTypeName)) {\n        return false;\n      }\n      return true;\n    },\n    ref_count(item: EditorBase) {\n      return item.refs?.length;\n    },\n    async onctrlclick() {\n      if (this.store.can_follow(this.item)) {\n        await this.store.follow(this.item as EditorBase & Link);\n      } else if (this.imported) {\n        await this.store.goto(this.item);\n      } else if (this.item.refs || this.item.other_refs) {\n        this.store.mode = \"references\";\n      }\n    },\n    debug() {\n      console.log(this.item.name, this.item.editorTypeName, toRaw(this.item));\n      (globalThis as any).$debugOption = this.item;\n      (globalThis as any).$debugElement = this;\n      (globalThis as any).$debugGroup = this.$parent;\n    },\n    hasRootLink(catalogue: Catalogue, item: Base) {\n      return catalogue.entryLinks?.find((o) => o.targetId === item.id);\n    },\n    getTypedArray(item: Catalogue, type: ItemKeys, output: CatalogueEntryItem[]) {\n      if (!type) return;\n      const key = type as keyof Catalogue;\n      const found = item[key];\n      if (found && Array.isArray(found)) {\n        for (const child of found) {\n          if (!this.filter_child(child as EditorBase)) continue;\n          output.push({ item: child as ItemTypes & EditorBase, type });\n        }\n      }\n      if (this.showImported) {\n        const useRoot = [\"selectionEntries\", \"selectionEntryLinks\", \"rules\"];\n        const imports = useRoot.includes(type) ? item.importsWithEntries : item.imports;\n        for (const catalogue of imports) {\n          const found = catalogue[key];\n          const system = catalogue.isGameSystem();\n          if (found && Array.isArray(found)) {\n            for (const child of found) {\n              if (!this.filter_child(child as EditorBase)) continue;\n              if (!system && (child as EditorBase).import === false) continue;\n              output.push({ item: child as ItemTypes & EditorBase, type, imported: true });\n            }\n          }\n        }\n      }\n    },\n    allowed(child: string | string[]) {\n      if (Array.isArray(child)) {\n        for (const type of child) {\n          if (this.allowedChildren.has(type)) return true;\n        }\n        return false;\n      }\n      return this.allowedChildren.has(child);\n    },\n    filter_child(elt: EditorBase) {\n      if (!this.forceShow) {\n        if (this.store.filter && elt.showInEditor !== true) return false;\n      }\n      return true;\n    },\n\n    sorted(items: CatalogueEntryItem[]) {\n      if (!this.sortable(this.item)) {\n        return items;\n      }\n      switch (this.settings.sort) {\n        default:\n        case \"asc\":\n          const asc = sortByAscending(items, (o) => o.item.getName() || \"\");\n          return asc;\n        case \"desc\":\n          const desc = sortByDescending(items, (o) => o.item.getName() || \"\");\n          return desc;\n        case \"type\":\n          const type_asc = sortByAscending(items, (o) => o.item.getName() || \"\");\n          sortByAscendingInplace(type_asc, (o) => (o.item.isProfile() ? o.item.getTypeName() : o.item.getType()) || \"\");\n          if (this.settings.display.primaryCategory) {\n            sortByAscendingInplace(type_asc, (o) => {\n              const item = o.item;\n              if (item.parent?.isCatalogue() && [\"selectionEntries\", \"entryLinks\"].includes(item.parentKey)) {\n                return o.item.getPrimaryCategoryLink()?.target?.name || \"\";\n              }\n              return \"\";\n            });\n          }\n          return type_asc;\n      }\n    },\n    grouped_items(items: CatalogueEntryItem[]) {\n      const result = sortByAscending(\n        this.sorted(items),\n        (o) => order[(o.item?.target as EditorBase)?.editorTypeName ?? o.item.editorTypeName] ?? 1000\n      );\n      if (this.settings.display.sortIndex) {\n        sortByAscendingInplace(result, (o) => o.item.sortIndex ?? 10000);\n      }\n      return result;\n    },\n    groupBy,\n\n    menu(ref: string) {\n      return {\n        show: (event: MouseEvent, e: any) => {\n          this.contextmenuopen = true;\n          this.$nextTick(() => {\n            (this.$refs[ref] as any)?.show(event, e);\n          });\n        },\n        close: (event: MouseEvent, e: any) => {\n          (this.$refs[ref] as any)?.close(event, e);\n          this.contextmenuopen = false;\n        },\n      };\n    },\n    get_field(field: string) {\n      return (this.item as any)[field];\n    },\n    get_target_field(field: string) {\n      if (this.item.target) {\n        return (this.item.target as any)[field];\n      }\n    },\n    hideType(type: string) {\n      if (type === \"categoryLinks\" && !this.item.isForce()) return true;\n      if (hiddenTypes.has(type)) return true;\n    },\n  },\n\n  computed: {\n    scope() {\n      const _item = this.item as Condition & EditorBase;\n      if (_item.scope) {\n        const result = getModifiedField(_item, _item.scope);\n        if (result) {\n          return reactive(result);\n        }\n      }\n    },\n    costs() {\n      const result = [] as ICost[];\n      const catalogue = this.item.getCatalogue();\n      const costs = this.item.getCosts();\n      for (const cost of costs) {\n        const name = catalogue.findOptionById(cost.typeId)?.name || cost.name || cost.typeId;\n        if (name) {\n          result.push({\n            name: name,\n            value: cost.value,\n            typeId: cost.typeId,\n          });\n        }\n      }\n      return formatCosts(result);\n    },\n    profileTypes() {\n      return [...this.catalogue.iterateProfileTypes()];\n    },\n    childId(): string | undefined {\n      return (this.item as any as Condition).childId;\n    },\n    child() {\n      if (!this.childId) return undefined;\n      return this.item.getCatalogue().findOptionById(this.childId) as EditorBase;\n    },\n    link(): Link & EditorBase {\n      return this.item as Link & EditorBase;\n    },\n    iscollapsible() {\n      return this.mixedChildren.length > 0;\n    },\n    contextmenu() {\n      return this.menu(\"contextmenu\");\n    },\n    catalogue() {\n      return this.item.getCatalogue() as Catalogue & EditorBase;\n    },\n    catalogues() {\n      return this.catalogue.imports;\n    },\n\n    allowedChildren() {\n      return allowed_children(this.item, this.item.parentKey);\n    },\n    forceShow() {\n      return this.item.showChildsInEditor || this.forceShowRecursive;\n    },\n\n    mixedChildren(): Array<CatalogueEntryItem> {\n      const childs = [];\n      for (const category of this.allowedChildren) {\n        if (this.hideType(category)) continue;\n\n        const arr = this.get_field(category);\n        if (arr?.length) {\n          for (const elt of arr) {\n            if (!this.filter_child(elt)) continue;\n            childs.push({ type: category as ItemKeys, item: elt });\n          }\n        }\n      }\n\n      if (this.item.isLink() && this.item.target) {\n        const targetChilds = [];\n        for (const category of this.allowedChildren) {\n          if (this.hideType(category)) continue;\n\n          const target_arr = this.get_target_field(category);\n          if (target_arr?.length) {\n            for (const elt of target_arr) {\n              if (!this.filter_child(elt)) continue;\n              targetChilds.push({ type: category as ItemKeys, item: elt, imported: true });\n            }\n          }\n        }\n        return [...this.grouped_items(targetChilds), ...this.grouped_items(childs)];\n      }\n      return this.grouped_items(childs);\n    },\n    categories() {\n      if (this.item.isCatalogue()) {\n        const categories = this.item.isGameSystem() ? systemCategories : catalogueCategories;\n        return categories;\n      }\n      return [];\n    },\n    groupedCategories() {\n      return this.categories.map((category) => {\n        const items = [] as CatalogueEntryItem[];\n        if (category.type) this.getTypedArray(this.item as any, category.type, items);\n        if (category.links) this.getTypedArray(this.item as any, category.links, items);\n        return {\n          ...category,\n          items: this.grouped_items(items),\n        };\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.imported {\n  color: rgb(128, 145, 183);\n  // font-style: italic;\n}\n\n.filtered {\n  background-color: rgba(10, 80, 255, 0.15);\n}\n\n.typeIcon {\n  max-width: 18px;\n}\n\n.typeIcon-wrapper {\n  display: inline-block;\n  min-width: 20px;\n  min-height: 1px;\n}\n\n.head {\n  margin-left: -20px;\n}\n\n.text-orange {\n  color: rgb(153 31 31);\n}\n\n.right {\n  margin-left: auto;\n  float: right;\n  padding-left: 5px;\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9bi1IqIu0g4pChumhBVMRRq1CECqFWaNXB5NIvaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIq4uToouU+L+k0CLGg+N+vLv3uHsH+BsVpppd44CqWUY6mRCyuVWh+xVBhNCPUUQkZupzopiC5/i6h4+vd3Ge5X3uz9Gr5E0G+ATiWaYbFvEG8fSmpXPeJ46ykqQQnxOPGXRB4keuyy6/cS467OeZUSOTnieOEgvFDpY7mJUMlXiKOKaoGuX7sy4rnLc4q5Uaa92TvzCc11aWuU5zCEksYgkiBMiooYwKLMRp1Ugxkab9hId/0PGL5JLJVQYjxwKqUCE5fvA/+N2tWZiccJPCCSD4Ytsfw0D3LtCs2/b3sW03T4DAM3Cltf3VBjDzSXq9rcWOgL5t4OK6rcl7wOUOMPCkS4bkSAGa/kIBeD+jb8oBkVsgtOb21trH6QOQoa5SN8DBITBSpOx1j3f3dPb275lWfz9cmHKeGGO3IgAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFChE0NOeyIIsAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAB2klEQVQoz43SP2gUURDH8e+83WVFOa5USKF1QMiZaGfAExH/9dYKIlZ2gkGtDATstBEEqzT2kkJDRNBCJVxOzUEakzvRkCLNbS532Z0Zi1tP04gDw6vefH4MIy8W33jW3+VfdezwEepTNQGIu70drl44z54quSq5GeqOuwPQaDT49vMHix+X/ezJExLcHTND8xzNc/b6fXZ3dsiyjG63S5ZlXLt8cfQpNjMECCIkUfQnR1FQmLG9vc2T+XkAltbXic2cIMK5l8d5dekzH1ZWqFarHB0bg6KgXq/j7lQqFRZeLxGrGyLC0pWvmDunJycxd3LVfRKAuhF7Galx9w4Ts3N8arVI05Rer0eappgZaZpSqVRwM2JTJYgwNfcIM+PU+DjmPupclX6eE4lgqoRCh8Lt5wkhBN43m7TabVobG3zf3CSJIg4kCUkUUWgpiAiPryvuwnSthpntU5IoIgphKJgpAtyfmUFEeNdsstrpsLy2NpKCyDCSKbGWwsPZWRyYnpjAf0//SxJAVQmqQ+HWs4AAbxsNvrTbrHY6dLa2CCKjVlXiwWAAwNMb4C6cqdVwwMp7MncoVz8YDIizLBtdg5ST3B0p3wBYCEgIZFlGnDjcvPeA/6nqwUP8AtTWMEb6wHGvAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9bS0UqIlYQ6ZChOlkQFXHUKhShQqgVWnUwufQLmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi6uKk6CIl/i8ptIjx4Lgf7+497t4B/kaFqWbXOKBqlpFOJoRsblUIvSKIMPoRxaDETH1OFFPwHF/38PH1Ls6zvM/9OXqVvMkAn0A8y3TDIt4gnt60dM77xBFWkhTic+Ixgy5I/Mh12eU3zkWH/TwzYmTS88QRYqHYwXIHs5KhEk8RxxRVo3x/1mWF8xZntVJjrXvyF4bz2soy12lGkcQiliBCgIwayqjAQpxWjRQTadpPePiHHb9ILplcZTByLKAKFZLjB/+D392ahckJNymcAIIvtv0xAoR2gWbdtr+Pbbt5AgSegSut7a82gJlP0uttLXYE9G0DF9dtTd4DLneAoSddMiRHCtD0FwrA+xl9Uw4YuAV61tzeWvs4fQAy1FXqBjg4BEaLlL3u8e7uzt7+PdPq7wdBJ3KT7BaVSwAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFDBEdBk5IsTwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACx0lEQVQ4y42O309TBxiGn3N6qKZGNLqwhUSIFhDMUFwXb2pxJoyIAv7elmXJdsHlZvA/8G7ZrpbMu91oYtAbo0QzhSYGGtivokB7Ss85LS1VxFFKtRBSjrbn88rGxbjwJe/N9+R58yps8OLpjJhPnvznt22LZ2PyTGpObo2ExBGpRETk1khIXBuR448z9B5pZ2xigsFgkJelEnW1tcQzGdT/k2OzaYnNpek90k65XGapUOCbk6dZKhQAcBzn/QV6MiV6OsXJo59h2zaOCC1eLw8tg30NDZWC98oDw0FZF5H5+XkJDQ7Ks4UFKb56JXapJCURGRgOip5MyTsLoolZmUomOP15BwuZDLGxMYrFIpFQiHK5jOpycWNomNbde/i4YY+ivS1HrKRMWiZnj3fxOJlEHx2tMF9HB+5Nm7j++z3aGptobfQqAJWCaSshE0acL3q6SZsmU8FgRT7U1cVH9fVcu3MXX3Mz+5salDdMBZg0LQnHYpzr6WY2HufR0BCO4+A4Dr7OTnZ5vVy7Pcgne/dyoKlReXu1MmmYEtZ1vjx7hjnDID4yUoH1Ph+pTIbR8T/w1tUR8PuJRiLYtk11dTWHAwFcbYH2S1+dP0c2myUVCuF2u3G73TQHAkzrOtUeD2e6T2AZJuPj43g2b6a35wTlUonpqWl4OBOXywM35IWIRE1THty8KbFEQlZE5Ou+PjGMhFzovyiRqCX5fFEiUUsu9F8Uw0jIjz/9LErueUHST+cZDYfp++5bstksH9bU8NuVqzydmeF45ym2bt3C/ft3yb/IsWP7Bxw71s3q6hp//vUAZTGXl7W1NXTD4JFp0P/D9/zy62Uaa2sprqwS/udvFEXB4/HQdvAg0UiE4vo6iqLg9/tRnmVzsri4SH55mX9zS0xaFp+2tLBz23bslzaqqlKlVaFpGlXuKjSXhqZpuDQNVVV5DQyKeoiSxZAyAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0UrDhaU4pChOlkQFXHUKhShQqkVWnUwufQLmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi6uKk6CIl/i8ptIjx4Lgf7+497t4BQqPCVLNrHFA1y0gn4mI2tyoGXxFAL4KIYFBipj6XSiXhOb7u4ePrXYxneZ/7c/QpeZMBPpF4lumGRbxBPL1p6Zz3icOsJCnE58RjBl2Q+JHrsstvnIsOCzwzbGTS88RhYrHYwXIHs5KhEk8RRxVVo3wh67LCeYuzWqmx1j35C0N5bWWZ6zSHkcAilpCCCBk1lFGBhRitGikm0rQf9/BHHH+KXDK5ymDkWEAVKiTHD/4Hv7s1C5MTblIoDgRebPtjBAjuAs26bX8f23bzBPA/A1da219tADOfpNfbWvQI6N8GLq7bmrwHXO4AQ0+6ZEiO5KcpFArA+xl9Uw4YuAV61tzeWvs4fQAy1FXyBjg4BEaLlL3u8e7uzt7+PdPq7wcllnKI7QJDVQAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFCwgjN9BzCj0AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABnElEQVQoz42SsWoiURSGv5m5OIVplsQBky67ICisi6QQ3GreQRBsrHwEn8GHEMTCQiufIFVIsQRcd8Bml7XJFuvsIJoE1Lkzs8XEYSaaxB9ucbn3+8899/wKwM3d92Dh2Pi+j+/7vCVVVVFVlQ+nGb5efVEEgGP/5ar4GSNzxjGa2/+4m/wIDQGklEfDAEbmDCllzMB1o0NN0xBC7C3P8wDodDrEGQFEfSuKEl2Ma7vdkkql6Pf7zOdz4kzCIAgCgISJlBJd1xkMBiwWC8rlcsJADYFw0263GY1GaJrGZrNhvV6j6zrD4ZDlckk+n8c0TeKMiFcsFAqMx2Nc16VarQLQ7XZxHIdSqUSlUoletmNCAz/cmKaJ4zhMp1N6vR6r1QrbthOVI4NnJmzheSTpdJpGo0E2m8WyLGazGblcjlqttvexXnyML9PXbDYxDINisUi9Xj+YhcQUdr8fV6vVejNMO0YFCICJZR2dxIllsSupXN9+C37/+smf+3s8T0YRfU1CCDRNkL045/LjJ5TbsRU8PT5woIt3lT454T+zOsZSlUjWPwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0UrDhaU4pChOlkQFXHUKhShQqkVWnUwufQLmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi6uKk6CIl/i8ptIjx4Lgf7+497t4BQqPCVLNrHFA1y0gn4mI2tyoGXxFAL4KIYFBipj6XSiXhOb7u4ePrXYxneZ/7c/QpeZMBPpF4lumGRbxBPL1p6Zz3icOsJCnE58RjBl2Q+JHrsstvnIsOCzwzbGTS88RhYrHYwXIHs5KhEk8RRxVVo3wh67LCeYuzWqmx1j35C0N5bWWZ6zSHkcAilpCCCBk1lFGBhRitGikm0rQf9/BHHH+KXDK5ymDkWEAVKiTHD/4Hv7s1C5MTblIoDgRebPtjBAjuAs26bX8f23bzBPA/A1da219tADOfpNfbWvQI6N8GLq7bmrwHXO4AQ0+6ZEiO5KcpFArA+xl9Uw4YuAV61tzeWvs4fQAy1FXyBjg4BEaLlL3u8e7uzt7+PdPq7wcllnKI7QJDVQAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFCwgiC+YHR/sAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABwUlEQVQoz42TT4vaQBjGfzHBSw6rt+2lhLL04lFY+h1aevPup/CqIH4D2YJ4Fbsbqv1Da6nXYi+ibL3YdruoZHXXSzaVVMgkmR7SFcU27A/eyzDPM8+8844CcDmZyevrBUEQEAYhcSTUBKqqcnj4gEfGQ0UDmM+veHx0RDqd4j7Y9i3fLy4iQwAhxL3FAOl0CiHErsEdqqqiadpeBUEAQL1eZ1ujAYRhdG9FUTYbt/E8j2QySaPRYLlcsq3ZMZBSAmxMbNvGsizCMKTf77NarTAMg8FgwGI+53IyiwTv3n+QQghZLpelaZpSCCEdx5G9Xk/G8bn3RWrbJ2YyGYbDIUIIcrkcQRDQ7XY5OXlBu92iWq2iaRphGJLNZlmv1ygAr9qv5fNnT3FdF9M0mU6nGIaBZVkUi8X/vsbHT92oB77vA6DrOvl8nlqtxmg0wvO82ASbhjdPz6QQYqcqlYoslUqxPWi/eRv14F8UCgU6nU5sgs38NE/P5Pn5170UrVYrNkGj+VIq3378lOPxmOl0gu/7+H9dXdflZnmDc+vsTGoiEX2mg9QBx8dPUGZXC7la/doM0R3r32tc191b30bXdf4AswSDFyrGAhMAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9bi1IqIu0g4pChumhBVMRRq1CECqFWaNXB5NIvaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIq4uToouU+L+k0CLGg+N+vLv3uHsH+BsVpppd44CqWUY6mRCyuVWh+xVBhNCPUUQkZupzopiC5/i6h4+vd3Ge5X3uz9Gr5E0G+ATiWaYbFvEG8fSmpXPeJ46ykqQQnxOPGXRB4keuyy6/cS467OeZUSOTnieOEgvFDpY7mJUMlXiKOKaoGuX7sy4rnLc4q5Uaa92TvzCc11aWuU5zCEksYgkiBMiooYwKLMRp1Ugxkab9hId/0PGL5JLJVQYjxwKqUCE5fvA/+N2tWZiccJPCCSD4Ytsfw0D3LtCs2/b3sW03T4DAM3Cltf3VBjDzSXq9rcWOgL5t4OK6rcl7wOUOMPCkS4bkSAGa/kIBeD+jb8oBkVsgtOb21trH6QOQoa5SN8DBITBSpOx1j3f3dPb275lWfz9cmHKeGGO3IgAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFChE2D2SPqy0AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACEUlEQVQoz42STUsbURSGn5mEGXBEaGtCBSFbSbAGcSFEhM4sAm6DOxeu/AmC2678CTEIIiKSQCG/oIvSWhBpYgNSWykiaatJZkLSxozz2cU0YdKW4gt3cbj3fc59z70CwJvTqt/Wm3ieh+d5/E+iKCKKIo+exFhaSAtRAL15y8LcM+KxSR6iRrPF6dmHAAjgOM6DzQDx2CSO44QAtj3cjEQiRKPRv5brugDs7u4S9kSBYW5BEIYHw7IsC0mSODw8pNFoEPaMAHzfBxiBOI6DLMsUi0Xa7TaLi4sjADEwBMX29jblcplIJML9/T2maSLLMqVSiU6nQzKZRFVVwp5ouGMqlaJSqWDbNqurqwDs7e2h6zrz8/NkMpnhzQaeAOAFhaqq6LrO+fk5+/v7dLtdms3mSOchwAsDfj+Joiisr69TKBSo1WpYlsX4+Dj9fp+joyPS6TTVahXTNPn46ZLXJ+99MTyQgTY2NojH40iSRDabRdNUDMPg4OAAwzDQNJXlpQwn794GQxxMP6zNzU0SiQTT0wny+R00bYWtrRdo2gr5/A4zM0n0ViuI4ANntRpzs7MjENu2qddb5HJrlMsv6XYNJiYek8utcXFxjWXbCK+OT/wvl5/5Wq/jus7wi/Z6PW6+f+P66goASZJ5OjXF7e0NruuiKArLz1WE40rN7/38wZ8pTLPPXe/un/EGGlPG+AWDbgr8JHBAFgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TiyItIu2g4pChOlkQFXHUKhShQqgVWnUwufQLmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi6uKk6CIl/q8ptIjx4Lgf7+497t4BQr3MNKtrHNB020wl4mImuyp2vyKAMPoxiJDMLGNOkpLwHF/38PH1LsazvM/9OUJqzmKATySeZYZpE28QT2/aBud94ggryirxOfGYSRckfuS64vIb50KTBZ4ZMdOpeeIIsVjoYKWDWdHUiKeIo6qmU76QcVnlvMVZK1dZ6578hcGcvrLMdZrDSGARS5AgQkEVJZRhI0arToqFFO3HPfxDTb9ELoVcJTByLKACDXLTD/4Hv7u18pMTblIwDgReHOdjBOjeBRo1x/k+dpzGCeB/Bq70tr9SB2Y+Sa+1tegR0LcNXFy3NWUPuNwBBp4M2ZSbkp+mkM8D72f0TVkgfAv0rrm9tfZx+gCkqavkDXBwCIwWKHvd4909nb39e6bV3w83V3KPY5temQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFExIAI/Ac8PcAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACHklEQVQoz32STU8TURSGn8tMZEEKYlhgcNHEYirdQaL+A7UalQ7sWPMr2AFb2RAs/AAjGbBU4xfdsFBxBwkNYkixpQwQaUqADk3nzsx1UVptCH2Tszkfb56ccwTATnZXHR4e4HkevufTTC1aC5qm0d19k/aODgTA1++r6k4oRGfn9Ybm4+NjLMvCcZyGvG2f8+foiHv3H6ADSCkvDQPk83n6+/uvpPm2+uOfQU2apiGEAKBSqZBKpZiZeUUi8Zbp6Wl0Xcf3fQYGBiiXy9Whz8spJaVUrusqKWU9VlZWVDN9+rKsdADfry5OKQWA53kAOI7TlKDWx/sPH5WUUo2PjyvTNJWUUp2cnKhkMtmUIJF8VyWoOUUiEdbW1pBSMjw8jBCiKYGUsnrGxcSSevb0CbZtY5omuVyOYDBIOp1mamrqyiu8fjNfNZg3F1TsxfN6YW5ujvX1dYrFIkIIAoEAuq7T1dVFoVDAdV1KJZtBw6BhiTWNjo4yMTGBEIJYLEZvb4iFhUWy2SyhUIihIYONjTQ7v7O0XIU3NjZGOBwmGLxNPD5LNDrI5ORLotFB4vFZwuEIFcepEgBsbv6kr+9ug4mUkr29AoYxwtLSIqenRdrbb2AYI2xv55GOg/i1nVFbW1vkcllc18W9+MpSqYRlWWQyGQBaW6/R03OLg/19XM8lEAjw8NFjxK51oM7OTutPVFP5vIxt25fy/6utrY2/4uNpmWRVVTgAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkUsoRFEcxn8zyKORhVGSxV0MK0pIlgwlRU1j1AwW7r1jhpp7TfeObCyVrbLw2HgtbKzZWtgqpTxKtjZWxEa6/ueOmkmNcup0fn3nfF/nfAeCBznTcqt7wLILTnwsqiVTM1rtMzW0UE8Tbbrp5odjsQkqjo9bAmq96VZZ/G80phdcEwKa8JCZdwrC88IDq4W84h3hsLmop4VPhbscuaDwvdKNIr8ozvocVJlhJxEfEQ4La9kyNsrYXHQs4X7hSNqyJT+YLHJa8ZpiK7di/txTvTC0YE9PKV1mO2OMM0kMDYMVlshRoFtWWxSXuOxHK/jbfH9MXIa4ljDFMcoyFrrvR/3B727dTF9vMSkUhZonz3vrgNot+Nr0vM9Dz/s6gqpHuLBL/uUDGHwXfbOkRfahaR3OLkuasQ3nG9D6kNcd3ZeqZAYzGXg9kW9KQfM1NMwWe/vZ5/gOEtLVxBXs7kFnVrLnKry7rry3P8/4/RH9Bi+4coweluJpAAAACXBIWXMAAC4iAAAuIgGq4t2SAAAB6klEQVQ4T32Tz08aURDHv7vgBoKYHmhkGyu9ICykQT1YSLoIR73ZHmtJjLHpH9TUmLQcSG9ce7YFDxIvJfZG20upllLsgSy/wsJz5/mC0l39JC9vZt7M7LyZfbiLTDbLaAnVEVnsNnRdZ8H5edAiWZhtSGKfQk+neTDB2FXsn2YTR+Wyzd+xgn8XF3C73UIDl8nmhC2BpsWYqqro9/vCAi4Hg0F+JkwTbAkSy8tCsuN05tiD9Po6ux8IQJZl3oPxeIyWdYVyqWTzd0xAJFMpFlpcxGg0wq+zM1SOjx19bx1jo9GAoigT+TYcEySTKfZwYQGmaXKdRko2rvzHVFlbz56zavULVldW+L1dLhd6vR4Mw+ByrVZDeGkJa2tPoMVieKrr1xVEIhH24/s3aNEoDyIoMJfLIZ9/j3A4DI/Hg0ehEF7t7eLenB+fDw+vEkSjGgtYXff7/ZNgot1uI5FYxcbGJra3d3Fy8hU7O6+RyWStmDj+tlqQ6+cNVq//5A2jL3i93smSJAmnpzUUCkUcHLy1Sn+M/f03KBY/olKpotvpQPpUOmL5/Dt8KBR4At/sLHw+H5QZBebIRLfbxdgaJTWURjoYDDAcDhGPx/HiZQ7S72aLnVtzJuNN6Pc1Oga9JmGZxmW9D1V9gEtwTsDMeKDk2wAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9Ti0UqDhYRcchQpYMFURFHrUIRKpRaoVUHk0u/oElDkuLiKLgWHPxYrDq4OOvq4CoIgh8gri5Oii5S4v+SQosYD4778e7e4+4dIDQqTDW7xgFVs4x0Ii5mc6ti9ysCGEAQUUQlZupzqVQSnuPrHj6+3sV4lve5P0evkjcZ4BOJZ5luWMQbxNObls55nzjMSpJCfE48ZtAFiR+5Lrv8xrnosMAzw0YmPU8cJhaLHSx3MCsZKvEUcURRNcoXsi4rnLc4q5Uaa92TvzCU11aWuU5zGAksYgkpiJBRQxkVWIjRqpFiIk37cQ//kONPkUsmVxmMHAuoQoXk+MH/4He3ZmFywk0KxYHAi21/jADdu0Czbtvfx7bdPAH8z8CV1vZXG8DMJ+n1thY5Avq2gYvrtibvAZc7wOCTLhmSI/lpCoUC8H5G35QD+m+BnjW3t9Y+Th+ADHWVvAEODoHRImWve7w72Nnbv2da/f0AkPdys6WKBBkAAAAGYktHRADoAAAAAOHnN2EAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfnBRYIKibJch7EAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAbFJREFUKM+l0E9IkwEYx/HvyzpsQQdPQrAkbxUIzku0Nt1hTkFlSAoW+l76R5eic5R1LzxF3WQeQm36NmurZc2DXcoW6xCUYdggEAdquvfdwT2PB8VcRok98BwfPs/vZxSWVpR9zAGAUsnhyuVL3H/wELfbA0DvubOICKqKiiAqHDt+gv7bdwAwCksrOvkyzfuZGXwNDYSbI3sTSyWHVCrJ3XsDXL92lUAwiNvtoae7C9FNUUS210o83RQfDY/oUCy2/VafaRJpaf23mEomOX/hIsHGRqYyGR6PjhBpaeVMZ3SHtJVThGfPX/zKuJ9WjXC4WVUVUanIslORrVbL5TKTr6f+U2wKhfR3RVEMwHEcVJWibeNyuSivr3Pj5i1OBwJ/Fq2xODVHvNTWHsWyEszn89R4vUSjHczNfWP+ex6jt8/Ur7OzFVmKa0UsK4Hff5J4fIK6unpyuSym2UM6/YrxJ+MYnz5/URGpEGODg4Sa2qiqOkRiYoyFhR9UVx+mo72T5eU13r7L7H61sLhI7mOON9PTABz0eKj3+fiQzWI7DgCn/P7dh7Zts7r6E9W/l70BbWER+Y26lCMAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkUsoRFEcxn8zTCSyMEmyuAtkYUpIlgwlRU1j1Hgs3HvHDDX3mu4d2VgqW2XhsfFa2FiztbBVSnmUbG2siI2m63/uqJnUKKdO59d3zvd1zncgeJg1Lbe6Byw778THolpyZlareSFEM7V00aWbbm44Fpug4vi8I6DW24jK4n+jIbXomhDQhIfMnJMXXhAeWMvnFO8Kh80lPSV8JtztyAWFH5RuFPlVccbnoMoMO4n4iHBYWMuUsVHG5pJjCfcLt6csW/KDySKnFK8rtrKr5s891QvrF+3pKaXLbGOMcSaJoWGwyjJZ8kRktUVxict+tIK/1ffHxGWIaxlTHKOsYKH7ftQf/O7WTff1FpPqoxB69rz3DqjZhsKW530deV7hGKqe4NIu+VcOYfBD9K2S1n4AjRtwflXSjB242ISWx5zu6L5UJTOYTsPbqXzTDDTdQN1csbeffU7uISFdTVzD3j50ZiR7vsK7a8t7+/OM3x/Rb5D3crO0K6pCAAAACXBIWXMAAC4iAAAuIgGq4t2SAAACNElEQVQ4T32Ty2sTURTGvzwm5Ek2CbVJzaIu0hgNxEhNFkmTZd2pCxPFBApCqitL3buQ/gUhoWAKCSJKiEFxIboQETFkEUM3gosKTlKlBlvbPJvH9d7pVC0z9geHe+bM3HvPd84ZHEc4EiHMxEdZlOIqIRgMkhMTE2DGfDEsQSGuRwiGQsJmjuOg0+mgVCqxt9fC4q3b4hcHnHQ45A9wu93E4/EIm7PZrBiV8v5DGSrR/4PLdZrYbDaoVCpotVro9XosL99FNHoVqVQK1WoVlUoF4/EY7U5XmkE0do00f2zBZDIJlsvlxDdSXr56LS8hNDdHrBaLkEEikUA6nUGp9FTIQK1WC7f7fD40f26LO2TwBwIkFouR4yg9e04kNThEzXH3pux2mM3m/9Zge2dHXoLfHyAcp4bVakWxWBSjUh49fnL0gEuXr5Ba7SPOeb3odrvo9/vo9Xpot9tQKBRoNBqw26fgoP230ezovPxto9PpJLu7v3BqehrD4VBo42AwQDKZxNLSHWxsfAHP8zS7C1hZuQ+j0Yh6vX4wyjMzLmKhVWdtYzczWLWZ7/Wex/z8RcTjN6n+T1hYWEQ4HKHzcgb9/X0o+c3vhOe/QqPRCG1j03doLO319c/I5wtYXU1jdvYsMpkUCoUXKJdr6DBpb96+I2trD/AwnxcOMNDUDAYDNJwGw9EQnU4H49FIkDWiK6sLk0bHHddvxKH4ttUkm7Q4LPgvrHitdgsg8j+iikqcnLThN47L+i6vOquvAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkTlIA0EYhT8TRRFFJClELLZQGw2IilhqFESIEKKCV+HuxsRAdg27ERtLwVaw8Gi8ChtrbS1sBUHwALG1sVK0kbD+sxEShAgODPPxZt5j5g0EDrOm5Vb3gGXnncRYVJuZndNqX6ihnma6COmmmxuOx2NUHJ93VKn1NqKy+N9oTC65JlRpwkNmzskLLwoPrOVzineFw+aynhQ+E+525ILCD0o3ivyqOO1zQGWGnanEiHBYWEuXsVHG5rJjCfcLtyctW/IDM0VOKl5XbGVXzZ97qhc2LNnTk0qX2cYY40wQR8NglQxZ8kRktUVxSch+tIK/1ffHxWWIK4MpjlFWsNB9P+oPfnfrpvp6i0kNUah59rz3DqjdhsKW530deV7hGIJPcGmX/CuHMPgh+lZJaz+Apg04vyppxg5cbELLY053dF8KygykUvB2Kt80C6EbqJ8v9vazz8k9TElXsWvY24fOtGQvVHh3XXlvf57x+yP6DVyYcp4hKAl2AAAACXBIWXMAAC4iAAAuIgGq4t2SAAACJElEQVQ4T4WST2gTQRjF325212BCBS8mpZItJVCCgcRWL2ogGyRYNAgF6cGTggdPnpRa8FAw0OJNDy0oHkIvghAsvRRCvdhChZhGJIkINiExFWJI86fZJGa3801jL4J+MHwzs7+3b/bNCm8S782m3sa/Sj3jgDbpF2guvFpdM2euhdHt99GjYRjomyZMNqhSqRQq+w2oDidCF84LIj0wCOr1+OjqOtqtFprNJhqNBu93rk/he/kHEh+TpkgweYmCANligVWWoUgSJFGEwPaq1SperKygXa9hY2sTTGBy+Oqal/ftnR3kS6VjkaZpCAaDiEQiGBk5C7FvMgcGbtz4wgVXJiZwbmzsLycqYkVzcKTU40dckMxmkdndRTqX406lchm1Wo2LiJUMlgyBkwvP+Mdf9HhgUBCDQcnpLAwLYzj7u3/k8OC1DJHZb6bTyBQKyOTzKO7tHQdBnViRVGT3/O6RU8Dvh1dV4R0dhTo8zPcIltnLiJUMgwmYw5O5OdTrddjtdrjdblitVvh8Pn5xOrub7NdvuHlrhqU0cHgajUJRFITDYYRCGs8/FovxTuvA5UvY3vowEDCH+y9FuFwulrULS0vLDJrC7Ow877QeH/fgV6UCqdPpMBxYvgcsLvZQLFYwPX0b8fhbdsQqhoZO83UuV0CXpSXRv/KnkunPiL9b5XNFOQGH04mfyU9YT6zDZrMhENQgPIwumPsHLQ79r06dtOEQLRMJwmlQtNQAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0UrDhaU4pChOlkQFXHUKhShQqkVWnUwufQLmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi6uKk6CIl/i8ptIjx4Lgf7+497t4BQqPCVLNrHFA1y0gn4mI2tyoGXxFAL4KIYFBipj6XSiXhOb7u4ePrXYxneZ/7c/QpeZMBPpF4lumGRbxBPL1p6Zz3icOsJCnE58RjBl2Q+JHrsstvnIsOCzwzbGTS88RhYrHYwXIHs5KhEk8RRxVVo3wh67LCeYuzWqmx1j35C0N5bWWZ6zSHkcAilpCCCBk1lFGBhRitGikm0rQf9/BHHH+KXDK5ymDkWEAVKiTHD/4Hv7s1C5MTblIoDgRebPtjBAjuAs26bX8f23bzBPA/A1da219tADOfpNfbWvQI6N8GLq7bmrwHXO4AQ0+6ZEiO5KcpFArA+xl9Uw4YuAV61tzeWvs4fQAy1FXyBjg4BEaLlL3u8e7uzt7+PdPq7wcllnKI7QJDVQAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFCwgeFvbyUt0AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABKElEQVQoz6XPMUtCcRSG8eeCqR8ktKEaJYMw/QYtFUQQFFREUIM4GEEYRAkN0dQSQQWFIBQ4lSlKBA1SLQ2B9BlsuH/v9ZwGtYQIC9/5HH48VuX1TQGMbbORiLO9m8bn9wOwvrKEiqIoIoKK0B8IshZPYLUfy8UCL89PDA4NMzYepds8ba2YvyW5lSK1mSQ0Esbn97O6uICKoKqIKiqCiHB0ctoUS4U7spnL1hFMTE4Rica6i4X8DdMzs4TCozzcl8ldXxGJxlien/tSRAWVZuvx+cV343/nAZot7YaOlk5FWq2NRoOzTLZH8beWtiIiOI5D3RiMMeTyxR7Ej1qN/b0d3qvVH4rruhjbxhhDvV7HdR0CwQHSB4dYpceKGmMj8jfYsqDP6+UTS3LlTs6Kx84AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkTlIA0EYhb9EJeKBhQFFLLZQKwOiIpYaBREUQlTwKtzdmChkN2E3wcZSsA1YeDRehY21tha2giB4gNjaWCnaiKz/bIQEIYIDw3y8mfeYeQPBg7RpudU9YNk5Jz4W1Wbn5rXQMzXUE6KNFt10s8Ox2AQVx8ctAbXeRFQW/xuNiWXXhIAmPGRmnZzwkvDAWi6reEc4bK7oCeFT4W5HLih8r3SjyC+KUz4HVWbYmY6PCIeFtVQZG2VsrjiWcL9wR8KyJT84W+SE4nXFVjpv/txTvbBh2Z6ZUrrMdsYYZ5IYGgZ5VkmTIyKrLYpLXPajFfxtvj8mLkNcq5jiGCWDhe77UX/wu1s32ddbTGqIQs2T5711QmgLvgqe93noeV9HUPUIF3bJnzmAwXfRCyWtYx+aNuDssqQZ23C+Ca0PWd3RfalKZjCZhNcT+aY5aL6GuoVibz/7HN/BtHQ1cQW7e9CVkuzFCu+uLe/tzzN+f0S/ASWWcoi7xtRwAAAACXBIWXMAAC4iAAAuIgGq4t2SAAABuElEQVQ4T32Tu04CQRSGf9gLEKQgYmQN2qACNhpNCBSAPoKXRHoqtcWeh6A0EtGChMZoY7QwitGEgpcwoBJvhSD3cWcYUbKjXzKZ//xz2TNnZ/AfyysrhDYeCjHz3kAkEiHu8XHQRjW3DZh4P0QkGmWLKYT01z5VqyhcXxvmCzN4fXmBLMs8AtPUE2HYIBCYI5qmodFocAdMu91uNsatAYYN5hcWuDIiGhPWIBqLkTGXCxaLBTabjXm1Wh1b2ztMfzM5NcWVgFA4TBKJhF7Dv7m5vSMSn29AVpTUzPQ0rFYrksldxOObSKfTKJVKKBaL6PV6qNU/xUcIhcJEUWR4vV5kMhnuGjk7v8BQBqtr66TZbKZ8s7Ps7JIkweFw/JNB/ScDn89HaNE8Hg+LqVZVFblcjsUijk9O+xn4/QHico2yRXptoCgKuzxUO53OPzN4e3+H6b7ySPwzXgSDQZjN5sGvo32r1UI+n2dfE3GQPYTp8qpA9vf3cJTNsorbR0Zgt9uhKiq7Jb1uF+1OB512m21IW0ePF5eWsLa+AdND9ZlUymW09Qm/odf3o/ZBXxN3hpH0I2raBL4ARzrLEHEzjREAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TtSIVQTuIOESoThZERRy1CkWoEGqFVh1MLv0QmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi6uKk6CIl/i8ptIjx4Lgf7+497t4BQq3ENKttDNB020wl4mImuyKGXtGBEHoxhJjMLGNWkpLwHV/3CPD1Lsaz/M/9ObrVnMWAgEg8wwzTJl4nntq0Dc77xBFWlFXic+JRky5I/Mh1xeM3zgWXBZ4ZMdOpOeIIsVhoYaWFWdHUiCeJo6qmU76Q8VjlvMVZK1VY4578heGcvrzEdZqDSGABi5AgQkEFGyjBRoxWnRQLKdqP+/gHXL9ELoVcG2DkmEcZGmTXD/4Hv7u18hPjXlI4DrS/OM7HMBDaBepVx/k+dpz6CRB8Bq70pr9cA6Y/Sa82tegR0LMNXFw3NWUPuNwB+p8M2ZRdKUhTyOeB9zP6pizQdwt0rXq9NfZx+gCkqavkDXBwCIwUKHvN592drb39e6bR3w+B0XKtPX19MwAAAAZiS0dEAOgAAAAA4ec3YQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cGBxInIsUFyBwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACEElEQVQoz42STWhTURCFz9ybvOaH1NtYF2JVpPBqUAwiGNSt4sZSdFkUBX/AVa0pdm1RKVGLjydoFVHciW6kS10UBLEbUREKFsSVAdukLWnz8967d1xIYiwh5uxm5mPOYRja7OwVGvomgIv4o5cArq6MzFfQJOWm40zVSdJiGAATy6dCeuMhDb4D4Z1HkJgEhEZodRSQAHC5eQFpnYMMThFHJ5hYsqxc10ZWoVw7r5zUSB3cdH/grHLtWt/Wk+KfBI69qpw9Z+p1z719WeWkfgkYCA77lb9OXAS0oF7TWLDtBQQEYuQn/AZnIovEiJNy7OcQyJC2LrGvqhQuPGOpd5O2npCXGDddtQhx5QZL7xyMXKAgeRrwo2yVHrAJfRUmWc7C4AfLyiwi+Q9MukjausDkHTddhQWItW8svSMwkWFALrG1OMfWyiyMXOIYjVE9UnLq4C4OuruXr739DADJu5m4Ca29h/B/yiA2WBj9FABAT+5ommSpVMzOfcf/lJzaP6Pc/ul2jGg3ZKEtGBlvx1BL59yhPhMtvAJ0BgBgrI/E4RPLV77kO0pgooXbgI5SbcsB4fWmIbRk8qfRqZTbX1KuPdT0NIPKsYPUsSHq8AayDIidjURWeTuA9fk3r3kjGWp5GG09ZvJuKceOADIM7Y0B8lFLq1bNHZx5tz5QEGCMQPBh0uGHJuZP1GaK/kb2N5UT1K1lBpuKAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAABhWlDQ1BJQ0MgUHJvZmlsZQAAKM+VkT1Iw1AUhU9btVIqInYQcchQnSyIiuimUShChVArtOpg8tI/aNKQpLg4Cq4FB38Wqw4uzro6uAqC4A+Iq4uToouUeF9SaBEq+ODyPs5753DffYC/VmKa1TEGaLptJuOikM6sCsFXdCGEPqoZmVnGnCQl0HZ93cPH97sYz8L/Vo+atRjgE4hnmWHaxBvEU5u2wXmfOMIKskp8TjxqUoPEj1xXPH7jnHfZzzMjZio5TxwhFvItrLQwK5ga8SRxVNV0yvenPVY5b3HWShXW6JO/MJzVV5a5TjWEOBaxBAkCFFRQRAk2YrTrpFhI0rnYxj/o+iVyKeQqgpFjAWVokF0/+B/8nq2Vmxj3ksIi0PniOB/DQHAXqFcd5/vYceonQOAZuNKb/nINmP4kvdrUokdA7zZwcd3UlD3gcgcYeDJkU3alAJU/lwPez+ibMkD/LRBa8+bWOMfpA5CiWSVugINDYCRP2ett3t3dOrc/77jzg/gDa0xypGYVSgQAAAAJcEhZcwAALiIAAC4iAari3ZIAAAFGSURBVDhPjZLNTsJAFIXPtFieQAqLuhWVtboSFiwVIk8qJmrUTVEeAf9ZaaMSWcGGtjMd506mjQ2z8Etu5s7pOb3TSRkUvX5f0vpfzodDxo5PevLwYB+ccyMDUkpkWaZLCFGsVNVqFQ+PT6jQJk1TRFGEz69vEwX2dne08fnl1SjqhZlAo9HQupNPev+IcHV5wahIWywWWC6X+iS5LjIJz/O05mw3m7gfj3F7c62/lxCCI45jJEmi+xzyvE2noExh/stRuy3rvq+P9DOf4240WvM5Zi2RpjQxURO57m1Yg1xdFj1izDX9OvaJPFWhChxnQ/c2rMFEHdN1PV3U27AGV/GqCFJvoxQ8HQxkEASythmonavLr22BNHqmTYbSNft+XXa7A/3LCUG+3MsQhmeYzb4LfynY7nTkZDIxuzKtVgujMDR+4Bfjb7fb2lfCogAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAABhWlDQ1BJQ0MgUHJvZmlsZQAAKM+VkT1Iw1AUhU9btVIqInYQcchQnSyIiuimUShChVArtOpg8tI/aNKQpLg4Cq4FB38Wqw4uzro6uAqC4A+Iq4uToouUeF9SaBEq+ODyPs5753DffYC/VmKa1TEGaLptJuOikM6sCsFXdCGEPqoZmVnGnCQl0HZ93cPH97sYz8L/Vo+atRjgE4hnmWHaxBvEU5u2wXmfOMIKskp8TjxqUoPEj1xXPH7jnHfZzzMjZio5TxwhFvItrLQwK5ga8SRxVNV0yvenPVY5b3HWShXW6JO/MJzVV5a5TjWEOBaxBAkCFFRQRAk2YrTrpFhI0rnYxj/o+iVyKeQqgpFjAWVokF0/+B/8nq2Vmxj3ksIi0PniOB/DQHAXqFcd5/vYceonQOAZuNKb/nINmP4kvdrUokdA7zZwcd3UlD3gcgcYeDJkU3alAJU/lwPez+ibMkD/LRBa8+bWOMfpA5CiWSVugINDYCRP2ett3t3dOrc/77jzg/gDa0xypGYVSgQAAAAJcEhZcwAALiEAAC4hAQdb/P8AAAFcSURBVDhPjZLPSwJBFMe/s+vqUaGDmW2nAoWEKPNYnosU/EsrKqiTRd06BEZKeVNhE6OywPbXvGbGVdqaQx/28d68+X6ZmccyCMq1Osn8X26PjxjbPKjRWqUC7gdRGyAiEOegkIPzEJxEDkQOQ1ipFHqdNtjG3j6tbpXxMujj1XEiK2AXiko4eHqMOgKxzuRyeBsOYYTB9KRRv4+7s1MmQ/Ym4zEmnx+Q9bwvbpJIJlXPyBcK6Nxco3Vxrt4rIbHhuy4C11P1DKlxul1Iz1z8k+LOLmWyWXXV8WiE9tXlH50R5RjyKr7nIRADmz3lN3qj5wPMEJ85rTVojUHog5kJMMtStQ69UQzFENOTIWsdWqPvfsGwhFGErHXEjNuNBi0s25ResgHTVJHJr0D25F4kU8TGnM4uUqnekP8cQi51My3Dw8kh3p+duT5mLFar1LtvRas49noJ7WYz0gPfaLuykwTqJnIAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABgmlDQ1BJQ0MgUHJvZmlsZQAAKM+VkU0oRFEcxX9miDSizEKyeAusTIRkyVCToqZBGSy898YMNe+Z3hvZWCrbKQsfG18LG2u2FrZKKR8lWxsrYiM9//tGzaRGuXW7v86953TvuRA4yJqWW90Dlp13ErGoNpOc1WqfqSFEE90EddPNDcfj41QcH7dUqfUmorL432hILbomVGnCQ2bOyQsvCA+s5XOKd4TD5pKeEj4V7nLkgsL3SjeK/KI443NAZYadqcSIcFhYy5SxUcbmkmMJ9wu3pyxb8gMzRU4pXldsZVfNn3uqF4YW7elJpctsI8YYE8TRMFhlmSx5IrLaorgkZD9awd/q++PiMsS1jCmOUVaw0H0/6g9+d+um+3qLSaEo1Dx53lsH1G7BV8HzPg897+sIgo9wYZf8Kwcw+C56oaS170PjBpxdljRjG843oeUhpzu6LwVlBtJpeD2Rb0pC8zXUzxV7+9nn+A6mpKvxK9jdg86MZM9XeHddeW9/nvH7I/oNQUlyk6fcG6sAAAAJcEhZcwAALiIAAC4iAari3ZIAAAIwSURBVDhPdVNLaBNRFD3jTJs0iQnWtqC2uLEWUlxIUBBxWQjqRigoaNxoEQSRKiIuKqILQRA/hIiCCwviDxoURLGCiJLGT6AhUGvTJjYfpTGdNGknE83n+uZlNASTA3eYuee8e+57746ABhi5vUjpLPH3DpuAS8fWNtTVJU9eTdA2uxk7tpixvlPiue8/S5gIKfg0peDG6e6GRTB0cZpm43kqlUpULBbrQstpnKbR5TUMnvpAX6M5KhQKpKoq7XS9rQv/5ALnNI2m1ZdhlfbY3m9Gd5cI5gLmAtfedTx2bbUil8vBH0xxTtNo27p8Z5IXEJ1DL+joYC9sZgFExKNvYyva27KIz89BTi/AZpCh5uKIRqMwSSvwB+bgfXTzAuy7vbSYWSFZlimVSlE4PEvBYIiue56wOs3x3jdBkiSZANaEqv5CNruMSqUCUWzB83dLsG8ah8dzC17vGNxuN5iY8w6Hg+lVCPtOBOjskR60m1Te8l9EIjNwOgf0r//x8tV49Z6v3E3SgYEWlMtlTmg4fv4Nhl0dTZ3TcqYq3H/mBwVCy5RMLlEikeGx5/Dj6uaawPv0Gf2bGNe5DA0fNGJDJzsC1r3P9xoWi6GpcyyR1FfqOMQKXBtV6GPwN90bHdM9GuP+g4c159DUF4p8S+PztBEzcQti82EUlRiMrQrWtMno6SrBZjVitdUKSRTRu7mv9mNEYwk2mnnelppXoShK3ekLggCD0QCTycyuUhtM4A+OzZgJPZUHrgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAALCAYAAABGbhwYAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS1WqInYQcchQnSyIijhqFYpQIdQKrTqYXPoFTRqSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxdXFSdJES/9cUWsR4cNyPd/ced+8AoVZimtUxDmi6bSbjMTGdWRWDrwigF13oR0hmljEnSQl4jq97+Ph6F+VZ3uf+HD1q1mKATySeZYZpE28QT2/aBud94jAryCrxOfGYSRckfuS64vIb53yDBZ4ZNlPJeeIwsZhvY6WNWcHUiKeII6qmU76QdlnlvMVZK1VY8578haGsvrLMdZrDiGMRS5AgQkEFRZRgI0qrToqFJO3HPPxDDb9ELoVcRTByLKAMDXLDD/4Hv7u1cpMTblIoBgReHOdjBAjuAvWq43wfO079BPA/A1d6y1+uATOfpFdbWuQI6NsGLq5bmrIHXO4Ag0+GbMoNyU9TyOWA9zP6pgwwcAt0r7m9Nfdx+gCkqKvEDXBwCIzmKXvd492d7b39e6bZ3w8AS3J5R6xfBwAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFDgkROnWuuPQAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABPUlEQVQY023OzUsCQQBA8TcqfpSwa7uQYKXmpbAuJVT7j0fBnvtgK0LFArVod2mDNF0EYWZgupR06Hd6xyf4MXp9M9PJJ8vlEoBSqcSG49Jq7AgAAdDtD8x89kVrt4njOABMJhNG4xcsu8Jhe1+I4fjVxFFI5/iIfD7PX1JKgrt7alvb5JLknUa9TjabZTgcEgQBAJ1Oh2azSaNeJ4xjMuk8xbYtpJT4vk8YhoRhiO/7SCmxbYt0npLTWqO1BmA6nTKbzQDQWqOUWnWmUCySJB8opfA8b/XneR5KKZLkg0KxiOgPnk2/1+Xs9AQhBMYYgFVfXd/QPjgks1mt4rgu5xeXRFGMMWAMRFHM+cUljuuyWa2ScyuWuHt4NI7jchsELBYLAMrlMrXaFmvr67gVS4jfp97gyfCPg/09AfANwseSxMxvrXsAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABg2lDQ1BJQ0MgUHJvZmlsZQAAKM+VkUsoRFEcxn8zyKORhVGSxV0MK0pIlgwlRU1j1AwW7r1jhpp7TfeObCyVrbLw2HgtbKzZWtgqpTxKtjZWxEa6/ueOmkmNcup0fn3nfF/nfAeCBznTcqt7wLILTnwsqiVTM1rtMzW0UE8Tbbrp5odjsQkqjo9bAmq96VZZ/G80phdcEwKa8JCZdwrC88IDq4W84h3hsLmop4VPhbscuaDwvdKNIr8ozvocVJlhJxEfEQ4La9kyNsrYXHQs4X7hSNqyJT+YLHJa8ZpiK7di/txTvTC0YE9PKV1mO2OMM0kMDYMVlshRoFtWWxSXuOxHK/jbfH9MXIa4ljDFMcoyFrrvR/3B727dTF9vMSkUhZonz3vrgNot+Nr0vM9Dz/s6gqpHuLBL/uUDGHwXfbOkRfahaR3OLkuasQ3nG9D6kNcd3ZeqZAYzGXg9kW9KQfM1NMwWe/vZ5/gOEtLVxBXs7kFnVrLnKry7rry3P8/4/RH9Bi+4coweluJpAAAACXBIWXMAAC4iAAAuIgGq4t2SAAAB7klEQVQ4T5WSS0xTQRSG/zu33fFYGdJF17BS08tGE3YGFuICmgrojkCIC8FECjtIWAnIrilNMGgAeRRtCyVo7A6Npg12oeHVEjHlsS4p5XVJjzPDhZRAbuo3i3PmzPyTf+aMggJxd3WTkWJwoP9Sx4xoihA7nfV40dFuVP4DIV76ukSJxAblu7jAYkRTSkuKMfJm9Ir1i8MKusLpqY7HLuelSMSO9udyrSAHuq7j4CAjD+FQa0szVlfX5JppFwKhOcpm9mX+6/eKjPk0PXlqZDewsPiJXg8NkRnfvv+gGx2E5sO0nUqhpLgINpsNXu8wgsEAPB4PLBYLcrkcNE1DJnt4/QofAkFKcXGlQ0N4IYyB/lfGynU+f4lANXLJzOxH+rv1B/fvVWFuPmRUCZ2dbjQ2NkgH8XgcsVhMusge5jmYnPbTFhdXP6iFf3YcDq0S8Z/Lpg74Vc//wdjEJCUTSTx66JLi23fuoqnBJQ+PRCKoq6sXqXTg8/n4m3gRjUZle/FubIJ6evtofX1PflUxl7s5Ym7G+6lpUl663fSsrQujbz0oK7uF6poaMMaQTqexuZnE7s4Ojk9OoCiKrIsohqC8ogLK1IyfhB273Q4Hf3mmqrxVKs70MxwdH0FlKqxWK68zGcVc5a1U+T7GGP4BgBQJdqV6GiMAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV/TSkWqDhYp4hCwOlkQFXHUKhShQqgVWnUwufRDaNKQtLg4Cq4FBz8Wqw4uzro6uAqC4AeIo5OToouU+L+k0CLGg+N+vLv3uHsHCPUS06zAGKDpFTOViIuZ7IoYfEUAEfSgH0Mys4xZSUrCc3zdw8fXuxjP8j735+hWcxYDfCLxDDPMCvE68dRmxeC8TxxmRVklPiceNemCxI9cV1x+41xwWOCZYTOdmiMOE4uFNlbamBVNjXiSOKpqOuULGZdVzluctVKVNe/JXxjK6ctLXKc5iAQWsAgJIhRUsYESKojRqpNiIUX7cQ//gOOXyKWQawOMHPMoQ4Ps+MH/4He3Vn5i3E0KxYGOF9v+GAaCu0CjZtvfx7bdOAH8z8CV3vKX68D0J+m1lhY9Anq3gYvrlqbsAZc7QOTJkE3Zkfw0hXweeD+jb8oCfbdA16rbW3Mfpw9AmrpK3gAHh8BIgbLXPN7d2d7bv2ea/f0AZphyovX12KAAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfmBBgOKgbgcs+YAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAzFJREFUOMuVlWtMFGcUht8Ztt1lZmFwZlmWXXZZkF0tEW1TI02s2kvU/miJicaUeMFoURtquDRYTdqGhhAjRkNL0ia9gReIrRVawRQjmqz+MsbourUlbUkI7sLOfLNovKS2Ro+/WGbKboBJ5s98532+c857cgZEhBv7D9rivuA+vXKNSESYyxtp2WFVg4FGdV25nYiA29uarJri7mQQY0xReu9vXGWfLexiS5NVz8n9RocYZRbpl/tvrsiG6vSsZxBuMwhRBiGqyfKZeytfE2aC/bl/3/MJr+u7SR2DEE14Cutw7dtfOSbP22s80CSpj214PSsd7LeP662ay9Vh1MRF5xeRtnYLiAgNoS2cruR+qBsCmJTdx8pXTCv/yieNNt1b0KkZYlV3YfuNjs4MIkIyEKFD0HIdDcZb9eyc/sSqsmSmQ427bczpOmqMUeX8tqHWpowkx3h79NjbmHDk1Zqgotz/6K2XskZ2VlrVIv8JU5kF8z+/2laXYWRM68/aB+dxx6Hs0Q1GMUk6q3r93UbYmE0+3Nt9iv+/PmXTK4+v5nRBqTH2VIc4lVm+70i4d4BPpU07FruadnFqib/OZBSEaNzhODxyqJ9Pp+OR5ql5LGdydx++QgBn/P6c/m+pZeADKZ0uJfCPvR+JzpOnjkJ/+CoAIgAcOA4AnuJJWWaIdccWlsmptBwRmWH1taLSdfL7DPZgOQEgAOSe18U/fTSM+D+fTsZZeD7yX6m4yRmJT5gAxvqHq6oEtaj4tMnN0iWtPw528USEiSLvexqEWNIoi3ROe7lYTmnK37U1dtVd8JMRNu4qaPk6HE4agOvt0Is91cwAZYI0OFoWVEzAa9XvZ2l5bhNsbOGiAz9Ebk5z82LPu5zqd29nEKcyzcwZHF0WyCUi4NZnrXZVVnpMo1Hob/750vW0o9HXcZNTS/K3GzPVefuFkaWL8hAv9lUktwyE6FjJC80N2h1+xn0IAgt4qiZ7qkGIxRYE6rF56BYSLs8ODUJ0fPGLzV9duszPemP/fpxjQe9WDWJszOc7WD16jAcR4Z3QAW68fEn5l3+p/Fx/AYGWIEbeWLa8gsIcEeEZsTM0Y8K17+YAAAAASUVORK5CYII=\"","<template>\n  <div class=\"leftPanel\">\n    <div class=\"static sticky flex items-center h-28px z-1000\">\n      <span\n        :class=\"{ grey: !store.can_back(), 'cursor-pointer': store.can_back(), 'hover-darken': store.can_back() }\"\n        class=\"bold p-4px unselectable icon\"\n        @click=\"store.back\"\n        title=\"Back\"\n      >\n        \n      </span>\n      <span\n        :class=\"{\n          grey: !store.can_forward(),\n          'cursor-pointer': store.can_forward(),\n          'hover-darken': store.can_forward(),\n        }\"\n        class=\"bold p-4px unselectable ml-4px icon\"\n        @click=\"store.forward\"\n        title=\"Forward\"\n      >\n        \n      </span>\n      <span\n        :class=\"{ grey: !store.can_undo(), 'cursor-pointer': store.can_undo(), 'hover-darken': store.can_undo() }\"\n        class=\"bold unselectable ml-5px imgBt\"\n        @click=\"store.undo\"\n      >\n        <img title=\"Undo\" class=\"max-w-24px max-h-28px align-bottom\" src=\"/assets/icons/undo.svg\" />\n      </span>\n      <span\n        :class=\"{ grey: !store.can_redo(), 'cursor-pointer': store.can_redo(), 'hover-darken': store.can_redo() }\"\n        class=\"bold unselectable ml-4px imgBt\"\n        @click=\"store.redo\"\n      >\n        <img title=\"Redo\" class=\"max-w-24px max-h-28px align-bottom\" src=\"/assets/icons/redo.svg\" />\n      </span>\n\n      <div class=\"absolute right-60px\">\n        Sort\n        <select class=\"h-24px p-2px !text-sm\" v-model=\"settings.sort\">\n          <option value=\"none\">No Sorting </option>\n          <option value=\"asc\">Ascending </option>\n          <option value=\"desc\">Descending </option>\n          <option value=\"type\">Type</option>\n        </select>\n      </div>\n      <span\n        @click=\"store.goto(store.get_selected())\"\n        class=\"align-middle absolute h-20px p-2px hover-darken cursor-pointer imgBt right-30px\"\n      >\n        <img title=\"Goto Selected\" src=\"/assets/icons/vertical-alignment-24.png\" />\n      </span>\n      <span @click=\"uistate.collapse_all\" class=\"align-middle absolute right-0 p-2px hover-darken cursor-pointer imgBt\">\n        <img title=\"Collapse All\" src=\"/assets/icons/collapse-all.svg\" />\n      </span>\n      <ErrorIcon :errors=\"catalogue.errors\" showNumber clickable class=\"z-1\" />\n      <!-- <img\n        @click=\"uistate.collapse_deepest\"\n        class=\"align-middle absolute right-0 p-2px hover-darken cursor-pointer\"\n        title=\"Collapse Last Open Level\"\n        src=\"/assets/icons/collapse-all.svg\"\n      /> -->\n    </div>\n    <div class=\"top rightborder scrollable\" ref=\"scrollable\" @scroll=\"onscroll\" @keydown.capture=\"keydown\">\n      <CatalogueLeftPanelComponentsCatalogueEntry\n        class=\"mb-40px w-full\"\n        :item=\"catalogue\"\n        grouped\n        id=\"editor-entries\"\n        :showImported=\"showImported\"\n      />\n    </div>\n    <div class=\"bottom static\">\n      <span v-if=\"!catalogue.isGameSystem()\">\n        <input class=\"cursor-pointer\" v-model=\"showImported\" type=\"checkbox\" id=\"showimport\" />\n        <label class=\"unselectable cursor-pointer\" for=\"showimport\">Show Imported</label>\n      </span>\n      <span> &nbsp;</span>\n      <span class=\"absolute right-5px\">\n        <input class=\"cursor-pointer\" v-model=\"ignoreProfilesRules\" type=\"checkbox\" id=\"ignoreProfilesRules\" />\n        <label class=\"unselectable cursor-pointer\" for=\"ignoreProfilesRules\">Ignore Profiles/Rules</label>\n      </span>\n      <input v-model=\"filter\" ref=\"editor-searchbox\" type=\"search\" placeholder=\"search... ctrl+f\" class=\"w-full\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { EntryPathEntry, getAtEntryPath } from \"~/assets/shared/battlescribe/bs_editor\";\nimport type { Catalogue, EditorBase } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { get_ctx, useEditorStore } from \"~/stores/editorStore\";\nimport { useEditorUIState } from \"~/stores/editorUIState\";\nimport { useSettingsStore } from \"~/stores/settingsState\";\nimport { forEachParent } from \"~/assets/shared/battlescribe/bs_helpers\";\n\nimport { LeftPanelDefaults } from \"./LeftPanelDefaults\";\n\nexport default defineComponent({\n  emits: [\"scrolltop\"],\n  setup() {\n    return { store: useEditorStore(), uistate: useEditorUIState(), settings: useSettingsStore() };\n  },\n  data() {\n    return {\n      ...LeftPanelDefaults,\n      ...this.defaults,\n      shouldScrollTo: undefined as number | undefined,\n      shouldScrollToElement: undefined as Element | undefined,\n    };\n  },\n  async mounted() {\n    this.load();\n    addEventListener(\"keydown\", this.keydown);\n    addEventListener(\"copy\", this.copy);\n    addEventListener(\"paste\", this.paste);\n    addEventListener(\"cut\", this.cut);\n  },\n  unmounted() {\n    removeEventListener(\"keydown\", this.keydown);\n    removeEventListener(\"copy\", this.copy);\n    removeEventListener(\"paste\", this.paste);\n    removeEventListener(\"cut\", this.cut);\n  },\n  props: {\n    catalogue: {\n      type: Object as PropType<Catalogue>,\n      required: true,\n    },\n    defaults: {\n      type: Object as PropType<{ showImported?: boolean }>,\n      default: {},\n    },\n  },\n  methods: {\n    onscroll(event: Event) {\n      this.scroll = (event.target as HTMLDivElement).scrollTop;\n    },\n    load() {\n      this.$nextTick(async () => {\n        this.shouldScrollTo = this.scroll;\n        if (this.selection) {\n          try {\n            let obj = getAtEntryPath(this.catalogue, this.selection);\n            const last = this.selection[this.selection.length - 1];\n            if (!obj && last.id) {\n              obj = this.catalogue.findOptionById(last.id) as EditorBase | undefined;\n            }\n            if (obj) {\n              const el = await this.store.open(obj);\n              if (el) {\n                const ctx = get_ctx(el);\n                await ctx.do_select();\n                this.store.mode = this.defaults.mode;\n                this.shouldScrollToElement = el;\n              }\n            }\n          } catch (e) {\n            console.error(e);\n          }\n        }\n      });\n    },\n    async set_scroll(scroll: number) {\n      const scrollable_el = this.$refs.scrollable as HTMLDivElement | undefined;\n      if (scrollable_el) {\n        scrollable_el.scrollTop = scroll;\n        scrollable_el.scrollLeft = 0;\n      }\n      this.$nextTick(async () => {\n        const scrollable_el = this.$refs.scrollable as HTMLDivElement | undefined;\n        if (scrollable_el) {\n          scrollable_el.scrollTop = scroll;\n          scrollable_el.scrollLeft = 0;\n        }\n      });\n    },\n    async scroll_to(elt: HTMLElement) {\n      this.store.scroll_to_el(elt);\n      this.$nextTick(async () => {\n        this.store.scroll_to_el(elt);\n      });\n    },\n    should_capture_copy(e: Event) {\n      // check if a popup is open\n      if ((document?.activeElement as HTMLSpanElement)?.isContentEditable) return false;\n      if (document.getElementsByClassName(\"veil\").length) return false;\n      if (getSelection()?.toString()) return false;\n      return true;\n    },\n    should_capture_paste(e: Event) {\n      // check if a popup is open\n      if (document.getElementsByClassName(\"veil\").length) return false;\n      const TAGNAME = ((e.target as HTMLDivElement)?.tagName || \"\").toLowerCase();\n      if ([\"input\"].includes(TAGNAME)) return false;\n      const ACTIVETAGNAME = ((document?.activeElement as HTMLDivElement)?.tagName || \"\").toLowerCase();\n      if ([\"input\"].includes(ACTIVETAGNAME)) return false;\n      if ((e.target as HTMLSpanElement)?.isContentEditable) return false;\n      if ((document?.activeElement as HTMLSpanElement)?.isContentEditable) return false;\n      if (this.$route.name !== \"catalogue\") return false;\n      return true;\n    },\n    async cut(e: ClipboardEvent) {\n      if (this.should_capture_copy(e)) {\n        e.preventDefault();\n        await this.store.cut(e);\n      }\n    },\n    async copy(e: ClipboardEvent) {\n      if (this.should_capture_copy(e)) {\n        e.preventDefault();\n        await this.store.copy(e);\n      }\n    },\n    async paste(e: ClipboardEvent) {\n      if (this.should_capture_paste(e)) {\n        e.preventDefault();\n        await this.store.paste(e);\n      }\n    },\n    async keydown(e: KeyboardEvent) {\n      if (this.$route.name !== \"catalogue\") return;\n      if (!e.target) return;\n      const tagName = (e.target as HTMLSelectElement)?.tagName?.toLowerCase();\n      const key = e.key.toLowerCase();\n      if (e.ctrlKey && key === \"f\") {\n        e.preventDefault();\n        (this.$refs[\"editor-searchbox\"] as HTMLInputElement).focus();\n      }\n      if (key === \"escape\") {\n        (this.$refs[\"editor-searchbox\"] as HTMLInputElement).blur();\n        this.store.filter = \"\";\n        this.store.update_catalogue_search(this.catalogue, this.filterData);\n      }\n\n      if (tagName === \"body\") {\n        if (key === \" \") {\n          /** Space */ e.preventDefault();\n          this.store.toggle_selections();\n        }\n        if (e.ctrlKey && key === \"z\") {\n          e.preventDefault();\n          await this.store.undo();\n        }\n        if (e.ctrlKey && key === \"y\") {\n          e.preventDefault();\n          await this.store.redo();\n        }\n        if (e.ctrlKey && key === \"d\") {\n          e.preventDefault();\n          await this.store.duplicate();\n        }\n        if (e.ctrlKey && key === \"l\") {\n          e.preventDefault();\n          await this.store.pasteLink();\n        }\n\n        if (e.altKey && key === \"arrowdown\") {\n          e.preventDefault();\n          this.store\n            .get_sorted_selections()\n            .reverse()\n            .filter((o) => !this.store.sortable(o))\n            .forEach((s) => this.store.move_down(s));\n        }\n        if (e.altKey && key === \"arrowup\") {\n          e.preventDefault();\n          this.store\n            .get_sorted_selections()\n            .filter((o) => !this.store.sortable(o))\n            .forEach((s) => this.store.move_up(s));\n        }\n\n        if (key === \"delete\") {\n          e.preventDefault();\n          await this.store.remove();\n        }\n      }\n    },\n    async update(data: { filter: string; ignoreProfilesRules: boolean }) {\n      return this.store.update_catalogue_search(this.catalogue, data);\n    },\n  },\n\n  computed: {\n    filterData() {\n      return {\n        filter: this.filter.trim(),\n        ignoreProfilesRules: this.ignoreProfilesRules,\n      };\n    },\n  },\n  watch: {\n    filterData: {\n      handler(data) {\n        this.update(data);\n      },\n      immediate: true,\n    },\n    showImported: {\n      immediate: true,\n      handler(v) {\n        if (v) {\n          this.catalogue.imports.map((o) => o.processForEditor());\n        }\n      },\n    },\n    shouldScrollTo(val) {\n      if (val !== undefined) {\n        this.$nextTick(() => {\n          delete this.shouldScrollTo;\n          this.set_scroll(val);\n        });\n      }\n    },\n    shouldScrollToElement(val) {\n      if (val !== undefined) {\n        this.$nextTick(() => {\n          delete this.shouldScrollTo;\n          this.scroll_to(val);\n        });\n      }\n    },\n  },\n});\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.leftPanel {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n}\n\n.top {\n  position: relative;\n}\n\n.bottom {\n  position: sticky;\n  margin-top: auto;\n  bottom: 0;\n}\n\ninput:focus::placeholder {\n  color: transparent;\n}\n\n.static {\n  background-color: rgba(0, 0, 0, 0.1);\n  border: 1px solid $box_border;\n}\n\n.rightborder {\n  border-right: 1px solid $box_border;\n}\n\n.enabled {\n  cursor: pointer;\n}\n\n.grey {\n  filter: invert(50%) hue-rotate(90deg);\n}\n</style>\n","export default \"__VITE_PUBLIC_ASSET__799f8a3d__\"","export default \"__VITE_PUBLIC_ASSET__a567bd58__\"","export default \"__VITE_PUBLIC_ASSET__e6f413e0__\"","export default \"__VITE_ASSET__9587b9ee__\"","<template>\n  <div class=\"h-full\">\n    <Head>\n      <Title>{{ loading ? \"Loading...\" : [cat?.getName(), `NR-Editor`].filter((o) => o).join(\" - \") }}</Title>\n    </Head>\n    <template v-if=\"error\">\n      <span>\n        {{ error }}\n      </span>\n    </template>\n    <template v-else-if=\"loading\">\n      <Loading :progress=\"loading_progress\" :progress_max=\"loading_progress_max\" :progress_msg=\"loading_progress_msg\" />\n    </template>\n    <template v-else-if=\"cat\">\n      <SplitView class=\"h-full\" draggable showMiddle id=\"catalogueView\">\n        <template #left>\n          <LeftPanel ref=\"leftpanel\" class=\"h-full\" :catalogue=\"cat\" :defaults=\"defaults\" :key=\"key\" keepalive />\n        </template>\n        <template #middle>\n          <CatalogueRightPanel :catalogue=\"cat\" v-if=\"store.selectedItem != null\" />\n        </template>\n      </SplitView>\n    </template>\n\n    <Teleport to=\"#titlebar-content\" v-if=\"cat && route_is_catalogue\">\n      <span class=\"ml-10px\">\n        Editing\n        <img\n          class=\"inline\"\n          style=\"vertical-align: -2px\"\n          v-if=\"self_or_imports_changed\"\n          title=\"This file or one of it's dependencies was changed by another program. \nYou may want to reload the system through the Systems tab\"\n          src=\"/assets/icons/warning_sign.png\"\n        />\n        {{ cat.name }} <span class=\"text-slate-300\">v{{ cat.revision }}</span>\n      </span>\n      <template v-if=\"has_unsaved_changes\">\n        <button class=\"bouton save ml-10px\" @click=\"save_all\"> Save All </button>\n      </template>\n      <template v-else-if=\"failed\">\n        <span class=\"status mx-2 text-red\">failed to save</span>\n      </template>\n      <template v-else>\n        <span class=\"status mx-2\">saved</span>\n      </template>\n      <template v-if=\"systemFiles && !systemFiles.allLoaded\">\n        <button class=\"bouton load ml-10px\" @click=\"load_all\"\n          >Load all\n          <span v-if=\"loading_all\">({{ loading_progress }} / {{ loading_progress_max }})</span>\n        </button>\n      </template>\n    </Teleport>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport LeftPanel from \"~/components/catalogue/left_panel/LeftPanel.vue\";\nimport { Catalogue } from \"~/assets/shared/battlescribe/bs_main_catalogue\";\nimport { useCataloguesStore } from \"~/stores/cataloguesState\";\nimport { useEditorStore } from \"~/stores/editorStore\";\nimport { ItemTypes } from \"~/assets/shared/battlescribe/bs_editor\";\nimport { useEditorUIState } from \"~/stores/editorUIState\";\nimport { showMessageBox, closeWindow } from \"~/electron/node_helpers\";\nimport { getNextRevision } from \"~/assets/shared/battlescribe/github\";\nimport { GameSystemFiles } from \"~/assets/shared/battlescribe/local_game_system\";\nimport { LeftPanelDefaults } from \"~/components/catalogue/left_panel/LeftPanelDefaults\";\n\nexport default defineComponent({\n  components: { LeftPanel },\n  data() {\n    return {\n      error: null as string | null,\n      item: null as ItemTypes | null,\n      systemFiles: null as GameSystemFiles | null,\n      loading: false,\n      loading_all: false,\n      loading_progress: 0,\n      loading_progress_max: 0,\n      loading_progress_msg: \"\" as string,\n      initial: true,\n      saving: false,\n      failed: false,\n      id: \"\",\n      cat: null as Catalogue | null,\n      defaults: {} as Partial<typeof LeftPanelDefaults>,\n      key: 1,\n      route: null as { catalogueId: string; gameSystemId: string } | null,\n    };\n  },\n  setup() {\n    return { cataloguesStore: useCataloguesStore(), store: useEditorStore(), uistate: useEditorUIState() };\n  },\n  mounted() {\n    this.store.init(this);\n    (globalThis as any).$catalogue = this.cat;\n\n    window.addEventListener(\"beforeunload\", this.beforeUnload);\n    document.addEventListener(\"keydown\", this.onKeydown, true);\n  },\n  updated() {\n    this.store.init(this);\n    (globalThis as any).$catalogue = this.cat;\n  },\n  unmounted() {\n    window.removeEventListener(\"beforeunload\", this.beforeUnload);\n    document.removeEventListener(\"keydown\", this.onKeydown, true);\n  },\n  activated() {\n    window.addEventListener(\"beforeunload\", this.beforeUnload);\n  },\n  deactivated() {\n    window.removeEventListener(\"beforeunload\", this.beforeUnload);\n  },\n  beforeRouteUpdate() {\n    if (this.id) {\n      this.store.save_state();\n    }\n  },\n  beforeRouteLeave() {\n    if (this.id) {\n      this.store.save_state();\n    }\n  },\n  beforeRouteEnter() {},\n  computed: {\n    has_unsaved_changes() {\n      const changes = this.store.unsavedChanges;\n      for (const key in changes) {\n        const val = changes[key];\n        if (this.cat && !key.includes(this.cat?.getSystemId())) continue;\n        if (val.unsaved) return true;\n      }\n      return false;\n    },\n    self_or_imports_changed() {\n      return this.file_changed(this.cat as Catalogue) || this.cat?.imports?.find((o) => this.file_changed(o));\n    },\n    changed() {\n      if (!this.cat) return false;\n      return this.store.get_catalogue_state(this.cat as Catalogue)?.changed || false;\n    },\n    unsaved() {\n      if (!this.cat) return false;\n      return this.store.get_catalogue_state(this.cat as Catalogue)?.unsaved || false;\n    },\n    query() {\n      return {\n        gameSystemId: this.$route.query.systemId,\n        catalogueId: this.$route.query.id || this.$route.query.systemId,\n      };\n    },\n    route_is_catalogue() {\n      return this.$route.name === \"catalogue\";\n    },\n  },\n  watch: {\n    query: {\n      async handler(newVal) {\n        if (!this.route_is_catalogue) return;\n        if (JSON.stringify(newVal) === JSON.stringify(this.route)) {\n          this.$nextTick(() => {\n            this.store.$nextTickResolve && this.store.$nextTickResolve();\n          });\n        }\n        this.route = newVal;\n        const { gameSystemId, catalogueId } = newVal;\n        this.id = catalogueId || gameSystemId;\n        this.store.unselect();\n        try {\n          await this.load(gameSystemId, this.id);\n          this.systemFiles?.loadAll();\n          this.error = null;\n\n          // Resolve a promise in the store so that code elsewhere can wait for this to load\n          this.$nextTick(() => {\n            this.store.$nextTickResolve && this.store.$nextTickResolve();\n          });\n        } catch (e: any) {\n          console.error(e);\n          this.error = e;\n        }\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    file_changed(catalogue: Catalogue) {\n      return this.store.get_catalogue_state(catalogue).isChangedOnDisk;\n    },\n    async load_all() {\n      if (this.systemFiles) {\n        try {\n          this.loading_all = true;\n          await new Promise((resolve) => setTimeout(resolve, 0));\n          await this.systemFiles.loadAll(async (current, max, msg) => {\n            this.loading_progress = current;\n            this.loading_progress_max = max;\n            this.loading_progress_msg = msg ?? \"\";\n            await new Promise((resolve) => setTimeout(resolve, 0));\n          });\n          this.loading_progress = 0;\n          this.loading_progress_max = 0;\n          this.loading_progress_msg = \"\";\n        } catch (e) {\n          console.error(e);\n        } finally {\n          this.loading_all = true;\n        }\n      }\n    },\n    async save_all() {\n      try {\n        this.failed = await this.store.save_all(this.cat?.getSystemId());\n      } finally {\n        this.saving = false;\n      }\n    },\n    async save() {\n      try {\n        const increment = await this.store.prompt_revision(this.cat as Catalogue);\n        const incremented = await this.store.save_catalogue(\n          this.systemFiles as GameSystemFiles,\n          this.cat as Catalogue,\n          increment\n        );\n        if (incremented) {\n          notify(\"Incremented 1 catalogue's revision\");\n        }\n        this.failed = false;\n      } catch (e) {\n        this.failed = true;\n      }\n    },\n    async test() {\n      if (!this.systemFiles?.github) {\n        console.error(\"no github set\");\n        return;\n      }\n      console.log(\"revision\", await getNextRevision(this.systemFiles.github, this.cat as Catalogue));\n    },\n    async beforeUnload(event: BeforeUnloadEvent) {\n      if (globalThis._closeWindow) return;\n      if (!this.loading) {\n        this.store.save_state();\n      }\n\n      if (this.unsaved || this.store.unsavedCount) {\n        const message = \"You have unsaved changes that will be lost\";\n        event.returnValue = message;\n        if (electron) {\n          setTimeout(async () => {\n            const result = await showMessageBox({\n              message: \"You have unsaved changes that will be lost?\",\n              buttons: [\"Cancel\", \"Leave\"],\n              defaultId: 0,\n              cancelId: 0,\n              type: \"question\",\n            });\n            if (result === 1) {\n              globalThis._closeWindow = true;\n              closeWindow();\n            }\n          });\n        }\n        return false;\n      }\n    },\n    onKeydown(e: KeyboardEvent) {\n      if (e.ctrlKey && e.key.toLowerCase() == \"s\") {\n        e.preventDefault();\n        e.stopPropagation();\n        this.save();\n      }\n    },\n    load_state(data: Record<string, any>) {\n      this.defaults = data;\n    },\n\n    async load(systemId: string, catalogueId?: string) {\n      if (!catalogueId && !systemId) {\n        throw new Error(\"couldn't load catalogue: no id\");\n      }\n      try {\n        this.loading = true;\n        if (this.initial) {\n          await new Promise((resolve) => setTimeout(resolve, 10));\n          this.initial = false;\n        }\n        const { system, catalogue } = await this.store.open_catalogue(systemId, catalogueId);\n        this.systemFiles = system;\n        this.cat = catalogue;\n        if (catalogue) {\n          (catalogue as any).opened = true;\n          const data = this.uistate.get_data(catalogue.id);\n          this.load_state(data);\n        }\n      } finally {\n        this.loading = false;\n      }\n    },\n  },\n});\n</script>\n\n<style scoped>\n.save {\n  width: 100px;\n}\n\n.load {\n  width: 150px;\n}\n\n.status {\n  color: lightgray;\n}\n</style>\n"],"names":["removeUndefinedProps","props","value","setupForUseMeta","metaFactory","renderChild","ctx","useHead","_b","_a","Title","defineComponent","_","slots","_c","Head","_props","_sfc_main$17","str","__nuxt_component_0","_openBlock","_createElementBlock","_hoisted_1","_sfc_main$16","EditableDiv","newVal","valueStr","arr","o","_resolveComponent","_ctx","_cache","$event","_sfc_main$15","InputStringArray","generateBattlescribeId","id","obj","catalogue","_imports_0$5","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_6","_imports_0","_hoisted_8","_hoisted_10","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_4","_hoisted_5","_withDirectives","$options","args","_vModelText","_hoisted_9","$props","_Fragment","_hoisted_11","_createCommentVNode","_createVNode","_component_InputStringArray","_sfc_main$14","_sfc_render","$setup","$data","_sfc_main$13","_component_CatalogueRightPanelFieldsComment","_component_CatalogueRightPanelFieldsBasics","_component_CatalogueRightPanelFieldsPublication","_sfc_main$12","_vModelCheckbox","_sfc_main$11","_component_CatalogueRightPanelFieldsHidden","__nuxt_component_2","sortByAscending","isLineCondition","line","token","parseAutoSortConfig","lines","result","split","regexResult","AutoSortConfig","config","get","set","val","del","__publicField","items","i","item","element","rule","type","childs","sortByAscendingInplace","costName","cost","affected","child","_sfc_main$10","useSettingsStore","index","rect","half","visual_index","itemsWithIndex","idx","all_in","manager","autosorter","whitelist","catalogues","_withScopeId","_hoisted_7","_createTextVNode","__nuxt_component_1","_createBlock","_component_PopupDialog","_withCtx","_renderList","_normalizeClass","_toDisplayString","_renderSlot","_normalizeProps","_guardReactiveProps","_withModifiers","_sfc_main$$","useEditorStore","v","files","found","file","profileType","SortOrder","_createStaticVNode","_hoisted_15","_hoisted_16","_hoisted_17","_component_SortOrder","_sfc_main$_","_component_CatalogueRightPanelFieldsProfileType","_sfc_main$Z","_sfc_main$Y","_component_CatalogueRightPanelFieldsCharacteristicType","_sfc_main$X","getNameExtra","getName","_imports_0$4","_component_UtilAutocomplete","option","_sfc_main$W","_sfc_main$V","scope","_imports_21","n","_pushScopeId","_popScopeId","_hoisted_18","_hoisted_19","_hoisted_21","_hoisted_22","_hoisted_20","_hoisted_24","_hoisted_25","_hoisted_23","_hoisted_27","_hoisted_28","_hoisted_26","_hoisted_31","_hoisted_32","_hoisted_30","_hoisted_34","_hoisted_35","_hoisted_33","_hoisted_37","_hoisted_38","_hoisted_36","_hoisted_40","_hoisted_41","_hoisted_39","_hoisted_29","_sfc_main$U","_component_CatalogueRightPanelFieldsReference","_component_CatalogueRightPanelFieldsDescription","_component_CatalogueRightPanelFieldsQuickConstraints","_sfc_main$T","event","_sfc_main$S","res","elt","defaultValue","_imports_0$3","_component_UtilNumberInput","_sfc_main$R","field","selfValue","targetValue","target","parentkey","_imports_5","f","_sfc_main$Q","_component_UtilEditableDiv","_sfc_main$P","_component_CatalogueRightPanelFieldsCosts","_component_CatalogueRightPanelFieldsBooleans","_component_CatalogueRightPanelFieldsReadme","_sfc_main$O","newType","oldOption","characteristics","updatedDescription","existing","c","char","_sfc_main$N","_sfc_main$M","_component_CatalogueRightPanelFieldsCharacteristics","_component_CatalogueRightPanelFieldsAttributes","_sfc_main$L","_sfc_main$K","_sfc_main$J","_sfc_main$H","inBounds","regex","data","end","cur","el","query","regexStr","opt","a1","a2","_new","_old","_resolveDirective","_withKeys","_sfc_main$G","e","div","nested","key","avoid","avoidLeft","targetPos","payload","parent","_Teleport","_normalizeStyle","_sfc_main$F","AutocompleteTags","Tag","ContextMenu","category","cl","cat","primary","links","link","current","name","added","entry","_component_AutocompleteTags","selected","_component_Tag","input","_component_ContextMenu","_sfc_main$E","ref","_sfc_main$D","CategoryVue","targetLinks","targetIdx","setPrototype","categories","_component_CatalogueEditV2Categories","_component_Category","lnk","_component_ErrorIcon","round","num","formatCosts","costs","sortByDescending","_sfc_main$C","_sfc_main$B","Entry","_component_Entry","_sfc_main$A","_component_CatalogueRightPanelFieldsEntryType","_component_CatalogueRightPanelFieldsCreation","_component_CatalogueRightPanelFieldsCategories","_component_CatalogueRightPanelFieldsSortChilds","_sfc_main$z","forces","force","all","oldTarget","sysId","_imports_0$2","_sfc_main$y","_component_CatalogueRightPanelFieldsLink","_sfc_main$x","_mergeProps","_directive_click_outside","availableModifiers","availableTypes","nonBullet","OPERATION_SET","OPERATION_MULTIPLY","OPERATION_DIVIDE","OPERATION_MODULO","OPERATION_POWER","OPERATION_INCREMENT","OPERATION_DECREMENT","OPERATION_CEIL","OPERATION_FLOOR","OPERATION_APPEND","OPERATION_PREPEND","OPERATION_REPLACE","OPERATION_ADD","OPERATION_ADD_ERROR","OPERATION_ADD_WARNING","OPERATION_ADD_INFO","OPERATION_REMOVE","OPERATION_SET_PRIMARY","OPERATION_UNSET_PRIMARY","operations","_sfc_main$w","ErrorIcon","fieldType","fieldTypeName","currentValue","_default","_item","first","op","getModifierOrConditionParent","costType","constraint","deconstruct_affects_query","which","available","additional","__nuxt_component_3","_component_UtilIconSelect","_d","_e","error","getCatalogueName","getRoot","getRootIndent","count","recursive","iterator","indent","recursiveWithFilter","cb","getSearchElements","imported","getParentScopes","findSelfOrParentWhere","possibleParent","getAllPossibleParents","root","getSearchSelections","includeRootSelectionEntries","getSearchSelectionsWithCategory","getFirstAncestor","getSearchCategories","getSearchCatalogues","getDataObject","itemDepth","getParentUnitHierarchy","rootDepth","ind","getParentSelections","parentElements","scopeIsId","getFilterSelections","scopes","_sfc_main$v","PopupDialog","filterByItems","base","fields","built","construct_affects_query","_sfc_main$u","_imports_18","_imports_1","_sfc_main$t","_component_CatalogueRightPanelFieldsModifier","_component_CatalogueRightPanelFieldsComplexQuery","_component_CatalogueRightPanelFieldsQuickConditions","_sfc_main$s","_vModelSelect","_sfc_main$r","SCOPE_SELF","SCOPE_PARENT","SCOPE_FORCE","SCOPE_ROSTER","SCOPE_ANCESTOR","SCOPE_PRIMARY_CATALOGUE","SCOPE_PRIMARY_CATEGORY","common","common_non_forces_field","_sfc_main$q","_imports_22","_sfc_main$p","old","_sfc_main$o","FilterBy","QuickModifiers","_component_CatalogueRightPanelFieldsQuickModifiers","_component_CatalogueRightPanelFieldsConstraint","_component_CatalogueRightPanelFieldsQuery","_component_FilterBy","_sfc_main$n","_sfc_main$m","ConditionGroup","_sfc_main$l","findParentWhere","p","NumberInput","allowed","_sfc_main$k","ConditionVue","_component_Condition","_sfc_main$j","_sfc_main$i","_component_CatalogueRightPanelFieldsRepeat","_component_CatalogueRightPanelFieldsCondition","_sfc_main$h","_sfc_main$g","_sfc_main$f","_sfc_main$e","_component_CatalogueRightPanelFieldsDefaultSelection","_sfc_main$d","_sfc_main$c","_sfc_main$b","_sfc_main$a","_component_CatalogueRightPanelFieldsInformation","__nuxt_component_6","_component_CatalogueRightPanelFieldsRevision","_component_CatalogueRightPanelFieldsCatalogue","_sfc_main$9","_component_CatalogueRightPanelFieldsFilterBy","_sfc_main$8","_sfc_main$7","path","getEntryPathInfo","ProfileType","NodePath","_component_NodePath","_sfc_main$6","catalogueId","node","getAtEntryPath","_component_CatalogueRightPanelReferencesPanel","__nuxt_component_21","_component_CatalogueRightPanelPublicationPanel","_component_CatalogueRightPanelCostTypesPanel","_component_CatalogueRightPanelProfileTypesPanel","_component_CatalogueRightPanelCharacteristicTypePanel","_component_CatalogueRightPanelCategoryEntriesPanel","_component_CatalogueRightPanelForceEntriesPanel","_component_CatalogueRightPanelProfilesPanel","_component_CatalogueRightPanelRulesPanel","_component_CatalogueRightPanelSelectionEntryPanel","_component_CatalogueRightPanelLinkPanel","_component_CatalogueRightPanelModifierPanel","_component_CatalogueRightPanelConstraintPanel","_component_CatalogueRightPanelConditionGroupPanel","_component_CatalogueRightPanelConditionPanel","_component_CatalogueRightPanelLocalConditionGroupPanel","_component_CatalogueRightPanelModifierGroupPanel","_component_CatalogueRightPanelInfoGroupPanel","_component_CatalogueRightPanelSelectionEntryGroupPanel","_component_CatalogueRightPanelCataloguePanel","_component_CatalogueRightPanelRepeatPanel","_component_CatalogueRightPanelAssociationPanel","_sfc_main$4","modelValue","images","parentBox","get_base_from_vue_el","get_ctx","deep","_sfc_main$3","EditorCollapsibleBox","useEditorUIState","fullPath","toRaw","_imports_0$1","_imports_12","_component_EditorCollapsibleBox","_component_Separator","order","preferOpen","hiddenTypes","avoidSorting","_sfc_main$2","CatalogueLabel","openCategories","escapeXml","getTypeName","getTypeLabel","group","groupBy","label","getEntryPath","output","imports","system","type_asc","getModifiedField","reactive","allowed_children","targetChilds","target_arr","systemCategories","catalogueCategories","_imports_1$1","_imports_2$1","_imports_3$1","_imports_4","_imports_6","_imports_7","_imports_8","_imports_9","_imports_10","_imports_11","_imports_13","_imports_14","_imports_15","_imports_16","_imports_17","_imports_19","_imports_20","_imports_23","_imports_26","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_54","_hoisted_55","_hoisted_53","_hoisted_57","_hoisted_58","_hoisted_56","_hoisted_62","_hoisted_63","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_component_CatalogueLabel","_component_CatalogueEntry","_component_CatalogueLeftPanelEntry","_f","_g","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_64","_hoisted_65","action","_sfc_main$1","LeftPanelDefaults","last","scroll","scrollable_el","TAGNAME","ACTIVETAGNAME","tagName","_imports_2","_imports_3","_component_CatalogueLeftPanelComponentsCatalogueEntry","_sfc_main","LeftPanel","useCataloguesStore","changes","gameSystemId","resolve","max","msg","increment","getNextRevision","message","showMessageBox","closeWindow","systemId","_component_SplitView","__nuxt_component_4","_component_Head","_component_Title","_component_Loading","_component_LeftPanel","_component_CatalogueRightPanel"],"mappings":"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","x_google_ignoreList":[0]}