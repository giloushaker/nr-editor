{"version":3,"file":"warning_sign.303049f2.js","sources":["../../../../assets/icons/iconeplus.png","../../../../stores/uiState.ts","../../../../components/SplitView.vue","../../../../../../../../../assets/icons/warning_sign.png"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wcODic7b6se5AAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAEgSURBVDjLtZOxTsMwFEWvk2eaEokSVVUUUTEFscLGxIzEzCfAytcwMTP1N5gYCBOiYgGpqsTIEIXYTswQgYpje0Dt3Xz9fPV8/Mxg6HI2JcYg4ZDW4LcXC7XqkVlUfykWDQlHhwe9gKf5K8pSMtMPsAb1Qt4ePpXvQFF89PbpajYlWSsmhG4BoK4E94XkeTzIbxpJgzAAgPFoVxMYJI8IPOqK4h1vBrIsqXqdALBCBIAWDQKEv2sX7MAPLPwf2LW8zsZDGLOX0w8cUzaIxcvcHqI1eFkqJmU3J0oIPknjytXN8/tiyLcgI+rmZG+cajI/0/412rM0dl7p/hE17qCBpumc5YbAnhwn5DtwfsrJCnZVo3hbu2ADQJZMNLD8430DxUxYqJ3Wfq0AAAAASUVORK5CYII=\"","import { defineStore } from \"pinia\";\n\nexport const useUIState = defineStore(\"ui\", {\n  state: () => ({} as Record<string, number>),\n\n  persist: {\n    storage: globalThis.localStorage,\n  },\n  actions: {\n    get(splitViewId: string, subId: string): number | undefined {\n      return this.$state[`${splitViewId}-${subId}`];\n    },\n    set(splitViewId: string, subId: string, value: number) {\n      this.$state[`${splitViewId}-${subId}`] = value;\n    },\n  },\n});\n","<template>\n  <div class=\"splitView\" :style=\"height > 0 ? { height: `${height}px` } : {}\">\n    <div v-if=\"showLeft\" class=\"left relative\" ref=\"left\" :style=\"{ width: leftw > 0 ? `${leftw}px` : leftWidth }\">\n      <slot name=\"left\"></slot>\n    </div>\n    <div v-if=\"left_draggable\" class=\"between unselectable\" @mousedown=\"drag_left_handle\" />\n\n    <template v-if=\"showMiddle\">\n      <div ref=\"middle\" class=\"middle grow relative overflow-x-auto overflow-y-auto scrollbarstyle\">\n        <slot name=\"middle\"></slot>\n      </div>\n    </template>\n    <div v-if=\"right_draggable\" class=\"between unselectable\" @mousedown=\"drag_right_handle\" />\n    <span\n      v-if=\"showRight\"\n      ref=\"right\"\n      class=\"right relative\"\n      :style=\"{\n        width: `${rightw}px`,\n      }\"\n    >\n      <slot name=\"right\"></slot>\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { useUIState } from \"~/stores/uiState\";\nfunction getOffset(el: { getBoundingClientRect: () => any }) {\n  const rect = el.getBoundingClientRect();\n  return {\n    left: rect.left + window.scrollX,\n    top: rect.top + window.scrollY,\n  };\n}\nexport default {\n  props: {\n    showLeft: {\n      type: Boolean,\n      default: true,\n    },\n    showMiddle: {\n      type: Boolean,\n      default: false,\n    },\n    showRight: {\n      type: Boolean,\n      default: false,\n    },\n    draggable: {\n      type: Boolean,\n      default: false,\n    },\n    leftWidth: {\n      type: [String, Number],\n      default: \"auto\",\n    },\n    rightWidth: {\n      type: [String, Number],\n      default: \"auto\",\n    },\n    clamp: {\n      type: Number,\n      default: 250,\n    },\n    id: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      _leftWidth: typeof this.leftWidth === \"number\" ? this.leftWidth : 0,\n      _rightWidth: typeof this.rightWidth === \"number\" ? this.rightWidth : 0,\n      dragging: false,\n      height: 0,\n      staticLeft: false,\n      staticRight: false,\n    };\n  },\n  setup() {\n    return { store: useUIState() };\n  },\n\n  mounted() {\n    if (this.draggable) {\n      if (this.id) {\n        const left = this.store.get(this.id, \"left\");\n        if (left) this._leftWidth = left;\n      }\n      if (!this._leftWidth && this.$refs.left && (this.$refs.left as HTMLDivElement)?.offsetWidth) {\n        this._leftWidth = (this.$refs.left as HTMLDivElement).offsetWidth;\n      }\n      if (this._leftWidth < this.clamp) {\n        this._leftWidth = this.do_clamp(typeof this.leftWidth === \"number\" ? this.leftWidth : 0);\n      }\n      if (this.id) {\n        const right = this.store.get(this.id, \"right\");\n        if (right) this._rightWidth = right;\n      }\n      if (!this._rightWidth && (this.$refs.right as HTMLDivElement)?.offsetWidth) {\n        this._rightWidth = (this.$refs.right as HTMLDivElement).offsetWidth;\n      }\n      if (this._rightWidth < this.clamp) {\n        this._rightWidth = this.do_clamp(typeof this.rightWidth === \"number\" ? this.rightWidth : 0);\n      }\n    }\n    addEventListener(\"resize\", this.update);\n    this.$nextTick(this.update);\n  },\n\n  unmounted() {\n    removeEventListener(\"resize\", this.update);\n  },\n  updated() {\n    this.update();\n  },\n  computed: {\n    left_draggable() {\n      if (this.staticLeft) return false;\n      return this.draggable && this.showLeft && (this.showMiddle || this.showRight);\n    },\n    right_draggable() {\n      return this.draggable && this.showMiddle && this.showRight;\n    },\n    left() {\n      return this.$el?.offsetLeft || 0;\n    },\n    leftw() {\n      return this._leftWidth - this.left;\n    },\n    right() {\n      return this.$el?.offsetRight || 0;\n    },\n    rightw() {\n      return this._rightWidth - this.right;\n    },\n    hasMiddle() {\n      return !!this.$slots.middle;\n    },\n    totalWidth() {\n      return this.$el.clientWidth;\n    },\n  },\n  watch: {\n    leftWidth(newVal: number | string) {\n      if (typeof newVal === \"string\") return;\n      if (!newVal) {\n        this._leftWidth = this.store.get(this.id, \"left\") || 100;\n        this.staticLeft = false;\n      }\n      if (newVal) {\n        this._leftWidth = newVal;\n        this.staticLeft = true;\n      }\n    },\n  },\n  methods: {\n    update() {\n      const pos = getOffset(this.$el)?.top;\n      this.height = innerHeight - pos;\n    },\n    do_clamp(val: number) {\n      if (val < this.clamp) return this.clamp;\n      if (val > this.totalWidth - this.clamp) return this.totalWidth - this.clamp;\n      return val;\n    },\n    async drag_left_handle(e: MouseEvent) {\n      this.dragging = true;\n      const b = this._leftWidth;\n      const x = e.clientX;\n      const onmousemove = (m: MouseEvent) => {\n        const diff = m.clientX - x;\n        this._leftWidth = this.do_clamp(b + diff);\n      };\n      addEventListener(\"mousemove\", onmousemove);\n      const onmouseup = () => {\n        removeEventListener(\"mousemove\", onmousemove);\n        this.$nextTick(() => {\n          this.dragging = false;\n          if (this.id) this.store.set(this.id, \"left\", this._leftWidth);\n        });\n      };\n      addEventListener(\"mouseup\", onmouseup, {\n        once: true,\n        capture: true,\n      });\n    },\n    async drag_right_handle(e: MouseEvent) {\n      this.dragging = true;\n      const b = this._rightWidth;\n      const x = e.clientX;\n      const onmousemove = (m: MouseEvent) => {\n        const diff = m.clientX - x;\n        this._rightWidth = this.do_clamp(b - diff);\n      };\n      addEventListener(\"mousemove\", onmousemove);\n      const onmouseup = () => {\n        removeEventListener(\"mousemove\", onmousemove);\n\n        this.$nextTick(() => {\n          this.dragging = false;\n          if (this.id) this.store.set(this.id, \"right\", this._rightWidth);\n        });\n      };\n      addEventListener(\"mouseup\", onmouseup, {\n        once: true,\n        capture: true,\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/shared_components/css/vars.scss\";\n\n.splitView {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  // position: fixed;\n}\n.left,\n.middle,\n.right {\n  height: 100%;\n}\n\n.middle {\n  flex: 1;\n}\n\n.between {\n  background-color: rgba(0, 0, 100, 0.08);\n  height: 100%;\n  position: relative;\n  cursor: ew-resize;\n  width: 10px;\n  min-width: 10px;\n  z-index: 1;\n}\n.relative {\n  position: relative;\n}\n</style>\n","export default \"__VITE_PUBLIC_ASSET__1596a5ef__\""],"names":["_imports_1","useUIState","defineStore","splitViewId","subId","value","getOffset","el","rect","_sfc_main","left","_a","right","_b","newVal","pos","val","e","b","x","onmousemove","m","diff","onmouseup","_hoisted_1","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_normalizeStyle","_createCommentVNode","_imports_0"],"mappings":"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"}